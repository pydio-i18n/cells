#------------------------------------------
# Actual Bootstrap Keys
#
# Defaults variable values are injected at load time
#------------------------------------------
name: datasources
processes:
  datasource-peer:
    processes:
{{{{range $k,$v := .ObjectsSources}}}}
      objects-{{{{$k}}}}:
        connections: *connections
        listeners:
          grpc:
            type: tcp
            bind: 0.0.0.0
            port: 0
        servers:
          grpc:
            type: grpc
            listener: grpc
            services:
              - filter: "{{ .Name }} ~= pydio.grpc.data.objects.{{{{$v.Name}}}}"
        env: *env
        storages: *storages
        services: *services
        queues: *queues
        caches: *caches
{{{{end}}}}
connections: *connections
env: *env