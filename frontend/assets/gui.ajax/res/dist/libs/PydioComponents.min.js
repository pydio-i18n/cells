/*! For license information please see PydioComponents.min.js.LICENSE.txt */
(()=>{var e,t,r,n,o={8095:(e,t,r)=>{"use strict";r.d(t,{A:()=>ne});var n=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),o=Math.abs,i=String.fromCharCode,a=Object.assign;function s(e){return e.trim()}function c(e,t,r){return e.replace(t,r)}function l(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,r){return e.slice(t,r)}function p(e){return e.length}function f(e){return e.length}function h(e,t){return t.push(e),e}var m=1,y=1,g=0,b=0,v=0,k="";function w(e,t,r,n,o,i,a){return{value:e,root:t,parent:r,type:n,props:o,children:i,line:m,column:y,length:a,return:""}}function _(e,t){return a(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function S(){return v=b>0?u(k,--b):0,y--,10===v&&(y=1,m--),v}function O(){return v=b<g?u(k,b++):0,y++,10===v&&(y=1,m++),v}function E(){return u(k,b)}function C(){return b}function P(e,t){return d(k,e,t)}function T(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function x(e){return m=y=1,g=p(k=e),b=0,[]}function j(e){return k="",e}function A(e){return s(P(b-1,R(91===e?e+2:40===e?e+1:e)))}function z(e){for(;(v=E())&&v<33;)O();return T(e)>2||T(v)>3?"":" "}function I(e,t){for(;--t&&O()&&!(v<48||v>102||v>57&&v<65||v>70&&v<97););return P(e,C()+(t<6&&32==E()&&32==O()))}function R(e){for(;O();)switch(v){case e:return b;case 34:case 39:34!==e&&39!==e&&R(v);break;case 40:41===e&&R(e);break;case 92:O()}return b}function M(e,t){for(;O()&&e+v!==57&&(e+v!==84||47!==E()););return"/*"+P(t,b-1)+"*"+i(47===e?e:O())}function D(e){for(;!T(E());)O();return P(e,b)}var N="-ms-",L="-moz-",U="-webkit-",B="comm",F="rule",q="decl",W="@keyframes";function H(e,t){for(var r="",n=f(e),o=0;o<n;o++)r+=t(e[o],o,e,t)||"";return r}function V(e,t,r,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case q:return e.return=e.return||e.value;case B:return"";case W:return e.return=e.value+"{"+H(e.children,n)+"}";case F:e.value=e.props.join(",")}return p(r=H(e.children,n))?e.return=e.value+"{"+r+"}":""}function J(e){return j(G("",null,null,null,[""],e=x(e),0,[0],e))}function G(e,t,r,n,o,a,s,d,f){for(var m=0,y=0,g=s,b=0,v=0,k=0,w=1,_=1,P=1,T=0,x="",j=o,R=a,N=n,L=x;_;)switch(k=T,T=O()){case 40:if(108!=k&&58==u(L,g-1)){-1!=l(L+=c(A(T),"&","&\f"),"&\f")&&(P=-1);break}case 34:case 39:case 91:L+=A(T);break;case 9:case 10:case 13:case 32:L+=z(k);break;case 92:L+=I(C()-1,7);continue;case 47:switch(E()){case 42:case 47:h($(M(O(),C()),t,r),f);break;default:L+="/"}break;case 123*w:d[m++]=p(L)*P;case 125*w:case 59:case 0:switch(T){case 0:case 125:_=0;case 59+y:-1==P&&(L=c(L,/\f/g,"")),v>0&&p(L)-g&&h(v>32?X(L+";",n,r,g-1):X(c(L," ","")+";",n,r,g-2),f);break;case 59:L+=";";default:if(h(N=K(L,t,r,m,y,o,d,x,j=[],R=[],g),a),123===T)if(0===y)G(L,t,N,N,j,a,g,d,R);else switch(99===b&&110===u(L,3)?100:b){case 100:case 108:case 109:case 115:G(e,N,N,n&&h(K(e,N,N,0,0,o,d,x,o,j=[],g),R),o,R,g,d,n?j:R);break;default:G(L,N,N,N,[""],R,0,d,R)}}m=y=v=0,w=P=1,x=L="",g=s;break;case 58:g=1+p(L),v=k;default:if(w<1)if(123==T)--w;else if(125==T&&0==w++&&125==S())continue;switch(L+=i(T),T*w){case 38:P=y>0?1:(L+="\f",-1);break;case 44:d[m++]=(p(L)-1)*P,P=1;break;case 64:45===E()&&(L+=A(O())),b=E(),y=g=p(x=L+=D(C())),T++;break;case 45:45===k&&2==p(L)&&(w=0)}}return a}function K(e,t,r,n,i,a,l,u,p,h,m){for(var y=i-1,g=0===i?a:[""],b=f(g),v=0,k=0,_=0;v<n;++v)for(var S=0,O=d(e,y+1,y=o(k=l[v])),E=e;S<b;++S)(E=s(k>0?g[S]+" "+O:c(O,/&\f/g,g[S])))&&(p[_++]=E);return w(e,t,r,0===i?F:u,p,h,m)}function $(e,t,r){return w(e,t,r,B,i(v),d(e,2,-2),0)}function X(e,t,r,n){return w(e,t,r,q,d(e,0,n),d(e,n+1,-1),n)}var Y=function(e,t,r){for(var n=0,o=0;n=o,o=E(),38===n&&12===o&&(t[r]=1),!T(o);)O();return P(e,b)},Q=new WeakMap,Z=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Q.get(r))&&!n){Q.set(e,!0);for(var o=[],a=function(e,t){return j(function(e,t){var r=-1,n=44;do{switch(T(n)){case 0:38===n&&12===E()&&(t[r]=1),e[r]+=Y(b-1,t,r);break;case 2:e[r]+=A(n);break;case 4:if(44===n){e[++r]=58===E()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=i(n)}}while(n=O());return e}(x(e),t))}(t,o),s=r.props,c=0,l=0;c<a.length;c++)for(var u=0;u<s.length;u++,l++)e.props[l]=o[c]?a[c].replace(/&\f/g,s[u]):s[u]+" "+a[c]}}},ee=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function te(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return U+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return U+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return U+e+L+e+N+e+e;case 6828:case 4268:return U+e+N+e+e;case 6165:return U+e+N+"flex-"+e+e;case 5187:return U+e+c(e,/(\w+).+(:[^]+)/,U+"box-$1$2"+N+"flex-$1$2")+e;case 5443:return U+e+N+"flex-item-"+c(e,/flex-|-self/,"")+e;case 4675:return U+e+N+"flex-line-pack"+c(e,/align-content|flex-|-self/,"")+e;case 5548:return U+e+N+c(e,"shrink","negative")+e;case 5292:return U+e+N+c(e,"basis","preferred-size")+e;case 6060:return U+"box-"+c(e,"-grow","")+U+e+N+c(e,"grow","positive")+e;case 4554:return U+c(e,/([^-])(transform)/g,"$1"+U+"$2")+e;case 6187:return c(c(c(e,/(zoom-|grab)/,U+"$1"),/(image-set)/,U+"$1"),e,"")+e;case 5495:case 3959:return c(e,/(image-set\([^]*)/,U+"$1$`$1");case 4968:return c(c(e,/(.+:)(flex-)?(.*)/,U+"box-pack:$3"+N+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+U+e+e;case 4095:case 3583:case 4068:case 2532:return c(e,/(.+)-inline(.+)/,U+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(p(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return c(e,/(.+:)(.+)-([^]+)/,"$1"+U+"$2-$3$1"+L+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~l(e,"stretch")?te(c(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,p(e)-3-(~l(e,"!important")&&10))){case 107:return c(e,":",":"+U)+e;case 101:return c(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+U+(45===u(e,14)?"inline-":"")+"box$3$1"+U+"$2$3$1"+N+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return U+e+N+c(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return U+e+N+c(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return U+e+N+c(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return U+e+N+e+e}return e}var re=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case q:e.return=te(e.value,e.length);break;case W:return H([_(e,{value:c(e.value,"@","@"+U)})],n);case F:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return H([_(e,{props:[c(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return H([_(e,{props:[c(t,/:(plac\w+)/,":"+U+"input-$1")]}),_(e,{props:[c(t,/:(plac\w+)/,":-moz-$1")]}),_(e,{props:[c(t,/:(plac\w+)/,N+"input-$1")]})],n)}return""}))}}],ne=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o,i,a=e.stylisPlugins||re,s={},c=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)s[t[r]]=!0;c.push(e)}));var l,u,d,p,h=[V,(p=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&p(e)})],m=(u=[Z,ee].concat(a,h),d=f(u),function(e,t,r,n){for(var o="",i=0;i<d;i++)o+=u[i](e,t,r,n)||"";return o});i=function(e,t,r,n){l=r,H(J(e?e+"{"+t.styles+"}":t.styles),m),n&&(y.inserted[t.name]=!0)};var y={key:t,sheet:new n({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return y.sheet.hydrate(c),y}},6206:(e,t,r)=>{"use strict";function n(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}r.d(t,{A:()=>n})},1006:(e,t,r)=>{"use strict";r.d(t,{C:()=>a,T:()=>c,w:()=>s});var n=r(2015),o=r(8095),i=(r(9081),r(8914),n.createContext("undefined"!=typeof HTMLElement?(0,o.A)({key:"css"}):null)),a=i.Provider,s=function(e){return(0,n.forwardRef)((function(t,r){var o=(0,n.useContext)(i);return e(t,o,r)}))},c=n.createContext({})},1277:(e,t,r)=>{"use strict";r.d(t,{AH:()=>l,i7:()=>u,mL:()=>c});var n=r(1006),o=r(2015),i=r(4144),a=r(8914),s=r(9081);r(8095),r(635);var c=(0,n.w)((function(e,t){var r=e.styles,c=(0,s.J)([r],void 0,o.useContext(n.T)),l=o.useRef();return(0,a.i)((function(){var e=t.key+"-global",r=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),n=!1,o=document.querySelector('style[data-emotion="'+e+" "+c.name+'"]');return t.sheet.tags.length&&(r.before=t.sheet.tags[0]),null!==o&&(n=!0,o.setAttribute("data-emotion",e),r.hydrate([o])),l.current=[r,n],function(){r.flush()}}),[t]),(0,a.i)((function(){var e=l.current,r=e[0];if(e[1])e[1]=!1;else{if(void 0!==c.next&&(0,i.sk)(t,c.next,!0),r.tags.length){var n=r.tags[r.tags.length-1].nextElementSibling;r.before=n,r.flush()}t.insert("",c,r,!1)}}),[t,c.name]),null}));function l(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.J)(t)}var u=function(){var e=l.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},9081:(e,t,r)=>{"use strict";r.d(t,{J:()=>g});var n={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=r(6206);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var a=!1,s=/[A-Z]|^ms/g,c=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},u=function(e){return null!=e&&"boolean"!=typeof e},d=(0,o.A)((function(e){return l(e)?e:e.replace(s,"-$&").toLowerCase()})),p=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(c,(function(e,t,r){return m={name:t,styles:r,next:m},t}))}return 1===n[e]||l(e)||"number"!=typeof t||0===t?t:t+"px"},f="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function h(e,t,r){if(null==r)return"";var n=r;if(void 0!==n.__emotion_styles)return n;switch(i(r)){case"boolean":return"";case"object":var o=r;if(1===o.anim)return m={name:o.name,styles:o.styles,next:m},o.name;var s=r;if(void 0!==s.styles){var c=s.next;if(void 0!==c)for(;void 0!==c;)m={name:c.name,styles:c.styles,next:m},c=c.next;return s.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=h(e,t,r[o])+";";else for(var s in r){var c=r[s];if("object"!==i(c)){var l=c;null!=t&&void 0!==t[l]?n+=s+"{"+t[l]+"}":u(l)&&(n+=d(s)+":"+p(s,l)+";")}else{if("NO_COMPONENT_SELECTOR"===s&&a)throw new Error(f);if(!Array.isArray(c)||"string"!=typeof c[0]||null!=t&&void 0!==t[c[0]]){var m=h(e,t,c);switch(s){case"animation":case"animationName":n+=d(s)+":"+m+";";break;default:n+=s+"{"+m+"}"}}else for(var y=0;y<c.length;y++)u(c[y])&&(n+=d(s)+":"+p(s,c[y])+";")}}return n}(e,t,r);case"function":if(void 0!==e){var l=m,y=r(e);return m=l,h(e,t,y)}}var g=r;if(null==t)return g;var b=t[g];return void 0!==b?b:g}var m,y=/label:\s*([^\s;{]+)\s*(;|$)/g;function g(e,t,r){if(1===e.length&&"object"===i(e[0])&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,o="";m=void 0;var a=e[0];null==a||void 0===a.raw?(n=!1,o+=h(r,t,a)):o+=a[0];for(var s=1;s<e.length;s++)o+=h(r,t,e[s]),n&&(o+=a[s]);y.lastIndex=0;for(var c,l="";null!==(c=y.exec(o));)l+="-"+c[1];var u=function(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}(o)+l;return{name:u,styles:o,next:m}}},8914:(e,t,r)=>{"use strict";r.d(t,{i:()=>a,s:()=>i});var n=r(2015),o=!!n.useInsertionEffect&&n.useInsertionEffect,i=o||function(e){return e()},a=o||n.useLayoutEffect},4144:(e,t,r)=>{"use strict";function n(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):r&&(n+=r+" ")})),n}r.d(t,{Rk:()=>n,SF:()=>o,sk:()=>i});var o=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},i=function(e,t,r){o(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+n:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}},2232:(e,t,r)=>{"use strict";var n=r(9031);t.A=void 0;var o=n(r(3069)),i=r(1894);t.A=(0,o.default)((0,i.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown")},7911:(e,t,r)=>{"use strict";var n=r(9031);t.A=void 0;var o=n(r(3069)),i=r(1894);t.A=(0,o.default)((0,i.jsx)("path",{d:"m10 17 5-5-5-5z"}),"ArrowRight")},3069:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=r(9731)},6727:(e,t,r)=>{"use strict";r.d(t,{b:()=>o}),r(2015),r(9825);var n=r(7091);function o(e){return(0,n.b)(e)}r(1894)},3415:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"}},2102:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n={black:"#000",white:"#fff"}},4156:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"}},8932:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"}},3371:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"}},2161:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"}},4721:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"}},2904:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"}},9591:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2218);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t,r){return(t=function(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){return(0,n.A)({toolbar:i(i({minHeight:56},e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),e.up("sm"),{minHeight:64})},t)}},4182:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>k});var n=r(2218),o=r(4365),i=r(7696),a=r(4168),s=r(6925),c=r(2102),l=r(8932),u=r(4721),d=r(2904),p=r(2161),f=r(3415),h=r(3371),m=r(4156),y=["mode","contrastThreshold","tonalOffset"],g={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:c.A.white,default:c.A.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},b={text:{primary:c.A.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:c.A.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function v(e,t,r,n){var o=n.light||n,i=n.dark||1.5*n;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:"light"===t?e.light=(0,s.a)(e.main,o):"dark"===t&&(e.dark=(0,s.e$)(e.main,i)))}function k(e){var t=e.mode,r=void 0===t?"light":t,k=e.contrastThreshold,w=void 0===k?3:k,_=e.tonalOffset,S=void 0===_?.2:_,O=(0,o.A)(e,y),E=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f.A[200],light:f.A[50],dark:f.A[400]}:{main:f.A[700],light:f.A[400],dark:f.A[800]}}(r),C=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:u.A[200],light:u.A[50],dark:u.A[400]}:{main:u.A[500],light:u.A[300],dark:u.A[700]}}(r),P=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:d.A[500],light:d.A[300],dark:d.A[700]}:{main:d.A[700],light:d.A[400],dark:d.A[800]}}(r),T=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:h.A[400],light:h.A[300],dark:h.A[700]}:{main:h.A[700],light:h.A[500],dark:h.A[900]}}(r),x=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m.A[400],light:m.A[300],dark:m.A[700]}:{main:m.A[800],light:m.A[500],dark:m.A[900]}}(r),j=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p.A[400],light:p.A[300],dark:p.A[700]}:{main:"#ed6c02",light:p.A[500],dark:p.A[900]}}(r);function A(e){return(0,s.eM)(e,b.text.primary)>=w?b.text.primary:g.text.primary}var z=function(e){var t=e.color,r=e.name,o=e.mainShade,a=void 0===o?500:o,s=e.lightShade,c=void 0===s?300:s,l=e.darkShade,u=void 0===l?700:l;if(!(t=(0,n.A)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error((0,i.A)(11,r?" (".concat(r,")"):"",a));if("string"!=typeof t.main)throw new Error((0,i.A)(12,r?" (".concat(r,")"):"",JSON.stringify(t.main)));return v(t,"light",c,S),v(t,"dark",u,S),t.contrastText||(t.contrastText=A(t.main)),t},I={dark:b,light:g};return(0,a.A)((0,n.A)({common:(0,n.A)({},c.A),mode:r,primary:z({color:E,name:"primary"}),secondary:z({color:C,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:z({color:P,name:"error"}),warning:z({color:j,name:"warning"}),info:z({color:T,name:"info"}),success:z({color:x,name:"success"}),grey:l.A,contrastThreshold:w,getContrastText:A,augmentColor:z,tonalOffset:S},I[r]),O)}},8920:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var n=r(2218),o=r(4365),i=r(7696),a=r(4168),s=r(3770),c=r(5937),l=r(5943),u=r(9591),d=r(4182),p=r(1752),f=r(9900),h=r(409),m=r(2007),y=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];const g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,r=void 0===t?{}:t,g=e.palette,b=void 0===g?{}:g,v=e.transitions,k=void 0===v?{}:v,w=e.typography,_=void 0===w?{}:w,S=(0,o.A)(e,y);if(e.vars)throw new Error((0,i.A)(18));var O=(0,d.Ay)(b),E=(0,l.A)(e),C=(0,a.A)(E,{mixins:(0,u.A)(E.breakpoints,r),palette:O,shadows:f.A.slice(),typography:(0,p.A)(O,_),transitions:(0,h.Ay)(k),zIndex:(0,n.A)({},m.A)});C=(0,a.A)(C,S);for(var P=arguments.length,T=new Array(P>1?P-1:0),x=1;x<P;x++)T[x-1]=arguments[x];return(C=T.reduce((function(e,t){return(0,a.A)(e,t)}),C)).unstable_sxConfig=(0,n.A)({},s.A,null==S?void 0:S.unstable_sxConfig),C.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},C}},409:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>u,p0:()=>s});var n=r(4365),o=r(2218),i=["duration","easing","delay"],a={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},s={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function c(e){return"".concat(Math.round(e),"ms")}function l(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function u(e){var t=(0,o.A)({},a,e.easing),r=(0,o.A)({},s,e.duration);return(0,o.A)({getAutoHeightDuration:l,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.duration,s=void 0===a?r.standard:a,l=o.easing,u=void 0===l?t.easeInOut:l,d=o.delay,p=void 0===d?0:d;return(0,n.A)(o,i),(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof s?s:c(s)," ").concat(u," ").concat("string"==typeof p?p:c(p))})).join(",")}},e,{easing:t,duration:r})}},1752:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(2218),o=r(4365),i=r(4168),a=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"],s={textTransform:"uppercase"},c='"Roboto", "Helvetica", "Arial", sans-serif';function l(e,t){var r="function"==typeof t?t(e):t,l=r.fontFamily,u=void 0===l?c:l,d=r.fontSize,p=void 0===d?14:d,f=r.fontWeightLight,h=void 0===f?300:f,m=r.fontWeightRegular,y=void 0===m?400:m,g=r.fontWeightMedium,b=void 0===g?500:g,v=r.fontWeightBold,k=void 0===v?700:v,w=r.htmlFontSize,_=void 0===w?16:w,S=r.allVariants,O=r.pxToRem,E=(0,o.A)(r,a),C=p/14,P=O||function(e){return"".concat(e/_*C,"rem")},T=function(e,t,r,o,i){return(0,n.A)({fontFamily:u,fontWeight:e,fontSize:P(t),lineHeight:r},u===c?{letterSpacing:"".concat((a=o/t,Math.round(1e5*a)/1e5),"em")}:{},i,S);var a},x={h1:T(h,96,1.167,-1.5),h2:T(h,60,1.2,-.5),h3:T(y,48,1.167,0),h4:T(y,34,1.235,.25),h5:T(y,24,1.334,0),h6:T(b,20,1.6,.15),subtitle1:T(y,16,1.75,.15),subtitle2:T(b,14,1.57,.1),body1:T(y,16,1.5,.15),body2:T(y,14,1.43,.15),button:T(b,14,1.75,.4,s),caption:T(y,12,1.66,.4),overline:T(y,12,2.66,1,s),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,i.A)((0,n.A)({htmlFontSize:_,pxToRem:P,fontFamily:u,fontSize:p,fontWeightLight:h,fontWeightRegular:y,fontWeightMedium:b,fontWeightBold:k},x),E,{clone:!1})}},6619:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(0,r(8920).A)()},1094:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n="$$material"},1520:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(6320);const o=function(e){return(0,n.A)(e)&&"classes"!==e}},9900:(e,t,r)=>{"use strict";function n(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}r.d(t,{A:()=>o});const o=["none",n(0,2,1,-1,0,1,1,0,0,1,3,0),n(0,3,1,-2,0,2,2,0,0,1,5,0),n(0,3,3,-2,0,3,4,0,0,1,8,0),n(0,2,4,-1,0,4,5,0,0,1,10,0),n(0,3,5,-1,0,5,8,0,0,1,14,0),n(0,3,5,-1,0,6,10,0,0,1,18,0),n(0,4,5,-2,0,7,10,1,0,2,16,1),n(0,5,5,-3,0,8,10,1,0,3,14,2),n(0,5,6,-3,0,9,12,1,0,3,16,2),n(0,6,6,-3,0,10,14,1,0,4,18,3),n(0,6,7,-4,0,11,15,1,0,4,20,3),n(0,7,8,-4,0,12,17,2,0,5,22,4),n(0,7,8,-4,0,13,19,2,0,5,24,4),n(0,7,9,-4,0,14,21,2,0,5,26,4),n(0,8,9,-5,0,15,22,2,0,6,28,5),n(0,8,10,-5,0,16,24,2,0,6,30,5),n(0,8,11,-5,0,17,26,2,0,6,32,5),n(0,9,11,-5,0,18,28,2,0,7,34,6),n(0,9,12,-6,0,19,29,2,0,7,36,6),n(0,10,13,-6,0,20,31,3,0,8,38,7),n(0,10,13,-6,0,21,33,3,0,8,40,7),n(0,10,14,-6,0,22,35,3,0,8,42,7),n(0,11,14,-7,0,23,36,3,0,9,44,8),n(0,11,15,-7,0,24,38,3,0,9,46,8)]},6320:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}},9278:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>s});var n=r(3463),o=r(6619),i=r(1094),a=r(1520);const s=(0,n.Ay)({themeId:i.A,defaultTheme:o.A,rootShouldForwardProp:a.A})},2007:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},2084:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(2738).A},9731:(e,t,r)=>{"use strict";r.r(t),r.d(t,{capitalize:()=>o.A,createChainedFunction:()=>i,createSvgIcon:()=>w,debounce:()=>_,deprecatedPropType:()=>S,isMuiElement:()=>O,ownerDocument:()=>E.A,ownerWindow:()=>P,requirePropFactory:()=>T,setRef:()=>x,unstable_ClassNameGenerator:()=>N,unstable_useEnhancedEffect:()=>j.A,unstable_useId:()=>A.A,unsupportedProp:()=>z,useControlled:()=>I.A,useEventCallback:()=>R.A,useForkRef:()=>M.A,useIsFocusVisible:()=>D.A});var n=r(5214),o=r(2084);const i=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){return null==t?e:function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e.apply(this,n),t.apply(this,n)}}),(function(){}))};var a=r(2218),s=r(2015),c=r(4365),l=(r(9825),r(3372)),u=r(7670),d=r(6727),p=r(9278),f=r(7384),h=r(2264);function m(e){return(0,h.Ay)("MuiSvgIcon",e)}(0,f.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var y=r(1894),g=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],b=(0,p.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,"inherit"!==r.color&&t["color".concat((0,o.A)(r.color))],t["fontSize".concat((0,o.A)(r.fontSize))]]}})((function(e){var t,r,n,o,i,a,s,c,l,u,d,p,f,h=e.theme,m=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:m.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(t=h.transitions)||null==(r=t.create)?void 0:r.call(t,"fill",{duration:null==(n=h.transitions)||null==(n=n.duration)?void 0:n.shorter}),fontSize:{inherit:"inherit",small:(null==(o=h.typography)||null==(i=o.pxToRem)?void 0:i.call(o,20))||"1.25rem",medium:(null==(a=h.typography)||null==(s=a.pxToRem)?void 0:s.call(a,24))||"1.5rem",large:(null==(c=h.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875rem"}[m.fontSize],color:null!=(u=null==(d=(h.vars||h).palette)||null==(d=d[m.color])?void 0:d.main)?u:{action:null==(p=(h.vars||h).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(f=(h.vars||h).palette)||null==(f=f.action)?void 0:f.disabled,inherit:void 0}[m.color]}})),v=s.forwardRef((function(e,t){var r=(0,d.b)({props:e,name:"MuiSvgIcon"}),n=r.children,i=r.className,p=r.color,f=void 0===p?"inherit":p,h=r.component,v=void 0===h?"svg":h,k=r.fontSize,w=void 0===k?"medium":k,_=r.htmlColor,S=r.inheritViewBox,O=void 0!==S&&S,E=r.titleAccess,C=r.viewBox,P=void 0===C?"0 0 24 24":C,T=(0,c.A)(r,g),x=s.isValidElement(n)&&"svg"===n.type,j=(0,a.A)({},r,{color:f,component:v,fontSize:w,instanceFontSize:e.fontSize,inheritViewBox:O,viewBox:P,hasSvgAsChild:x}),A={};O||(A.viewBox=P);var z=function(e){var t=e.color,r=e.fontSize,n=e.classes,i={root:["root","inherit"!==t&&"color".concat((0,o.A)(t)),"fontSize".concat((0,o.A)(r))]};return(0,u.A)(i,m,n)}(j);return(0,y.jsxs)(b,(0,a.A)({as:v,className:(0,l.A)(z.root,i),focusable:"false",color:_,"aria-hidden":!E||void 0,role:E?"img":void 0,ref:t},A,T,x&&n.props,{ownerState:j,children:[x?n.props.children:n,E?(0,y.jsx)("title",{children:E}):null]}))}));v.muiName="SvgIcon";const k=v;function w(e,t){function r(r,n){return(0,y.jsx)(k,(0,a.A)({"data-testid":"".concat(t,"Icon"),ref:n},r,{children:e}))}return r.muiName=k.muiName,s.memo(s.forwardRef(r))}const _=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function n(){for(var n=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];clearTimeout(t),t=setTimeout((function(){e.apply(n,i)}),r)}return n.clear=function(){clearTimeout(t)},n},S=function(e,t){return function(){return null}},O=function(e,t){var r,n;return s.isValidElement(e)&&-1!==t.indexOf(null!=(r=e.type.muiName)?r:null==(n=e.type)||null==(n=n._payload)||null==(n=n.value)?void 0:n.muiName)};var E=r(9890),C=r(2968);const P=function(e){return(0,C.A)(e).defaultView||window},T=function(e,t){return function(){return null}},x=r(5976).A;var j=r(5004),A=r(8846);const z=function(e,t,r,n,o){return null};var I=r(533),R=r(1824),M=r(2026),D=r(2909),N={configure:function(e){n.A.configure(e)}}},9890:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(2968).A},533:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(6304).A},5004:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(2556).A},1824:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(1946).A},2026:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(8810).A},8846:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(4008).A},2909:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(5980).A},2782:(e,t,r)=>{"use strict";r.d(t,{A:()=>i}),r(2015),r(9825);var n=r(1277),o=r(1894);function i(e){var t=e.styles,r=e.defaultTheme,i=void 0===r?{}:r,a="function"==typeof t?function(e){return t(null==(r=e)||0===Object.keys(r).length?i:e);var r}:t;return(0,o.jsx)(n.mL,{styles:a})}},1671:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalStyles:()=>O.A,StyledEngineProvider:()=>S,ThemeContext:()=>c.T,css:()=>v.AH,default:()=>E,internal_processStyles:()=>C,keyframes:()=>v.i7});var n=r(2218),o=r(2015),i=r(6206),a=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s=(0,i.A)((function(e){return a.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),c=r(1006),l=r(4144),u=r(9081),d=r(8914),p=s,f=function(e){return"theme"!==e},h=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?p:f},m=function(e,t,r){var n;if(t){var o=t.shouldForwardProp;n=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!=typeof n&&r&&(n=e.__emotion_forwardProp),n},y=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return(0,l.SF)(t,r,n),(0,d.s)((function(){return(0,l.sk)(t,r,n)})),null},g=function e(t,r){var i,a,s=t.__emotion_real===t,d=s&&t.__emotion_base||t;void 0!==r&&(i=r.label,a=r.target);var p=m(t,r,s),f=p||h(d),g=!f("as");return function(){var b=arguments,v=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&v.push("label:"+i+";"),null==b[0]||void 0===b[0].raw)v.push.apply(v,b);else{v.push(b[0][0]);for(var k=b.length,w=1;w<k;w++)v.push(b[w],b[0][w])}var _=(0,c.w)((function(e,t,r){var n=g&&e.as||d,i="",s=[],m=e;if(null==e.theme){for(var b in m={},e)m[b]=e[b];m.theme=o.useContext(c.T)}"string"==typeof e.className?i=(0,l.Rk)(t.registered,s,e.className):null!=e.className&&(i=e.className+" ");var k=(0,u.J)(v.concat(s),t.registered,m);i+=t.key+"-"+k.name,void 0!==a&&(i+=" "+a);var w=g&&void 0===p?h(n):f,_={};for(var S in e)g&&"as"===S||w(S)&&(_[S]=e[S]);return _.className=i,r&&(_.ref=r),o.createElement(o.Fragment,null,o.createElement(y,{cache:t,serialized:k,isStringTag:"string"==typeof n}),o.createElement(n,_))}));return _.displayName=void 0!==i?i:"Styled("+("string"==typeof d?d:d.displayName||d.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=d,_.__emotion_styles=v,_.__emotion_forwardProp=p,Object.defineProperty(_,"toString",{value:function(){return"."+a}}),_.withComponent=function(t,o){return e(t,(0,n.A)({},r,o,{shouldForwardProp:m(_,o,!0)})).apply(void 0,v)},_}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){g[e]=g(e)}));var b,v=r(1277),k=(r(9825),r(8095)),w=r(1894);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function S(e){var t=e.injectFirst,r=e.children;return t&&b?(0,w.jsx)(c.C,{value:b,children:r}):r}"object"===("undefined"==typeof document?"undefined":_(document))&&(b=(0,k.A)({key:"css",prepend:!0}));var O=r(2782);function E(e,t){return g(e,t)}var C=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},6925:(e,t,r)=>{"use strict";var n=r(9031);t.X4=function(e,t){return e=s(e),t=a(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,c(e)},t.e$=u,t.eM=function(e,t){var r=l(e),n=l(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)},t.a=d;var o=n(r(5733)),i=n(r(8399));function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,i.default)(e,t,r)}function s(e){if(e.type)return e;if("#"===e.charAt(0))return s(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),r=e.match(t);return r&&1===r[0].length&&(r=r.map((function(e){return e+e}))),r?"rgb".concat(4===r.length?"a":"","(").concat(r.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),r=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(r))throw new Error((0,o.default)(9,e));var n,i=e.substring(t+1,e.length-1);if("color"===r){if(n=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(n))throw new Error((0,o.default)(10,n))}else i=i.split(",");return{type:r,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:n}}function c(e){var t=e.type,r=e.colorSpace,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),n=-1!==t.indexOf("color")?"".concat(r," ").concat(n.join(" ")):"".concat(n.join(", ")),"".concat(t,"(").concat(n,")")}function l(e){var t="hsl"===(e=s(e)).type||"hsla"===e.type?s(function(e){var t=(e=s(e)).values,r=t[0],n=t[1]/100,o=t[2]/100,i=n*Math.min(o,1-o),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+r/30)%12;return o-i*Math.max(Math.min(t-3,9-t,1),-1)},l="rgb",u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(l+="a",u.push(t[3])),c({type:l,values:u})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e,t){if(e=s(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]*=1-t;return c(e)}function d(e,t){if(e=s(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return c(e)}},3463:(e,t,r)=>{"use strict";function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var s=r(9031);t.Ay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,r=e.defaultTheme,i=void 0===r?v:r,a=e.rootShouldForwardProp,s=void 0===a?b:a,p=e.slotShouldForwardProp,h=void 0===p?b:p,m=function(e){return(0,f.default)((0,c.default)({},e,{theme:w((0,c.default)({},e,{defaultTheme:i,themeId:t}))}))};return m.__mui_systemSx=!0,function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,u.internal_processStyles)(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var a,p=r.name,f=r.slot,g=r.skipVariantsResolver,v=r.skipSx,S=r.overridesResolver,O=void 0===S?(a=k(f))?function(e,t){return t[a]}:null:S,E=(0,l.default)(r,y),C=void 0!==g?g:f&&"Root"!==f&&"root"!==f||!1,P=v||!1,T=b;"Root"===f||"root"===f?T=s:f?T=h:function(e){return"string"==typeof e&&e.charCodeAt(0)>96}(e)&&(T=void 0);var x=(0,u.default)(e,(0,c.default)({shouldForwardProp:T,label:void 0},E)),j=function(e){return"function"==typeof e&&e.__emotion_real!==e||(0,d.isPlainObject)(e)?function(r){return _(e,(0,c.default)({},r,{theme:w({theme:r.theme,defaultTheme:i,themeId:t})}))}:e},A=function(r){for(var a=j(r),s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];var d=l?l.map(j):[];p&&O&&d.push((function(e){var r=w((0,c.default)({},e,{defaultTheme:i,themeId:t}));if(!r.components||!r.components[p]||!r.components[p].styleOverrides)return null;var n=r.components[p].styleOverrides,a={};return Object.entries(n).forEach((function(t){var n,i,s=(i=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(n,i)||o(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],u=s[1];a[l]=_(u,(0,c.default)({},e,{theme:r}))})),O(e,a)})),p&&!C&&d.push((function(e){var r,n=w((0,c.default)({},e,{defaultTheme:i,themeId:t}));return _({variants:null==n||null==(r=n.components)||null==(r=r[p])?void 0:r.variants},(0,c.default)({},e,{theme:n}))})),P||d.push(m);var f=d.length-l.length;if(Array.isArray(r)&&f>0){var h=new Array(f).fill("");(a=[].concat(n(r),n(h))).raw=[].concat(n(r.raw),n(h))}var y=x.apply(void 0,[a].concat(n(d)));return e.muiName&&(y.muiName=e.muiName),y};return x.withConfig&&(A.withConfig=x.withConfig),A}};var c=s(r(180)),l=s(r(343)),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(1671)),d=r(9390),p=(s(r(1658)),s(r(6962)),s(r(5544))),f=s(r(2591)),h=["ownerState"],m=["variants"],y=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function b(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var v=(0,p.default)(),k=function(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e};function w(e){var t,r=e.defaultTheme,n=e.theme,o=e.themeId;return t=n,0===Object.keys(t).length?r:n[o]||n}function _(e,t){var r=t.ownerState,n=(0,l.default)(t,h),o="function"==typeof e?e((0,c.default)({ownerState:r},n)):e;if(Array.isArray(o))return o.flatMap((function(e){return _(e,(0,c.default)({ownerState:r},n))}));if(o&&"object"===a(o)&&Array.isArray(o.variants)){var i=o.variants,s=void 0===i?[]:i,u=(0,l.default)(o,m);return s.forEach((function(e){var t=!0;"function"==typeof e.props?t=e.props((0,c.default)({ownerState:r},n,r)):Object.keys(e.props).forEach((function(o){(null==r?void 0:r[o])!==e.props[o]&&n[o]!==e.props[o]&&(t=!1)})),t&&(Array.isArray(u)||(u=[u]),u.push("function"==typeof e.style?e.style((0,c.default)({ownerState:r},n,r)):e.style))})),u}return o}},7091:(e,t,r)=>{"use strict";r.d(t,{b:()=>a});var n=r(2015),o=(r(9825),r(3962)),i=(r(1894),n.createContext(void 0));function a(e){return function(e){var t=e.theme,r=e.name,n=e.props;if(!t||!t.components||!t.components[r])return n;var i=t.components[r];return i.defaultProps?(0,o.A)(i.defaultProps,n):i.styleOverrides||i.variants?n:(0,o.A)(i,n)}({props:e.props,name:e.name,theme:{components:n.useContext(i)}})}},8150:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{EU:()=>s,NI:()=>a,vf:()=>c,zu:()=>o}),r(9825);var o={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(o[e],"px)")}};function a(e,t,r){var a=e.theme||{};if(Array.isArray(t)){var s=a.breakpoints||i;return t.reduce((function(e,n,o){return e[s.up(s.keys[o])]=r(t[o]),e}),{})}if("object"===n(t)){var c=a.breakpoints||i;return Object.keys(t).reduce((function(e,n){if(-1!==Object.keys(c.values||o).indexOf(n))e[c.up(n)]=r(t[n],n);else{var i=n;e[i]=t[i]}return e}),{})}return r(t)}function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,r){return e[t.up(r)]={},e}),{}))||{}}function c(e,t){return e.reduce((function(e,t){var r=e[t];return(!r||0===Object.keys(r).length)&&delete e[t],e}),t)}},5886:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r,o,i,a=this;return a.vars&&"function"==typeof a.getColorSchemeSelector?(r={},o=a.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)"),i=t,(o=function(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r):a.palette.mode===e?t:{}}r.d(t,{A:()=>o})},3620:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(4365),o=r(2218);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var a=["values","unit","step"],s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,o.A)({},e,(r={},n=t.key,a=t.val,(n=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(n))in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r));var r,n,a}),{})};function c(e){var t=e.values,r=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,i=e.unit,c=void 0===i?"px":i,l=e.step,u=void 0===l?5:l,d=(0,n.A)(e,a),p=s(r),f=Object.keys(p);function h(e){var t="number"==typeof r[e]?r[e]:e;return"@media (min-width:".concat(t).concat(c,")")}function m(e){var t="number"==typeof r[e]?r[e]:e;return"@media (max-width:".concat(t-u/100).concat(c,")")}function y(e,t){var n=f.indexOf(t);return"@media (min-width:".concat("number"==typeof r[e]?r[e]:e).concat(c,") and ")+"(max-width:".concat((-1!==n&&"number"==typeof r[f[n]]?r[f[n]]:t)-u/100).concat(c,")")}return(0,o.A)({keys:f,values:p,up:h,down:m,between:y,only:function(e){return f.indexOf(e)+1<f.length?y(e,f[f.indexOf(e)+1]):h(e)},not:function(e){var t=f.indexOf(e);return 0===t?h(f[1]):t===f.length-1?m(f[t]):y(e,f[f.indexOf(e)+1]).replace("@media","@media not all and")},unit:c},d)}},5943:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var n=r(2218),o=r(4365),i=r(4168),a=r(3620);const s={borderRadius:4};var c=r(7300),l=r(5937),u=r(3770),d=r(5886),p=["breakpoints","palette","spacing","shape"];const f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,r=void 0===t?{}:t,f=e.palette,h=void 0===f?{}:f,m=e.spacing,y=e.shape,g=void 0===y?{}:y,b=(0,o.A)(e,p),v=(0,a.A)(r),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,c.LX)({spacing:e}),r=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0===r.length?[1]:r).map((function(e){var r=t(e);return"number"==typeof r?"".concat(r,"px"):r})).join(" ")};return r.mui=!0,r}(m),w=(0,i.A)({breakpoints:v,direction:"ltr",components:{},palette:(0,n.A)({mode:"light"},h),spacing:k,shape:(0,n.A)({},s,g)},b);w.applyStyles=d.A;for(var _=arguments.length,S=new Array(_>1?_-1:0),O=1;O<_;O++)S[O-1]=arguments[O];return(w=S.reduce((function(e,t){return(0,i.A)(e,t)}),w)).unstable_sxConfig=(0,n.A)({},u.A,null==b?void 0:b.unstable_sxConfig),w.unstable_sx=function(e){return(0,l.A)({sx:e,theme:this})},w}},5544:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n.A,private_createBreakpoints:()=>o.A,unstable_applyStyles:()=>i.A});var n=r(5943),o=r(3620),i=r(5886)},3270:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(4168);const o=function(e,t){return t?(0,n.A)(e,t,{clone:!1}):e}},7300:(e,t,r)=>{"use strict";r.d(t,{LX:()=>g,MA:()=>y,_W:()=>b,Lc:()=>k,Ms:()=>w});var n=r(8150),o=r(3175),i=r(3270);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s,c,l={m:"margin",p:"padding"},u={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},d={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},p=(s=function(e){if(e.length>2){if(!d[e])return[e];e=d[e]}var t,r,n=(t=e.split(""),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,r)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1],s=l[o],c=u[i]||"";return Array.isArray(c)?c.map((function(e){return s+e})):[s+c]},c={},function(e){return void 0===c[e]&&(c[e]=s(e)),c[e]}),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],m=[].concat(f,h);function y(e,t,r,n){var i,a=null!=(i=(0,o.Yn)(e,t,!1))?i:r;return"number"==typeof a?function(e){return"string"==typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"==typeof e?e:a[e]}:"function"==typeof a?a:function(){}}function g(e){return y(e,"spacing",8)}function b(e,t){if("string"==typeof t||null==t)return t;var r=e(Math.abs(t));return t>=0?r:"number"==typeof r?-r:"-".concat(r)}function v(e,t){var r=g(e.theme);return Object.keys(e).map((function(o){return function(e,t,r,o){if(-1===t.indexOf(r))return null;var i=function(e,t){return function(r){return e.reduce((function(e,n){return e[n]=b(t,r),e}),{})}}(p(r),o),a=e[r];return(0,n.NI)(e,a,i)}(e,t,o,r)})).reduce(i.A,{})}function k(e){return v(e,f)}function w(e){return v(e,h)}function _(e){return v(e,m)}k.propTypes={},k.filterProps=f,w.propTypes={},w.filterProps=h,_.propTypes={},_.filterProps=m},3175:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>c,BO:()=>s,Yn:()=>a});var n=r(2738),o=r(8150);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!=typeof t)return null;if(e&&e.vars&&r){var n="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=n)return n}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function s(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;return n="function"==typeof e?e(r):Array.isArray(e)?e[r]||o:a(e,r)||o,t&&(n=t(n,o,e)),n}const c=function(e){var t=e.prop,r=e.cssProperty,c=void 0===r?e.prop:r,l=e.themeKey,u=e.transform,d=function(e){if(null==e[t])return null;var r=e[t],d=a(e.theme,l)||{};return(0,o.NI)(e,r,(function(e){var r,o,a,l=s(d,u,e);return e===l&&"string"==typeof e&&(l=s(d,u,"".concat(t).concat("default"===e?"":(0,n.A)(e)),e)),!1===c?l:(r={},a=l,(o=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(o=c))in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,r)}))};return d.propTypes={},d.filterProps=[t],d}},3770:(e,t,r)=>{"use strict";r.d(t,{A:()=>R});var n=r(7300),o=r(3175),i=r(3270);const a=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.reduce((function(e,t){return t.filterProps.forEach((function(r){e[r]=t})),e}),{}),o=function(e){return Object.keys(e).reduce((function(t,r){return n[r]?(0,i.A)(t,n[r](e)):t}),{})};return o.propTypes={},o.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),o};var s=r(8150);function c(e){return"number"!=typeof e?e:"".concat(e,"px solid")}function l(e,t){return(0,o.Ay)({prop:e,themeKey:"borders",transform:t})}var u=l("border",c),d=l("borderTop",c),p=l("borderRight",c),f=l("borderBottom",c),h=l("borderLeft",c),m=l("borderColor"),y=l("borderTopColor"),g=l("borderRightColor"),b=l("borderBottomColor"),v=l("borderLeftColor"),k=l("outline",c),w=l("outlineColor"),_=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,n.MA)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,s.NI)(e,e.borderRadius,(function(e){return{borderRadius:(0,n._W)(t,e)}}))}return null};_.propTypes={},_.filterProps=["borderRadius"],a(u,d,p,f,h,m,y,g,b,v,_,k,w);var S=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,n.MA)(e.theme,"spacing",8,"gap");return(0,s.NI)(e,e.gap,(function(e){return{gap:(0,n._W)(t,e)}}))}return null};S.propTypes={},S.filterProps=["gap"];var O=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,n.MA)(e.theme,"spacing",8,"columnGap");return(0,s.NI)(e,e.columnGap,(function(e){return{columnGap:(0,n._W)(t,e)}}))}return null};O.propTypes={},O.filterProps=["columnGap"];var E=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,n.MA)(e.theme,"spacing",8,"rowGap");return(0,s.NI)(e,e.rowGap,(function(e){return{rowGap:(0,n._W)(t,e)}}))}return null};function C(e,t){return"grey"===t?t:e}function P(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}E.propTypes={},E.filterProps=["rowGap"],a(S,O,E,(0,o.Ay)({prop:"gridColumn"}),(0,o.Ay)({prop:"gridRow"}),(0,o.Ay)({prop:"gridAutoFlow"}),(0,o.Ay)({prop:"gridAutoColumns"}),(0,o.Ay)({prop:"gridAutoRows"}),(0,o.Ay)({prop:"gridTemplateColumns"}),(0,o.Ay)({prop:"gridTemplateRows"}),(0,o.Ay)({prop:"gridTemplateAreas"}),(0,o.Ay)({prop:"gridArea"})),a((0,o.Ay)({prop:"color",themeKey:"palette",transform:C}),(0,o.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:C}),(0,o.Ay)({prop:"backgroundColor",themeKey:"palette",transform:C}));var T=(0,o.Ay)({prop:"width",transform:P}),x=function(e){return void 0!==e.maxWidth&&null!==e.maxWidth?(0,s.NI)(e,e.maxWidth,(function(t){var r,n,o=(null==(r=e.theme)||null==(r=r.breakpoints)||null==(r=r.values)?void 0:r[t])||s.zu[t];return o?"px"!==(null==(n=e.theme)||null==(n=n.breakpoints)?void 0:n.unit)?{maxWidth:"".concat(o).concat(e.theme.breakpoints.unit)}:{maxWidth:o}:{maxWidth:P(t)}})):null};x.filterProps=["maxWidth"];var j=(0,o.Ay)({prop:"minWidth",transform:P}),A=(0,o.Ay)({prop:"height",transform:P}),z=(0,o.Ay)({prop:"maxHeight",transform:P}),I=(0,o.Ay)({prop:"minHeight",transform:P});(0,o.Ay)({prop:"size",cssProperty:"width",transform:P}),(0,o.Ay)({prop:"size",cssProperty:"height",transform:P}),a(T,x,j,A,z,I,(0,o.Ay)({prop:"boxSizing"}));const R={border:{themeKey:"borders",transform:c},borderTop:{themeKey:"borders",transform:c},borderRight:{themeKey:"borders",transform:c},borderBottom:{themeKey:"borders",transform:c},borderLeft:{themeKey:"borders",transform:c},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:c},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:_},color:{themeKey:"palette",transform:C},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:C},backgroundColor:{themeKey:"palette",transform:C},p:{style:n.Ms},pt:{style:n.Ms},pr:{style:n.Ms},pb:{style:n.Ms},pl:{style:n.Ms},px:{style:n.Ms},py:{style:n.Ms},padding:{style:n.Ms},paddingTop:{style:n.Ms},paddingRight:{style:n.Ms},paddingBottom:{style:n.Ms},paddingLeft:{style:n.Ms},paddingX:{style:n.Ms},paddingY:{style:n.Ms},paddingInline:{style:n.Ms},paddingInlineStart:{style:n.Ms},paddingInlineEnd:{style:n.Ms},paddingBlock:{style:n.Ms},paddingBlockStart:{style:n.Ms},paddingBlockEnd:{style:n.Ms},m:{style:n.Lc},mt:{style:n.Lc},mr:{style:n.Lc},mb:{style:n.Lc},ml:{style:n.Lc},mx:{style:n.Lc},my:{style:n.Lc},margin:{style:n.Lc},marginTop:{style:n.Lc},marginRight:{style:n.Lc},marginBottom:{style:n.Lc},marginLeft:{style:n.Lc},marginX:{style:n.Lc},marginY:{style:n.Lc},marginInline:{style:n.Lc},marginInlineStart:{style:n.Lc},marginInlineEnd:{style:n.Lc},marginBlock:{style:n.Lc},marginBlockStart:{style:n.Lc},marginBlockEnd:{style:n.Lc},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:S},rowGap:{style:E},columnGap:{style:O},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:P},maxWidth:{style:x},minWidth:{transform:P},height:{transform:P},maxHeight:{transform:P},minHeight:{transform:P},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}},2021:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(2218),o=r(4365),i=r(4168),a=r(3770);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var c=["sx"],l=function(e){var t,r,n={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(r=e.theme)?void 0:r.unstable_sxConfig)?t:a.A;return Object.keys(e).forEach((function(t){o[t]?n.systemProps[t]=e[t]:n.otherProps[t]=e[t]})),n};function u(e){var t,r,a=e.sx,u=(0,o.A)(e,c),d=l(u),p=d.systemProps,f=d.otherProps;return t=Array.isArray(a)?[p].concat(function(e){if(Array.isArray(e))return s(e)}(r=a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):"function"==typeof a?function(){var e=a.apply(void 0,arguments);return(0,i.Q)(e)?(0,n.A)({},p,e):p}:(0,n.A)({},p,a),(0,n.A)({},f,{sx:t})}},2591:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n.A,extendSxProp:()=>o.A,unstable_createStyleFunctionSx:()=>n.k,unstable_defaultSxConfig:()=>i.A});var n=r(5937),o=r(2021),i=r(3770)},5937:(e,t,r)=>{"use strict";r.d(t,{A:()=>p,k:()=>u});var n=r(2738),o=r(3270),i=r(3175),a=r(8150),s=r(3770);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t,r){return(t=function(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(){function e(e,t,r,o){var s=l(l({},e,t),"theme",r),c=o[e];if(!c)return l({},e,t);var u=c.cssProperty,d=void 0===u?e:u,p=c.themeKey,f=c.transform,h=c.style;if(null==t)return null;if("typography"===p&&"inherit"===t)return l({},e,t);var m=(0,i.Yn)(r,p)||{};return h?h(s):(0,a.NI)(s,t,(function(t){var r=(0,i.BO)(m,f,t);return t===r&&"string"==typeof t&&(r=(0,i.BO)(m,f,"".concat(e).concat("default"===t?"":(0,n.A)(t)),t)),!1===d?r:l({},d,r)}))}return function t(r){var n,i=r||{},u=i.sx,d=i.theme,p=void 0===d?{}:d;if(!u)return null;var f=null!=(n=p.unstable_sxConfig)?n:s.A;function h(r){var n=r;if("function"==typeof r)n=r(p);else if("object"!==c(r))return r;if(!n)return null;var i=(0,a.EU)(p.breakpoints),s=Object.keys(i),u=i;return Object.keys(n).forEach((function(r){var i,s="function"==typeof(i=n[r])?i(p):i;if(null!=s)if("object"===c(s))if(f[r])u=(0,o.A)(u,e(r,s,p,f));else{var d=(0,a.NI)({theme:p},s,(function(e){return l({},r,e)}));!function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),o=new Set(n);return t.every((function(e){return o.size===Object.keys(e).length}))}(d,s)?u=(0,o.A)(u,d):u[r]=t({sx:s,theme:p})}else u=(0,o.A)(u,e(r,s,p,f))})),(0,a.vf)(s,u)}return Array.isArray(u)?u.map(h):h(u)}}var d=u();d.filterProps=["sx"];const p=d},3321:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t.A=void 0;var o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var c=i?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(o,s,c):o[s]=e[s]}return o.default=e,r&&r.set(e,o),o}(r(2015)),i=r(1671);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}t.A=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=o.useContext(i.ThemeContext);return r&&(e=r,0!==Object.keys(e).length)?r:t}},5214:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n,o=function(e){return e};const i=(n=o,{configure:function(e){n=e},generate:function(e){return n(e)},reset:function(){n=o}})},2738:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(7696);function o(e){if("string"!=typeof e)throw new Error((0,n.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},1658:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n.A});var n=r(2738)},6936:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,r))}},8399:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n.A});var n=r(6936)},7670:(e,t,r)=>{"use strict";function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n={};return Object.keys(e).forEach((function(o){n[o]=e[o].reduce((function(e,n){if(n){var o=t(n);""!==o&&e.push(o),r&&r[n]&&e.push(r[n])}return e}),[]).join(" ")})),n}r.d(t,{A:()=>n})},4168:(e,t,r)=>{"use strict";r.d(t,{A:()=>s,Q:()=>i});var n=r(2218);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){if("object"!==o(e)||null===e)return!1;var t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function a(e){if(!i(e))return e;var t={};return Object.keys(e).forEach((function(r){t[r]=a(e[r])})),t}function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=r.clone?(0,n.A)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(n){i(t[n])&&Object.prototype.hasOwnProperty.call(e,n)&&i(e[n])?o[n]=s(e[n],t[n],r):r.clone?o[n]=i(t[n])?a(t[n]):t[n]:o[n]=t[n]})),o}},9390:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n.A,isPlainObject:()=>n.Q});var n=r(4168)},7696:(e,t,r)=>{"use strict";function n(e){for(var t="https://mui.com/production-error/?code="+e,r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}r.d(t,{A:()=>n})},5733:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n.A});var n=r(7696)},2264:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>i});var n=r(5214),o={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i=o[t];return i?"".concat(r,"-").concat(i):"".concat(n.A.generate(e),"-").concat(t)}},7384:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(2264);function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",o={};return t.forEach((function(t){o[t]=(0,n.Ay)(e,t,r)})),o}},6962:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,getFunctionName:()=>a});var n=r(9572);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function a(e){var t="".concat(e).match(i);return t&&t[1]||""}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||a(e)||t}function c(e,t,r){var n=s(t);return e.displayName||(""!==n?"".concat(r,"(").concat(n,")"):r)}function l(e){if(null!=e){if("string"==typeof e)return e;if("function"==typeof e)return s(e,"Component");if("object"===o(e))switch(e.$$typeof){case n.ForwardRef:return c(e,e.render,"ForwardRef");case n.Memo:return c(e,e.type,"memo");default:return}}}},2968:(e,t,r)=>{"use strict";function n(e){return e&&e.ownerDocument||document}r.d(t,{A:()=>n})},3962:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(2218);function o(e,t){var r=(0,n.A)({},t);return Object.keys(e).forEach((function(i){if(i.toString().match(/^(components|slots)$/))r[i]=(0,n.A)({},e[i],r[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){var a=e[i]||{},s=t[i];r[i]={},s&&Object.keys(s)?a&&Object.keys(a)?(r[i]=(0,n.A)({},s),Object.keys(a).forEach((function(e){r[i][e]=o(a[e],s[e])}))):r[i]=s:r[i]=a}else void 0===r[i]&&(r[i]=e[i])})),r}},5976:(e,t,r)=>{"use strict";function n(e,t){"function"==typeof e?e(t):e&&(e.current=t)}r.d(t,{A:()=>n})},6304:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(2015);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e){var t,r,i=e.controlled,a=e.default,s=(e.name,e.state,n.useRef(void 0!==i).current),c=(t=n.useState(a),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,r)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=c[0],u=c[1];return[s?i:l,n.useCallback((function(e){s||u(e)}),[])]}},2556:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(2015);const o="undefined"!=typeof window?n.useLayoutEffect:n.useEffect},1946:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(2015),o=r(2556);const i=function(e){var t=n.useRef(e);return(0,o.A)((function(){t.current=e})),n.useRef((function(){return t.current.apply(void 0,arguments)})).current}},8810:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(2015),o=r(5976);function i(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){(0,o.A)(t,e)}))}}),t)}},4008:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(2015);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i=0,a=n["useId".toString()];function s(e){if(void 0!==a){var t=a();return null!=e?e:t}return function(e){var t,r,a=(t=n.useState(e),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,r)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],c=a[1],l=e||s;return n.useEffect((function(){null==s&&c("mui-".concat(i+=1))}),[s]),l}(e)}},5980:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var n=r(2015),o=r(418),i=!0,a=!1,s=new o.E,c={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function l(e){e.metaKey||e.altKey||e.ctrlKey||(i=!0)}function u(){i=!1}function d(){"hidden"===this.visibilityState&&a&&(i=!0)}function p(){var e=n.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",l,!0),t.addEventListener("mousedown",u,!0),t.addEventListener("pointerdown",u,!0),t.addEventListener("touchstart",u,!0),t.addEventListener("visibilitychange",d,!0))}),[]),t=n.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!function(e){var t,r,n,o=e.target;try{return o.matches(":focus-visible")}catch(e){}return i||(r=(t=o).type,!("INPUT"!==(n=t.tagName)||!c[r]||t.readOnly)||"TEXTAREA"===n&&!t.readOnly||!!t.isContentEditable)}(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(a=!0,s.start(100,(function(){a=!1})),t.current=!1,!0)},ref:e}}},7682:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(2015),o={};function i(e,t){var r=n.useRef(o);return r.current===o&&(r.current=e(t)),r}},888:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(2015),o=[];function i(e){n.useEffect(e,o)}},418:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,E:()=>c});var n=r(7682),o=r(888);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}var c=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentId=null,this.clear=function(){null!==t.currentId&&(clearTimeout(t.currentId),t.currentId=null)},this.disposeEffect=function(){return t.clear}}return t=e,n=[{key:"create",value:function(){return new e}}],(r=[{key:"start",value:function(e,t){var r=this;this.clear(),this.currentId=setTimeout((function(){r.currentId=null,t()}),e)}}])&&a(t.prototype,r),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function l(){var e=(0,n.A)(c.create).current;return(0,o.A)(e.disposeEffect),e}},2372:(e,t)=>{"use strict";function r(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"],a=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement"].concat(i),s=["null","undefined","string","number","bigint","boolean","symbol"];function c(e){return function(t){return o(t)===e}}var l=Object.prototype.toString,u=function(e){var t,r=l.call(e).slice(8,-1);return/HTML\w+Element/.test(r)&&p.domElement(e)?"HTMLElement":(t=r,a.includes(t)?r:void 0)},d=function(e){return function(t){return u(t)===e}};function p(e){if(null===e)return"null";switch(o(e)){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol"}if(p.observable(e))return"Observable";if(p.array(e))return"Array";if(p.buffer(e))return"Buffer";var t=u(e);if(t)return t;if(e instanceof String||e instanceof Boolean||e instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}p.undefined=c("undefined"),p.string=c("string");var f=c("number");p.number=function(e){return f(e)&&!p.nan(e)},p.bigint=c("bigint"),p.function_=c("function"),p.null_=function(e){return null===e},p.class_=function(e){return p.function_(e)&&e.toString().startsWith("class ")},p.boolean=function(e){return!0===e||!1===e},p.symbol=c("symbol"),p.numericString=function(e){return p.string(e)&&!p.emptyStringOrWhitespace(e)&&!Number.isNaN(Number(e))},p.array=function(e,t){return!!Array.isArray(e)&&(!p.function_(t)||e.every(t))},p.buffer=function(e){var t,r,n,o;return null!==(o=null===(n=null===(r=null===(t=e)||void 0===t?void 0:t.constructor)||void 0===r?void 0:r.isBuffer)||void 0===n?void 0:n.call(r,e))&&void 0!==o&&o},p.blob=function(e){return d("Blob")(e)},p.nullOrUndefined=function(e){return p.null_(e)||p.undefined(e)},p.object=function(e){return!p.null_(e)&&("object"===o(e)||p.function_(e))},p.iterable=function(e){var t;return p.function_(null===(t=e)||void 0===t?void 0:t[Symbol.iterator])},p.asyncIterable=function(e){var t;return p.function_(null===(t=e)||void 0===t?void 0:t[Symbol.asyncIterator])},p.generator=function(e){var t,r;return p.iterable(e)&&p.function_(null===(t=e)||void 0===t?void 0:t.next)&&p.function_(null===(r=e)||void 0===r?void 0:r.throw)},p.asyncGenerator=function(e){return p.asyncIterable(e)&&p.function_(e.next)&&p.function_(e.throw)},p.nativePromise=function(e){return d("Promise")(e)},p.promise=function(e){return p.nativePromise(e)||function(e){var t,r;return p.function_(null===(t=e)||void 0===t?void 0:t.then)&&p.function_(null===(r=e)||void 0===r?void 0:r.catch)}(e)},p.generatorFunction=d("GeneratorFunction"),p.asyncGeneratorFunction=function(e){return"AsyncGeneratorFunction"===u(e)},p.asyncFunction=function(e){return"AsyncFunction"===u(e)},p.boundFunction=function(e){return p.function_(e)&&!e.hasOwnProperty("prototype")},p.regExp=d("RegExp"),p.date=d("Date"),p.error=d("Error"),p.map=function(e){return d("Map")(e)},p.set=function(e){return d("Set")(e)},p.weakMap=function(e){return d("WeakMap")(e)},p.weakSet=function(e){return d("WeakSet")(e)},p.int8Array=d("Int8Array"),p.uint8Array=d("Uint8Array"),p.uint8ClampedArray=d("Uint8ClampedArray"),p.int16Array=d("Int16Array"),p.uint16Array=d("Uint16Array"),p.int32Array=d("Int32Array"),p.uint32Array=d("Uint32Array"),p.float32Array=d("Float32Array"),p.float64Array=d("Float64Array"),p.bigInt64Array=d("BigInt64Array"),p.bigUint64Array=d("BigUint64Array"),p.arrayBuffer=d("ArrayBuffer"),p.sharedArrayBuffer=d("SharedArrayBuffer"),p.dataView=d("DataView"),p.enumCase=function(e,t){return Object.values(t).includes(e)},p.directInstanceOf=function(e,t){return Object.getPrototypeOf(e)===t.prototype},p.urlInstance=function(e){return d("URL")(e)},p.urlString=function(e){if(!p.string(e))return!1;try{return new URL(e),!0}catch(e){return!1}},p.truthy=function(e){return Boolean(e)},p.falsy=function(e){return!e},p.nan=function(e){return Number.isNaN(e)},p.primitive=function(e){return p.null_(e)||(t=o(e),s.includes(t));var t},p.integer=function(e){return Number.isInteger(e)},p.safeInteger=function(e){return Number.isSafeInteger(e)},p.plainObject=function(e){if("[object Object]"!==l.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})},p.typedArray=function(e){return t=u(e),i.includes(t);var t},p.arrayLike=function(e){return!p.nullOrUndefined(e)&&!p.function_(e)&&function(e){return p.safeInteger(e)&&e>=0}(e.length)},p.inRange=function(e,t){if(p.number(t))return e>=Math.min(0,t)&&e<=Math.max(t,0);if(p.array(t)&&2===t.length)return e>=Math.min.apply(Math,r(t))&&e<=Math.max.apply(Math,r(t));throw new TypeError("Invalid range: ".concat(JSON.stringify(t)))};var h=["innerHTML","ownerDocument","style","attributes","nodeValue"];p.domElement=function(e){return p.object(e)&&1===e.nodeType&&p.string(e.nodeName)&&!p.plainObject(e)&&h.every((function(t){return t in e}))},p.observable=function(e){var t,r,n,o;return!!e&&(e===(null===(r=(t=e)[Symbol.observable])||void 0===r?void 0:r.call(t))||e===(null===(o=(n=e)["@@observable"])||void 0===o?void 0:o.call(n)))},p.nodeStream=function(e){return p.object(e)&&p.function_(e.pipe)&&!p.observable(e)},p.infinite=function(e){return e===1/0||e===-1/0};var m=function(e){return function(t){return p.integer(t)&&Math.abs(t%2)===e}};p.evenInteger=m(0),p.oddInteger=m(1),p.emptyArray=function(e){return p.array(e)&&0===e.length},p.nonEmptyArray=function(e){return p.array(e)&&e.length>0},p.emptyString=function(e){return p.string(e)&&0===e.length},p.emptyStringOrWhitespace=function(e){return p.emptyString(e)||function(e){return p.string(e)&&!/\S/.test(e)}(e)},p.nonEmptyString=function(e){return p.string(e)&&e.length>0},p.nonEmptyStringAndNotWhitespace=function(e){return p.string(e)&&!p.emptyStringOrWhitespace(e)},p.emptyObject=function(e){return p.object(e)&&!p.map(e)&&!p.set(e)&&0===Object.keys(e).length},p.nonEmptyObject=function(e){return p.object(e)&&!p.map(e)&&!p.set(e)&&Object.keys(e).length>0},p.emptySet=function(e){return p.set(e)&&0===e.size},p.nonEmptySet=function(e){return p.set(e)&&e.size>0},p.emptyMap=function(e){return p.map(e)&&0===e.size},p.nonEmptyMap=function(e){return p.map(e)&&e.size>0},p.propertyKey=function(e){return p.any([p.string,p.number,p.symbol],e)},p.formData=function(e){return d("FormData")(e)},p.urlSearchParams=function(e){return d("URLSearchParams")(e)};var y=function(e,t,r){if(!p.function_(t))throw new TypeError("Invalid predicate: ".concat(JSON.stringify(t)));if(0===r.length)throw new TypeError("Invalid number of values");return e.call(r,t)};p.any=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return(p.array(e)?e:[e]).some((function(e){return y(Array.prototype.some,e,r)}))},p.all=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return y(Array.prototype.every,e,r)};var g=function(e,t,n){if(!e){var o=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).multipleValues?"received values of types ".concat(r(new Set(n.map((function(e){return"`".concat(p(e),"`")})))).join(", ")):"received value of type `".concat(p(n),"`");throw new TypeError("Expected value which is `".concat(t,"`, ").concat(o,"."))}};t.assert={undefined:function(e){return g(p.undefined(e),"undefined",e)},string:function(e){return g(p.string(e),"string",e)},number:function(e){return g(p.number(e),"number",e)},bigint:function(e){return g(p.bigint(e),"bigint",e)},function_:function(e){return g(p.function_(e),"Function",e)},null_:function(e){return g(p.null_(e),"null",e)},class_:function(e){return g(p.class_(e),"Class",e)},boolean:function(e){return g(p.boolean(e),"boolean",e)},symbol:function(e){return g(p.symbol(e),"symbol",e)},numericString:function(e){return g(p.numericString(e),"string with a number",e)},array:function(e,t){g(p.array(e),"Array",e),t&&e.forEach(t)},buffer:function(e){return g(p.buffer(e),"Buffer",e)},blob:function(e){return g(p.blob(e),"Blob",e)},nullOrUndefined:function(e){return g(p.nullOrUndefined(e),"null or undefined",e)},object:function(e){return g(p.object(e),"Object",e)},iterable:function(e){return g(p.iterable(e),"Iterable",e)},asyncIterable:function(e){return g(p.asyncIterable(e),"AsyncIterable",e)},generator:function(e){return g(p.generator(e),"Generator",e)},asyncGenerator:function(e){return g(p.asyncGenerator(e),"AsyncGenerator",e)},nativePromise:function(e){return g(p.nativePromise(e),"native Promise",e)},promise:function(e){return g(p.promise(e),"Promise",e)},generatorFunction:function(e){return g(p.generatorFunction(e),"GeneratorFunction",e)},asyncGeneratorFunction:function(e){return g(p.asyncGeneratorFunction(e),"AsyncGeneratorFunction",e)},asyncFunction:function(e){return g(p.asyncFunction(e),"AsyncFunction",e)},boundFunction:function(e){return g(p.boundFunction(e),"Function",e)},regExp:function(e){return g(p.regExp(e),"RegExp",e)},date:function(e){return g(p.date(e),"Date",e)},error:function(e){return g(p.error(e),"Error",e)},map:function(e){return g(p.map(e),"Map",e)},set:function(e){return g(p.set(e),"Set",e)},weakMap:function(e){return g(p.weakMap(e),"WeakMap",e)},weakSet:function(e){return g(p.weakSet(e),"WeakSet",e)},int8Array:function(e){return g(p.int8Array(e),"Int8Array",e)},uint8Array:function(e){return g(p.uint8Array(e),"Uint8Array",e)},uint8ClampedArray:function(e){return g(p.uint8ClampedArray(e),"Uint8ClampedArray",e)},int16Array:function(e){return g(p.int16Array(e),"Int16Array",e)},uint16Array:function(e){return g(p.uint16Array(e),"Uint16Array",e)},int32Array:function(e){return g(p.int32Array(e),"Int32Array",e)},uint32Array:function(e){return g(p.uint32Array(e),"Uint32Array",e)},float32Array:function(e){return g(p.float32Array(e),"Float32Array",e)},float64Array:function(e){return g(p.float64Array(e),"Float64Array",e)},bigInt64Array:function(e){return g(p.bigInt64Array(e),"BigInt64Array",e)},bigUint64Array:function(e){return g(p.bigUint64Array(e),"BigUint64Array",e)},arrayBuffer:function(e){return g(p.arrayBuffer(e),"ArrayBuffer",e)},sharedArrayBuffer:function(e){return g(p.sharedArrayBuffer(e),"SharedArrayBuffer",e)},dataView:function(e){return g(p.dataView(e),"DataView",e)},enumCase:function(e,t){return g(p.enumCase(e,t),"EnumCase",e)},urlInstance:function(e){return g(p.urlInstance(e),"URL",e)},urlString:function(e){return g(p.urlString(e),"string with a URL",e)},truthy:function(e){return g(p.truthy(e),"truthy",e)},falsy:function(e){return g(p.falsy(e),"falsy",e)},nan:function(e){return g(p.nan(e),"NaN",e)},primitive:function(e){return g(p.primitive(e),"primitive",e)},integer:function(e){return g(p.integer(e),"integer",e)},safeInteger:function(e){return g(p.safeInteger(e),"integer",e)},plainObject:function(e){return g(p.plainObject(e),"plain object",e)},typedArray:function(e){return g(p.typedArray(e),"TypedArray",e)},arrayLike:function(e){return g(p.arrayLike(e),"array-like",e)},domElement:function(e){return g(p.domElement(e),"HTMLElement",e)},observable:function(e){return g(p.observable(e),"Observable",e)},nodeStream:function(e){return g(p.nodeStream(e),"Node.js Stream",e)},infinite:function(e){return g(p.infinite(e),"infinite number",e)},emptyArray:function(e){return g(p.emptyArray(e),"empty array",e)},nonEmptyArray:function(e){return g(p.nonEmptyArray(e),"non-empty array",e)},emptyString:function(e){return g(p.emptyString(e),"empty string",e)},emptyStringOrWhitespace:function(e){return g(p.emptyStringOrWhitespace(e),"empty string or whitespace",e)},nonEmptyString:function(e){return g(p.nonEmptyString(e),"non-empty string",e)},nonEmptyStringAndNotWhitespace:function(e){return g(p.nonEmptyStringAndNotWhitespace(e),"non-empty string and not whitespace",e)},emptyObject:function(e){return g(p.emptyObject(e),"empty object",e)},nonEmptyObject:function(e){return g(p.nonEmptyObject(e),"non-empty object",e)},emptySet:function(e){return g(p.emptySet(e),"empty set",e)},nonEmptySet:function(e){return g(p.nonEmptySet(e),"non-empty set",e)},emptyMap:function(e){return g(p.emptyMap(e),"empty map",e)},nonEmptyMap:function(e){return g(p.nonEmptyMap(e),"non-empty map",e)},propertyKey:function(e){return g(p.propertyKey(e),"PropertyKey",e)},formData:function(e){return g(p.formData(e),"FormData",e)},urlSearchParams:function(e){return g(p.urlSearchParams(e),"URLSearchParams",e)},evenInteger:function(e){return g(p.evenInteger(e),"even integer",e)},oddInteger:function(e){return g(p.oddInteger(e),"odd integer",e)},directInstanceOf:function(e,t){return g(p.directInstanceOf(e,t),"T",e)},inRange:function(e,t){return g(p.inRange(e,t),"in range",e)},any:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return g(p.any.apply(p,[e].concat(r)),"predicate returns truthy for any value",r,{multipleValues:!0})},all:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return g(p.all.apply(p,[e].concat(r)),"predicate returns truthy for all values",r,{multipleValues:!0})}},Object.defineProperties(p,{class:{value:p.class_},function:{value:p.function_},null:{value:p.null_}}),Object.defineProperties(t.assert,{class:{value:t.assert.class_},function:{value:t.assert.function_},null:{value:t.assert.null_}}),t.default=p,e.exports=p,e.exports.default=p,e.exports.assert=t.assert},9873:(e,t,r)=>{"use strict";var n=r(8307)("ArrayBuffer.prototype.byteLength",!0),o=r(316);e.exports=function(e){return o(e)?n?n(e):e.byteLength:NaN}},8307:(e,t,r)=>{"use strict";var n=r(6374),o=r(4447),i=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o(r):r}},4447:(e,t,r)=>{"use strict";var n=r(5087),o=r(6374),i=r(7780),a=r(8819),s=o("%Function.prototype.apply%"),c=o("%Function.prototype.call%"),l=o("%Reflect.apply%",!0)||n.call(c,s),u=r(5502),d=o("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new a("a function is required");var t=l(n,c,arguments);return i(t,1+d(0,e.length-(arguments.length-1)),!0)};var p=function(){return l(n,s,arguments)};u?u(e.exports,"apply",{value:p}):e.exports.apply=p},4316:e=>{"use strict";e.exports=function(){var e="\\ud800-\\udfff",t="[".concat(e,"]"),r="[".concat("\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff","]"),n="\\ud83c[\\udffb-\\udfff]",o="(?:".concat(r,"|").concat(n,")"),i="[^".concat(e,"]"),a="(?:\\uD83C[\\uDDE6-\\uDDFF]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="[".concat("\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDF93","]"),l="".concat(o,"?"),u="[".concat("\\ufe0e\\ufe0f","]?"),d=u+l+"(?:".concat("\\u200d","(?:").concat([i,a,s].join("|"),")").concat(u+l,")*"),p="".concat(i).concat(r,"?"),f="(?:".concat([p,r,a,s,t,c].join("|"),")");return new RegExp("".concat("(?:\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40(?:\\udc65|\\udc73|\\udc77)\\udb40(?:\\udc6e|\\udc63|\\udc6c)\\udb40(?:\\udc67|\\udc74|\\udc73)\\udb40\\udc7f)","|").concat(n,"(?=").concat(n,")|").concat(f+d),"g")}},6738:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(n)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);n&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},2729:e=>{"use strict";e.exports=function(e){return e[1]}},5840:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(5353),i=r(8307),a=r(1048),s=r(6374),c=r(565),l=r(3104),u=r(7239),d=r(2894),p=r(6820),f=r(316),h=r(8321),m=r(993),y=r(7383),g=r(2148),b=r(4962),v=r(8716),k=r(8713),w=r(9873),_=i("SharedArrayBuffer.prototype.byteLength",!0),S=i("Date.prototype.getTime"),O=Object.getPrototypeOf,E=i("Object.prototype.toString"),C=s("%Set%",!0),P=i("Map.prototype.has",!0),T=i("Map.prototype.get",!0),x=i("Map.prototype.size",!0),j=i("Set.prototype.add",!0),A=i("Set.prototype.delete",!0),z=i("Set.prototype.has",!0),I=i("Set.prototype.size",!0);function R(e,t,r,n){for(var o,i=c(e);(o=i.next())&&!o.done;)if(U(t,o.value,r,n))return A(e,o.value),!0;return!1}function M(e){return void 0===e?null:"object"!==n(e)?"symbol"!==n(e)&&("string"!=typeof e&&"number"!=typeof e||+e==+e):void 0}function D(e,t,r,n,i,a){var s=M(r);if(null!=s)return s;var c=T(t,s),l=o({},i,{strict:!1});return!(void 0===c&&!P(t,s)||!U(n,c,l,a))&&!P(e,s)&&U(n,c,l,a)}function N(e,t,r){var n=M(r);return null!=n?n:z(t,n)&&!z(e,n)}function L(e,t,r,n,o,i){for(var a,s,l=c(e);(a=l.next())&&!a.done;)if(U(r,s=a.value,o,i)&&U(n,T(t,s),o,i))return A(e,s),!0;return!1}function U(e,t,r,i){var s=r||{};if(s.strict?u(e,t):e===t)return!0;if(b(e)!==b(t))return!1;if(!e||!t||"object"!==n(e)&&"object"!==n(t))return s.strict?u(e,t):e==t;var l,A=i.has(e),M=i.has(t);if(A&&M){if(i.get(e)===i.get(t))return!0}else l={};return A||i.set(e,l),M||i.set(t,l),function(e,t,r,i){var s,l;if(n(e)!==n(t))return!1;if(null==e||null==t)return!1;if(E(e)!==E(t))return!1;if(d(e)!==d(t))return!1;if(p(e)!==p(t))return!1;var u=e instanceof Error,b=t instanceof Error;if(u!==b)return!1;if((u||b)&&(e.name!==t.name||e.message!==t.message))return!1;var A=m(e),M=m(t);if(A!==M)return!1;if((A||M)&&(e.source!==t.source||a(e)!==a(t)))return!1;var F=h(e),q=h(t);if(F!==q)return!1;if((F||q)&&S(e)!==S(t))return!1;if(r.strict&&O&&O(e)!==O(t))return!1;var W=k(e),H=k(t);if(W!==H)return!1;if(W||H){if(e.length!==t.length)return!1;for(s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}var V=B(e),J=B(t);if(V!==J)return!1;if(V||J){if(e.length!==t.length)return!1;for(s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}var G=f(e),K=f(t);if(G!==K)return!1;if(G||K)return w(e)===w(t)&&"function"==typeof Uint8Array&&U(new Uint8Array(e),new Uint8Array(t),r,i);var $=y(e),X=y(t);if($!==X)return!1;if($||X)return _(e)===_(t)&&"function"==typeof Uint8Array&&U(new Uint8Array(e),new Uint8Array(t),r,i);if(n(e)!==n(t))return!1;var Y=g(e),Q=g(t);if(Y.length!==Q.length)return!1;for(Y.sort(),Q.sort(),s=Y.length-1;s>=0;s--)if(Y[s]!=Q[s])return!1;for(s=Y.length-1;s>=0;s--)if(!U(e[l=Y[s]],t[l],r,i))return!1;var Z=v(e),ee=v(t);return Z===ee&&("Set"===Z||"Set"===ee?function(e,t,r,o){if(I(e)!==I(t))return!1;for(var i,a,s,l=c(e),u=c(t);(i=l.next())&&!i.done;)if(i.value&&"object"===n(i.value))s||(s=new C),j(s,i.value);else if(!z(t,i.value)){if(r.strict)return!1;if(!N(e,t,i.value))return!1;s||(s=new C),j(s,i.value)}if(s){for(;(a=u.next())&&!a.done;)if(a.value&&"object"===n(a.value)){if(!R(s,a.value,r.strict,o))return!1}else if(!r.strict&&!z(e,a.value)&&!R(s,a.value,r.strict,o))return!1;return 0===I(s)}return!0}(e,t,r,i):"Map"!==Z||function(e,t,r,i){if(x(e)!==x(t))return!1;for(var a,s,l,u,d,p,f=c(e),h=c(t);(a=f.next())&&!a.done;)if(u=a.value[0],d=a.value[1],u&&"object"===n(u))l||(l=new C),j(l,u);else if(void 0===(p=T(t,u))&&!P(t,u)||!U(d,p,r,i)){if(r.strict)return!1;if(!D(e,t,u,d,r,i))return!1;l||(l=new C),j(l,u)}if(l){for(;(s=h.next())&&!s.done;)if(u=s.value[0],p=s.value[1],u&&"object"===n(u)){if(!L(l,e,u,p,r,i))return!1}else if(!(r.strict||e.has(u)&&U(T(e,u),p,r,i)||L(l,e,u,p,o({},r,{strict:!1}),i)))return!1;return 0===I(l)}return!0}(e,t,r,i))}(e,t,s,i)}function B(e){return!(!e||"object"!==n(e)||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0]||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))}e.exports=function(e,t,r){return U(e,t,r,l())}},2765:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(5502),i=r(3052),a=r(8819),s=r(6861);e.exports=function(e,t,r){if(!e||"object"!==n(e)&&"function"!=typeof e)throw new a("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!==n(t))throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,d=arguments.length>6&&arguments[6],p=!!s&&s(e,t);if(o)o(e,t,{configurable:null===u&&p?p.configurable:!u,enumerable:null===c&&p?p.enumerable:!c,value:r,writable:null===l&&p?p.writable:!l});else{if(!d&&(c||l||u))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}},6541:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(2148),i="function"==typeof Symbol&&"symbol"===n(Symbol("foo")),a=Object.prototype.toString,s=Array.prototype.concat,c=r(2765),l=r(6708)(),u=function(e,t,r,n){if(t in e)if(!0===n){if(e[t]===r)return}else if("function"!=typeof(o=n)||"[object Function]"!==a.call(o)||!n())return;var o;l?c(e,t,r,!0):c(e,t,r)},d=function(e,t){var r=arguments.length>2?arguments[2]:{},n=o(t);i&&(n=s.call(n,Object.getOwnPropertySymbols(t)));for(var a=0;a<n.length;a+=1)u(e,n[a],t[n[a]],r[n[a]])};d.supportsDescriptors=!!l,e.exports=d},323:(e,t,r)=>{e.exports={lib:r(51),ordered:r(8385),fitzpatrick_scale_modifiers:["🏻","🏼","🏽","🏾","🏿"]}},5502:(e,t,r)=>{"use strict";var n=r(6374)("%Object.defineProperty%",!0)||!1;if(n)try{n({},"a",{value:1})}catch(e){n=!1}e.exports=n},7565:e=>{"use strict";e.exports=EvalError},9119:e=>{"use strict";e.exports=Error},7362:e=>{"use strict";e.exports=RangeError},5354:e=>{"use strict";e.exports=ReferenceError},3052:e=>{"use strict";e.exports=SyntaxError},8819:e=>{"use strict";e.exports=TypeError},7593:e=>{"use strict";e.exports=URIError},9749:(e,t,r)=>{"use strict";var n=r(6111),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=r),"[object Array]"===o.call(e)?function(e,t,r){for(var n=0,o=e.length;n<o;n++)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,a):"string"==typeof e?function(e,t,r){for(var n=0,o=e.length;n<o;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(e,t,a):function(e,t,r){for(var n in e)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,a)}},8737:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,a=function(e){for(var t=[],r=1,n=0;r<e.length;r+=1,n+=1)t[n]=e[r];return t}(arguments),s=r(0,o.length-a.length),c=[],l=0;l<s;l++)c[l]="$"+l;if(i=Function("binder","return function ("+function(e){for(var t="",r=0;r<e.length;r+=1)t+=e[r],r+1<e.length&&(t+=",");return t}(c)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var t=o.apply(this,n(a,arguments));return Object(t)===t?t:this}return o.apply(e,n(a,arguments))})),o.prototype){var u=function(){};u.prototype=o.prototype,i.prototype=new u,u.prototype=null}return i}},5087:(e,t,r)=>{"use strict";var n=r(8737);e.exports=Function.prototype.bind||n},5861:e=>{"use strict";var t=function(){return"string"==typeof function(){}.name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(e){r=null}t.functionsHaveConfigurableNames=function(){if(!t()||!r)return!1;var e=r((function(){}),"name");return!!e&&!!e.configurable};var n=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"==typeof n&&""!==function(){}.bind().name},e.exports=t},6374:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o,i=r(9119),a=r(7565),s=r(7362),c=r(5354),l=r(3052),u=r(8819),d=r(7593),p=Function,f=function(e){try{return p('"use strict"; return ('+e+").constructor;")()}catch(e){}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch(e){h=null}var m=function(){throw new u},y=h?function(){try{return m}catch(e){try{return h(arguments,"callee").get}catch(e){return m}}}():m,g=r(4163)(),b=r(5493)(),v=Object.getPrototypeOf||(b?function(e){return e.__proto__}:null),k={},w="undefined"!=typeof Uint8Array&&v?v(Uint8Array):o,_={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?o:ArrayBuffer,"%ArrayIteratorPrototype%":g&&v?v([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":k,"%AsyncGenerator%":k,"%AsyncGeneratorFunction%":k,"%AsyncIteratorPrototype%":k,"%Atomics%":"undefined"==typeof Atomics?o:Atomics,"%BigInt%":"undefined"==typeof BigInt?o:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?o:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?o:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":a,"%Float32Array%":"undefined"==typeof Float32Array?o:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?o:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?o:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":k,"%Int8Array%":"undefined"==typeof Int8Array?o:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?o:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&v?v(v([][Symbol.iterator]())):o,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":n(JSON))?JSON:o,"%Map%":"undefined"==typeof Map?o:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&g&&v?v((new Map)[Symbol.iterator]()):o,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?o:Promise,"%Proxy%":"undefined"==typeof Proxy?o:Proxy,"%RangeError%":s,"%ReferenceError%":c,"%Reflect%":"undefined"==typeof Reflect?o:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?o:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&g&&v?v((new Set)[Symbol.iterator]()):o,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&v?v(""[Symbol.iterator]()):o,"%Symbol%":g?Symbol:o,"%SyntaxError%":l,"%ThrowTypeError%":y,"%TypedArray%":w,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?o:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?o:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?o:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?o:Uint32Array,"%URIError%":d,"%WeakMap%":"undefined"==typeof WeakMap?o:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?o:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?o:WeakSet};if(v)try{null.error}catch(e){var S=v(v(e));_["%Error.prototype%"]=S}var O=function e(t){var r;if("%AsyncFunction%"===t)r=f("async function () {}");else if("%GeneratorFunction%"===t)r=f("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=f("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&v&&(r=v(o.prototype))}return _[t]=r,r},E={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=r(5087),P=r(1805),T=C.call(Function.call,Array.prototype.concat),x=C.call(Function.apply,Array.prototype.splice),j=C.call(Function.call,String.prototype.replace),A=C.call(Function.call,String.prototype.slice),z=C.call(Function.call,RegExp.prototype.exec),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,M=function(e,t){var r,n=e;if(P(E,n)&&(n="%"+(r=E[n])[0]+"%"),P(_,n)){var o=_[n];if(o===k&&(o=O(n)),void 0===o&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===z(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=A(e,0,1),r=A(e,-1);if("%"===t&&"%"!==r)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var n=[];return j(e,I,(function(e,t,r,o){n[n.length]=r?j(o,R,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",o=M("%"+n+"%",t),i=o.name,a=o.value,s=!1,c=o.alias;c&&(n=c[0],x(r,T([0,1],c)));for(var d=1,p=!0;d<r.length;d+=1){var f=r[d],m=A(f,0,1),y=A(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===y||"'"===y||"`"===y)&&m!==y)throw new l("property names with quotes must have matching quotes");if("constructor"!==f&&p||(s=!0),P(_,i="%"+(n+="."+f)+"%"))a=_[i];else if(null!=a){if(!(f in a)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(h&&d+1>=r.length){var g=h(a,f);a=(p=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:a[f]}else p=P(a,f),a=a[f];p&&!s&&(_[i]=a)}}return a}},9851:(e,t)=>{},6861:(e,t,r)=>{"use strict";var n=r(6374)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},4864:e=>{"use strict";var t="undefined"!=typeof BigInt&&BigInt;e.exports=function(){return"function"==typeof t&&"function"==typeof BigInt&&"bigint"==typeof t(42)&&"bigint"==typeof BigInt(42)}},6708:(e,t,r)=>{"use strict";var n=r(5502),o=function(){return!!n};o.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},5493:e=>{"use strict";var t={__proto__:null,foo:{}},r=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof r)}},4163:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o="undefined"!=typeof Symbol&&Symbol,i=r(5153);e.exports=function(){return"function"==typeof o&&"function"==typeof Symbol&&"symbol"===n(o("foo"))&&"symbol"===n(Symbol("bar"))&&i()}},5153:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===t(Symbol.iterator))return!0;var e={},r=Symbol("test"),n=Object(r);if("string"==typeof r)return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(r in e[r]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==r)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,r);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},7626:(e,t,r)=>{"use strict";var n=r(5153);e.exports=function(){return n()&&!!Symbol.toStringTag}},1805:(e,t,r)=>{"use strict";var n=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=r(5087);e.exports=i.call(n,o)},635:(e,t,r)=>{"use strict";var n=r(8487),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return n.isMemo(e)?a:s[e.$$typeof]||o}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(h){var o=f(r);o&&o!==h&&e(t,o,n)}var a=u(r);d&&(a=a.concat(d(r)));for(var s=c(t),m=c(r),y=0;y<a.length;++y){var g=a[y];if(!(i[g]||n&&n[g]||m&&m[g]||s&&s[g])){var b=p(r,g);try{l(t,g,b)}catch(e){}}}}return t}},15:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(1805),i=r(3104)(),a=r(8819),s={assert:function(e,t){if(!e||"object"!==n(e)&&"function"!=typeof e)throw new a("`O` is not an object");if("string"!=typeof t)throw new a("`slot` must be a string");if(i.assert(e),!s.has(e,t))throw new a("`"+t+"` is not present on `O`")},get:function(e,t){if(!e||"object"!==n(e)&&"function"!=typeof e)throw new a("`O` is not an object");if("string"!=typeof t)throw new a("`slot` must be a string");var r=i.get(e);return r&&r["$"+t]},has:function(e,t){if(!e||"object"!==n(e)&&"function"!=typeof e)throw new a("`O` is not an object");if("string"!=typeof t)throw new a("`slot` must be a string");var r=i.get(e);return!!r&&o(r,"$"+t)},set:function(e,t,r){if(!e||"object"!==n(e)&&"function"!=typeof e)throw new a("`O` is not an object");if("string"!=typeof t)throw new a("`slot` must be a string");var o=i.get(e);o||(o={},i.set(e,o)),o["$"+t]=r}};Object.freeze&&Object.freeze(s),e.exports=s},2894:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(7626)(),i=r(8307)("Object.prototype.toString"),a=function(e){return!(o&&e&&"object"===n(e)&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},s=function(e){return!!a(e)||null!==e&&"object"===n(e)&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},c=function(){return a(arguments)}();a.isLegacyArguments=s,e.exports=c?a:s},316:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(4447),i=r(8307),a=r(6374)("%ArrayBuffer%",!0),s=i("ArrayBuffer.prototype.byteLength",!0),c=i("Object.prototype.toString"),l=!!a&&!s&&new a(0).slice,u=!!l&&o(l);e.exports=s||u?function(e){if(!e||"object"!==n(e))return!1;try{return s?s(e):u(e,0),!0}catch(e){return!1}}:a?function(e){return"[object ArrayBuffer]"===c(e)}:function(e){return!1}},9188:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}if(r(4864)()){var o=BigInt.prototype.valueOf;e.exports=function(e){return null!=e&&"boolean"!=typeof e&&"string"!=typeof e&&"number"!=typeof e&&"symbol"!==n(e)&&"function"!=typeof e&&("bigint"==typeof e||function(e){try{return o.call(e),!0}catch(e){}return!1}(e))}}else e.exports=function(e){return!1}},4065:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(8307),i=o("Boolean.prototype.toString"),a=o("Object.prototype.toString"),s=r(7626)();e.exports=function(e){return"boolean"==typeof e||null!==e&&"object"===n(e)&&(s&&Symbol.toStringTag in e?function(e){try{return i(e),!0}catch(e){return!1}}(e):"[object Boolean]"===a(e))}},6111:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r,n,o=Function.prototype.toString,i="object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},i((function(){throw 42}),null,r)}catch(e){e!==n&&(i=null)}else i=null;var a=/^\s*class\b/,s=function(e){try{var t=o.call(e);return a.test(t)}catch(e){return!1}},c=function(e){try{return!s(e)&&(o.call(e),!0)}catch(e){return!1}},l=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,d=!(0 in[,]),p=function(){return!1};if("object"===("undefined"==typeof document?"undefined":t(document))){var f=document.all;l.call(f)===l.call(document.all)&&(p=function(e){if((d||!e)&&(void 0===e||"object"===t(e)))try{var r=l.call(e);return("[object HTMLAllCollection]"===r||"[object HTML document.all class]"===r||"[object HTMLCollection]"===r||"[object Object]"===r)&&null==e("")}catch(e){}return!1})}e.exports=i?function(e){if(p(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!==t(e))return!1;try{i(e,null,r)}catch(e){if(e!==n)return!1}return!s(e)&&c(e)}:function(e){if(p(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!==t(e))return!1;if(u)return c(e);if(s(e))return!1;var r=l.call(e);return!("[object Function]"!==r&&"[object GeneratorFunction]"!==r&&!/^\[object HTML/.test(r))&&c(e)}},8321:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=Date.prototype.getDay,i=Object.prototype.toString,a=r(7626)();e.exports=function(e){return"object"===n(e)&&null!==e&&(a?function(e){try{return o.call(e),!0}catch(e){return!1}}(e):"[object Date]"===i.call(e))}},3390:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r,n="function"==typeof Map&&Map.prototype?Map:null,o="function"==typeof Set&&Set.prototype?Set:null;n||(r=function(e){return!1});var i=n?Map.prototype.has:null,a=o?Set.prototype.has:null;r||i||(r=function(e){return!1}),e.exports=r||function(e){if(!e||"object"!==t(e))return!1;try{if(i.call(e),a)try{a.call(e)}catch(e){return!0}return e instanceof n}catch(e){}return!1}},5103:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=Number.prototype.toString,i=Object.prototype.toString,a=r(7626)();e.exports=function(e){return"number"==typeof e||"object"===n(e)&&(a?function(e){try{return o.call(e),!0}catch(e){return!1}}(e):"[object Number]"===i.call(e))}},993:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o,i,a,s,c=r(8307),l=r(7626)();if(l){o=c("Object.prototype.hasOwnProperty"),i=c("RegExp.prototype.exec"),a={};var u=function(){throw a};s={toString:u,valueOf:u},"symbol"===n(Symbol.toPrimitive)&&(s[Symbol.toPrimitive]=u)}var d=c("Object.prototype.toString"),p=Object.getOwnPropertyDescriptor;e.exports=l?function(e){if(!e||"object"!==n(e))return!1;var t=p(e,"lastIndex");if(!t||!o(t,"value"))return!1;try{i(e,s)}catch(e){return e===a}}:function(e){return!(!e||"object"!==n(e)&&"function"!=typeof e)&&"[object RegExp]"===d(e)}},3078:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r,n="function"==typeof Map&&Map.prototype?Map:null,o="function"==typeof Set&&Set.prototype?Set:null;o||(r=function(e){return!1});var i=n?Map.prototype.has:null,a=o?Set.prototype.has:null;r||a||(r=function(e){return!1}),e.exports=r||function(e){if(!e||"object"!==t(e))return!1;try{if(a.call(e),i)try{i.call(e)}catch(e){return!0}return e instanceof o}catch(e){}return!1}},7383:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(8307)("SharedArrayBuffer.prototype.byteLength",!0);e.exports=o?function(e){if(!e||"object"!==n(e))return!1;try{return o(e),!0}catch(e){return!1}}:function(e){return!1}},3379:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=String.prototype.valueOf,i=Object.prototype.toString,a=r(7626)();e.exports=function(e){return"string"==typeof e||"object"===n(e)&&(a?function(e){try{return o.call(e),!0}catch(e){return!1}}(e):"[object String]"===i.call(e))}},2278:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=Object.prototype.toString;if(r(4163)()){var i=Symbol.prototype.toString,a=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"===n(e))return!0;if("[object Symbol]"!==o.call(e))return!1;try{return function(e){return"symbol"===n(e.valueOf())&&a.test(i.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},8941:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r,n="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,o="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;n||(r=function(e){return!1});var i=n?n.prototype.has:null,a=o?o.prototype.has:null;r||i||(r=function(e){return!1}),e.exports=r||function(e){if(!e||"object"!==t(e))return!1;try{if(i.call(e,i),a)try{a.call(e,a)}catch(e){return!0}return e instanceof n}catch(e){}return!1}},6526:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(6374),i=r(8307),a=o("%WeakSet%",!0),s=i("WeakSet.prototype.has",!0);if(s){var c=i("WeakMap.prototype.has",!0);e.exports=function(e){if(!e||"object"!==n(e))return!1;try{if(s(e,s),c)try{c(e,c)}catch(e){return!0}return e instanceof a}catch(e){}return!1}}else e.exports=function(e){return!1}},6820:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},235:function(e,t,r){var n,o;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}!function(){"use strict";n=function(){var e=function(){},t="undefined",r=("undefined"==typeof window?"undefined":i(window))!==t&&i(window.navigator)!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"],o={},a=null;function s(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(){for(var r=this.getLevel(),o=0;o<n.length;o++){var a=n[o];this[a]=o<r?e:this.methodFactory(a,r,this.name)}if(this.log=this.debug,("undefined"==typeof console?"undefined":i(console))===t&&r<this.levels.SILENT)return"No console available for logging"}function u(e){return function(){("undefined"==typeof console?"undefined":i(console))!==t&&(l.call(this),this[e].apply(this,arguments))}}function d(n,o,a){return function(n){return"debug"===n&&(n="log"),("undefined"==typeof console?"undefined":i(console))!==t&&("trace"===n&&r?c:void 0!==console[n]?s(console,n):void 0!==console.log?s(console,"log"):e)}(n)||u.apply(this,arguments)}function p(e,r){var s,c,u,p=this,f="loglevel";function h(){var e;if(("undefined"==typeof window?"undefined":i(window))!==t&&f){try{e=window.localStorage[f]}catch(e){}if(i(e)===t)try{var r=window.document.cookie,n=encodeURIComponent(f),o=r.indexOf(n+"=");-1!==o&&(e=/^([^;]+)/.exec(r.slice(o+n.length+1))[1])}catch(e){}return void 0===p.levels[e]&&(e=void 0),e}}function m(e){var t=e;if("string"==typeof t&&void 0!==p.levels[t.toUpperCase()]&&(t=p.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=p.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?f+=":"+e:"symbol"===i(e)&&(f=void 0),p.name=e,p.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},p.methodFactory=r||d,p.getLevel=function(){return null!=u?u:null!=c?c:s},p.setLevel=function(e,r){return u=m(e),!1!==r&&function(e){var r=(n[e]||"silent").toUpperCase();if(("undefined"==typeof window?"undefined":i(window))!==t&&f){try{return void(window.localStorage[f]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"="+r+";"}catch(e){}}}(u),l.call(p)},p.setDefaultLevel=function(e){c=m(e),h()||p.setLevel(e,!1)},p.resetLevel=function(){u=null,function(){if(("undefined"==typeof window?"undefined":i(window))!==t&&f){try{window.localStorage.removeItem(f)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}(),l.call(p)},p.enableAll=function(e){p.setLevel(p.levels.TRACE,e)},p.disableAll=function(e){p.setLevel(p.levels.SILENT,e)},p.rebuild=function(){if(a!==p&&(s=m(a.getLevel())),l.call(p),a===p)for(var e in o)o[e].rebuild()},s=m(a?a.getLevel():"WARN");var y=h();null!=y&&(u=m(y)),l.call(p)}(a=new p).getLogger=function(e){if("symbol"!==i(e)&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=o[e];return t||(t=o[e]=new p(e,a.methodFactory)),t};var f=("undefined"==typeof window?"undefined":i(window))!==t?window.log:void 0;return a.noConflict=function(){return("undefined"==typeof window?"undefined":i(window))!==t&&window.log===a&&(window.log=f),a},a.getLoggers=function(){return o},a.default=a,a},void 0===(o=n.call(t,r,t,e))||(e.exports=o)}()},6307:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=o&&i&&"function"==typeof i.get?i.get:null,s=o&&Map.prototype.forEach,c="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&c?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=c&&l&&"function"==typeof l.get?l.get:null,d=c&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,y=Object.prototype.toString,g=Function.prototype.toString,b=String.prototype.match,v=String.prototype.slice,k=String.prototype.replace,w=String.prototype.toUpperCase,_=String.prototype.toLowerCase,S=RegExp.prototype.test,O=Array.prototype.concat,E=Array.prototype.join,C=Array.prototype.slice,P=Math.floor,T="function"==typeof BigInt?BigInt.prototype.valueOf:null,x=Object.getOwnPropertySymbols,j="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?Symbol.prototype.toString:null,A="function"==typeof Symbol&&"object"===n(Symbol.iterator),z="function"==typeof Symbol&&Symbol.toStringTag&&(n(Symbol.toStringTag),1)?Symbol.toStringTag:null,I=Object.prototype.propertyIsEnumerable,R=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function M(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-P(-e):P(e);if(n!==e){var o=String(n),i=v.call(t,o.length+1);return k.call(o,r,"$&_")+"."+k.call(k.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return k.call(t,r,"$&_")}var D=r(150),N=D.custom,L=V(N)?N:null,U={__proto__:null,double:'"',single:"'"},B={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function F(e,t,r){var n=r.quoteStyle||t,o=U[n];return o+e+o}function q(e){return k.call(String(e),/"/g,"&quot;")}function W(e){return!("[object Array]"!==K(e)||z&&"object"===n(e)&&z in e)}function H(e){return!("[object RegExp]"!==K(e)||z&&"object"===n(e)&&z in e)}function V(e){if(A)return e&&"object"===n(e)&&e instanceof Symbol;if("symbol"===n(e))return!0;if(!e||"object"!==n(e)||!j)return!1;try{return j.call(e),!0}catch(e){}return!1}e.exports=function e(t,o,i,c){var l=o||{};if(G(l,"quoteStyle")&&!G(U,l.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(G(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var y=!G(l,"customInspect")||l.customInspect;if("boolean"!=typeof y&&"symbol"!==y)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(G(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(G(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var w=l.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return X(t,l);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var S=String(t);return w?M(t,S):S}if("bigint"==typeof t){var P=String(t)+"n";return w?M(t,P):P}var x=void 0===l.depth?5:l.depth;if(void 0===i&&(i=0),i>=x&&x>0&&"object"===n(t))return W(t)?"[Array]":"[Object]";var N,B=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=E.call(Array(e.indent+1)," ")}return{base:r,prev:E.call(Array(t+1),r)}}(l,i);if(void 0===c)c=[];else if($(c,t)>=0)return"[Circular]";function J(t,r,n){if(r&&(c=C.call(c)).push(r),n){var o={depth:l.depth};return G(l,"quoteStyle")&&(o.quoteStyle=l.quoteStyle),e(t,o,i+1,c)}return e(t,l,i+1,c)}if("function"==typeof t&&!H(t)){var Y=function(e){if(e.name)return e.name;var t=b.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),ne=re(t,J);return"[Function"+(Y?": "+Y:" (anonymous)")+"]"+(ne.length>0?" { "+E.call(ne,", ")+" }":"")}if(V(t)){var oe=A?k.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):j.call(t);return"object"!==n(t)||A?oe:Q(oe)}if((N=t)&&"object"===n(N)&&("undefined"!=typeof HTMLElement&&N instanceof HTMLElement||"string"==typeof N.nodeName&&"function"==typeof N.getAttribute)){for(var ie="<"+_.call(String(t.nodeName)),ae=t.attributes||[],se=0;se<ae.length;se++)ie+=" "+ae[se].name+"="+F(q(ae[se].value),"double",l);return ie+=">",t.childNodes&&t.childNodes.length&&(ie+="..."),ie+"</"+_.call(String(t.nodeName))+">"}if(W(t)){if(0===t.length)return"[]";var ce=re(t,J);return B&&!function(e){for(var t=0;t<e.length;t++)if($(e[t],"\n")>=0)return!1;return!0}(ce)?"["+te(ce,B)+"]":"[ "+E.call(ce,", ")+" ]"}if(function(e){return!("[object Error]"!==K(e)||z&&"object"===n(e)&&z in e)}(t)){var le=re(t,J);return"cause"in Error.prototype||!("cause"in t)||I.call(t,"cause")?0===le.length?"["+String(t)+"]":"{ ["+String(t)+"] "+E.call(le,", ")+" }":"{ ["+String(t)+"] "+E.call(O.call("[cause]: "+J(t.cause),le),", ")+" }"}if("object"===n(t)&&y){if(L&&"function"==typeof t[L]&&D)return D(t,{depth:x-i});if("symbol"!==y&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!a||!e||"object"!==n(e))return!1;try{a.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ue=[];return s&&s.call(t,(function(e,r){ue.push(J(r,t,!0)+" => "+J(e,t))})),ee("Map",a.call(t),ue,B)}if(function(e){if(!u||!e||"object"!==n(e))return!1;try{u.call(e);try{a.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var de=[];return d&&d.call(t,(function(e){de.push(J(e,t))})),ee("Set",u.call(t),de,B)}if(function(e){if(!p||!e||"object"!==n(e))return!1;try{p.call(e,p);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return Z("WeakMap");if(function(e){if(!f||!e||"object"!==n(e))return!1;try{f.call(e,f);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return Z("WeakSet");if(function(e){if(!h||!e||"object"!==n(e))return!1;try{return h.call(e),!0}catch(e){}return!1}(t))return Z("WeakRef");if(function(e){return!("[object Number]"!==K(e)||z&&"object"===n(e)&&z in e)}(t))return Q(J(Number(t)));if(function(e){if(!e||"object"!==n(e)||!T)return!1;try{return T.call(e),!0}catch(e){}return!1}(t))return Q(J(T.call(t)));if(function(e){return!("[object Boolean]"!==K(e)||z&&"object"===n(e)&&z in e)}(t))return Q(m.call(t));if(function(e){return!("[object String]"!==K(e)||z&&"object"===n(e)&&z in e)}(t))return Q(J(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||void 0!==r.g&&t===r.g)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==K(e)||z&&"object"===n(e)&&z in e)}(t)&&!H(t)){var pe=re(t,J),fe=R?R(t)===Object.prototype:t instanceof Object||t.constructor===Object,he=t instanceof Object?"":"null prototype",me=!fe&&z&&Object(t)===t&&z in t?v.call(K(t),8,-1):he?"Object":"",ye=(fe||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(me||he?"["+E.call(O.call([],me||[],he||[]),": ")+"] ":"");return 0===pe.length?ye+"{}":B?ye+"{"+te(pe,B)+"}":ye+"{ "+E.call(pe,", ")+" }"}return String(t)};var J=Object.prototype.hasOwnProperty||function(e){return e in this};function G(e,t){return J.call(e,t)}function K(e){return y.call(e)}function $(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function X(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return X(v.call(e,0,t.maxStringLength),t)+n}var o=B[t.quoteStyle||"single"];return o.lastIndex=0,F(k.call(k.call(e,o,"\\$1"),/[\x00-\x1f]/g,Y),"single",t)}function Y(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+w.call(t.toString(16))}function Q(e){return"Object("+e+")"}function Z(e){return e+" { ? }"}function ee(e,t,r,n){return e+" ("+t+") {"+(n?te(r,n):E.call(r,", "))+"}"}function te(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+E.call(e,","+r)+"\n"+t.prev}function re(e,t){var r=W(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=G(e,o)?t(e[o],e):""}var i,a="function"==typeof x?x(e):[];if(A){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var c in e)G(e,c)&&(r&&String(Number(c))===c&&c<e.length||A&&i["$"+c]instanceof Symbol||(S.call(/[^\w$]/,c)?n.push(t(c,e)+": "+t(e[c],e)):n.push(c+": "+t(e[c],e))));if("function"==typeof x)for(var l=0;l<a.length;l++)I.call(e,a[l])&&n.push("["+t(a[l])+"]: "+t(e[a[l]],e));return n}},8473:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,r){return 0===e&&0===r?1/e==1/r:e===r||!(!t(e)||!t(r))}},7239:(e,t,r)=>{"use strict";var n=r(6541),o=r(4447),i=r(8473),a=r(8028),s=r(5158),c=o(a(),Object);n(c,{getPolyfill:a,implementation:i,shim:s}),e.exports=c},8028:(e,t,r)=>{"use strict";var n=r(8473);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},5158:(e,t,r)=>{"use strict";var n=r(8028),o=r(6541);e.exports=function(){var e=n();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},4344:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o;if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=r(9376),c=Object.prototype.propertyIsEnumerable,l=!c.call({toString:null},"toString"),u=c.call((function(){}),"prototype"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===n(window[e]))try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();o=function(e){var t=null!==e&&"object"===n(e),r="[object Function]"===a.call(e),o=s(e),c=t&&"[object String]"===a.call(e),f=[];if(!t&&!r&&!o)throw new TypeError("Object.keys called on a non-object");var m=u&&r;if(c&&e.length>0&&!i.call(e,0))for(var y=0;y<e.length;++y)f.push(String(y));if(o&&e.length>0)for(var g=0;g<e.length;++g)f.push(String(g));else for(var b in e)m&&"prototype"===b||!i.call(e,b)||f.push(String(b));if(l)for(var v=function(e){if("undefined"==typeof window||!h)return p(e);try{return p(e)}catch(e){return!1}}(e),k=0;k<d.length;++k)v&&"constructor"===d[k]||!i.call(e,d[k])||f.push(d[k]);return f}}e.exports=o},2148:(e,t,r)=>{"use strict";var n=Array.prototype.slice,o=r(9376),i=Object.keys,a=i?function(e){return i(e)}:r(4344),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?s(n.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},9376:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r=Object.prototype.toString;e.exports=function(e){var n=r.call(e),o="[object Arguments]"===n;return o||(o="[object Array]"!==n&&null!==e&&"object"===t(e)&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),o}},1135:(e,t,r)=>{"use strict";var n=r(2148),o=r(5153)(),i=r(8307),a=Object,s=i("Array.prototype.push"),c=i("Object.prototype.propertyIsEnumerable"),l=o?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(null==e)throw new TypeError("target must be an object");var r=a(e);if(1===arguments.length)return r;for(var i=1;i<arguments.length;++i){var u=a(arguments[i]),d=n(u),p=o&&(Object.getOwnPropertySymbols||l);if(p)for(var f=p(u),h=0;h<f.length;++h){var m=f[h];c(u,m)&&s(d,m)}for(var y=0;y<d.length;++y){var g=d[y];if(c(u,g)){var b=u[g];r[g]=b}}}return r}},5353:(e,t,r)=>{"use strict";var n=r(6541),o=r(4447),i=r(1135),a=r(782),s=r(4396),c=o.apply(a()),l=function(e,t){return c(Object,arguments)};n(l,{getPolyfill:a,implementation:i,shim:s}),e.exports=l},782:(e,t,r)=>{"use strict";var n=r(1135);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var o=Object.assign({},r),i="";for(var a in o)i+=a;return e!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?n:Object.assign:n}},4396:(e,t,r)=>{"use strict";var n=r(6541),o=r(782);e.exports=function(){var e=o();return n(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},8974:e=>{"use strict";e.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},3747:(e,t)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,c=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,b=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===r(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case p:case a:case c:case s:case h:return e;default:switch(e=e&&e.$$typeof){case u:case f:case g:case y:case l:return e;default:return t}}case i:return t}}}function S(e){return _(e)===p}t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=l,t.Element=o,t.ForwardRef=f,t.Fragment=a,t.Lazy=g,t.Memo=y,t.Portal=i,t.Profiler=c,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return S(e)||_(e)===d},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===u},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===r(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return _(e)===f},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===y},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===c},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===c||e===s||e===h||e===m||"object"===r(e)&&null!==e&&(e.$$typeof===g||e.$$typeof===y||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===v||e.$$typeof===k||e.$$typeof===w||e.$$typeof===b)},t.typeOf=_},8487:(e,t,r)=>{"use strict";e.exports=r(3747)},7928:(e,t)=>{"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context");var r=Symbol.for("react.forward_ref"),n=(Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"));Symbol.for("react.lazy"),Symbol.for("react.offscreen");Symbol.for("react.module.reference"),t.ForwardRef=r,t.Memo=n},9572:(e,t,r)=>{"use strict";e.exports=r(7928)},3483:function(e,t,r){var n,o,i,a;function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}e=r.nmd(e),a=function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(31);var n=function(e){return e&&e.__esModule?e:{default:e}}(r(13));t.default=n.default},function(t,r){t.exports=e},function(e,t,r){e.exports=r(19)()},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]="number"==typeof e[r]?e[r]:e[r].val);return t},e.exports=t.default},function(e,t,r){(function(t){(function(){var r,n,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(r()-o)/1e6},n=t.hrtime,r=function(){var e;return 1e9*(e=n())[0]+e[1]},o=r()):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(t,r(10))},function(e,t,r){(function(t){for(var n=r(23),o="undefined"==typeof window?t:window,i=["moz","webkit"],a="AnimationFrame",s=o["request"+a],c=o["cancel"+a]||o["cancelRequest"+a],l=0;!s&&l<i.length;l++)s=o[i[l]+"Request"+a],c=o[i[l]+"Cancel"+a]||o[i[l]+"CancelRequest"+a];if(!s||!c){var u=0,d=0,p=[],f=1e3/60;s=function(e){if(0===p.length){var t=n(),r=Math.max(0,f-(t-u));u=r+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=function(){if(!e[r].cancelled)try{e[r].callback(u)}catch(e){setTimeout((function(){throw e}),0)}},r=0;r<e.length;r++)t()}),Math.round(r))}return p.push({handle:++d,callback:e,cancelled:!1}),d},c=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){c.apply(o,arguments)},e.exports.polyfill=function(e){e||(e=o),e.requestAnimationFrame=s,e.cancelAnimationFrame=c}}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=0);return t},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,r){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0!==r[n])return!1;var o="number"==typeof t[n]?t[n]:t[n].val;if(e[n]!==o)return!1}return!0},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,n,o,i,a,s){var c=n+(-i*(t-o)+-a*n)*e,l=t+c*e;return Math.abs(c)<s&&Math.abs(l-o)<s?(r[0]=o,r[1]=0,r):(r[0]=l,r[1]=c,r)};var r=[0,0];e.exports=t.default},function(e,t,r){"use strict";function n(e){var t=e.version;if("string"!=typeof t)return!0;var r=t.split("."),n=parseInt(r[0],10),o=parseInt(r[1],10);return 0===n&&13===o}Object.defineProperty(t,"__esModule",{value:!0}),t.findDOMNode=function(e){return i?o.default.findDOMNode(e):e},t.warnAboutFunctionChild=function(){a||i||(a=!0,console.error("With React 0.14 and later versions, you no longer need to wrap <ScrollArea> child into a function."))},t.warnAboutElementChild=function(){!a&&i&&(a=!0,console.error("With React 0.13, you need to wrap <ScrollArea> child into a function."))},t.positiveOrZero=function(e){return e<0?0:e},t.modifyObjValues=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=t(e[n]));return r},t.isReact13=n;var o=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),i=n(o.default),a=!1},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(){h&&p&&(h=!1,p.length?f=p.concat(f):m=-1,f.length&&a())}function a(){if(!h){var e=o(i);h=!0;for(var t=f.length;t;){for(p=f,f=[];++m<t;)p&&p[m].run();m=-1,t=f.length}p=null,h=!1,function(e){if(u===clearTimeout)return clearTimeout(e);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var l,u,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(e){u=n}}();var p,f=[],h=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];f.push(new s(e,t)),1!==f.length||h||o(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var o=r(24);t.Motion=n(o);var i=r(25);t.StaggeredMotion=n(i);var a=r(26);t.TransitionMotion=n(a);var s=r(29);t.spring=n(s);var c=r(11);t.presets=n(c);var l=r(3);t.stripStyle=n(l);var u=r(28);t.reorderKeys=n(u)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=n(r(1)),l=n(r(2)),u=n(r(18)),d=r(12),p=r(9),f=n(r(14)),h="wheel",m="api",y="touchEnd",g="keypress",b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=s(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={topPosition:0,leftPosition:0,realHeight:0,containerHeight:0,realWidth:0,containerWidth:0},r.scrollArea={refresh:function(){r.setSizesToState()},scrollTop:function(){r.scrollTop()},scrollBottom:function(){r.scrollBottom()},scrollYTo:function(e){r.scrollYTo(e)},scrollLeft:function(){r.scrollLeft()},scrollRight:function(){r.scrollRight()},scrollXTo:function(e){r.scrollXTo(e)}},r.evntsPreviousValues={clientX:0,clientY:0,deltaX:0,deltaY:0},r.bindedHandleWindowResize=r.handleWindowResize.bind(r),r.bindedHandleWheel=r.handleWheel.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+s(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"getChildContext",value:function(){return{scrollArea:this.scrollArea}}},{key:"componentDidMount",value:function(){this.props.contentWindow&&this.props.contentWindow.addEventListener("resize",this.bindedHandleWindowResize),this.lineHeightPx=(0,u.default)((0,p.findDOMNode)(this.content)),this.setSizesToState(),this.wrapper.addEventListener("wheel",this.bindedHandleWheel,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.props.contentWindow&&this.props.contentWindow.removeEventListener("resize",this.bindedHandleWindowResize),this.wrapper.removeEventListener("wheel",this.bindedHandleWheel)}},{key:"componentDidUpdate",value:function(){this.setSizesToState()}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=t.className,o=t.contentClassName,a=t.ownerDocument,s=this.props.smoothScrolling&&(this.state.eventType===h||this.state.eventType===m||this.state.eventType===y||this.state.eventType===g),l=this.canScrollY()?c.default.createElement(f.default,{ownerDocument:a,realSize:this.state.realHeight,containerSize:this.state.containerHeight,position:this.state.topPosition,onMove:this.handleScrollbarMove.bind(this),onPositionChange:this.handleScrollbarYPositionChange.bind(this),containerStyle:this.props.verticalContainerStyle,scrollbarStyle:this.props.verticalScrollbarStyle,smoothScrolling:s,minScrollSize:this.props.minScrollSize,onFocus:this.focusContent.bind(this),type:"vertical"}):null,u=this.canScrollX()?c.default.createElement(f.default,{ownerDocument:a,realSize:this.state.realWidth,containerSize:this.state.containerWidth,position:this.state.leftPosition,onMove:this.handleScrollbarMove.bind(this),onPositionChange:this.handleScrollbarXPositionChange.bind(this),containerStyle:this.props.horizontalContainerStyle,scrollbarStyle:this.props.horizontalScrollbarStyle,smoothScrolling:s,minScrollSize:this.props.minScrollSize,onFocus:this.focusContent.bind(this),type:"horizontal"}):null;"function"==typeof r?((0,p.warnAboutFunctionChild)(),r=r()):(0,p.warnAboutElementChild)();var b="scrollarea "+(n||""),v="scrollarea-content "+(o||""),k={marginTop:-this.state.topPosition,marginLeft:-this.state.leftPosition},w=s?(0,p.modifyObjValues)(k,(function(e){return(0,d.spring)(e)})):k;return c.default.createElement(d.Motion,{style:w},(function(t){return c.default.createElement("div",{ref:function(t){return e.wrapper=t},className:b,style:e.props.style},c.default.createElement("div",{ref:function(t){return e.content=t},style:i({},e.props.contentStyle,t),className:v,onTouchStart:e.handleTouchStart.bind(e),onTouchMove:e.handleTouchMove.bind(e),onTouchEnd:e.handleTouchEnd.bind(e),onKeyDown:e.handleKeyDown.bind(e),tabIndex:e.props.focusableTabIndex},r),l,u)}))}},{key:"setStateFromEvent",value:function(e,t){this.props.onScroll&&this.props.onScroll(e),this.setState(i({},e,{eventType:t}))}},{key:"handleTouchStart",value:function(e){var t=e.touches;if(1===t.length){var r=t[0],n=r.clientX,o=r.clientY;this.eventPreviousValues=i({},this.eventPreviousValues,{clientY:o,clientX:n,timestamp:Date.now()})}}},{key:"handleTouchMove",value:function(e){this.canScroll()&&(e.preventDefault(),e.stopPropagation());var t=e.touches;if(1===t.length){var r=t[0],n=r.clientX,o=r.clientY,a=this.eventPreviousValues.clientY-o,s=this.eventPreviousValues.clientX-n;this.eventPreviousValues=i({},this.eventPreviousValues,{deltaY:a,deltaX:s,clientY:o,clientX:n,timestamp:Date.now()}),this.setStateFromEvent(this.composeNewState(-s,-a))}}},{key:"handleTouchEnd",value:function(e){var t=this.eventPreviousValues,r=t.deltaX,n=t.deltaY,o=t.timestamp;void 0===r&&(r=0),void 0===n&&(n=0),Date.now()-o<200&&this.setStateFromEvent(this.composeNewState(10*-r,10*-n),y),this.eventPreviousValues=i({},this.eventPreviousValues,{deltaY:0,deltaX:0})}},{key:"handleScrollbarMove",value:function(e,t){this.setStateFromEvent(this.composeNewState(t,e))}},{key:"handleScrollbarXPositionChange",value:function(e){this.scrollXTo(e)}},{key:"handleScrollbarYPositionChange",value:function(e){this.scrollYTo(e)}},{key:"handleWheel",value:function(e){var t=e.deltaY,r=e.deltaX;if(this.props.swapWheelAxes){var n=[r,t];t=n[0],r=n[1]}1===e.deltaMode&&(t*=this.lineHeightPx,r*=this.lineHeightPx),t*=this.props.speed,r*=this.props.speed;var o=this.composeNewState(-r,-t);(o.topPosition&&this.state.topPosition!==o.topPosition||o.leftPosition&&this.state.leftPosition!==o.leftPosition||this.props.stopScrollPropagation)&&(e.preventDefault(),e.stopPropagation()),this.setStateFromEvent(o,h),this.focusContent()}},{key:"handleKeyDown",value:function(e){if("input"!==e.target.tagName.toLowerCase()&&"textarea"!==e.target.tagName.toLowerCase()&&!e.target.isContentEditable){var t=0,r=0,n=this.lineHeightPx?this.lineHeightPx:10;switch(e.keyCode){case 33:t=this.state.containerHeight-n;break;case 34:t=-this.state.containerHeight+n;break;case 37:r=n;break;case 38:t=n;break;case 39:r=-n;break;case 40:t=-n}if(0!==t||0!==r){var o=this.composeNewState(r,t);e.preventDefault(),e.stopPropagation(),this.setStateFromEvent(o,g)}}}},{key:"handleWindowResize",value:function(){var e=this.computeSizes();e=this.getModifiedPositionsIfNeeded(e),this.setStateFromEvent(e)}},{key:"composeNewState",value:function(e,t){var r=this.computeSizes();return this.canScrollY(r)?r.topPosition=this.computeTopPosition(t,r):r.topPosition=0,this.canScrollX(r)&&(r.leftPosition=this.computeLeftPosition(e,r)),r}},{key:"computeTopPosition",value:function(e,t){var r=this.state.topPosition-e;return this.normalizeTopPosition(r,t)}},{key:"computeLeftPosition",value:function(e,t){var r=this.state.leftPosition-e;return this.normalizeLeftPosition(r,t)}},{key:"normalizeTopPosition",value:function(e,t){return e>t.realHeight-t.containerHeight&&(e=t.realHeight-t.containerHeight),e<0&&(e=0),e}},{key:"normalizeLeftPosition",value:function(e,t){return e>t.realWidth-t.containerWidth?e=t.realWidth-t.containerWidth:e<0&&(e=0),e}},{key:"computeSizes",value:function(){return{realHeight:this.content.offsetHeight,containerHeight:this.wrapper.offsetHeight,realWidth:this.content.offsetWidth,containerWidth:this.wrapper.offsetWidth}}},{key:"setSizesToState",value:function(){var e=this.computeSizes();e.realHeight===this.state.realHeight&&e.realWidth===this.state.realWidth||this.setStateFromEvent(this.getModifiedPositionsIfNeeded(e))}},{key:"scrollTop",value:function(){this.scrollYTo(0)}},{key:"scrollBottom",value:function(){this.scrollYTo(this.state.realHeight-this.state.containerHeight)}},{key:"scrollLeft",value:function(){this.scrollXTo(0)}},{key:"scrollRight",value:function(){this.scrollXTo(this.state.realWidth-this.state.containerWidth)}},{key:"scrollYTo",value:function(e){if(this.canScrollY()){var t=this.normalizeTopPosition(e,this.computeSizes());this.setStateFromEvent({topPosition:t},m)}}},{key:"scrollXTo",value:function(e){if(this.canScrollX()){var t=this.normalizeLeftPosition(e,this.computeSizes());this.setStateFromEvent({leftPosition:t},m)}}},{key:"canScrollY",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return e.realHeight>e.containerHeight&&this.props.vertical}},{key:"canScrollX",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return e.realWidth>e.containerWidth&&this.props.horizontal}},{key:"canScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return this.canScrollY(e)||this.canScrollX(e)}},{key:"getModifiedPositionsIfNeeded",value:function(e){var t=e.realHeight-e.containerHeight;this.state.topPosition>=t&&(e.topPosition=this.canScrollY(e)?(0,p.positiveOrZero)(t):0);var r=e.realWidth-e.containerWidth;return this.state.leftPosition>=r&&(e.leftPosition=this.canScrollX(e)?(0,p.positiveOrZero)(r):0),e}},{key:"focusContent",value:function(){this.content&&(0,p.findDOMNode)(this.content).focus()}}]),t}(c.default.Component);t.default=b,b.childContextTypes={scrollArea:l.default.object},b.propTypes={className:l.default.string,style:l.default.object,speed:l.default.number,contentClassName:l.default.string,contentStyle:l.default.object,vertical:l.default.bool,verticalContainerStyle:l.default.object,verticalScrollbarStyle:l.default.object,horizontal:l.default.bool,horizontalContainerStyle:l.default.object,horizontalScrollbarStyle:l.default.object,onScroll:l.default.func,contentWindow:l.default.any,ownerDocument:l.default.any,smoothScrolling:l.default.bool,minScrollSize:l.default.number,swapWheelAxes:l.default.bool,stopScrollPropagation:l.default.bool,focusableTabIndex:l.default.number},b.defaultProps={speed:1,vertical:!0,horizontal:!0,smoothScrolling:!1,swapWheelAxes:!1,contentWindow:"object"===("undefined"==typeof window?"undefined":o(window))?window:void 0,ownerDocument:"object"===("undefined"==typeof document?"undefined":o(document))?document:void 0,focusableTabIndex:1}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=n(r(1)),c=n(r(2)),l=r(12),u=r(9),d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=s(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=r.calculateState(e);return r.state={position:n.position,scrollSize:n.scrollSize,isDragging:!1,lastClientPosition:0},"vertical"===e.type?r.bindedHandleMouseMove=r.handleMouseMoveForVertical.bind(r):r.bindedHandleMouseMove=r.handleMouseMoveForHorizontal.bind(r),r.bindedHandleMouseUp=r.handleMouseUp.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+s(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.ownerDocument&&(this.props.ownerDocument.addEventListener("mousemove",this.bindedHandleMouseMove),this.props.ownerDocument.addEventListener("mouseup",this.bindedHandleMouseUp))}},{key:"componentWillReceiveProps",value:function(e){this.setState(this.calculateState(e))}},{key:"componentWillUnmount",value:function(){this.props.ownerDocument&&(this.props.ownerDocument.removeEventListener("mousemove",this.bindedHandleMouseMove),this.props.ownerDocument.removeEventListener("mouseup",this.bindedHandleMouseUp))}},{key:"calculateFractionalPosition",value:function(e,t,r){var n=e-t;return 1-(n-r)/n}},{key:"calculateState",value:function(e){var t=this.calculateFractionalPosition(e.realSize,e.containerSize,e.position),r=e.containerSize*e.containerSize/e.realSize,n=r<e.minScrollSize?e.minScrollSize:r,o=(e.containerSize-n)*t;return{scrollSize:n,position:Math.round(o)}}},{key:"render",value:function(){var e=this,t=this.props,r=t.smoothScrolling,n=t.isDragging,i=t.type,s=t.scrollbarStyle,c=t.containerStyle,d="horizontal"===i,p="vertical"===i,f=this.createScrollStyles(),h=r?(0,u.modifyObjValues)(f,(function(e){return(0,l.spring)(e)})):f,m="scrollbar-container "+(n?"active":"")+" "+(d?"horizontal":"")+" "+(p?"vertical":"");return a.default.createElement(l.Motion,{style:h},(function(t){return a.default.createElement("div",{className:m,style:c,onMouseDown:e.handleScrollBarContainerClick.bind(e),ref:function(t){return e.scrollbarContainer=t}},a.default.createElement("div",{className:"scrollbar",style:o({},s,t),onMouseDown:e.handleMouseDown.bind(e)}))}))}},{key:"handleScrollBarContainerClick",value:function(e){e.preventDefault();var t=this.computeMultiplier(),r=this.isVertical()?e.clientY:e.clientX,n=this.scrollbarContainer.getBoundingClientRect(),o=n.top,i=n.left,a=r-(this.isVertical()?o:i),s=this.props.containerSize*this.props.containerSize/this.props.realSize;this.setState({isDragging:!0,lastClientPosition:r}),this.props.onPositionChange((a-s/2)/t)}},{key:"handleMouseMoveForHorizontal",value:function(e){var t=this.computeMultiplier();if(this.state.isDragging){e.preventDefault();var r=this.state.lastClientPosition-e.clientX;this.setState({lastClientPosition:e.clientX}),this.props.onMove(0,r/t)}}},{key:"handleMouseMoveForVertical",value:function(e){var t=this.computeMultiplier();if(this.state.isDragging){e.preventDefault();var r=this.state.lastClientPosition-e.clientY;this.setState({lastClientPosition:e.clientY}),this.props.onMove(r/t,0)}}},{key:"handleMouseDown",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.isVertical()?e.clientY:e.clientX;this.setState({isDragging:!0,lastClientPosition:t}),this.props.onFocus()}},{key:"handleMouseUp",value:function(e){this.state.isDragging&&(e.preventDefault(),this.setState({isDragging:!1}))}},{key:"createScrollStyles",value:function(){return"vertical"===this.props.type?{height:this.state.scrollSize,marginTop:this.state.position}:{width:this.state.scrollSize,marginLeft:this.state.position}}},{key:"computeMultiplier",value:function(){return this.props.containerSize/this.props.realSize}},{key:"isVertical",value:function(){return"vertical"===this.props.type}}]),t}(a.default.Component);d.propTypes={onMove:c.default.func,onPositionChange:c.default.func,onFocus:c.default.func,realSize:c.default.number,containerSize:c.default.number,position:c.default.number,containerStyle:c.default.object,scrollbarStyle:c.default.object,type:c.default.oneOf(["vertical","horizontal"]),ownerDocument:c.default.any,smoothScrolling:c.default.bool,minScrollSize:c.default.number},d.defaultProps={type:"vertical",smoothScrolling:!1},t.default=d},function(e,t){e.exports=function(e,t,r){return((r=window.getComputedStyle)?r(e):e.currentStyle)[t.replace(/-(\w)/gi,(function(e,t){return t.toUpperCase()}))]}},function(e,t,r){(e.exports=r(17)()).push([e.id,".scrollarea-content{margin:0;padding:0;overflow:hidden;position:relative;touch-action:none}.scrollarea-content:focus{outline:0}.scrollarea{position:relative;overflow:hidden}.scrollarea .scrollbar-container{position:absolute;background:none;opacity:.1;z-index:99;-webkit-transition:all .4s;transition:all .4s}.scrollarea .scrollbar-container.horizontal{width:100%;height:10px;left:0;bottom:0}.scrollarea .scrollbar-container.horizontal .scrollbar{width:20px;height:8px;background:#000;margin-top:1px}.scrollarea .scrollbar-container.vertical{width:10px;height:100%;right:0;top:0}.scrollarea .scrollbar-container.vertical .scrollbar{width:8px;height:20px;background:#000;margin-left:1px}.scrollarea .scrollbar-container.active,.scrollarea .scrollbar-container:hover{background:gray;opacity:.6!important}.scrollarea:hover .scrollbar-container{opacity:.3}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(n[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),e.push(a))}},e}},function(e,t,r){var n=r(15);e.exports=function(e){var t=n(e,"line-height"),r=parseFloat(t,10);if(t===r+""){var o=e.style.lineHeight;e.style.lineHeight=t+"em",t=n(e,"line-height"),r=parseFloat(t,10),o?e.style.lineHeight=o:delete e.style.lineHeight}if(-1!==t.indexOf("pt")?(r*=4,r/=3):-1!==t.indexOf("mm")?(r*=96,r/=25.4):-1!==t.indexOf("cm")?(r*=96,r/=2.54):-1!==t.indexOf("in")?r*=96:-1!==t.indexOf("pc")&&(r*=16),r=Math.round(r),"normal"===t){var i=e.nodeName,a=document.createElement(i);a.innerHTML="&nbsp;";var s=n(e,"font-size");a.style.fontSize=s;var c=document.body;c.appendChild(a),r=a.offsetHeight,c.removeChild(a)}return r}},function(e,t,r){"use strict";var n=r(21),o=r(22),i=r(20);e.exports=function(){function e(e,t,r,n,a,s){s!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=n,r.PropTypes=r,r}},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){"use strict";function r(e){return function(){return e}}var n=function(){};n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o,i,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,n,o,i,a,s],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,r){(function(t){(function(){var r,n,o,i,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(r()-a)/1e6},n=t.hrtime,r=function(){var e;return 1e9*(e=n())[0]+e[1]},i=r(),s=1e9*t.uptime(),a=i-s):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(t,r(10))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=n(r(6)),c=n(r(3)),l=n(r(8)),u=n(r(4)),d=n(r(5)),p=n(r(7)),f=n(r(1)),h=n(r(2)),m=1e3/60,y=function(e){function t(r){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),e.call(this,r),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,r=n.state,i=r.currentStyle,a=r.currentVelocity,s=r.lastIdealStyle,c=r.lastIdealVelocity;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var u=e[l];"number"==typeof u&&(t||(t=!0,i=o({},i),a=o({},a),s=o({},s),c=o({},c)),i[l]=u,a[l]=0,s[l]=u,c[l]=0)}t&&n.setState({currentStyle:i,currentVelocity:a,lastIdealStyle:s,lastIdealVelocity:c})},this.startAnimationIfNecessary=function(){n.animationID=d.default((function(e){var t=n.props.style;if(p.default(n.state.currentStyle,t,n.state.currentVelocity))return n.wasAnimating&&n.props.onRest&&n.props.onRest(),n.animationID=null,n.wasAnimating=!1,void(n.accumulatedTime=0);n.wasAnimating=!0;var r=e||u.default(),o=r-n.prevTime;if(n.prevTime=r,n.accumulatedTime=n.accumulatedTime+o,n.accumulatedTime>10*m&&(n.accumulatedTime=0),0===n.accumulatedTime)return n.animationID=null,void n.startAnimationIfNecessary();var i=(n.accumulatedTime-Math.floor(n.accumulatedTime/m)*m)/m,a=Math.floor(n.accumulatedTime/m),s={},c={},d={},f={};for(var h in t)if(Object.prototype.hasOwnProperty.call(t,h)){var y=t[h];if("number"==typeof y)d[h]=y,f[h]=0,s[h]=y,c[h]=0;else{for(var g=n.state.lastIdealStyle[h],b=n.state.lastIdealVelocity[h],v=0;v<a;v++){var k=l.default(m/1e3,g,b,y.val,y.stiffness,y.damping,y.precision);g=k[0],b=k[1]}var w=l.default(m/1e3,g,b,y.val,y.stiffness,y.damping,y.precision),_=w[0],S=w[1];d[h]=g+(_-g)*i,f[h]=b+(S-b)*i,s[h]=g,c[h]=b}}n.animationID=null,n.accumulatedTime-=a*m,n.setState({currentStyle:d,currentVelocity:f,lastIdealStyle:s,lastIdealVelocity:c}),n.unreadPropStyle=null,n.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+s(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyle:h.default.objectOf(h.default.number),style:h.default.objectOf(h.default.oneOfType([h.default.number,h.default.object])).isRequired,children:h.default.func.isRequired,onRest:h.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,r=e.style,n=t||c.default(r),o=a.default(n);return{currentStyle:n,currentVelocity:o,lastIdealStyle:n,lastIdealVelocity:o}},t.prototype.componentDidMount=function(){this.prevTime=u.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=u.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(d.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&f.default.Children.only(e)},t}(f.default.Component);t.default=y,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){for(var n=0;n<e.length;n++)if(!f.default(e[n],t[n],r[n]))return!1;return!0}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=n(r(6)),l=n(r(3)),u=n(r(8)),d=n(r(4)),p=n(r(5)),f=n(r(7)),h=n(r(1)),m=n(r(2)),y=1e3/60,g=function(e){function t(r){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),e.call(this,r),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=n.state,r=t.currentStyles,o=t.currentVelocities,a=t.lastIdealStyles,s=t.lastIdealVelocities,c=!1,l=0;l<e.length;l++){var u=e[l],d=!1;for(var p in u)if(Object.prototype.hasOwnProperty.call(u,p)){var f=u[p];"number"==typeof f&&(d||(d=!0,c=!0,r[l]=i({},r[l]),o[l]=i({},o[l]),a[l]=i({},a[l]),s[l]=i({},s[l])),r[l][p]=f,o[l][p]=0,a[l][p]=f,s[l][p]=0)}}c&&n.setState({currentStyles:r,currentVelocities:o,lastIdealStyles:a,lastIdealVelocities:s})},this.startAnimationIfNecessary=function(){n.animationID=p.default((function(e){var t=n.props.styles(n.state.lastIdealStyles);if(o(n.state.currentStyles,t,n.state.currentVelocities))return n.animationID=null,void(n.accumulatedTime=0);var r=e||d.default(),i=r-n.prevTime;if(n.prevTime=r,n.accumulatedTime=n.accumulatedTime+i,n.accumulatedTime>10*y&&(n.accumulatedTime=0),0===n.accumulatedTime)return n.animationID=null,void n.startAnimationIfNecessary();for(var a=(n.accumulatedTime-Math.floor(n.accumulatedTime/y)*y)/y,s=Math.floor(n.accumulatedTime/y),c=[],l=[],p=[],f=[],h=0;h<t.length;h++){var m=t[h],g={},b={},v={},k={};for(var w in m)if(Object.prototype.hasOwnProperty.call(m,w)){var _=m[w];if("number"==typeof _)g[w]=_,b[w]=0,v[w]=_,k[w]=0;else{for(var S=n.state.lastIdealStyles[h][w],O=n.state.lastIdealVelocities[h][w],E=0;E<s;E++){var C=u.default(y/1e3,S,O,_.val,_.stiffness,_.damping,_.precision);S=C[0],O=C[1]}var P=u.default(y/1e3,S,O,_.val,_.stiffness,_.damping,_.precision),T=P[0],x=P[1];g[w]=S+(T-S)*a,b[w]=O+(x-O)*a,v[w]=S,k[w]=O}}p[h]=g,f[h]=b,c[h]=v,l[h]=k}n.animationID=null,n.accumulatedTime-=s*y,n.setState({currentStyles:p,currentVelocities:f,lastIdealStyles:c,lastIdealVelocities:l}),n.unreadPropStyles=null,n.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+s(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"propTypes",value:{defaultStyles:m.default.arrayOf(m.default.objectOf(m.default.number)),styles:m.default.func.isRequired,children:m.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,r=e.styles,n=t||r().map(l.default),o=n.map((function(e){return c.default(e)}));return{currentStyles:n,currentVelocities:o,lastIdealStyles:n,lastIdealVelocities:o}},t.prototype.componentDidMount=function(){this.prevTime=d.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=d.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(p.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&h.default.Children.only(e)},t}(h.default.Component);t.default=g,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){var n=t;return null==n?e.map((function(e,t){return{key:e.key,data:e.data,style:r[t]}})):e.map((function(e,t){for(var o=0;o<n.length;o++)if(n[o].key===e.key)return{key:n[o].key,data:n[o].data,style:r[t]};return{key:e.key,data:e.data,style:r[t]}}))}function i(e,t,r,n){if(n.length!==t.length)return!1;for(var o=0;o<n.length;o++)if(n[o].key!==t[o].key)return!1;for(o=0;o<n.length;o++)if(!y.default(e[o],t[o].style,r[o]))return!1;return!0}function a(e,t,r,n,o,i,a,s,c){for(var l=f.default(n,o,(function(e,n){var o=t(n);return null==o||y.default(i[e],o,a[e])?(r({key:n.key,data:n.data}),null):{key:n.key,data:n.data,style:o}})),d=[],p=[],h=[],m=[],g=0;g<l.length;g++){for(var b=l[g],v=null,k=0;k<n.length;k++)if(n[k].key===b.key){v=k;break}if(null==v){var w=e(b);d[g]=w,h[g]=w;var _=u.default(b.style);p[g]=_,m[g]=_}else d[g]=i[v],h[g]=s[v],p[g]=a[v],m[g]=c[v]}return[l,d,p,h,m]}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=n(r(6)),d=n(r(3)),p=n(r(8)),f=n(r(27)),h=n(r(4)),m=n(r(5)),y=n(r(7)),g=n(r(1)),b=n(r(2)),v=1e3/60,k=function(e){function t(r){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),e.call(this,r),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=a(n.props.willEnter,n.props.willLeave,n.props.didLeave,n.state.mergedPropsStyles,e,n.state.currentStyles,n.state.currentVelocities,n.state.lastIdealStyles,n.state.lastIdealVelocities),r=t[0],o=t[1],i=t[2],s=t[3],l=t[4],u=0;u<e.length;u++){var d=e[u].style,p=!1;for(var f in d)if(Object.prototype.hasOwnProperty.call(d,f)){var h=d[f];"number"==typeof h&&(p||(p=!0,o[u]=c({},o[u]),i[u]=c({},i[u]),s[u]=c({},s[u]),l[u]=c({},l[u]),r[u]={key:r[u].key,data:r[u].data,style:c({},r[u].style)}),o[u][f]=h,i[u][f]=0,s[u][f]=h,l[u][f]=0,r[u].style[f]=h)}}n.setState({currentStyles:o,currentVelocities:i,mergedPropsStyles:r,lastIdealStyles:s,lastIdealVelocities:l})},this.startAnimationIfNecessary=function(){n.unmounting||(n.animationID=m.default((function(e){if(!n.unmounting){var t=n.props.styles,r="function"==typeof t?t(o(n.state.mergedPropsStyles,n.unreadPropStyles,n.state.lastIdealStyles)):t;if(i(n.state.currentStyles,r,n.state.currentVelocities,n.state.mergedPropsStyles))return n.animationID=null,void(n.accumulatedTime=0);var s=e||h.default(),c=s-n.prevTime;if(n.prevTime=s,n.accumulatedTime=n.accumulatedTime+c,n.accumulatedTime>10*v&&(n.accumulatedTime=0),0===n.accumulatedTime)return n.animationID=null,void n.startAnimationIfNecessary();for(var l=(n.accumulatedTime-Math.floor(n.accumulatedTime/v)*v)/v,u=Math.floor(n.accumulatedTime/v),d=a(n.props.willEnter,n.props.willLeave,n.props.didLeave,n.state.mergedPropsStyles,r,n.state.currentStyles,n.state.currentVelocities,n.state.lastIdealStyles,n.state.lastIdealVelocities),f=d[0],m=d[1],y=d[2],g=d[3],b=d[4],k=0;k<f.length;k++){var w=f[k].style,_={},S={},O={},E={};for(var C in w)if(Object.prototype.hasOwnProperty.call(w,C)){var P=w[C];if("number"==typeof P)_[C]=P,S[C]=0,O[C]=P,E[C]=0;else{for(var T=g[k][C],x=b[k][C],j=0;j<u;j++){var A=p.default(v/1e3,T,x,P.val,P.stiffness,P.damping,P.precision);T=A[0],x=A[1]}var z=p.default(v/1e3,T,x,P.val,P.stiffness,P.damping,P.precision),I=z[0],R=z[1];_[C]=T+(I-T)*l,S[C]=x+(R-x)*l,O[C]=T,E[C]=x}}g[k]=O,b[k]=E,m[k]=_,y[k]=S}n.animationID=null,n.accumulatedTime-=u*v,n.setState({currentStyles:m,currentVelocities:y,lastIdealStyles:g,lastIdealVelocities:b,mergedPropsStyles:f}),n.unreadPropStyles=null,n.startAnimationIfNecessary()}})))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+s(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,null,[{key:"propTypes",value:{defaultStyles:b.default.arrayOf(b.default.shape({key:b.default.string.isRequired,data:b.default.any,style:b.default.objectOf(b.default.number).isRequired})),styles:b.default.oneOfType([b.default.func,b.default.arrayOf(b.default.shape({key:b.default.string.isRequired,data:b.default.any,style:b.default.objectOf(b.default.oneOfType([b.default.number,b.default.object])).isRequired}))]).isRequired,children:b.default.func.isRequired,willEnter:b.default.func,willLeave:b.default.func,didLeave:b.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return d.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e,t=this.props,r=t.defaultStyles,n=t.styles,o=t.willEnter,i=t.willLeave,s=t.didLeave,c="function"==typeof n?n(r):n;e=null==r?c:r.map((function(e){for(var t=0;t<c.length;t++)if(c[t].key===e.key)return c[t];return e}));var l=null==r?c.map((function(e){return d.default(e.style)})):r.map((function(e){return d.default(e.style)})),p=null==r?c.map((function(e){return u.default(e.style)})):r.map((function(e){return u.default(e.style)})),f=a(o,i,s,e,c,l,p,l,p),h=f[0];return{currentStyles:f[1],currentVelocities:f[2],lastIdealStyles:f[3],lastIdealVelocities:f[4],mergedPropsStyles:h}},t.prototype.componentDidMount=function(){this.prevTime=h.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"==typeof t?t(o(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=h.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(m.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=o(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&g.default.Children.only(t)},t}(g.default.Component);t.default=k,e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,r){for(var n={},o=0;o<e.length;o++)n[e[o].key]=o;var i={};for(o=0;o<t.length;o++)i[t[o].key]=o;var a=[];for(o=0;o<t.length;o++)a[o]=t[o];for(o=0;o<e.length;o++)if(!Object.prototype.hasOwnProperty.call(i,e[o].key)){var s=r(o,e[o]);null!=s&&a.push(s)}return a.sort((function(e,r){var o=i[e.key],a=i[r.key],s=n[e.key],c=n[r.key];if(null!=o&&null!=a)return i[e.key]-i[r.key];if(null!=s&&null!=c)return n[e.key]-n[r.key];if(null!=o){for(var l=0;l<t.length;l++){var u=t[l].key;if(Object.prototype.hasOwnProperty.call(n,u)){if(o<i[u]&&c>n[u])return-1;if(o>i[u]&&c<n[u])return 1}}return 1}for(l=0;l<t.length;l++)if(u=t[l].key,Object.prototype.hasOwnProperty.call(n,u)){if(a<i[u]&&s>n[u])return 1;if(a>i[u]&&s<n[u])return-1}return-1}))},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(){},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e,t){return n({},i,t,{val:e})};var o=function(e){return e&&e.__esModule?e:{default:e}}(r(11)),i=n({},o.default.noWobble,{precision:.01});e.exports=t.default},function(e,t,r){function n(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=f[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(l(n.parts[i],t))}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(l(n.parts[i],t));f[n.id]={id:n.id,refs:1,parts:a}}}}function o(e){for(var t=[],r={},n=0;n<e.length;n++){var o=e[n],i=o[0],a={css:o[1],media:o[2],sourceMap:o[3]};r[i]?r[i].parts.push(a):t.push(r[i]={id:i,parts:[a]})}return t}function i(e,t){var r=y(),n=v[v.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function c(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function l(e,t){var r,n,o;if(t.singleton){var i=b++;r=g||(g=s(t)),n=u.bind(null,r,i,!1),o=u.bind(null,r,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=c(t),n=p.bind(null,r),o=function(){a(r),r.href&&URL.revokeObjectURL(r.href)}):(r=s(t),n=d.bind(null,r),o=function(){a(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}function u(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=k(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function d(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function p(e,t){var r=t.css,n=t.sourceMap;n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([r],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var f={},h=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},m=h((function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())})),y=h((function(){return document.head||document.getElementsByTagName("head")[0]})),g=null,b=0,v=[];e.exports=function(e,t){void 0===(t=t||{}).singleton&&(t.singleton=m()),void 0===t.insertAt&&(t.insertAt="bottom");var r=o(e);return n(r,t),function(e){for(var i=[],a=0;a<r.length;a++){var s=r[a];(c=f[s.id]).refs--,i.push(c)}for(e&&n(o(e),t),a=0;a<i.length;a++){var c;if(0===(c=i[a]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete f[c.id]}}}};var k=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t,r){var n=r(16);"string"==typeof n&&(n=[[e.id,n,""]]),r(30)(n,{}),n.locals&&(e.exports=n.locals)}])},"object"==s(t)&&"object"==s(e)?e.exports=a(r(2015)):(o=[r(2015)],void 0===(i="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=i))},9062:(e,t,r)=>{"use strict";var n=r(2015),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,i={},l=null,u=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,n)&&!c.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:l,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=l,t.jsxs=l},1894:(e,t,r)=>{"use strict";e.exports=r(9062)},4093:e=>{"use strict";var t=function(e){return e&&2===e.CLOSING},r=function(e,t,r){Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){e[r]=t},enumerable:!0,configurable:!0})},n=function(e){return e.minReconnectionDelay+Math.random()*e.minReconnectionDelay},o=["onopen","onclose","onmessage","onerror"],i=function(e,a,s){var c,l,u=this;void 0===s&&(s={});var d=0,p=0,f=!0,h=null,m={};if(!(this instanceof i))throw new TypeError("Failed to construct 'ReconnectingWebSocket': Please use the 'new' operator");var y={constructor:"undefined"!=typeof WebSocket&&t(WebSocket)?WebSocket:null,maxReconnectionDelay:1e4,minReconnectionDelay:1500,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,debug:!1};if(Object.keys(y).filter((function(e){return s.hasOwnProperty(e)})).forEach((function(e){return y[e]=s[e]})),!t(y.constructor))throw new TypeError("Invalid WebSocket constructor. Set `options.constructor`");var g=y.debug?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.log.apply(console,["RWS:"].concat(e))}:function(){},b=function(e,t){return setTimeout((function(){var r=new Error(t);r.code=e,Array.isArray(m.error)&&m.error.forEach((function(e){return(0,e[0])(r)})),c.onerror&&c.onerror(r)}),0)},v=function(){g("handleClose",{shouldRetry:f}),p++,g("retries count:",p),p>y.maxRetries?b("EHOSTDOWN","Too many failed connection attempts"):(d=d?function(e,t){var r=t*e.reconnectionDelayGrowFactor;return r>e.maxReconnectionDelay?e.maxReconnectionDelay:r}(y,d):n(y),g("handleClose - reconnectDelay:",d),f&&setTimeout(k,d))},k=function(){if(f){g("connect");var t=c,i="function"==typeof e?e():e;for(var s in c=new y.constructor(i,a),l=setTimeout((function(){g("timeout"),c.close(),b("ETIMEDOUT","Connection timeout")}),y.connectionTimeout),g("bypass properties"),c)["addEventListener","removeEventListener","close","send"].indexOf(s)<0&&r(c,u,s);c.addEventListener("open",(function(){clearTimeout(l),g("open"),d=n(y),g("reconnectDelay:",d),p=0})),c.addEventListener("close",v),function(e,t,r){Object.keys(r).forEach((function(t){r[t].forEach((function(r){var n=r[0],o=r[1];e.addEventListener(t,n,o)}))})),t&&o.forEach((function(r){e[r]=t[r]}))}(c,t,m),c.onclose=c.onclose||h,h=null}};g("init"),k(),this.close=function(e,t,r){void 0===e&&(e=1e3),void 0===t&&(t="");var n=void 0===r?{}:r,o=n.keepClosed,i=void 0!==o&&o,a=n.fastClose,s=void 0===a||a,l=n.delay,u=void 0===l?0:l;if(g("close - params:",{reason:t,keepClosed:i,fastClose:s,delay:u,retriesCount:p,maxRetries:y.maxRetries}),f=!i&&p<=y.maxRetries,u&&(d=u),c.close(e,t),s){var b={code:e,reason:t,wasClean:!0};v(),c.removeEventListener("close",v),Array.isArray(m.close)&&m.close.forEach((function(e){var t=e[0],r=e[1];t(b),c.removeEventListener("close",t,r)})),c.onclose&&(h=c.onclose,c.onclose(b),c.onclose=null)}},this.send=function(e){c.send(e)},this.addEventListener=function(e,t,r){Array.isArray(m[e])?m[e].some((function(e){return e[0]===t}))||m[e].push([t,r]):m[e]=[[t,r]],c.addEventListener(e,t,r)},this.removeEventListener=function(e,t,r){Array.isArray(m[e])&&(m[e]=m[e].filter((function(e){return e[0]!==t}))),c.removeEventListener(e,t,r)}};e.exports=i},4524:(e,t,r)=>{"use strict";var n=r(9251),o=r(8819),i=Object;e.exports=n((function(){if(null==this||this!==i(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e}),"get flags",!0)},1048:(e,t,r)=>{"use strict";var n=r(6541),o=r(4447),i=r(4524),a=r(3609),s=r(1063),c=o(a());n(c,{getPolyfill:a,implementation:i,shim:s}),e.exports=c},3609:(e,t,r)=>{"use strict";var n=r(4524),o=r(6541).supportsDescriptors,i=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&"gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),e.get.call(r),"dy"===t)return e.get}}return n}},1063:(e,t,r)=>{"use strict";var n=r(6541).supportsDescriptors,o=r(3609),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,c=Object.getPrototypeOf,l=/a/;e.exports=function(){if(!n||!c)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=c(l),r=i(t,"flags");return r&&r.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},7780:(e,t,r)=>{"use strict";var n=r(6374),o=r(2765),i=r(6708)(),a=r(6861),s=r(8819),c=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||c(t)!==t)throw new s("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,l=!0;if("length"in e&&a){var u=a(e,"length");u&&!u.configurable&&(n=!1),u&&!u.writable&&(l=!1)}return(n||l||!r)&&(i?o(e,"length",t,!0,!0):o(e,"length",t)),e}},9251:(e,t,r)=>{"use strict";var n=r(2765),o=r(6708)(),i=r(5861).functionsHaveConfigurableNames(),a=r(8819);e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");return arguments.length>2&&!!arguments[2]&&!i||(o?n(e,"name",t,!0,!0):n(e,"name",t)),e}},3104:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(6374),i=r(8307),a=r(6307),s=r(8819),c=o("%WeakMap%",!0),l=o("%Map%",!0),u=i("WeakMap.prototype.get",!0),d=i("WeakMap.prototype.set",!0),p=i("WeakMap.prototype.has",!0),f=i("Map.prototype.get",!0),h=i("Map.prototype.set",!0),m=i("Map.prototype.has",!0),y=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,o={assert:function(e){if(!o.has(e))throw new s("Side channel does not contain "+a(e))},get:function(o){if(c&&o&&("object"===n(o)||"function"==typeof o)){if(e)return u(e,o)}else if(l){if(t)return f(t,o)}else if(r)return function(e,t){var r=y(e,t);return r&&r.value}(r,o)},has:function(o){if(c&&o&&("object"===n(o)||"function"==typeof o)){if(e)return p(e,o)}else if(l){if(t)return m(t,o)}else if(r)return function(e,t){return!!y(e,t)}(r,o);return!1},set:function(o,i){c&&o&&("object"===n(o)||"function"==typeof o)?(e||(e=new c),d(e,o,i)):l?(t||(t=new l),h(t,o,i)):(r||(r={key:{},next:null}),function(e,t,r){var n=y(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,o,i))}};return o}},195:(e,t,r)=>{"use strict";var n=r(1844),o=new Map([["none",""],["white","🏻"],["creamWhite","🏼"],["lightBrown","🏽"],["brown","🏾"],["darkBrown","🏿"]]);e.exports=function(e,t){if(!o.has(t))throw new TypeError("Unexpected `skinTone` name: ".concat(t));return e=e.replace(/(?:\uD83C[\uDFFB-\uDFFF])/,""),n.has(e.codePointAt(0))&&"none"!==t&&(e+=o.get(t)),e}},9234:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(15),i=SyntaxError,a="object"===("undefined"==typeof StopIteration?"undefined":n(StopIteration))?StopIteration:null;e.exports=function(e){if(!a)throw new i("this environment lacks StopIteration");o.set(e,"[[Done]]",!1);var t={next:function(){var e=o.get(this,"[[Iterator]]"),t=o.get(e,"[[Done]]");try{return{done:t,value:t?void 0:e.next()}}catch(t){if(o.set(e,"[[Done]]",!0),t!==a)throw t;return{done:!0,value:void 0}}}};return o.set(t,"[[Iterator]]",e),t}},1844:e=>{e.exports=new Set([9757,9977,9994,9995,9996,9997,127877,127939,127940,127946,127947,128066,128067,128070,128071,128072,128073,128074,128075,128076,128077,128078,128079,128080,128102,128103,128104,128105,128110,128112,128113,128114,128115,128116,128117,128118,128119,128120,128124,128129,128130,128131,128133,128134,128135,128170,128373,128378,128400,128405,128406,128581,128582,128583,128587,128588,128589,128590,128591,128675,128692,128693,128694,128704,129304,129305,129306,129307,129308,129309,129310,129318,129328,129331,129332,129333,129334,129335,129336,129337,129340,129341,129342])},4962:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(3379),i=r(5103),a=r(4065),s=r(2278),c=r(9188);e.exports=function(e){return null==e||"object"!==n(e)&&"function"!=typeof e?null:o(e)?"String":i(e)?"Number":a(e)?"Boolean":s(e)?"Symbol":c(e)?"BigInt":void 0}},8716:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(3390),i=r(3078),a=r(8941),s=r(6526);e.exports=function(e){if(e&&"object"===n(e)){if(o(e))return"Map";if(i(e))return"Set";if(a(e))return"WeakMap";if(s(e))return"WeakSet"}return!1}},8713:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(9749),i=r(1688),a=r(4447),s=r(8307),c=r(6861),l=s("Object.prototype.toString"),u=r(7626)(),d="undefined"==typeof globalThis?r.g:globalThis,p=i(),f=s("String.prototype.slice"),h=Object.getPrototypeOf,m=s("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},y={__proto__:null};o(p,u&&c&&h?function(e){var t=new d[e];if(Symbol.toStringTag in t){var r=h(t),n=c(r,Symbol.toStringTag);if(!n){var o=h(r);n=c(o,Symbol.toStringTag)}y["$"+e]=a(n.get)}}:function(e){var t=new d[e],r=t.slice||t.set;r&&(y["$"+e]=a(r))}),e.exports=function(e){if(!e||"object"!==n(e))return!1;if(!u){var t=f(l(e),8,-1);return m(p,t)>-1?t:"Object"===t&&function(e){var t=!1;return o(y,(function(r,n){if(!t)try{r(e),t=f(n,1)}catch(e){}})),t}(e)}return c?function(e){var t=!1;return o(y,(function(r,n){if(!t)try{"$"+r(e)===n&&(t=f(n,1))}catch(e){}})),t}(e):null}},4399:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(2729),o=r.n(n),i=r(6738),a=r.n(i)()(o());a.push([e.id,".react-mui-context .chat-droppable-active {\n  border: 2px dashed var(--md-sys-color-tertiary) !important;\n}\n.react-mui-context .dropping-panel {\n  font-size: 14px;\n  margin: 8px -8px;\n  border-radius: 5px;\n  padding: 8px;\n  background-color: var(--md-sys-color-tertiary-container);\n  color: var(--md-sys-color-on-tertiary-container);\n  position: relative;\n}\n.react-mui-context .dropping-panel .mdi.mdi-close,\n.react-mui-context .dropping-panel .include-action {\n  cursor: pointer;\n  opacity: 0.7;\n}\n.react-mui-context .chat-message-md *,\n.react-mui-context .comments_feed .user-label,\n.react-mui-context .comments_feed .date-from {\n  user-select: text;\n}\n.react-mui-context .chat-message-md {\n  font-size: 14px;\n  line-height: 1.5em;\n}\n.react-mui-context .chat-message-md p {\n  padding-top: 0;\n  margin-bottom: 0;\n}\n.react-mui-context .chat-message-md strong {\n  font-weight: 500;\n}\n.react-mui-context .chat-message-md a {\n  text-decoration: underline;\n  color: var(--md-sys-color-primary);\n  cursor: pointer;\n}\n.react-mui-context .chat-message-md a.special-link {\n  background-color: var(--md-sys-color-tertiary-container);\n  color: var(--md-sys-color-on-tertiary-container);\n  border-radius: 5px;\n  padding: 3px 8px;\n  text-decoration: none;\n}\n.react-mui-context .chat-message-md ul {\n  padding-left: 20px;\n}\n.react-mui-context .chat-message-md ul li {\n  position: relative;\n  list-style: none;\n}\n.react-mui-context .chat-message-md ul li .special-link {\n  line-height: 2em;\n}\n.react-mui-context .chat-message-md ul li:before {\n  content: '\\2192';\n  position: absolute;\n  left: -20px;\n}\n.react-mui-context .chat-message-md .preview-container {\n  border-radius: 10px;\n  overflow: hidden;\n  border: 2px solid var(--md-sys-color-tertiary-container);\n  position: relative;\n  max-width: 320px;\n}\n.react-mui-context .chat-message-md .preview-container .preview-title {\n  position: absolute;\n  background-color: var(--md-sys-color-tertiary-container);\n  color: var(--md-sys-color-on-tertiary-container);\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 1;\n  padding: 3px 8px;\n  opacity: 0.8;\n}\n.react-mui-context .chat-message-md .preview-container .mimefont-container {\n  height: 200px;\n  min-height: 200px;\n  display: flex;\n  align-items: center !important;\n  justify-content: center;\n}\n.react-mui-context .chat-message-md .preview-container .mdviewer {\n  white-space: break-spaces;\n}\n.react-mui-context .chat-message-md .preview-container:hover {\n  border: 2px solid var(--md-sys-color-tertiary);\n}\n.react-mui-context .dot-flashing-dot {\n  width: 7px;\n  height: 7px;\n  border-radius: 50%;\n  background-color: var(--md-sys-color-tertiary);\n  color: var(--md-sys-color-tertiary);\n}\n.react-mui-context .dot-flashing {\n  position: relative;\n  width: 7px;\n  height: 7px;\n  border-radius: 50%;\n  background-color: var(--md-sys-color-tertiary);\n  color: var(--md-sys-color-tertiary);\n  animation: dot-flashing 1s infinite linear alternate;\n  animation-delay: 0.5s;\n  margin-left: 18px;\n  margin-top: 5px;\n  margin-bottom: 5px;\n}\n.react-mui-context .dot-flashing::before,\n.react-mui-context .dot-flashing::after {\n  content: \"\";\n  display: inline-block;\n  position: absolute;\n  width: 7px;\n  height: 7px;\n  border-radius: 50%;\n  background-color: var(--md-sys-color-tertiary);\n  color: var(--md-sys-color-tertiary);\n  top: 0;\n}\n.react-mui-context .dot-flashing::before {\n  left: -15px;\n  animation: dot-flashing 1s infinite alternate;\n  animation-delay: 0s;\n}\n.react-mui-context .dot-flashing::after {\n  left: 15px;\n  animation: dot-flashing 1s infinite alternate;\n  animation-delay: 1s;\n}\n@keyframes dot-flashing {\n  0% {\n    opacity: 1;\n  }\n  50%,\n  100% {\n    opacity: 0.2;\n  }\n}\n",""]);const s=a},4390:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(2729),o=r.n(n),i=r(6738),a=r.n(i)()(o());a.push([e.id,".react-mui-context .bbpanel .stepper-section-actions {\n  display: flex;\n  flex-wrap: wrap;\n}\n.react-mui-context .bbpanel .stepper-section-container {\n  margin-bottom: 30px;\n}\n.react-mui-context .bbpanel .stepper-section-container .stepper-section-title {\n  font-size: 18px;\n  font-weight: 400;\n  color: #455a64;\n  padding-bottom: 20px;\n  padding-left: 16px;\n}\n.react-mui-context .bbpanel .stepper-action-container {\n  width: 190px;\n  height: 180px;\n  display: flex;\n  flex-direction: column;\n  font-size: 15px;\n  padding: 20px;\n  margin: 6px;\n  border-radius: 20px !important;\n  border: 1px solid rgba(40, 60, 75, 0.2);\n  /*box-shadow: 1px 6px 10px 0 rgba(40,60,75,.15);*/\n  box-shadow: none;\n  cursor: pointer;\n  position: relative;\n}\n.react-mui-context .bbpanel .stepper-action-container.drop-force {\n  width: 190px !important;\n  height: 180px !important;\n  color: initial;\n  border: 3px dashed rgba(40, 60, 75, 0.2);\n  background-color: white;\n}\n.react-mui-context .bbpanel .stepper-action-container:hover:not(.drop-force) {\n  border: 1px solid rgba(40, 60, 75, 0.5);\n  box-shadow: 1px 10px 20px 0 rgba(40, 60, 75, 0.3);\n}\n.react-mui-context .bbpanel .stepper-action-container.drop-force:hover {\n  box-shadow: 1px 10px 20px 0 rgba(40, 60, 75, 0.3);\n}\n.react-mui-context .bbpanel .stepper-action-container .stepper-action-icon {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  padding-bottom: 10px;\n}\n.react-mui-context .bbpanel .stepper-action-container .stepper-action-icon > span {\n  font-size: 40px !important;\n}\n.react-mui-context .bbpanel .stepper-action-container .stepper-tag {\n  position: absolute;\n  top: 15px;\n  left: 20px;\n  border: 1px solid #B0BEC5;\n  color: #B0BEC5;\n  background-color: transparent;\n  padding: 1px 5px;\n  font-size: 12px;\n  height: 19px;\n  line-height: 14px;\n  border-radius: 5px;\n  font-weight: 500;\n  display: none;\n}\n.react-mui-context .bbpanel .stepper-action-container .stepper-action-title {\n  padding-bottom: 10px;\n  font-weight: 500;\n  text-align: left;\n  font-size: 15px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.react-mui-context .bbpanel .stepper-action-container .stepper-action-description {\n  text-align: left;\n  font-weight: 400;\n  font-size: 13px;\n  line-height: 1.5em;\n  height: 3em;\n  padding-bottom: 10px;\n  overflow: hidden;\n  -webkit-box-orient: vertical;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  text-overflow: ellipsis;\n}\n.react-mui-context .bbpanel.compact2 .stepper-section-container {\n  margin-bottom: 0;\n}\n.react-mui-context .bbpanel.compact2 .stepper-section-container .stepper-section-title {\n  display: none;\n}\n.react-mui-context .bbpanel.compact2 .stepper-action-container {\n  width: 130px;\n  height: 110px;\n}\n.react-mui-context .bbpanel.compact2 .stepper-action-container .stepper-action-icon > span {\n  font-size: 25px;\n}\n.react-mui-context .bbpanel.compact2 .stepper-action-container .stepper-action-title {\n  padding-bottom: 0;\n  white-space: wrap;\n}\n.react-mui-context .bbpanel.compact2 .stepper-action-container .stepper-action-description {\n  display: none;\n}\n",""]);const s=a},8684:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(134),o=r.n(n),i=r(2783),a=r.n(i),s=r(4709),c=r.n(s),l=r(9958),u=r.n(l),d=r(1202),p=r.n(d),f=r(3911),h=r.n(f),m=r(4399),y={};y.styleTagTransform=h(),y.setAttributes=u(),y.insert=c().bind(null,"head"),y.domAPI=a(),y.insertStyleElement=p(),o()(m.A,y);const g=m.A&&m.A.locals?m.A.locals:void 0},134:e=>{"use strict";var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var i={},a=[],s=0;s<e.length;s++){var c=e[s],l=n.base?c[0]+n.base:c[0],u=i[l]||0,d="".concat(l," ").concat(u);i[l]=u+1;var p=r(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=o(f,n);n.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}a.push(d)}return a}function o(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,o){var i=n(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=r(i[a]);t[s].references--}for(var c=n(e,o),l=0;l<i.length;l++){var u=r(i[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=c}}},4709:e=>{"use strict";var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},1202:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},9958:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},2783:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},3911:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},4823:e=>{"use strict";e.exports=require("color")},9862:e=>{"use strict";e.exports=require("lodash.debounce")},6146:e=>{"use strict";e.exports=require("material-ui")},509:e=>{"use strict";e.exports=require("material-ui/styles")},9825:e=>{"use strict";e.exports=require("prop-types")},4217:e=>{"use strict";e.exports=require("pydio")},2081:e=>{"use strict";e.exports=require("pydio/http/api")},9535:e=>{"use strict";e.exports=require("pydio/http/meta-cache-service")},9298:e=>{"use strict";e.exports=require("pydio/http/resources-manager")},2040:e=>{"use strict";e.exports=require("pydio/http/users-api")},3216:e=>{"use strict";e.exports=require("pydio/model/controller")},3528:e=>{"use strict";e.exports=require("pydio/model/data-model")},5117:e=>{"use strict";e.exports=require("pydio/util/func")},3049:e=>{"use strict";e.exports=require("pydio/util/periodical-executer")},2015:e=>{"use strict";e.exports=require("react")},2326:e=>{"use strict";e.exports=require("react-dom")},4233:e=>{"use strict";e.exports=require("react-draggable")},150:()=>{},180:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},9031:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},343:e=>{e.exports=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r},e.exports.__esModule=!0,e.exports.default=e.exports},1688:(e,t,r)=>{"use strict";var n=r(8974),o="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof o[n[t]]&&(e[e.length]=n[t]);return e}},565:(e,t,r)=>{"use strict";var n=r(2894),o=r(9234);if(r(4163)()||r(5153)()){var i=Symbol.iterator;e.exports=function(e){return null!=e&&void 0!==e[i]?e[i]():n(e)?Array.prototype[i].call(e):void 0}}else{var a=r(6820),s=r(3379),c=r(6374),l=c("%Map%",!0),u=c("%Set%",!0),d=r(8307),p=d("Array.prototype.push"),f=d("String.prototype.charCodeAt"),h=d("String.prototype.slice"),m=function(e){var t=0;return{next:function(){var r,n=t>=e.length;return n||(r=e[t],t+=1),{done:n,value:r}}}},y=function(e,t){if(a(e)||n(e))return m(e);if(s(e)){var r=0;return{next:function(){var t=function(e,t){if(t+1>=e.length)return t+1;var r=f(e,t);if(r<55296||r>56319)return t+1;var n=f(e,t+1);return n<56320||n>57343?t+1:t+2}(e,r),n=h(e,r,t);return r=t,{done:t>e.length,value:n}}}}return t&&void 0!==e["_es6-shim iterator_"]?e["_es6-shim iterator_"]():void 0};if(l||u){var g=r(3390),b=r(3078),v=d("Map.prototype.forEach",!0),k=d("Set.prototype.forEach",!0);if("undefined"==typeof process||!process.versions||!process.versions.node)var w=d("Map.prototype.iterator",!0),_=d("Set.prototype.iterator",!0);var S=d("Map.prototype.@@iterator",!0)||d("Map.prototype._es6-shim iterator_",!0),O=d("Set.prototype.@@iterator",!0)||d("Set.prototype._es6-shim iterator_",!0);e.exports=function(e){return function(e){if(g(e)){if(w)return o(w(e));if(S)return S(e);if(v){var t=[];return v(e,(function(e,r){p(t,[r,e])})),m(t)}}if(b(e)){if(_)return o(_(e));if(O)return O(e);if(k){var r=[];return k(e,(function(e){p(r,e)})),m(r)}}}(e)||y(e)}}else e.exports=function(e){if(null!=e)return y(e,!0)}}},2218:(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(null,arguments)}r.d(t,{A:()=>n})},4365:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}r.d(t,{A:()=>n})},3372:(e,t,r)=>{"use strict";function n(e){var t,r,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=n(e[t]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}r.d(t,{A:()=>o});const o=function(){for(var e,t,r=0,o="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=n(e))&&(o&&(o+=" "),o+=t);return o}},51:e=>{"use strict";e.exports=JSON.parse('{"100":{"keywords":["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],"char":"💯","fitzpatrick_scale":false,"category":"symbols"},"1234":{"keywords":["numbers","blue-square"],"char":"🔢","fitzpatrick_scale":false,"category":"symbols"},"grinning":{"keywords":["face","smile","happy","joy",":D","grin"],"char":"😀","fitzpatrick_scale":false,"category":"people"},"grimacing":{"keywords":["face","grimace","teeth"],"char":"😬","fitzpatrick_scale":false,"category":"people"},"grin":{"keywords":["face","happy","smile","joy","kawaii"],"char":"😁","fitzpatrick_scale":false,"category":"people"},"joy":{"keywords":["face","cry","tears","weep","happy","happytears","haha"],"char":"😂","fitzpatrick_scale":false,"category":"people"},"rofl":{"keywords":["face","rolling","floor","laughing","lol","haha"],"char":"🤣","fitzpatrick_scale":false,"category":"people"},"partying":{"keywords":["face","celebration","woohoo"],"char":"🥳","fitzpatrick_scale":false,"category":"people"},"smiley":{"keywords":["face","happy","joy","haha",":D",":)","smile","funny"],"char":"😃","fitzpatrick_scale":false,"category":"people"},"smile":{"keywords":["face","happy","joy","funny","haha","laugh","like",":D",":)"],"char":"😄","fitzpatrick_scale":false,"category":"people"},"sweat_smile":{"keywords":["face","hot","happy","laugh","sweat","smile","relief"],"char":"😅","fitzpatrick_scale":false,"category":"people"},"laughing":{"keywords":["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],"char":"😆","fitzpatrick_scale":false,"category":"people"},"innocent":{"keywords":["face","angel","heaven","halo"],"char":"😇","fitzpatrick_scale":false,"category":"people"},"wink":{"keywords":["face","happy","mischievous","secret",";)","smile","eye"],"char":"😉","fitzpatrick_scale":false,"category":"people"},"blush":{"keywords":["face","smile","happy","flushed","crush","embarrassed","shy","joy"],"char":"😊","fitzpatrick_scale":false,"category":"people"},"slightly_smiling_face":{"keywords":["face","smile"],"char":"🙂","fitzpatrick_scale":false,"category":"people"},"upside_down_face":{"keywords":["face","flipped","silly","smile"],"char":"🙃","fitzpatrick_scale":false,"category":"people"},"relaxed":{"keywords":["face","blush","massage","happiness"],"char":"☺️","fitzpatrick_scale":false,"category":"people"},"yum":{"keywords":["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],"char":"😋","fitzpatrick_scale":false,"category":"people"},"relieved":{"keywords":["face","relaxed","phew","massage","happiness"],"char":"😌","fitzpatrick_scale":false,"category":"people"},"heart_eyes":{"keywords":["face","love","like","affection","valentines","infatuation","crush","heart"],"char":"😍","fitzpatrick_scale":false,"category":"people"},"smiling_face_with_three_hearts":{"keywords":["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],"char":"🥰","fitzpatrick_scale":false,"category":"people"},"kissing_heart":{"keywords":["face","love","like","affection","valentines","infatuation","kiss"],"char":"😘","fitzpatrick_scale":false,"category":"people"},"kissing":{"keywords":["love","like","face","3","valentines","infatuation","kiss"],"char":"😗","fitzpatrick_scale":false,"category":"people"},"kissing_smiling_eyes":{"keywords":["face","affection","valentines","infatuation","kiss"],"char":"😙","fitzpatrick_scale":false,"category":"people"},"kissing_closed_eyes":{"keywords":["face","love","like","affection","valentines","infatuation","kiss"],"char":"😚","fitzpatrick_scale":false,"category":"people"},"stuck_out_tongue_winking_eye":{"keywords":["face","prank","childish","playful","mischievous","smile","wink","tongue"],"char":"😜","fitzpatrick_scale":false,"category":"people"},"zany":{"keywords":["face","goofy","crazy"],"char":"🤪","fitzpatrick_scale":false,"category":"people"},"raised_eyebrow":{"keywords":["face","distrust","scepticism","disapproval","disbelief","surprise"],"char":"🤨","fitzpatrick_scale":false,"category":"people"},"monocle":{"keywords":["face","stuffy","wealthy"],"char":"🧐","fitzpatrick_scale":false,"category":"people"},"stuck_out_tongue_closed_eyes":{"keywords":["face","prank","playful","mischievous","smile","tongue"],"char":"😝","fitzpatrick_scale":false,"category":"people"},"stuck_out_tongue":{"keywords":["face","prank","childish","playful","mischievous","smile","tongue"],"char":"😛","fitzpatrick_scale":false,"category":"people"},"money_mouth_face":{"keywords":["face","rich","dollar","money"],"char":"🤑","fitzpatrick_scale":false,"category":"people"},"nerd_face":{"keywords":["face","nerdy","geek","dork"],"char":"🤓","fitzpatrick_scale":false,"category":"people"},"sunglasses":{"keywords":["face","cool","smile","summer","beach","sunglass"],"char":"😎","fitzpatrick_scale":false,"category":"people"},"star_struck":{"keywords":["face","smile","starry","eyes","grinning"],"char":"🤩","fitzpatrick_scale":false,"category":"people"},"clown_face":{"keywords":["face"],"char":"🤡","fitzpatrick_scale":false,"category":"people"},"cowboy_hat_face":{"keywords":["face","cowgirl","hat"],"char":"🤠","fitzpatrick_scale":false,"category":"people"},"hugs":{"keywords":["face","smile","hug"],"char":"🤗","fitzpatrick_scale":false,"category":"people"},"smirk":{"keywords":["face","smile","mean","prank","smug","sarcasm"],"char":"😏","fitzpatrick_scale":false,"category":"people"},"no_mouth":{"keywords":["face","hellokitty"],"char":"😶","fitzpatrick_scale":false,"category":"people"},"neutral_face":{"keywords":["indifference","meh",":|","neutral"],"char":"😐","fitzpatrick_scale":false,"category":"people"},"expressionless":{"keywords":["face","indifferent","-_-","meh","deadpan"],"char":"😑","fitzpatrick_scale":false,"category":"people"},"unamused":{"keywords":["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],"char":"😒","fitzpatrick_scale":false,"category":"people"},"roll_eyes":{"keywords":["face","eyeroll","frustrated"],"char":"🙄","fitzpatrick_scale":false,"category":"people"},"thinking":{"keywords":["face","hmmm","think","consider"],"char":"🤔","fitzpatrick_scale":false,"category":"people"},"lying_face":{"keywords":["face","lie","pinocchio"],"char":"🤥","fitzpatrick_scale":false,"category":"people"},"hand_over_mouth":{"keywords":["face","whoops","shock","surprise"],"char":"🤭","fitzpatrick_scale":false,"category":"people"},"shushing":{"keywords":["face","quiet","shhh"],"char":"🤫","fitzpatrick_scale":false,"category":"people"},"symbols_over_mouth":{"keywords":["face","swearing","cursing","cussing","profanity","expletive"],"char":"🤬","fitzpatrick_scale":false,"category":"people"},"exploding_head":{"keywords":["face","shocked","mind","blown"],"char":"🤯","fitzpatrick_scale":false,"category":"people"},"flushed":{"keywords":["face","blush","shy","flattered"],"char":"😳","fitzpatrick_scale":false,"category":"people"},"disappointed":{"keywords":["face","sad","upset","depressed",":("],"char":"😞","fitzpatrick_scale":false,"category":"people"},"worried":{"keywords":["face","concern","nervous",":("],"char":"😟","fitzpatrick_scale":false,"category":"people"},"angry":{"keywords":["mad","face","annoyed","frustrated"],"char":"😠","fitzpatrick_scale":false,"category":"people"},"rage":{"keywords":["angry","mad","hate","despise"],"char":"😡","fitzpatrick_scale":false,"category":"people"},"pensive":{"keywords":["face","sad","depressed","upset"],"char":"😔","fitzpatrick_scale":false,"category":"people"},"confused":{"keywords":["face","indifference","huh","weird","hmmm",":/"],"char":"😕","fitzpatrick_scale":false,"category":"people"},"slightly_frowning_face":{"keywords":["face","frowning","disappointed","sad","upset"],"char":"🙁","fitzpatrick_scale":false,"category":"people"},"frowning_face":{"keywords":["face","sad","upset","frown"],"char":"☹","fitzpatrick_scale":false,"category":"people"},"persevere":{"keywords":["face","sick","no","upset","oops"],"char":"😣","fitzpatrick_scale":false,"category":"people"},"confounded":{"keywords":["face","confused","sick","unwell","oops",":S"],"char":"😖","fitzpatrick_scale":false,"category":"people"},"tired_face":{"keywords":["sick","whine","upset","frustrated"],"char":"😫","fitzpatrick_scale":false,"category":"people"},"weary":{"keywords":["face","tired","sleepy","sad","frustrated","upset"],"char":"😩","fitzpatrick_scale":false,"category":"people"},"pleading":{"keywords":["face","begging","mercy"],"char":"🥺","fitzpatrick_scale":false,"category":"people"},"triumph":{"keywords":["face","gas","phew","proud","pride"],"char":"😤","fitzpatrick_scale":false,"category":"people"},"open_mouth":{"keywords":["face","surprise","impressed","wow","whoa",":O"],"char":"😮","fitzpatrick_scale":false,"category":"people"},"scream":{"keywords":["face","munch","scared","omg"],"char":"😱","fitzpatrick_scale":false,"category":"people"},"fearful":{"keywords":["face","scared","terrified","nervous","oops","huh"],"char":"😨","fitzpatrick_scale":false,"category":"people"},"cold_sweat":{"keywords":["face","nervous","sweat"],"char":"😰","fitzpatrick_scale":false,"category":"people"},"hushed":{"keywords":["face","woo","shh"],"char":"😯","fitzpatrick_scale":false,"category":"people"},"frowning":{"keywords":["face","aw","what"],"char":"😦","fitzpatrick_scale":false,"category":"people"},"anguished":{"keywords":["face","stunned","nervous"],"char":"😧","fitzpatrick_scale":false,"category":"people"},"cry":{"keywords":["face","tears","sad","depressed","upset",":\'("],"char":"😢","fitzpatrick_scale":false,"category":"people"},"disappointed_relieved":{"keywords":["face","phew","sweat","nervous"],"char":"😥","fitzpatrick_scale":false,"category":"people"},"drooling_face":{"keywords":["face"],"char":"🤤","fitzpatrick_scale":false,"category":"people"},"sleepy":{"keywords":["face","tired","rest","nap"],"char":"😪","fitzpatrick_scale":false,"category":"people"},"sweat":{"keywords":["face","hot","sad","tired","exercise"],"char":"😓","fitzpatrick_scale":false,"category":"people"},"hot":{"keywords":["face","feverish","heat","red","sweating"],"char":"🥵","fitzpatrick_scale":false,"category":"people"},"cold":{"keywords":["face","blue","freezing","frozen","frostbite","icicles"],"char":"🥶","fitzpatrick_scale":false,"category":"people"},"sob":{"keywords":["face","cry","tears","sad","upset","depressed"],"char":"😭","fitzpatrick_scale":false,"category":"people"},"dizzy_face":{"keywords":["spent","unconscious","xox","dizzy"],"char":"😵","fitzpatrick_scale":false,"category":"people"},"astonished":{"keywords":["face","xox","surprised","poisoned"],"char":"😲","fitzpatrick_scale":false,"category":"people"},"zipper_mouth_face":{"keywords":["face","sealed","zipper","secret"],"char":"🤐","fitzpatrick_scale":false,"category":"people"},"nauseated_face":{"keywords":["face","vomit","gross","green","sick","throw up","ill"],"char":"🤢","fitzpatrick_scale":false,"category":"people"},"sneezing_face":{"keywords":["face","gesundheit","sneeze","sick","allergy"],"char":"🤧","fitzpatrick_scale":false,"category":"people"},"vomiting":{"keywords":["face","sick"],"char":"🤮","fitzpatrick_scale":false,"category":"people"},"mask":{"keywords":["face","sick","ill","disease"],"char":"😷","fitzpatrick_scale":false,"category":"people"},"face_with_thermometer":{"keywords":["sick","temperature","thermometer","cold","fever"],"char":"🤒","fitzpatrick_scale":false,"category":"people"},"face_with_head_bandage":{"keywords":["injured","clumsy","bandage","hurt"],"char":"🤕","fitzpatrick_scale":false,"category":"people"},"woozy":{"keywords":["face","dizzy","intoxicated","tipsy","wavy"],"char":"🥴","fitzpatrick_scale":false,"category":"people"},"sleeping":{"keywords":["face","tired","sleepy","night","zzz"],"char":"😴","fitzpatrick_scale":false,"category":"people"},"zzz":{"keywords":["sleepy","tired","dream"],"char":"💤","fitzpatrick_scale":false,"category":"people"},"poop":{"keywords":["hankey","shitface","fail","turd","shit"],"char":"💩","fitzpatrick_scale":false,"category":"people"},"smiling_imp":{"keywords":["devil","horns"],"char":"😈","fitzpatrick_scale":false,"category":"people"},"imp":{"keywords":["devil","angry","horns"],"char":"👿","fitzpatrick_scale":false,"category":"people"},"japanese_ogre":{"keywords":["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],"char":"👹","fitzpatrick_scale":false,"category":"people"},"japanese_goblin":{"keywords":["red","evil","mask","monster","scary","creepy","japanese","goblin"],"char":"👺","fitzpatrick_scale":false,"category":"people"},"skull":{"keywords":["dead","skeleton","creepy","death"],"char":"💀","fitzpatrick_scale":false,"category":"people"},"ghost":{"keywords":["halloween","spooky","scary"],"char":"👻","fitzpatrick_scale":false,"category":"people"},"alien":{"keywords":["UFO","paul","weird","outer_space"],"char":"👽","fitzpatrick_scale":false,"category":"people"},"robot":{"keywords":["computer","machine","bot"],"char":"🤖","fitzpatrick_scale":false,"category":"people"},"smiley_cat":{"keywords":["animal","cats","happy","smile"],"char":"😺","fitzpatrick_scale":false,"category":"people"},"smile_cat":{"keywords":["animal","cats","smile"],"char":"😸","fitzpatrick_scale":false,"category":"people"},"joy_cat":{"keywords":["animal","cats","haha","happy","tears"],"char":"😹","fitzpatrick_scale":false,"category":"people"},"heart_eyes_cat":{"keywords":["animal","love","like","affection","cats","valentines","heart"],"char":"😻","fitzpatrick_scale":false,"category":"people"},"smirk_cat":{"keywords":["animal","cats","smirk"],"char":"😼","fitzpatrick_scale":false,"category":"people"},"kissing_cat":{"keywords":["animal","cats","kiss"],"char":"😽","fitzpatrick_scale":false,"category":"people"},"scream_cat":{"keywords":["animal","cats","munch","scared","scream"],"char":"🙀","fitzpatrick_scale":false,"category":"people"},"crying_cat_face":{"keywords":["animal","tears","weep","sad","cats","upset","cry"],"char":"😿","fitzpatrick_scale":false,"category":"people"},"pouting_cat":{"keywords":["animal","cats"],"char":"😾","fitzpatrick_scale":false,"category":"people"},"palms_up":{"keywords":["hands","gesture","cupped","prayer"],"char":"🤲","fitzpatrick_scale":true,"category":"people"},"raised_hands":{"keywords":["gesture","hooray","yea","celebration","hands"],"char":"🙌","fitzpatrick_scale":true,"category":"people"},"clap":{"keywords":["hands","praise","applause","congrats","yay"],"char":"👏","fitzpatrick_scale":true,"category":"people"},"wave":{"keywords":["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],"char":"👋","fitzpatrick_scale":true,"category":"people"},"call_me_hand":{"keywords":["hands","gesture"],"char":"🤙","fitzpatrick_scale":true,"category":"people"},"+1":{"keywords":["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],"char":"👍","fitzpatrick_scale":true,"category":"people"},"-1":{"keywords":["thumbsdown","no","dislike","hand"],"char":"👎","fitzpatrick_scale":true,"category":"people"},"facepunch":{"keywords":["angry","violence","fist","hit","attack","hand"],"char":"👊","fitzpatrick_scale":true,"category":"people"},"fist":{"keywords":["fingers","hand","grasp"],"char":"✊","fitzpatrick_scale":true,"category":"people"},"fist_left":{"keywords":["hand","fistbump"],"char":"🤛","fitzpatrick_scale":true,"category":"people"},"fist_right":{"keywords":["hand","fistbump"],"char":"🤜","fitzpatrick_scale":true,"category":"people"},"v":{"keywords":["fingers","ohyeah","hand","peace","victory","two"],"char":"✌","fitzpatrick_scale":true,"category":"people"},"ok_hand":{"keywords":["fingers","limbs","perfect","ok","okay"],"char":"👌","fitzpatrick_scale":true,"category":"people"},"raised_hand":{"keywords":["fingers","stop","highfive","palm","ban"],"char":"✋","fitzpatrick_scale":true,"category":"people"},"raised_back_of_hand":{"keywords":["fingers","raised","backhand"],"char":"🤚","fitzpatrick_scale":true,"category":"people"},"open_hands":{"keywords":["fingers","butterfly","hands","open"],"char":"👐","fitzpatrick_scale":true,"category":"people"},"muscle":{"keywords":["arm","flex","hand","summer","strong","biceps"],"char":"💪","fitzpatrick_scale":true,"category":"people"},"pray":{"keywords":["please","hope","wish","namaste","highfive"],"char":"🙏","fitzpatrick_scale":true,"category":"people"},"foot":{"keywords":["kick","stomp"],"char":"🦶","fitzpatrick_scale":true,"category":"people"},"leg":{"keywords":["kick","limb"],"char":"🦵","fitzpatrick_scale":true,"category":"people"},"handshake":{"keywords":["agreement","shake"],"char":"🤝","fitzpatrick_scale":false,"category":"people"},"point_up":{"keywords":["hand","fingers","direction","up"],"char":"☝","fitzpatrick_scale":true,"category":"people"},"point_up_2":{"keywords":["fingers","hand","direction","up"],"char":"👆","fitzpatrick_scale":true,"category":"people"},"point_down":{"keywords":["fingers","hand","direction","down"],"char":"👇","fitzpatrick_scale":true,"category":"people"},"point_left":{"keywords":["direction","fingers","hand","left"],"char":"👈","fitzpatrick_scale":true,"category":"people"},"point_right":{"keywords":["fingers","hand","direction","right"],"char":"👉","fitzpatrick_scale":true,"category":"people"},"fu":{"keywords":["hand","fingers","rude","middle","flipping"],"char":"🖕","fitzpatrick_scale":true,"category":"people"},"raised_hand_with_fingers_splayed":{"keywords":["hand","fingers","palm"],"char":"🖐","fitzpatrick_scale":true,"category":"people"},"love_you":{"keywords":["hand","fingers","gesture"],"char":"🤟","fitzpatrick_scale":true,"category":"people"},"metal":{"keywords":["hand","fingers","evil_eye","sign_of_horns","rock_on"],"char":"🤘","fitzpatrick_scale":true,"category":"people"},"crossed_fingers":{"keywords":["good","lucky"],"char":"🤞","fitzpatrick_scale":true,"category":"people"},"vulcan_salute":{"keywords":["hand","fingers","spock","star trek"],"char":"🖖","fitzpatrick_scale":true,"category":"people"},"writing_hand":{"keywords":["lower_left_ballpoint_pen","stationery","write","compose"],"char":"✍","fitzpatrick_scale":true,"category":"people"},"selfie":{"keywords":["camera","phone"],"char":"🤳","fitzpatrick_scale":true,"category":"people"},"nail_care":{"keywords":["beauty","manicure","finger","fashion","nail"],"char":"💅","fitzpatrick_scale":true,"category":"people"},"lips":{"keywords":["mouth","kiss"],"char":"👄","fitzpatrick_scale":false,"category":"people"},"tooth":{"keywords":["teeth","dentist"],"char":"🦷","fitzpatrick_scale":false,"category":"people"},"tongue":{"keywords":["mouth","playful"],"char":"👅","fitzpatrick_scale":false,"category":"people"},"ear":{"keywords":["face","hear","sound","listen"],"char":"👂","fitzpatrick_scale":true,"category":"people"},"nose":{"keywords":["smell","sniff"],"char":"👃","fitzpatrick_scale":true,"category":"people"},"eye":{"keywords":["face","look","see","watch","stare"],"char":"👁","fitzpatrick_scale":false,"category":"people"},"eyes":{"keywords":["look","watch","stalk","peek","see"],"char":"👀","fitzpatrick_scale":false,"category":"people"},"brain":{"keywords":["smart","intelligent"],"char":"🧠","fitzpatrick_scale":false,"category":"people"},"bust_in_silhouette":{"keywords":["user","person","human"],"char":"👤","fitzpatrick_scale":false,"category":"people"},"busts_in_silhouette":{"keywords":["user","person","human","group","team"],"char":"👥","fitzpatrick_scale":false,"category":"people"},"speaking_head":{"keywords":["user","person","human","sing","say","talk"],"char":"🗣","fitzpatrick_scale":false,"category":"people"},"baby":{"keywords":["child","boy","girl","toddler"],"char":"👶","fitzpatrick_scale":true,"category":"people"},"child":{"keywords":["gender-neutral","young"],"char":"🧒","fitzpatrick_scale":true,"category":"people"},"boy":{"keywords":["man","male","guy","teenager"],"char":"👦","fitzpatrick_scale":true,"category":"people"},"girl":{"keywords":["female","woman","teenager"],"char":"👧","fitzpatrick_scale":true,"category":"people"},"adult":{"keywords":["gender-neutral","person"],"char":"🧑","fitzpatrick_scale":true,"category":"people"},"man":{"keywords":["mustache","father","dad","guy","classy","sir","moustache"],"char":"👨","fitzpatrick_scale":true,"category":"people"},"woman":{"keywords":["female","girls","lady"],"char":"👩","fitzpatrick_scale":true,"category":"people"},"blonde_woman":{"keywords":["woman","female","girl","blonde","person"],"char":"👱‍♀️","fitzpatrick_scale":true,"category":"people"},"blonde_man":{"keywords":["man","male","boy","blonde","guy","person"],"char":"👱","fitzpatrick_scale":true,"category":"people"},"bearded_person":{"keywords":["person","bewhiskered"],"char":"🧔","fitzpatrick_scale":true,"category":"people"},"older_adult":{"keywords":["human","elder","senior","gender-neutral"],"char":"🧓","fitzpatrick_scale":true,"category":"people"},"older_man":{"keywords":["human","male","men","old","elder","senior"],"char":"👴","fitzpatrick_scale":true,"category":"people"},"older_woman":{"keywords":["human","female","women","lady","old","elder","senior"],"char":"👵","fitzpatrick_scale":true,"category":"people"},"man_with_gua_pi_mao":{"keywords":["male","boy","chinese"],"char":"👲","fitzpatrick_scale":true,"category":"people"},"woman_with_headscarf":{"keywords":["female","hijab","mantilla","tichel"],"char":"🧕","fitzpatrick_scale":true,"category":"people"},"woman_with_turban":{"keywords":["female","indian","hinduism","arabs","woman"],"char":"👳‍♀️","fitzpatrick_scale":true,"category":"people"},"man_with_turban":{"keywords":["male","indian","hinduism","arabs"],"char":"👳","fitzpatrick_scale":true,"category":"people"},"policewoman":{"keywords":["woman","police","law","legal","enforcement","arrest","911","female"],"char":"👮‍♀️","fitzpatrick_scale":true,"category":"people"},"policeman":{"keywords":["man","police","law","legal","enforcement","arrest","911"],"char":"👮","fitzpatrick_scale":true,"category":"people"},"construction_worker_woman":{"keywords":["female","human","wip","build","construction","worker","labor","woman"],"char":"👷‍♀️","fitzpatrick_scale":true,"category":"people"},"construction_worker_man":{"keywords":["male","human","wip","guy","build","construction","worker","labor"],"char":"👷","fitzpatrick_scale":true,"category":"people"},"guardswoman":{"keywords":["uk","gb","british","female","royal","woman"],"char":"💂‍♀️","fitzpatrick_scale":true,"category":"people"},"guardsman":{"keywords":["uk","gb","british","male","guy","royal"],"char":"💂","fitzpatrick_scale":true,"category":"people"},"female_detective":{"keywords":["human","spy","detective","female","woman"],"char":"🕵️‍♀️","fitzpatrick_scale":true,"category":"people"},"male_detective":{"keywords":["human","spy","detective"],"char":"🕵","fitzpatrick_scale":true,"category":"people"},"woman_health_worker":{"keywords":["doctor","nurse","therapist","healthcare","woman","human"],"char":"👩‍⚕️","fitzpatrick_scale":true,"category":"people"},"man_health_worker":{"keywords":["doctor","nurse","therapist","healthcare","man","human"],"char":"👨‍⚕️","fitzpatrick_scale":true,"category":"people"},"woman_farmer":{"keywords":["rancher","gardener","woman","human"],"char":"👩‍🌾","fitzpatrick_scale":true,"category":"people"},"man_farmer":{"keywords":["rancher","gardener","man","human"],"char":"👨‍🌾","fitzpatrick_scale":true,"category":"people"},"woman_cook":{"keywords":["chef","woman","human"],"char":"👩‍🍳","fitzpatrick_scale":true,"category":"people"},"man_cook":{"keywords":["chef","man","human"],"char":"👨‍🍳","fitzpatrick_scale":true,"category":"people"},"woman_student":{"keywords":["graduate","woman","human"],"char":"👩‍🎓","fitzpatrick_scale":true,"category":"people"},"man_student":{"keywords":["graduate","man","human"],"char":"👨‍🎓","fitzpatrick_scale":true,"category":"people"},"woman_singer":{"keywords":["rockstar","entertainer","woman","human"],"char":"👩‍🎤","fitzpatrick_scale":true,"category":"people"},"man_singer":{"keywords":["rockstar","entertainer","man","human"],"char":"👨‍🎤","fitzpatrick_scale":true,"category":"people"},"woman_teacher":{"keywords":["instructor","professor","woman","human"],"char":"👩‍🏫","fitzpatrick_scale":true,"category":"people"},"man_teacher":{"keywords":["instructor","professor","man","human"],"char":"👨‍🏫","fitzpatrick_scale":true,"category":"people"},"woman_factory_worker":{"keywords":["assembly","industrial","woman","human"],"char":"👩‍🏭","fitzpatrick_scale":true,"category":"people"},"man_factory_worker":{"keywords":["assembly","industrial","man","human"],"char":"👨‍🏭","fitzpatrick_scale":true,"category":"people"},"woman_technologist":{"keywords":["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],"char":"👩‍💻","fitzpatrick_scale":true,"category":"people"},"man_technologist":{"keywords":["coder","developer","engineer","programmer","software","man","human","laptop","computer"],"char":"👨‍💻","fitzpatrick_scale":true,"category":"people"},"woman_office_worker":{"keywords":["business","manager","woman","human"],"char":"👩‍💼","fitzpatrick_scale":true,"category":"people"},"man_office_worker":{"keywords":["business","manager","man","human"],"char":"👨‍💼","fitzpatrick_scale":true,"category":"people"},"woman_mechanic":{"keywords":["plumber","woman","human","wrench"],"char":"👩‍🔧","fitzpatrick_scale":true,"category":"people"},"man_mechanic":{"keywords":["plumber","man","human","wrench"],"char":"👨‍🔧","fitzpatrick_scale":true,"category":"people"},"woman_scientist":{"keywords":["biologist","chemist","engineer","physicist","woman","human"],"char":"👩‍🔬","fitzpatrick_scale":true,"category":"people"},"man_scientist":{"keywords":["biologist","chemist","engineer","physicist","man","human"],"char":"👨‍🔬","fitzpatrick_scale":true,"category":"people"},"woman_artist":{"keywords":["painter","woman","human"],"char":"👩‍🎨","fitzpatrick_scale":true,"category":"people"},"man_artist":{"keywords":["painter","man","human"],"char":"👨‍🎨","fitzpatrick_scale":true,"category":"people"},"woman_firefighter":{"keywords":["fireman","woman","human"],"char":"👩‍🚒","fitzpatrick_scale":true,"category":"people"},"man_firefighter":{"keywords":["fireman","man","human"],"char":"👨‍🚒","fitzpatrick_scale":true,"category":"people"},"woman_pilot":{"keywords":["aviator","plane","woman","human"],"char":"👩‍✈️","fitzpatrick_scale":true,"category":"people"},"man_pilot":{"keywords":["aviator","plane","man","human"],"char":"👨‍✈️","fitzpatrick_scale":true,"category":"people"},"woman_astronaut":{"keywords":["space","rocket","woman","human"],"char":"👩‍🚀","fitzpatrick_scale":true,"category":"people"},"man_astronaut":{"keywords":["space","rocket","man","human"],"char":"👨‍🚀","fitzpatrick_scale":true,"category":"people"},"woman_judge":{"keywords":["justice","court","woman","human"],"char":"👩‍⚖️","fitzpatrick_scale":true,"category":"people"},"man_judge":{"keywords":["justice","court","man","human"],"char":"👨‍⚖️","fitzpatrick_scale":true,"category":"people"},"woman_superhero":{"keywords":["woman","female","good","heroine","superpowers"],"char":"🦸‍♀️","fitzpatrick_scale":true,"category":"people"},"man_superhero":{"keywords":["man","male","good","hero","superpowers"],"char":"🦸‍♂️","fitzpatrick_scale":true,"category":"people"},"woman_supervillain":{"keywords":["woman","female","evil","bad","criminal","heroine","superpowers"],"char":"🦹‍♀️","fitzpatrick_scale":true,"category":"people"},"man_supervillain":{"keywords":["man","male","evil","bad","criminal","hero","superpowers"],"char":"🦹‍♂️","fitzpatrick_scale":true,"category":"people"},"mrs_claus":{"keywords":["woman","female","xmas","mother christmas"],"char":"🤶","fitzpatrick_scale":true,"category":"people"},"santa":{"keywords":["festival","man","male","xmas","father christmas"],"char":"🎅","fitzpatrick_scale":true,"category":"people"},"sorceress":{"keywords":["woman","female","mage","witch"],"char":"🧙‍♀️","fitzpatrick_scale":true,"category":"people"},"wizard":{"keywords":["man","male","mage","sorcerer"],"char":"🧙‍♂️","fitzpatrick_scale":true,"category":"people"},"woman_elf":{"keywords":["woman","female"],"char":"🧝‍♀️","fitzpatrick_scale":true,"category":"people"},"man_elf":{"keywords":["man","male"],"char":"🧝‍♂️","fitzpatrick_scale":true,"category":"people"},"woman_vampire":{"keywords":["woman","female"],"char":"🧛‍♀️","fitzpatrick_scale":true,"category":"people"},"man_vampire":{"keywords":["man","male","dracula"],"char":"🧛‍♂️","fitzpatrick_scale":true,"category":"people"},"woman_zombie":{"keywords":["woman","female","undead","walking dead"],"char":"🧟‍♀️","fitzpatrick_scale":false,"category":"people"},"man_zombie":{"keywords":["man","male","dracula","undead","walking dead"],"char":"🧟‍♂️","fitzpatrick_scale":false,"category":"people"},"woman_genie":{"keywords":["woman","female"],"char":"🧞‍♀️","fitzpatrick_scale":false,"category":"people"},"man_genie":{"keywords":["man","male"],"char":"🧞‍♂️","fitzpatrick_scale":false,"category":"people"},"mermaid":{"keywords":["woman","female","merwoman","ariel"],"char":"🧜‍♀️","fitzpatrick_scale":true,"category":"people"},"merman":{"keywords":["man","male","triton"],"char":"🧜‍♂️","fitzpatrick_scale":true,"category":"people"},"woman_fairy":{"keywords":["woman","female"],"char":"🧚‍♀️","fitzpatrick_scale":true,"category":"people"},"man_fairy":{"keywords":["man","male"],"char":"🧚‍♂️","fitzpatrick_scale":true,"category":"people"},"angel":{"keywords":["heaven","wings","halo"],"char":"👼","fitzpatrick_scale":true,"category":"people"},"pregnant_woman":{"keywords":["baby"],"char":"🤰","fitzpatrick_scale":true,"category":"people"},"breastfeeding":{"keywords":["nursing","baby"],"char":"🤱","fitzpatrick_scale":true,"category":"people"},"princess":{"keywords":["girl","woman","female","blond","crown","royal","queen"],"char":"👸","fitzpatrick_scale":true,"category":"people"},"prince":{"keywords":["boy","man","male","crown","royal","king"],"char":"🤴","fitzpatrick_scale":true,"category":"people"},"bride_with_veil":{"keywords":["couple","marriage","wedding","woman","bride"],"char":"👰","fitzpatrick_scale":true,"category":"people"},"man_in_tuxedo":{"keywords":["couple","marriage","wedding","groom"],"char":"🤵","fitzpatrick_scale":true,"category":"people"},"running_woman":{"keywords":["woman","walking","exercise","race","running","female"],"char":"🏃‍♀️","fitzpatrick_scale":true,"category":"people"},"running_man":{"keywords":["man","walking","exercise","race","running"],"char":"🏃","fitzpatrick_scale":true,"category":"people"},"walking_woman":{"keywords":["human","feet","steps","woman","female"],"char":"🚶‍♀️","fitzpatrick_scale":true,"category":"people"},"walking_man":{"keywords":["human","feet","steps"],"char":"🚶","fitzpatrick_scale":true,"category":"people"},"dancer":{"keywords":["female","girl","woman","fun"],"char":"💃","fitzpatrick_scale":true,"category":"people"},"man_dancing":{"keywords":["male","boy","fun","dancer"],"char":"🕺","fitzpatrick_scale":true,"category":"people"},"dancing_women":{"keywords":["female","bunny","women","girls"],"char":"👯","fitzpatrick_scale":false,"category":"people"},"dancing_men":{"keywords":["male","bunny","men","boys"],"char":"👯‍♂️","fitzpatrick_scale":false,"category":"people"},"couple":{"keywords":["pair","people","human","love","date","dating","like","affection","valentines","marriage"],"char":"👫","fitzpatrick_scale":false,"category":"people"},"two_men_holding_hands":{"keywords":["pair","couple","love","like","bromance","friendship","people","human"],"char":"👬","fitzpatrick_scale":false,"category":"people"},"two_women_holding_hands":{"keywords":["pair","friendship","couple","love","like","female","people","human"],"char":"👭","fitzpatrick_scale":false,"category":"people"},"bowing_woman":{"keywords":["woman","female","girl"],"char":"🙇‍♀️","fitzpatrick_scale":true,"category":"people"},"bowing_man":{"keywords":["man","male","boy"],"char":"🙇","fitzpatrick_scale":true,"category":"people"},"man_facepalming":{"keywords":["man","male","boy","disbelief"],"char":"🤦‍♂️","fitzpatrick_scale":true,"category":"people"},"woman_facepalming":{"keywords":["woman","female","girl","disbelief"],"char":"🤦‍♀️","fitzpatrick_scale":true,"category":"people"},"woman_shrugging":{"keywords":["woman","female","girl","confused","indifferent","doubt"],"char":"🤷","fitzpatrick_scale":true,"category":"people"},"man_shrugging":{"keywords":["man","male","boy","confused","indifferent","doubt"],"char":"🤷‍♂️","fitzpatrick_scale":true,"category":"people"},"tipping_hand_woman":{"keywords":["female","girl","woman","human","information"],"char":"💁","fitzpatrick_scale":true,"category":"people"},"tipping_hand_man":{"keywords":["male","boy","man","human","information"],"char":"💁‍♂️","fitzpatrick_scale":true,"category":"people"},"no_good_woman":{"keywords":["female","girl","woman","nope"],"char":"🙅","fitzpatrick_scale":true,"category":"people"},"no_good_man":{"keywords":["male","boy","man","nope"],"char":"🙅‍♂️","fitzpatrick_scale":true,"category":"people"},"ok_woman":{"keywords":["women","girl","female","pink","human","woman"],"char":"🙆","fitzpatrick_scale":true,"category":"people"},"ok_man":{"keywords":["men","boy","male","blue","human","man"],"char":"🙆‍♂️","fitzpatrick_scale":true,"category":"people"},"raising_hand_woman":{"keywords":["female","girl","woman"],"char":"🙋","fitzpatrick_scale":true,"category":"people"},"raising_hand_man":{"keywords":["male","boy","man"],"char":"🙋‍♂️","fitzpatrick_scale":true,"category":"people"},"pouting_woman":{"keywords":["female","girl","woman"],"char":"🙎","fitzpatrick_scale":true,"category":"people"},"pouting_man":{"keywords":["male","boy","man"],"char":"🙎‍♂️","fitzpatrick_scale":true,"category":"people"},"frowning_woman":{"keywords":["female","girl","woman","sad","depressed","discouraged","unhappy"],"char":"🙍","fitzpatrick_scale":true,"category":"people"},"frowning_man":{"keywords":["male","boy","man","sad","depressed","discouraged","unhappy"],"char":"🙍‍♂️","fitzpatrick_scale":true,"category":"people"},"haircut_woman":{"keywords":["female","girl","woman"],"char":"💇","fitzpatrick_scale":true,"category":"people"},"haircut_man":{"keywords":["male","boy","man"],"char":"💇‍♂️","fitzpatrick_scale":true,"category":"people"},"massage_woman":{"keywords":["female","girl","woman","head"],"char":"💆","fitzpatrick_scale":true,"category":"people"},"massage_man":{"keywords":["male","boy","man","head"],"char":"💆‍♂️","fitzpatrick_scale":true,"category":"people"},"woman_in_steamy_room":{"keywords":["female","woman","spa","steamroom","sauna"],"char":"🧖‍♀️","fitzpatrick_scale":true,"category":"people"},"man_in_steamy_room":{"keywords":["male","man","spa","steamroom","sauna"],"char":"🧖‍♂️","fitzpatrick_scale":true,"category":"people"},"couple_with_heart_woman_man":{"keywords":["pair","love","like","affection","human","dating","valentines","marriage"],"char":"💑","fitzpatrick_scale":false,"category":"people"},"couple_with_heart_woman_woman":{"keywords":["pair","love","like","affection","human","dating","valentines","marriage"],"char":"👩‍❤️‍👩","fitzpatrick_scale":false,"category":"people"},"couple_with_heart_man_man":{"keywords":["pair","love","like","affection","human","dating","valentines","marriage"],"char":"👨‍❤️‍👨","fitzpatrick_scale":false,"category":"people"},"couplekiss_man_woman":{"keywords":["pair","valentines","love","like","dating","marriage"],"char":"💏","fitzpatrick_scale":false,"category":"people"},"couplekiss_woman_woman":{"keywords":["pair","valentines","love","like","dating","marriage"],"char":"👩‍❤️‍💋‍👩","fitzpatrick_scale":false,"category":"people"},"couplekiss_man_man":{"keywords":["pair","valentines","love","like","dating","marriage"],"char":"👨‍❤️‍💋‍👨","fitzpatrick_scale":false,"category":"people"},"family_man_woman_boy":{"keywords":["home","parents","child","mom","dad","father","mother","people","human"],"char":"👪","fitzpatrick_scale":false,"category":"people"},"family_man_woman_girl":{"keywords":["home","parents","people","human","child"],"char":"👨‍👩‍👧","fitzpatrick_scale":false,"category":"people"},"family_man_woman_girl_boy":{"keywords":["home","parents","people","human","children"],"char":"👨‍👩‍👧‍👦","fitzpatrick_scale":false,"category":"people"},"family_man_woman_boy_boy":{"keywords":["home","parents","people","human","children"],"char":"👨‍👩‍👦‍👦","fitzpatrick_scale":false,"category":"people"},"family_man_woman_girl_girl":{"keywords":["home","parents","people","human","children"],"char":"👨‍👩‍👧‍👧","fitzpatrick_scale":false,"category":"people"},"family_woman_woman_boy":{"keywords":["home","parents","people","human","children"],"char":"👩‍👩‍👦","fitzpatrick_scale":false,"category":"people"},"family_woman_woman_girl":{"keywords":["home","parents","people","human","children"],"char":"👩‍👩‍👧","fitzpatrick_scale":false,"category":"people"},"family_woman_woman_girl_boy":{"keywords":["home","parents","people","human","children"],"char":"👩‍👩‍👧‍👦","fitzpatrick_scale":false,"category":"people"},"family_woman_woman_boy_boy":{"keywords":["home","parents","people","human","children"],"char":"👩‍👩‍👦‍👦","fitzpatrick_scale":false,"category":"people"},"family_woman_woman_girl_girl":{"keywords":["home","parents","people","human","children"],"char":"👩‍👩‍👧‍👧","fitzpatrick_scale":false,"category":"people"},"family_man_man_boy":{"keywords":["home","parents","people","human","children"],"char":"👨‍👨‍👦","fitzpatrick_scale":false,"category":"people"},"family_man_man_girl":{"keywords":["home","parents","people","human","children"],"char":"👨‍👨‍👧","fitzpatrick_scale":false,"category":"people"},"family_man_man_girl_boy":{"keywords":["home","parents","people","human","children"],"char":"👨‍👨‍👧‍👦","fitzpatrick_scale":false,"category":"people"},"family_man_man_boy_boy":{"keywords":["home","parents","people","human","children"],"char":"👨‍👨‍👦‍👦","fitzpatrick_scale":false,"category":"people"},"family_man_man_girl_girl":{"keywords":["home","parents","people","human","children"],"char":"👨‍👨‍👧‍👧","fitzpatrick_scale":false,"category":"people"},"family_woman_boy":{"keywords":["home","parent","people","human","child"],"char":"👩‍👦","fitzpatrick_scale":false,"category":"people"},"family_woman_girl":{"keywords":["home","parent","people","human","child"],"char":"👩‍👧","fitzpatrick_scale":false,"category":"people"},"family_woman_girl_boy":{"keywords":["home","parent","people","human","children"],"char":"👩‍👧‍👦","fitzpatrick_scale":false,"category":"people"},"family_woman_boy_boy":{"keywords":["home","parent","people","human","children"],"char":"👩‍👦‍👦","fitzpatrick_scale":false,"category":"people"},"family_woman_girl_girl":{"keywords":["home","parent","people","human","children"],"char":"👩‍👧‍👧","fitzpatrick_scale":false,"category":"people"},"family_man_boy":{"keywords":["home","parent","people","human","child"],"char":"👨‍👦","fitzpatrick_scale":false,"category":"people"},"family_man_girl":{"keywords":["home","parent","people","human","child"],"char":"👨‍👧","fitzpatrick_scale":false,"category":"people"},"family_man_girl_boy":{"keywords":["home","parent","people","human","children"],"char":"👨‍👧‍👦","fitzpatrick_scale":false,"category":"people"},"family_man_boy_boy":{"keywords":["home","parent","people","human","children"],"char":"👨‍👦‍👦","fitzpatrick_scale":false,"category":"people"},"family_man_girl_girl":{"keywords":["home","parent","people","human","children"],"char":"👨‍👧‍👧","fitzpatrick_scale":false,"category":"people"},"yarn":{"keywords":["ball","crochet","knit"],"char":"🧶","fitzpatrick_scale":false,"category":"people"},"thread":{"keywords":["needle","sewing","spool","string"],"char":"🧵","fitzpatrick_scale":false,"category":"people"},"coat":{"keywords":["jacket"],"char":"🧥","fitzpatrick_scale":false,"category":"people"},"labcoat":{"keywords":["doctor","experiment","scientist","chemist"],"char":"🥼","fitzpatrick_scale":false,"category":"people"},"womans_clothes":{"keywords":["fashion","shopping_bags","female"],"char":"👚","fitzpatrick_scale":false,"category":"people"},"tshirt":{"keywords":["fashion","cloth","casual","shirt","tee"],"char":"👕","fitzpatrick_scale":false,"category":"people"},"jeans":{"keywords":["fashion","shopping"],"char":"👖","fitzpatrick_scale":false,"category":"people"},"necktie":{"keywords":["shirt","suitup","formal","fashion","cloth","business"],"char":"👔","fitzpatrick_scale":false,"category":"people"},"dress":{"keywords":["clothes","fashion","shopping"],"char":"👗","fitzpatrick_scale":false,"category":"people"},"bikini":{"keywords":["swimming","female","woman","girl","fashion","beach","summer"],"char":"👙","fitzpatrick_scale":false,"category":"people"},"kimono":{"keywords":["dress","fashion","women","female","japanese"],"char":"👘","fitzpatrick_scale":false,"category":"people"},"lipstick":{"keywords":["female","girl","fashion","woman"],"char":"💄","fitzpatrick_scale":false,"category":"people"},"kiss":{"keywords":["face","lips","love","like","affection","valentines"],"char":"💋","fitzpatrick_scale":false,"category":"people"},"footprints":{"keywords":["feet","tracking","walking","beach"],"char":"👣","fitzpatrick_scale":false,"category":"people"},"flat_shoe":{"keywords":["ballet","slip-on","slipper"],"char":"🥿","fitzpatrick_scale":false,"category":"people"},"high_heel":{"keywords":["fashion","shoes","female","pumps","stiletto"],"char":"👠","fitzpatrick_scale":false,"category":"people"},"sandal":{"keywords":["shoes","fashion","flip flops"],"char":"👡","fitzpatrick_scale":false,"category":"people"},"boot":{"keywords":["shoes","fashion"],"char":"👢","fitzpatrick_scale":false,"category":"people"},"mans_shoe":{"keywords":["fashion","male"],"char":"👞","fitzpatrick_scale":false,"category":"people"},"athletic_shoe":{"keywords":["shoes","sports","sneakers"],"char":"👟","fitzpatrick_scale":false,"category":"people"},"hiking_boot":{"keywords":["backpacking","camping","hiking"],"char":"🥾","fitzpatrick_scale":false,"category":"people"},"socks":{"keywords":["stockings","clothes"],"char":"🧦","fitzpatrick_scale":false,"category":"people"},"gloves":{"keywords":["hands","winter","clothes"],"char":"🧤","fitzpatrick_scale":false,"category":"people"},"scarf":{"keywords":["neck","winter","clothes"],"char":"🧣","fitzpatrick_scale":false,"category":"people"},"womans_hat":{"keywords":["fashion","accessories","female","lady","spring"],"char":"👒","fitzpatrick_scale":false,"category":"people"},"tophat":{"keywords":["magic","gentleman","classy","circus"],"char":"🎩","fitzpatrick_scale":false,"category":"people"},"billed_hat":{"keywords":["cap","baseball"],"char":"🧢","fitzpatrick_scale":false,"category":"people"},"rescue_worker_helmet":{"keywords":["construction","build"],"char":"⛑","fitzpatrick_scale":false,"category":"people"},"mortar_board":{"keywords":["school","college","degree","university","graduation","cap","hat","legal","learn","education"],"char":"🎓","fitzpatrick_scale":false,"category":"people"},"crown":{"keywords":["king","kod","leader","royalty","lord"],"char":"👑","fitzpatrick_scale":false,"category":"people"},"school_satchel":{"keywords":["student","education","bag","backpack"],"char":"🎒","fitzpatrick_scale":false,"category":"people"},"luggage":{"keywords":["packing","travel"],"char":"🧳","fitzpatrick_scale":false,"category":"people"},"pouch":{"keywords":["bag","accessories","shopping"],"char":"👝","fitzpatrick_scale":false,"category":"people"},"purse":{"keywords":["fashion","accessories","money","sales","shopping"],"char":"👛","fitzpatrick_scale":false,"category":"people"},"handbag":{"keywords":["fashion","accessory","accessories","shopping"],"char":"👜","fitzpatrick_scale":false,"category":"people"},"briefcase":{"keywords":["business","documents","work","law","legal","job","career"],"char":"💼","fitzpatrick_scale":false,"category":"people"},"eyeglasses":{"keywords":["fashion","accessories","eyesight","nerdy","dork","geek"],"char":"👓","fitzpatrick_scale":false,"category":"people"},"dark_sunglasses":{"keywords":["face","cool","accessories"],"char":"🕶","fitzpatrick_scale":false,"category":"people"},"goggles":{"keywords":["eyes","protection","safety"],"char":"🥽","fitzpatrick_scale":false,"category":"people"},"ring":{"keywords":["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],"char":"💍","fitzpatrick_scale":false,"category":"people"},"closed_umbrella":{"keywords":["weather","rain","drizzle"],"char":"🌂","fitzpatrick_scale":false,"category":"people"},"dog":{"keywords":["animal","friend","nature","woof","puppy","pet","faithful"],"char":"🐶","fitzpatrick_scale":false,"category":"animals_and_nature"},"cat":{"keywords":["animal","meow","nature","pet","kitten"],"char":"🐱","fitzpatrick_scale":false,"category":"animals_and_nature"},"mouse":{"keywords":["animal","nature","cheese_wedge","rodent"],"char":"🐭","fitzpatrick_scale":false,"category":"animals_and_nature"},"hamster":{"keywords":["animal","nature"],"char":"🐹","fitzpatrick_scale":false,"category":"animals_and_nature"},"rabbit":{"keywords":["animal","nature","pet","spring","magic","bunny"],"char":"🐰","fitzpatrick_scale":false,"category":"animals_and_nature"},"fox_face":{"keywords":["animal","nature","face"],"char":"🦊","fitzpatrick_scale":false,"category":"animals_and_nature"},"bear":{"keywords":["animal","nature","wild"],"char":"🐻","fitzpatrick_scale":false,"category":"animals_and_nature"},"panda_face":{"keywords":["animal","nature","panda"],"char":"🐼","fitzpatrick_scale":false,"category":"animals_and_nature"},"koala":{"keywords":["animal","nature"],"char":"🐨","fitzpatrick_scale":false,"category":"animals_and_nature"},"tiger":{"keywords":["animal","cat","danger","wild","nature","roar"],"char":"🐯","fitzpatrick_scale":false,"category":"animals_and_nature"},"lion":{"keywords":["animal","nature"],"char":"🦁","fitzpatrick_scale":false,"category":"animals_and_nature"},"cow":{"keywords":["beef","ox","animal","nature","moo","milk"],"char":"🐮","fitzpatrick_scale":false,"category":"animals_and_nature"},"pig":{"keywords":["animal","oink","nature"],"char":"🐷","fitzpatrick_scale":false,"category":"animals_and_nature"},"pig_nose":{"keywords":["animal","oink"],"char":"🐽","fitzpatrick_scale":false,"category":"animals_and_nature"},"frog":{"keywords":["animal","nature","croak","toad"],"char":"🐸","fitzpatrick_scale":false,"category":"animals_and_nature"},"squid":{"keywords":["animal","nature","ocean","sea"],"char":"🦑","fitzpatrick_scale":false,"category":"animals_and_nature"},"octopus":{"keywords":["animal","creature","ocean","sea","nature","beach"],"char":"🐙","fitzpatrick_scale":false,"category":"animals_and_nature"},"shrimp":{"keywords":["animal","ocean","nature","seafood"],"char":"🦐","fitzpatrick_scale":false,"category":"animals_and_nature"},"monkey_face":{"keywords":["animal","nature","circus"],"char":"🐵","fitzpatrick_scale":false,"category":"animals_and_nature"},"gorilla":{"keywords":["animal","nature","circus"],"char":"🦍","fitzpatrick_scale":false,"category":"animals_and_nature"},"see_no_evil":{"keywords":["monkey","animal","nature","haha"],"char":"🙈","fitzpatrick_scale":false,"category":"animals_and_nature"},"hear_no_evil":{"keywords":["animal","monkey","nature"],"char":"🙉","fitzpatrick_scale":false,"category":"animals_and_nature"},"speak_no_evil":{"keywords":["monkey","animal","nature","omg"],"char":"🙊","fitzpatrick_scale":false,"category":"animals_and_nature"},"monkey":{"keywords":["animal","nature","banana","circus"],"char":"🐒","fitzpatrick_scale":false,"category":"animals_and_nature"},"chicken":{"keywords":["animal","cluck","nature","bird"],"char":"🐔","fitzpatrick_scale":false,"category":"animals_and_nature"},"penguin":{"keywords":["animal","nature"],"char":"🐧","fitzpatrick_scale":false,"category":"animals_and_nature"},"bird":{"keywords":["animal","nature","fly","tweet","spring"],"char":"🐦","fitzpatrick_scale":false,"category":"animals_and_nature"},"baby_chick":{"keywords":["animal","chicken","bird"],"char":"🐤","fitzpatrick_scale":false,"category":"animals_and_nature"},"hatching_chick":{"keywords":["animal","chicken","egg","born","baby","bird"],"char":"🐣","fitzpatrick_scale":false,"category":"animals_and_nature"},"hatched_chick":{"keywords":["animal","chicken","baby","bird"],"char":"🐥","fitzpatrick_scale":false,"category":"animals_and_nature"},"duck":{"keywords":["animal","nature","bird","mallard"],"char":"🦆","fitzpatrick_scale":false,"category":"animals_and_nature"},"eagle":{"keywords":["animal","nature","bird"],"char":"🦅","fitzpatrick_scale":false,"category":"animals_and_nature"},"owl":{"keywords":["animal","nature","bird","hoot"],"char":"🦉","fitzpatrick_scale":false,"category":"animals_and_nature"},"bat":{"keywords":["animal","nature","blind","vampire"],"char":"🦇","fitzpatrick_scale":false,"category":"animals_and_nature"},"wolf":{"keywords":["animal","nature","wild"],"char":"🐺","fitzpatrick_scale":false,"category":"animals_and_nature"},"boar":{"keywords":["animal","nature"],"char":"🐗","fitzpatrick_scale":false,"category":"animals_and_nature"},"horse":{"keywords":["animal","brown","nature"],"char":"🐴","fitzpatrick_scale":false,"category":"animals_and_nature"},"unicorn":{"keywords":["animal","nature","mystical"],"char":"🦄","fitzpatrick_scale":false,"category":"animals_and_nature"},"honeybee":{"keywords":["animal","insect","nature","bug","spring","honey"],"char":"🐝","fitzpatrick_scale":false,"category":"animals_and_nature"},"bug":{"keywords":["animal","insect","nature","worm"],"char":"🐛","fitzpatrick_scale":false,"category":"animals_and_nature"},"butterfly":{"keywords":["animal","insect","nature","caterpillar"],"char":"🦋","fitzpatrick_scale":false,"category":"animals_and_nature"},"snail":{"keywords":["slow","animal","shell"],"char":"🐌","fitzpatrick_scale":false,"category":"animals_and_nature"},"beetle":{"keywords":["animal","insect","nature","ladybug"],"char":"🐞","fitzpatrick_scale":false,"category":"animals_and_nature"},"ant":{"keywords":["animal","insect","nature","bug"],"char":"🐜","fitzpatrick_scale":false,"category":"animals_and_nature"},"grasshopper":{"keywords":["animal","cricket","chirp"],"char":"🦗","fitzpatrick_scale":false,"category":"animals_and_nature"},"spider":{"keywords":["animal","arachnid"],"char":"🕷","fitzpatrick_scale":false,"category":"animals_and_nature"},"scorpion":{"keywords":["animal","arachnid"],"char":"🦂","fitzpatrick_scale":false,"category":"animals_and_nature"},"crab":{"keywords":["animal","crustacean"],"char":"🦀","fitzpatrick_scale":false,"category":"animals_and_nature"},"snake":{"keywords":["animal","evil","nature","hiss","python"],"char":"🐍","fitzpatrick_scale":false,"category":"animals_and_nature"},"lizard":{"keywords":["animal","nature","reptile"],"char":"🦎","fitzpatrick_scale":false,"category":"animals_and_nature"},"t-rex":{"keywords":["animal","nature","dinosaur","tyrannosaurus","extinct"],"char":"🦖","fitzpatrick_scale":false,"category":"animals_and_nature"},"sauropod":{"keywords":["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],"char":"🦕","fitzpatrick_scale":false,"category":"animals_and_nature"},"turtle":{"keywords":["animal","slow","nature","tortoise"],"char":"🐢","fitzpatrick_scale":false,"category":"animals_and_nature"},"tropical_fish":{"keywords":["animal","swim","ocean","beach","nemo"],"char":"🐠","fitzpatrick_scale":false,"category":"animals_and_nature"},"fish":{"keywords":["animal","food","nature"],"char":"🐟","fitzpatrick_scale":false,"category":"animals_and_nature"},"blowfish":{"keywords":["animal","nature","food","sea","ocean"],"char":"🐡","fitzpatrick_scale":false,"category":"animals_and_nature"},"dolphin":{"keywords":["animal","nature","fish","sea","ocean","flipper","fins","beach"],"char":"🐬","fitzpatrick_scale":false,"category":"animals_and_nature"},"shark":{"keywords":["animal","nature","fish","sea","ocean","jaws","fins","beach"],"char":"🦈","fitzpatrick_scale":false,"category":"animals_and_nature"},"whale":{"keywords":["animal","nature","sea","ocean"],"char":"🐳","fitzpatrick_scale":false,"category":"animals_and_nature"},"whale2":{"keywords":["animal","nature","sea","ocean"],"char":"🐋","fitzpatrick_scale":false,"category":"animals_and_nature"},"crocodile":{"keywords":["animal","nature","reptile","lizard","alligator"],"char":"🐊","fitzpatrick_scale":false,"category":"animals_and_nature"},"leopard":{"keywords":["animal","nature"],"char":"🐆","fitzpatrick_scale":false,"category":"animals_and_nature"},"zebra":{"keywords":["animal","nature","stripes","safari"],"char":"🦓","fitzpatrick_scale":false,"category":"animals_and_nature"},"tiger2":{"keywords":["animal","nature","roar"],"char":"🐅","fitzpatrick_scale":false,"category":"animals_and_nature"},"water_buffalo":{"keywords":["animal","nature","ox","cow"],"char":"🐃","fitzpatrick_scale":false,"category":"animals_and_nature"},"ox":{"keywords":["animal","cow","beef"],"char":"🐂","fitzpatrick_scale":false,"category":"animals_and_nature"},"cow2":{"keywords":["beef","ox","animal","nature","moo","milk"],"char":"🐄","fitzpatrick_scale":false,"category":"animals_and_nature"},"deer":{"keywords":["animal","nature","horns","venison"],"char":"🦌","fitzpatrick_scale":false,"category":"animals_and_nature"},"dromedary_camel":{"keywords":["animal","hot","desert","hump"],"char":"🐪","fitzpatrick_scale":false,"category":"animals_and_nature"},"camel":{"keywords":["animal","nature","hot","desert","hump"],"char":"🐫","fitzpatrick_scale":false,"category":"animals_and_nature"},"giraffe":{"keywords":["animal","nature","spots","safari"],"char":"🦒","fitzpatrick_scale":false,"category":"animals_and_nature"},"elephant":{"keywords":["animal","nature","nose","th","circus"],"char":"🐘","fitzpatrick_scale":false,"category":"animals_and_nature"},"rhinoceros":{"keywords":["animal","nature","horn"],"char":"🦏","fitzpatrick_scale":false,"category":"animals_and_nature"},"goat":{"keywords":["animal","nature"],"char":"🐐","fitzpatrick_scale":false,"category":"animals_and_nature"},"ram":{"keywords":["animal","sheep","nature"],"char":"🐏","fitzpatrick_scale":false,"category":"animals_and_nature"},"sheep":{"keywords":["animal","nature","wool","shipit"],"char":"🐑","fitzpatrick_scale":false,"category":"animals_and_nature"},"racehorse":{"keywords":["animal","gamble","luck"],"char":"🐎","fitzpatrick_scale":false,"category":"animals_and_nature"},"pig2":{"keywords":["animal","nature"],"char":"🐖","fitzpatrick_scale":false,"category":"animals_and_nature"},"rat":{"keywords":["animal","mouse","rodent"],"char":"🐀","fitzpatrick_scale":false,"category":"animals_and_nature"},"mouse2":{"keywords":["animal","nature","rodent"],"char":"🐁","fitzpatrick_scale":false,"category":"animals_and_nature"},"rooster":{"keywords":["animal","nature","chicken"],"char":"🐓","fitzpatrick_scale":false,"category":"animals_and_nature"},"turkey":{"keywords":["animal","bird"],"char":"🦃","fitzpatrick_scale":false,"category":"animals_and_nature"},"dove":{"keywords":["animal","bird"],"char":"🕊","fitzpatrick_scale":false,"category":"animals_and_nature"},"dog2":{"keywords":["animal","nature","friend","doge","pet","faithful"],"char":"🐕","fitzpatrick_scale":false,"category":"animals_and_nature"},"poodle":{"keywords":["dog","animal","101","nature","pet"],"char":"🐩","fitzpatrick_scale":false,"category":"animals_and_nature"},"cat2":{"keywords":["animal","meow","pet","cats"],"char":"🐈","fitzpatrick_scale":false,"category":"animals_and_nature"},"rabbit2":{"keywords":["animal","nature","pet","magic","spring"],"char":"🐇","fitzpatrick_scale":false,"category":"animals_and_nature"},"chipmunk":{"keywords":["animal","nature","rodent","squirrel"],"char":"🐿","fitzpatrick_scale":false,"category":"animals_and_nature"},"hedgehog":{"keywords":["animal","nature","spiny"],"char":"🦔","fitzpatrick_scale":false,"category":"animals_and_nature"},"raccoon":{"keywords":["animal","nature"],"char":"🦝","fitzpatrick_scale":false,"category":"animals_and_nature"},"llama":{"keywords":["animal","nature","alpaca"],"char":"🦙","fitzpatrick_scale":false,"category":"animals_and_nature"},"hippopotamus":{"keywords":["animal","nature"],"char":"🦛","fitzpatrick_scale":false,"category":"animals_and_nature"},"kangaroo":{"keywords":["animal","nature","australia","joey","hop","marsupial"],"char":"🦘","fitzpatrick_scale":false,"category":"animals_and_nature"},"badger":{"keywords":["animal","nature","honey"],"char":"🦡","fitzpatrick_scale":false,"category":"animals_and_nature"},"swan":{"keywords":["animal","nature","bird"],"char":"🦢","fitzpatrick_scale":false,"category":"animals_and_nature"},"peacock":{"keywords":["animal","nature","peahen","bird"],"char":"🦚","fitzpatrick_scale":false,"category":"animals_and_nature"},"parrot":{"keywords":["animal","nature","bird","pirate","talk"],"char":"🦜","fitzpatrick_scale":false,"category":"animals_and_nature"},"lobster":{"keywords":["animal","nature","bisque","claws","seafood"],"char":"🦞","fitzpatrick_scale":false,"category":"animals_and_nature"},"mosquito":{"keywords":["animal","nature","insect","malaria"],"char":"🦟","fitzpatrick_scale":false,"category":"animals_and_nature"},"paw_prints":{"keywords":["animal","tracking","footprints","dog","cat","pet","feet"],"char":"🐾","fitzpatrick_scale":false,"category":"animals_and_nature"},"dragon":{"keywords":["animal","myth","nature","chinese","green"],"char":"🐉","fitzpatrick_scale":false,"category":"animals_and_nature"},"dragon_face":{"keywords":["animal","myth","nature","chinese","green"],"char":"🐲","fitzpatrick_scale":false,"category":"animals_and_nature"},"cactus":{"keywords":["vegetable","plant","nature"],"char":"🌵","fitzpatrick_scale":false,"category":"animals_and_nature"},"christmas_tree":{"keywords":["festival","vacation","december","xmas","celebration"],"char":"🎄","fitzpatrick_scale":false,"category":"animals_and_nature"},"evergreen_tree":{"keywords":["plant","nature"],"char":"🌲","fitzpatrick_scale":false,"category":"animals_and_nature"},"deciduous_tree":{"keywords":["plant","nature"],"char":"🌳","fitzpatrick_scale":false,"category":"animals_and_nature"},"palm_tree":{"keywords":["plant","vegetable","nature","summer","beach","mojito","tropical"],"char":"🌴","fitzpatrick_scale":false,"category":"animals_and_nature"},"seedling":{"keywords":["plant","nature","grass","lawn","spring"],"char":"🌱","fitzpatrick_scale":false,"category":"animals_and_nature"},"herb":{"keywords":["vegetable","plant","medicine","weed","grass","lawn"],"char":"🌿","fitzpatrick_scale":false,"category":"animals_and_nature"},"shamrock":{"keywords":["vegetable","plant","nature","irish","clover"],"char":"☘","fitzpatrick_scale":false,"category":"animals_and_nature"},"four_leaf_clover":{"keywords":["vegetable","plant","nature","lucky","irish"],"char":"🍀","fitzpatrick_scale":false,"category":"animals_and_nature"},"bamboo":{"keywords":["plant","nature","vegetable","panda","pine_decoration"],"char":"🎍","fitzpatrick_scale":false,"category":"animals_and_nature"},"tanabata_tree":{"keywords":["plant","nature","branch","summer"],"char":"🎋","fitzpatrick_scale":false,"category":"animals_and_nature"},"leaves":{"keywords":["nature","plant","tree","vegetable","grass","lawn","spring"],"char":"🍃","fitzpatrick_scale":false,"category":"animals_and_nature"},"fallen_leaf":{"keywords":["nature","plant","vegetable","leaves"],"char":"🍂","fitzpatrick_scale":false,"category":"animals_and_nature"},"maple_leaf":{"keywords":["nature","plant","vegetable","ca","fall"],"char":"🍁","fitzpatrick_scale":false,"category":"animals_and_nature"},"ear_of_rice":{"keywords":["nature","plant"],"char":"🌾","fitzpatrick_scale":false,"category":"animals_and_nature"},"hibiscus":{"keywords":["plant","vegetable","flowers","beach"],"char":"🌺","fitzpatrick_scale":false,"category":"animals_and_nature"},"sunflower":{"keywords":["nature","plant","fall"],"char":"🌻","fitzpatrick_scale":false,"category":"animals_and_nature"},"rose":{"keywords":["flowers","valentines","love","spring"],"char":"🌹","fitzpatrick_scale":false,"category":"animals_and_nature"},"wilted_flower":{"keywords":["plant","nature","flower"],"char":"🥀","fitzpatrick_scale":false,"category":"animals_and_nature"},"tulip":{"keywords":["flowers","plant","nature","summer","spring"],"char":"🌷","fitzpatrick_scale":false,"category":"animals_and_nature"},"blossom":{"keywords":["nature","flowers","yellow"],"char":"🌼","fitzpatrick_scale":false,"category":"animals_and_nature"},"cherry_blossom":{"keywords":["nature","plant","spring","flower"],"char":"🌸","fitzpatrick_scale":false,"category":"animals_and_nature"},"bouquet":{"keywords":["flowers","nature","spring"],"char":"💐","fitzpatrick_scale":false,"category":"animals_and_nature"},"mushroom":{"keywords":["plant","vegetable"],"char":"🍄","fitzpatrick_scale":false,"category":"animals_and_nature"},"chestnut":{"keywords":["food","squirrel"],"char":"🌰","fitzpatrick_scale":false,"category":"animals_and_nature"},"jack_o_lantern":{"keywords":["halloween","light","pumpkin","creepy","fall"],"char":"🎃","fitzpatrick_scale":false,"category":"animals_and_nature"},"shell":{"keywords":["nature","sea","beach"],"char":"🐚","fitzpatrick_scale":false,"category":"animals_and_nature"},"spider_web":{"keywords":["animal","insect","arachnid","silk"],"char":"🕸","fitzpatrick_scale":false,"category":"animals_and_nature"},"earth_americas":{"keywords":["globe","world","USA","international"],"char":"🌎","fitzpatrick_scale":false,"category":"animals_and_nature"},"earth_africa":{"keywords":["globe","world","international"],"char":"🌍","fitzpatrick_scale":false,"category":"animals_and_nature"},"earth_asia":{"keywords":["globe","world","east","international"],"char":"🌏","fitzpatrick_scale":false,"category":"animals_and_nature"},"full_moon":{"keywords":["nature","yellow","twilight","planet","space","night","evening","sleep"],"char":"🌕","fitzpatrick_scale":false,"category":"animals_and_nature"},"waning_gibbous_moon":{"keywords":["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],"char":"🌖","fitzpatrick_scale":false,"category":"animals_and_nature"},"last_quarter_moon":{"keywords":["nature","twilight","planet","space","night","evening","sleep"],"char":"🌗","fitzpatrick_scale":false,"category":"animals_and_nature"},"waning_crescent_moon":{"keywords":["nature","twilight","planet","space","night","evening","sleep"],"char":"🌘","fitzpatrick_scale":false,"category":"animals_and_nature"},"new_moon":{"keywords":["nature","twilight","planet","space","night","evening","sleep"],"char":"🌑","fitzpatrick_scale":false,"category":"animals_and_nature"},"waxing_crescent_moon":{"keywords":["nature","twilight","planet","space","night","evening","sleep"],"char":"🌒","fitzpatrick_scale":false,"category":"animals_and_nature"},"first_quarter_moon":{"keywords":["nature","twilight","planet","space","night","evening","sleep"],"char":"🌓","fitzpatrick_scale":false,"category":"animals_and_nature"},"waxing_gibbous_moon":{"keywords":["nature","night","sky","gray","twilight","planet","space","evening","sleep"],"char":"🌔","fitzpatrick_scale":false,"category":"animals_and_nature"},"new_moon_with_face":{"keywords":["nature","twilight","planet","space","night","evening","sleep"],"char":"🌚","fitzpatrick_scale":false,"category":"animals_and_nature"},"full_moon_with_face":{"keywords":["nature","twilight","planet","space","night","evening","sleep"],"char":"🌝","fitzpatrick_scale":false,"category":"animals_and_nature"},"first_quarter_moon_with_face":{"keywords":["nature","twilight","planet","space","night","evening","sleep"],"char":"🌛","fitzpatrick_scale":false,"category":"animals_and_nature"},"last_quarter_moon_with_face":{"keywords":["nature","twilight","planet","space","night","evening","sleep"],"char":"🌜","fitzpatrick_scale":false,"category":"animals_and_nature"},"sun_with_face":{"keywords":["nature","morning","sky"],"char":"🌞","fitzpatrick_scale":false,"category":"animals_and_nature"},"crescent_moon":{"keywords":["night","sleep","sky","evening","magic"],"char":"🌙","fitzpatrick_scale":false,"category":"animals_and_nature"},"star":{"keywords":["night","yellow"],"char":"⭐","fitzpatrick_scale":false,"category":"animals_and_nature"},"star2":{"keywords":["night","sparkle","awesome","good","magic"],"char":"🌟","fitzpatrick_scale":false,"category":"animals_and_nature"},"dizzy":{"keywords":["star","sparkle","shoot","magic"],"char":"💫","fitzpatrick_scale":false,"category":"animals_and_nature"},"sparkles":{"keywords":["stars","shine","shiny","cool","awesome","good","magic"],"char":"✨","fitzpatrick_scale":false,"category":"animals_and_nature"},"comet":{"keywords":["space"],"char":"☄","fitzpatrick_scale":false,"category":"animals_and_nature"},"sunny":{"keywords":["weather","nature","brightness","summer","beach","spring"],"char":"☀️","fitzpatrick_scale":false,"category":"animals_and_nature"},"sun_behind_small_cloud":{"keywords":["weather"],"char":"🌤","fitzpatrick_scale":false,"category":"animals_and_nature"},"partly_sunny":{"keywords":["weather","nature","cloudy","morning","fall","spring"],"char":"⛅","fitzpatrick_scale":false,"category":"animals_and_nature"},"sun_behind_large_cloud":{"keywords":["weather"],"char":"🌥","fitzpatrick_scale":false,"category":"animals_and_nature"},"sun_behind_rain_cloud":{"keywords":["weather"],"char":"🌦","fitzpatrick_scale":false,"category":"animals_and_nature"},"cloud":{"keywords":["weather","sky"],"char":"☁️","fitzpatrick_scale":false,"category":"animals_and_nature"},"cloud_with_rain":{"keywords":["weather"],"char":"🌧","fitzpatrick_scale":false,"category":"animals_and_nature"},"cloud_with_lightning_and_rain":{"keywords":["weather","lightning"],"char":"⛈","fitzpatrick_scale":false,"category":"animals_and_nature"},"cloud_with_lightning":{"keywords":["weather","thunder"],"char":"🌩","fitzpatrick_scale":false,"category":"animals_and_nature"},"zap":{"keywords":["thunder","weather","lightning bolt","fast"],"char":"⚡","fitzpatrick_scale":false,"category":"animals_and_nature"},"fire":{"keywords":["hot","cook","flame"],"char":"🔥","fitzpatrick_scale":false,"category":"animals_and_nature"},"boom":{"keywords":["bomb","explode","explosion","collision","blown"],"char":"💥","fitzpatrick_scale":false,"category":"animals_and_nature"},"snowflake":{"keywords":["winter","season","cold","weather","christmas","xmas"],"char":"❄️","fitzpatrick_scale":false,"category":"animals_and_nature"},"cloud_with_snow":{"keywords":["weather"],"char":"🌨","fitzpatrick_scale":false,"category":"animals_and_nature"},"snowman":{"keywords":["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],"char":"⛄","fitzpatrick_scale":false,"category":"animals_and_nature"},"snowman_with_snow":{"keywords":["winter","season","cold","weather","christmas","xmas","frozen"],"char":"☃","fitzpatrick_scale":false,"category":"animals_and_nature"},"wind_face":{"keywords":["gust","air"],"char":"🌬","fitzpatrick_scale":false,"category":"animals_and_nature"},"dash":{"keywords":["wind","air","fast","shoo","fart","smoke","puff"],"char":"💨","fitzpatrick_scale":false,"category":"animals_and_nature"},"tornado":{"keywords":["weather","cyclone","twister"],"char":"🌪","fitzpatrick_scale":false,"category":"animals_and_nature"},"fog":{"keywords":["weather"],"char":"🌫","fitzpatrick_scale":false,"category":"animals_and_nature"},"open_umbrella":{"keywords":["weather","spring"],"char":"☂","fitzpatrick_scale":false,"category":"animals_and_nature"},"umbrella":{"keywords":["rainy","weather","spring"],"char":"☔","fitzpatrick_scale":false,"category":"animals_and_nature"},"droplet":{"keywords":["water","drip","faucet","spring"],"char":"💧","fitzpatrick_scale":false,"category":"animals_and_nature"},"sweat_drops":{"keywords":["water","drip","oops"],"char":"💦","fitzpatrick_scale":false,"category":"animals_and_nature"},"ocean":{"keywords":["sea","water","wave","nature","tsunami","disaster"],"char":"🌊","fitzpatrick_scale":false,"category":"animals_and_nature"},"green_apple":{"keywords":["fruit","nature"],"char":"🍏","fitzpatrick_scale":false,"category":"food_and_drink"},"apple":{"keywords":["fruit","mac","school"],"char":"🍎","fitzpatrick_scale":false,"category":"food_and_drink"},"pear":{"keywords":["fruit","nature","food"],"char":"🍐","fitzpatrick_scale":false,"category":"food_and_drink"},"tangerine":{"keywords":["food","fruit","nature","orange"],"char":"🍊","fitzpatrick_scale":false,"category":"food_and_drink"},"lemon":{"keywords":["fruit","nature"],"char":"🍋","fitzpatrick_scale":false,"category":"food_and_drink"},"banana":{"keywords":["fruit","food","monkey"],"char":"🍌","fitzpatrick_scale":false,"category":"food_and_drink"},"watermelon":{"keywords":["fruit","food","picnic","summer"],"char":"🍉","fitzpatrick_scale":false,"category":"food_and_drink"},"grapes":{"keywords":["fruit","food","wine"],"char":"🍇","fitzpatrick_scale":false,"category":"food_and_drink"},"strawberry":{"keywords":["fruit","food","nature"],"char":"🍓","fitzpatrick_scale":false,"category":"food_and_drink"},"melon":{"keywords":["fruit","nature","food"],"char":"🍈","fitzpatrick_scale":false,"category":"food_and_drink"},"cherries":{"keywords":["food","fruit"],"char":"🍒","fitzpatrick_scale":false,"category":"food_and_drink"},"peach":{"keywords":["fruit","nature","food"],"char":"🍑","fitzpatrick_scale":false,"category":"food_and_drink"},"pineapple":{"keywords":["fruit","nature","food"],"char":"🍍","fitzpatrick_scale":false,"category":"food_and_drink"},"coconut":{"keywords":["fruit","nature","food","palm"],"char":"🥥","fitzpatrick_scale":false,"category":"food_and_drink"},"kiwi_fruit":{"keywords":["fruit","food"],"char":"🥝","fitzpatrick_scale":false,"category":"food_and_drink"},"mango":{"keywords":["fruit","food","tropical"],"char":"🥭","fitzpatrick_scale":false,"category":"food_and_drink"},"avocado":{"keywords":["fruit","food"],"char":"🥑","fitzpatrick_scale":false,"category":"food_and_drink"},"broccoli":{"keywords":["fruit","food","vegetable"],"char":"🥦","fitzpatrick_scale":false,"category":"food_and_drink"},"tomato":{"keywords":["fruit","vegetable","nature","food"],"char":"🍅","fitzpatrick_scale":false,"category":"food_and_drink"},"eggplant":{"keywords":["vegetable","nature","food","aubergine"],"char":"🍆","fitzpatrick_scale":false,"category":"food_and_drink"},"cucumber":{"keywords":["fruit","food","pickle"],"char":"🥒","fitzpatrick_scale":false,"category":"food_and_drink"},"carrot":{"keywords":["vegetable","food","orange"],"char":"🥕","fitzpatrick_scale":false,"category":"food_and_drink"},"hot_pepper":{"keywords":["food","spicy","chilli","chili"],"char":"🌶","fitzpatrick_scale":false,"category":"food_and_drink"},"potato":{"keywords":["food","tuber","vegatable","starch"],"char":"🥔","fitzpatrick_scale":false,"category":"food_and_drink"},"corn":{"keywords":["food","vegetable","plant"],"char":"🌽","fitzpatrick_scale":false,"category":"food_and_drink"},"leafy_greens":{"keywords":["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],"char":"🥬","fitzpatrick_scale":false,"category":"food_and_drink"},"sweet_potato":{"keywords":["food","nature"],"char":"🍠","fitzpatrick_scale":false,"category":"food_and_drink"},"peanuts":{"keywords":["food","nut"],"char":"🥜","fitzpatrick_scale":false,"category":"food_and_drink"},"honey_pot":{"keywords":["bees","sweet","kitchen"],"char":"🍯","fitzpatrick_scale":false,"category":"food_and_drink"},"croissant":{"keywords":["food","bread","french"],"char":"🥐","fitzpatrick_scale":false,"category":"food_and_drink"},"bread":{"keywords":["food","wheat","breakfast","toast"],"char":"🍞","fitzpatrick_scale":false,"category":"food_and_drink"},"baguette_bread":{"keywords":["food","bread","french"],"char":"🥖","fitzpatrick_scale":false,"category":"food_and_drink"},"bagel":{"keywords":["food","bread","bakery","schmear"],"char":"🥯","fitzpatrick_scale":false,"category":"food_and_drink"},"pretzel":{"keywords":["food","bread","twisted"],"char":"🥨","fitzpatrick_scale":false,"category":"food_and_drink"},"cheese":{"keywords":["food","chadder"],"char":"🧀","fitzpatrick_scale":false,"category":"food_and_drink"},"egg":{"keywords":["food","chicken","breakfast"],"char":"🥚","fitzpatrick_scale":false,"category":"food_and_drink"},"bacon":{"keywords":["food","breakfast","pork","pig","meat"],"char":"🥓","fitzpatrick_scale":false,"category":"food_and_drink"},"steak":{"keywords":["food","cow","meat","cut","chop","lambchop","porkchop"],"char":"🥩","fitzpatrick_scale":false,"category":"food_and_drink"},"pancakes":{"keywords":["food","breakfast","flapjacks","hotcakes"],"char":"🥞","fitzpatrick_scale":false,"category":"food_and_drink"},"poultry_leg":{"keywords":["food","meat","drumstick","bird","chicken","turkey"],"char":"🍗","fitzpatrick_scale":false,"category":"food_and_drink"},"meat_on_bone":{"keywords":["good","food","drumstick"],"char":"🍖","fitzpatrick_scale":false,"category":"food_and_drink"},"bone":{"keywords":["skeleton"],"char":"🦴","fitzpatrick_scale":false,"category":"food_and_drink"},"fried_shrimp":{"keywords":["food","animal","appetizer","summer"],"char":"🍤","fitzpatrick_scale":false,"category":"food_and_drink"},"fried_egg":{"keywords":["food","breakfast","kitchen","egg"],"char":"🍳","fitzpatrick_scale":false,"category":"food_and_drink"},"hamburger":{"keywords":["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],"char":"🍔","fitzpatrick_scale":false,"category":"food_and_drink"},"fries":{"keywords":["chips","snack","fast food"],"char":"🍟","fitzpatrick_scale":false,"category":"food_and_drink"},"stuffed_flatbread":{"keywords":["food","flatbread","stuffed","gyro"],"char":"🥙","fitzpatrick_scale":false,"category":"food_and_drink"},"hotdog":{"keywords":["food","frankfurter"],"char":"🌭","fitzpatrick_scale":false,"category":"food_and_drink"},"pizza":{"keywords":["food","party"],"char":"🍕","fitzpatrick_scale":false,"category":"food_and_drink"},"sandwich":{"keywords":["food","lunch","bread"],"char":"🥪","fitzpatrick_scale":false,"category":"food_and_drink"},"canned_food":{"keywords":["food","soup"],"char":"🥫","fitzpatrick_scale":false,"category":"food_and_drink"},"spaghetti":{"keywords":["food","italian","noodle"],"char":"🍝","fitzpatrick_scale":false,"category":"food_and_drink"},"taco":{"keywords":["food","mexican"],"char":"🌮","fitzpatrick_scale":false,"category":"food_and_drink"},"burrito":{"keywords":["food","mexican"],"char":"🌯","fitzpatrick_scale":false,"category":"food_and_drink"},"green_salad":{"keywords":["food","healthy","lettuce"],"char":"🥗","fitzpatrick_scale":false,"category":"food_and_drink"},"shallow_pan_of_food":{"keywords":["food","cooking","casserole","paella"],"char":"🥘","fitzpatrick_scale":false,"category":"food_and_drink"},"ramen":{"keywords":["food","japanese","noodle","chopsticks"],"char":"🍜","fitzpatrick_scale":false,"category":"food_and_drink"},"stew":{"keywords":["food","meat","soup"],"char":"🍲","fitzpatrick_scale":false,"category":"food_and_drink"},"fish_cake":{"keywords":["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],"char":"🍥","fitzpatrick_scale":false,"category":"food_and_drink"},"fortune_cookie":{"keywords":["food","prophecy"],"char":"🥠","fitzpatrick_scale":false,"category":"food_and_drink"},"sushi":{"keywords":["food","fish","japanese","rice"],"char":"🍣","fitzpatrick_scale":false,"category":"food_and_drink"},"bento":{"keywords":["food","japanese","box"],"char":"🍱","fitzpatrick_scale":false,"category":"food_and_drink"},"curry":{"keywords":["food","spicy","hot","indian"],"char":"🍛","fitzpatrick_scale":false,"category":"food_and_drink"},"rice_ball":{"keywords":["food","japanese"],"char":"🍙","fitzpatrick_scale":false,"category":"food_and_drink"},"rice":{"keywords":["food","china","asian"],"char":"🍚","fitzpatrick_scale":false,"category":"food_and_drink"},"rice_cracker":{"keywords":["food","japanese"],"char":"🍘","fitzpatrick_scale":false,"category":"food_and_drink"},"oden":{"keywords":["food","japanese"],"char":"🍢","fitzpatrick_scale":false,"category":"food_and_drink"},"dango":{"keywords":["food","dessert","sweet","japanese","barbecue","meat"],"char":"🍡","fitzpatrick_scale":false,"category":"food_and_drink"},"shaved_ice":{"keywords":["hot","dessert","summer"],"char":"🍧","fitzpatrick_scale":false,"category":"food_and_drink"},"ice_cream":{"keywords":["food","hot","dessert"],"char":"🍨","fitzpatrick_scale":false,"category":"food_and_drink"},"icecream":{"keywords":["food","hot","dessert","summer"],"char":"🍦","fitzpatrick_scale":false,"category":"food_and_drink"},"pie":{"keywords":["food","dessert","pastry"],"char":"🥧","fitzpatrick_scale":false,"category":"food_and_drink"},"cake":{"keywords":["food","dessert"],"char":"🍰","fitzpatrick_scale":false,"category":"food_and_drink"},"cupcake":{"keywords":["food","dessert","bakery","sweet"],"char":"🧁","fitzpatrick_scale":false,"category":"food_and_drink"},"moon_cake":{"keywords":["food","autumn"],"char":"🥮","fitzpatrick_scale":false,"category":"food_and_drink"},"birthday":{"keywords":["food","dessert","cake"],"char":"🎂","fitzpatrick_scale":false,"category":"food_and_drink"},"custard":{"keywords":["dessert","food"],"char":"🍮","fitzpatrick_scale":false,"category":"food_and_drink"},"candy":{"keywords":["snack","dessert","sweet","lolly"],"char":"🍬","fitzpatrick_scale":false,"category":"food_and_drink"},"lollipop":{"keywords":["food","snack","candy","sweet"],"char":"🍭","fitzpatrick_scale":false,"category":"food_and_drink"},"chocolate_bar":{"keywords":["food","snack","dessert","sweet"],"char":"🍫","fitzpatrick_scale":false,"category":"food_and_drink"},"popcorn":{"keywords":["food","movie theater","films","snack"],"char":"🍿","fitzpatrick_scale":false,"category":"food_and_drink"},"dumpling":{"keywords":["food","empanada","pierogi","potsticker"],"char":"🥟","fitzpatrick_scale":false,"category":"food_and_drink"},"doughnut":{"keywords":["food","dessert","snack","sweet","donut"],"char":"🍩","fitzpatrick_scale":false,"category":"food_and_drink"},"cookie":{"keywords":["food","snack","oreo","chocolate","sweet","dessert"],"char":"🍪","fitzpatrick_scale":false,"category":"food_and_drink"},"milk_glass":{"keywords":["beverage","drink","cow"],"char":"🥛","fitzpatrick_scale":false,"category":"food_and_drink"},"beer":{"keywords":["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],"char":"🍺","fitzpatrick_scale":false,"category":"food_and_drink"},"beers":{"keywords":["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],"char":"🍻","fitzpatrick_scale":false,"category":"food_and_drink"},"clinking_glasses":{"keywords":["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],"char":"🥂","fitzpatrick_scale":false,"category":"food_and_drink"},"wine_glass":{"keywords":["drink","beverage","drunk","alcohol","booze"],"char":"🍷","fitzpatrick_scale":false,"category":"food_and_drink"},"tumbler_glass":{"keywords":["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],"char":"🥃","fitzpatrick_scale":false,"category":"food_and_drink"},"cocktail":{"keywords":["drink","drunk","alcohol","beverage","booze","mojito"],"char":"🍸","fitzpatrick_scale":false,"category":"food_and_drink"},"tropical_drink":{"keywords":["beverage","cocktail","summer","beach","alcohol","booze","mojito"],"char":"🍹","fitzpatrick_scale":false,"category":"food_and_drink"},"champagne":{"keywords":["drink","wine","bottle","celebration"],"char":"🍾","fitzpatrick_scale":false,"category":"food_and_drink"},"sake":{"keywords":["wine","drink","drunk","beverage","japanese","alcohol","booze"],"char":"🍶","fitzpatrick_scale":false,"category":"food_and_drink"},"tea":{"keywords":["drink","bowl","breakfast","green","british"],"char":"🍵","fitzpatrick_scale":false,"category":"food_and_drink"},"cup_with_straw":{"keywords":["drink","soda"],"char":"🥤","fitzpatrick_scale":false,"category":"food_and_drink"},"coffee":{"keywords":["beverage","caffeine","latte","espresso"],"char":"☕","fitzpatrick_scale":false,"category":"food_and_drink"},"baby_bottle":{"keywords":["food","container","milk"],"char":"🍼","fitzpatrick_scale":false,"category":"food_and_drink"},"salt":{"keywords":["condiment","shaker"],"char":"🧂","fitzpatrick_scale":false,"category":"food_and_drink"},"spoon":{"keywords":["cutlery","kitchen","tableware"],"char":"🥄","fitzpatrick_scale":false,"category":"food_and_drink"},"fork_and_knife":{"keywords":["cutlery","kitchen"],"char":"🍴","fitzpatrick_scale":false,"category":"food_and_drink"},"plate_with_cutlery":{"keywords":["food","eat","meal","lunch","dinner","restaurant"],"char":"🍽","fitzpatrick_scale":false,"category":"food_and_drink"},"bowl_with_spoon":{"keywords":["food","breakfast","cereal","oatmeal","porridge"],"char":"🥣","fitzpatrick_scale":false,"category":"food_and_drink"},"takeout_box":{"keywords":["food","leftovers"],"char":"🥡","fitzpatrick_scale":false,"category":"food_and_drink"},"chopsticks":{"keywords":["food"],"char":"🥢","fitzpatrick_scale":false,"category":"food_and_drink"},"soccer":{"keywords":["sports","football"],"char":"⚽","fitzpatrick_scale":false,"category":"activity"},"basketball":{"keywords":["sports","balls","NBA"],"char":"🏀","fitzpatrick_scale":false,"category":"activity"},"football":{"keywords":["sports","balls","NFL"],"char":"🏈","fitzpatrick_scale":false,"category":"activity"},"baseball":{"keywords":["sports","balls"],"char":"⚾","fitzpatrick_scale":false,"category":"activity"},"softball":{"keywords":["sports","balls"],"char":"🥎","fitzpatrick_scale":false,"category":"activity"},"tennis":{"keywords":["sports","balls","green"],"char":"🎾","fitzpatrick_scale":false,"category":"activity"},"volleyball":{"keywords":["sports","balls"],"char":"🏐","fitzpatrick_scale":false,"category":"activity"},"rugby_football":{"keywords":["sports","team"],"char":"🏉","fitzpatrick_scale":false,"category":"activity"},"flying_disc":{"keywords":["sports","frisbee","ultimate"],"char":"🥏","fitzpatrick_scale":false,"category":"activity"},"8ball":{"keywords":["pool","hobby","game","luck","magic"],"char":"🎱","fitzpatrick_scale":false,"category":"activity"},"golf":{"keywords":["sports","business","flag","hole","summer"],"char":"⛳","fitzpatrick_scale":false,"category":"activity"},"golfing_woman":{"keywords":["sports","business","woman","female"],"char":"🏌️‍♀️","fitzpatrick_scale":false,"category":"activity"},"golfing_man":{"keywords":["sports","business"],"char":"🏌","fitzpatrick_scale":true,"category":"activity"},"ping_pong":{"keywords":["sports","pingpong"],"char":"🏓","fitzpatrick_scale":false,"category":"activity"},"badminton":{"keywords":["sports"],"char":"🏸","fitzpatrick_scale":false,"category":"activity"},"goal_net":{"keywords":["sports"],"char":"🥅","fitzpatrick_scale":false,"category":"activity"},"ice_hockey":{"keywords":["sports"],"char":"🏒","fitzpatrick_scale":false,"category":"activity"},"field_hockey":{"keywords":["sports"],"char":"🏑","fitzpatrick_scale":false,"category":"activity"},"lacrosse":{"keywords":["sports","ball","stick"],"char":"🥍","fitzpatrick_scale":false,"category":"activity"},"cricket":{"keywords":["sports"],"char":"🏏","fitzpatrick_scale":false,"category":"activity"},"ski":{"keywords":["sports","winter","cold","snow"],"char":"🎿","fitzpatrick_scale":false,"category":"activity"},"skier":{"keywords":["sports","winter","snow"],"char":"⛷","fitzpatrick_scale":false,"category":"activity"},"snowboarder":{"keywords":["sports","winter"],"char":"🏂","fitzpatrick_scale":true,"category":"activity"},"person_fencing":{"keywords":["sports","fencing","sword"],"char":"🤺","fitzpatrick_scale":false,"category":"activity"},"women_wrestling":{"keywords":["sports","wrestlers"],"char":"🤼‍♀️","fitzpatrick_scale":false,"category":"activity"},"men_wrestling":{"keywords":["sports","wrestlers"],"char":"🤼‍♂️","fitzpatrick_scale":false,"category":"activity"},"woman_cartwheeling":{"keywords":["gymnastics"],"char":"🤸‍♀️","fitzpatrick_scale":true,"category":"activity"},"man_cartwheeling":{"keywords":["gymnastics"],"char":"🤸‍♂️","fitzpatrick_scale":true,"category":"activity"},"woman_playing_handball":{"keywords":["sports"],"char":"🤾‍♀️","fitzpatrick_scale":true,"category":"activity"},"man_playing_handball":{"keywords":["sports"],"char":"🤾‍♂️","fitzpatrick_scale":true,"category":"activity"},"ice_skate":{"keywords":["sports"],"char":"⛸","fitzpatrick_scale":false,"category":"activity"},"curling_stone":{"keywords":["sports"],"char":"🥌","fitzpatrick_scale":false,"category":"activity"},"skateboard":{"keywords":["board"],"char":"🛹","fitzpatrick_scale":false,"category":"activity"},"sled":{"keywords":["sleigh","luge","toboggan"],"char":"🛷","fitzpatrick_scale":false,"category":"activity"},"bow_and_arrow":{"keywords":["sports"],"char":"🏹","fitzpatrick_scale":false,"category":"activity"},"fishing_pole_and_fish":{"keywords":["food","hobby","summer"],"char":"🎣","fitzpatrick_scale":false,"category":"activity"},"boxing_glove":{"keywords":["sports","fighting"],"char":"🥊","fitzpatrick_scale":false,"category":"activity"},"martial_arts_uniform":{"keywords":["judo","karate","taekwondo"],"char":"🥋","fitzpatrick_scale":false,"category":"activity"},"rowing_woman":{"keywords":["sports","hobby","water","ship","woman","female"],"char":"🚣‍♀️","fitzpatrick_scale":true,"category":"activity"},"rowing_man":{"keywords":["sports","hobby","water","ship"],"char":"🚣","fitzpatrick_scale":true,"category":"activity"},"climbing_woman":{"keywords":["sports","hobby","woman","female","rock"],"char":"🧗‍♀️","fitzpatrick_scale":true,"category":"activity"},"climbing_man":{"keywords":["sports","hobby","man","male","rock"],"char":"🧗‍♂️","fitzpatrick_scale":true,"category":"activity"},"swimming_woman":{"keywords":["sports","exercise","human","athlete","water","summer","woman","female"],"char":"🏊‍♀️","fitzpatrick_scale":true,"category":"activity"},"swimming_man":{"keywords":["sports","exercise","human","athlete","water","summer"],"char":"🏊","fitzpatrick_scale":true,"category":"activity"},"woman_playing_water_polo":{"keywords":["sports","pool"],"char":"🤽‍♀️","fitzpatrick_scale":true,"category":"activity"},"man_playing_water_polo":{"keywords":["sports","pool"],"char":"🤽‍♂️","fitzpatrick_scale":true,"category":"activity"},"woman_in_lotus_position":{"keywords":["woman","female","meditation","yoga","serenity","zen","mindfulness"],"char":"🧘‍♀️","fitzpatrick_scale":true,"category":"activity"},"man_in_lotus_position":{"keywords":["man","male","meditation","yoga","serenity","zen","mindfulness"],"char":"🧘‍♂️","fitzpatrick_scale":true,"category":"activity"},"surfing_woman":{"keywords":["sports","ocean","sea","summer","beach","woman","female"],"char":"🏄‍♀️","fitzpatrick_scale":true,"category":"activity"},"surfing_man":{"keywords":["sports","ocean","sea","summer","beach"],"char":"🏄","fitzpatrick_scale":true,"category":"activity"},"bath":{"keywords":["clean","shower","bathroom"],"char":"🛀","fitzpatrick_scale":true,"category":"activity"},"basketball_woman":{"keywords":["sports","human","woman","female"],"char":"⛹️‍♀️","fitzpatrick_scale":true,"category":"activity"},"basketball_man":{"keywords":["sports","human"],"char":"⛹","fitzpatrick_scale":true,"category":"activity"},"weight_lifting_woman":{"keywords":["sports","training","exercise","woman","female"],"char":"🏋️‍♀️","fitzpatrick_scale":true,"category":"activity"},"weight_lifting_man":{"keywords":["sports","training","exercise"],"char":"🏋","fitzpatrick_scale":true,"category":"activity"},"biking_woman":{"keywords":["sports","bike","exercise","hipster","woman","female"],"char":"🚴‍♀️","fitzpatrick_scale":true,"category":"activity"},"biking_man":{"keywords":["sports","bike","exercise","hipster"],"char":"🚴","fitzpatrick_scale":true,"category":"activity"},"mountain_biking_woman":{"keywords":["transportation","sports","human","race","bike","woman","female"],"char":"🚵‍♀️","fitzpatrick_scale":true,"category":"activity"},"mountain_biking_man":{"keywords":["transportation","sports","human","race","bike"],"char":"🚵","fitzpatrick_scale":true,"category":"activity"},"horse_racing":{"keywords":["animal","betting","competition","gambling","luck"],"char":"🏇","fitzpatrick_scale":true,"category":"activity"},"business_suit_levitating":{"keywords":["suit","business","levitate","hover","jump"],"char":"🕴","fitzpatrick_scale":true,"category":"activity"},"trophy":{"keywords":["win","award","contest","place","ftw","ceremony"],"char":"🏆","fitzpatrick_scale":false,"category":"activity"},"running_shirt_with_sash":{"keywords":["play","pageant"],"char":"🎽","fitzpatrick_scale":false,"category":"activity"},"medal_sports":{"keywords":["award","winning"],"char":"🏅","fitzpatrick_scale":false,"category":"activity"},"medal_military":{"keywords":["award","winning","army"],"char":"🎖","fitzpatrick_scale":false,"category":"activity"},"1st_place_medal":{"keywords":["award","winning","first"],"char":"🥇","fitzpatrick_scale":false,"category":"activity"},"2nd_place_medal":{"keywords":["award","second"],"char":"🥈","fitzpatrick_scale":false,"category":"activity"},"3rd_place_medal":{"keywords":["award","third"],"char":"🥉","fitzpatrick_scale":false,"category":"activity"},"reminder_ribbon":{"keywords":["sports","cause","support","awareness"],"char":"🎗","fitzpatrick_scale":false,"category":"activity"},"rosette":{"keywords":["flower","decoration","military"],"char":"🏵","fitzpatrick_scale":false,"category":"activity"},"ticket":{"keywords":["event","concert","pass"],"char":"🎫","fitzpatrick_scale":false,"category":"activity"},"tickets":{"keywords":["sports","concert","entrance"],"char":"🎟","fitzpatrick_scale":false,"category":"activity"},"performing_arts":{"keywords":["acting","theater","drama"],"char":"🎭","fitzpatrick_scale":false,"category":"activity"},"art":{"keywords":["design","paint","draw","colors"],"char":"🎨","fitzpatrick_scale":false,"category":"activity"},"circus_tent":{"keywords":["festival","carnival","party"],"char":"🎪","fitzpatrick_scale":false,"category":"activity"},"woman_juggling":{"keywords":["juggle","balance","skill","multitask"],"char":"🤹‍♀️","fitzpatrick_scale":true,"category":"activity"},"man_juggling":{"keywords":["juggle","balance","skill","multitask"],"char":"🤹‍♂️","fitzpatrick_scale":true,"category":"activity"},"microphone":{"keywords":["sound","music","PA","sing","talkshow"],"char":"🎤","fitzpatrick_scale":false,"category":"activity"},"headphones":{"keywords":["music","score","gadgets"],"char":"🎧","fitzpatrick_scale":false,"category":"activity"},"musical_score":{"keywords":["treble","clef","compose"],"char":"🎼","fitzpatrick_scale":false,"category":"activity"},"musical_keyboard":{"keywords":["piano","instrument","compose"],"char":"🎹","fitzpatrick_scale":false,"category":"activity"},"drum":{"keywords":["music","instrument","drumsticks","snare"],"char":"🥁","fitzpatrick_scale":false,"category":"activity"},"saxophone":{"keywords":["music","instrument","jazz","blues"],"char":"🎷","fitzpatrick_scale":false,"category":"activity"},"trumpet":{"keywords":["music","brass"],"char":"🎺","fitzpatrick_scale":false,"category":"activity"},"guitar":{"keywords":["music","instrument"],"char":"🎸","fitzpatrick_scale":false,"category":"activity"},"violin":{"keywords":["music","instrument","orchestra","symphony"],"char":"🎻","fitzpatrick_scale":false,"category":"activity"},"clapper":{"keywords":["movie","film","record"],"char":"🎬","fitzpatrick_scale":false,"category":"activity"},"video_game":{"keywords":["play","console","PS4","controller"],"char":"🎮","fitzpatrick_scale":false,"category":"activity"},"space_invader":{"keywords":["game","arcade","play"],"char":"👾","fitzpatrick_scale":false,"category":"activity"},"dart":{"keywords":["game","play","bar","target","bullseye"],"char":"🎯","fitzpatrick_scale":false,"category":"activity"},"game_die":{"keywords":["dice","random","tabletop","play","luck"],"char":"🎲","fitzpatrick_scale":false,"category":"activity"},"chess_pawn":{"keywords":["expendable"],"char":"♟","fitzpatrick_scale":false,"category":"activity"},"slot_machine":{"keywords":["bet","gamble","vegas","fruit machine","luck","casino"],"char":"🎰","fitzpatrick_scale":false,"category":"activity"},"jigsaw":{"keywords":["interlocking","puzzle","piece"],"char":"🧩","fitzpatrick_scale":false,"category":"activity"},"bowling":{"keywords":["sports","fun","play"],"char":"🎳","fitzpatrick_scale":false,"category":"activity"},"red_car":{"keywords":["red","transportation","vehicle"],"char":"🚗","fitzpatrick_scale":false,"category":"travel_and_places"},"taxi":{"keywords":["uber","vehicle","cars","transportation"],"char":"🚕","fitzpatrick_scale":false,"category":"travel_and_places"},"blue_car":{"keywords":["transportation","vehicle"],"char":"🚙","fitzpatrick_scale":false,"category":"travel_and_places"},"bus":{"keywords":["car","vehicle","transportation"],"char":"🚌","fitzpatrick_scale":false,"category":"travel_and_places"},"trolleybus":{"keywords":["bart","transportation","vehicle"],"char":"🚎","fitzpatrick_scale":false,"category":"travel_and_places"},"racing_car":{"keywords":["sports","race","fast","formula","f1"],"char":"🏎","fitzpatrick_scale":false,"category":"travel_and_places"},"police_car":{"keywords":["vehicle","cars","transportation","law","legal","enforcement"],"char":"🚓","fitzpatrick_scale":false,"category":"travel_and_places"},"ambulance":{"keywords":["health","911","hospital"],"char":"🚑","fitzpatrick_scale":false,"category":"travel_and_places"},"fire_engine":{"keywords":["transportation","cars","vehicle"],"char":"🚒","fitzpatrick_scale":false,"category":"travel_and_places"},"minibus":{"keywords":["vehicle","car","transportation"],"char":"🚐","fitzpatrick_scale":false,"category":"travel_and_places"},"truck":{"keywords":["cars","transportation"],"char":"🚚","fitzpatrick_scale":false,"category":"travel_and_places"},"articulated_lorry":{"keywords":["vehicle","cars","transportation","express"],"char":"🚛","fitzpatrick_scale":false,"category":"travel_and_places"},"tractor":{"keywords":["vehicle","car","farming","agriculture"],"char":"🚜","fitzpatrick_scale":false,"category":"travel_and_places"},"kick_scooter":{"keywords":["vehicle","kick","razor"],"char":"🛴","fitzpatrick_scale":false,"category":"travel_and_places"},"motorcycle":{"keywords":["race","sports","fast"],"char":"🏍","fitzpatrick_scale":false,"category":"travel_and_places"},"bike":{"keywords":["sports","bicycle","exercise","hipster"],"char":"🚲","fitzpatrick_scale":false,"category":"travel_and_places"},"motor_scooter":{"keywords":["vehicle","vespa","sasha"],"char":"🛵","fitzpatrick_scale":false,"category":"travel_and_places"},"rotating_light":{"keywords":["police","ambulance","911","emergency","alert","error","pinged","law","legal"],"char":"🚨","fitzpatrick_scale":false,"category":"travel_and_places"},"oncoming_police_car":{"keywords":["vehicle","law","legal","enforcement","911"],"char":"🚔","fitzpatrick_scale":false,"category":"travel_and_places"},"oncoming_bus":{"keywords":["vehicle","transportation"],"char":"🚍","fitzpatrick_scale":false,"category":"travel_and_places"},"oncoming_automobile":{"keywords":["car","vehicle","transportation"],"char":"🚘","fitzpatrick_scale":false,"category":"travel_and_places"},"oncoming_taxi":{"keywords":["vehicle","cars","uber"],"char":"🚖","fitzpatrick_scale":false,"category":"travel_and_places"},"aerial_tramway":{"keywords":["transportation","vehicle","ski"],"char":"🚡","fitzpatrick_scale":false,"category":"travel_and_places"},"mountain_cableway":{"keywords":["transportation","vehicle","ski"],"char":"🚠","fitzpatrick_scale":false,"category":"travel_and_places"},"suspension_railway":{"keywords":["vehicle","transportation"],"char":"🚟","fitzpatrick_scale":false,"category":"travel_and_places"},"railway_car":{"keywords":["transportation","vehicle"],"char":"🚃","fitzpatrick_scale":false,"category":"travel_and_places"},"train":{"keywords":["transportation","vehicle","carriage","public","travel"],"char":"🚋","fitzpatrick_scale":false,"category":"travel_and_places"},"monorail":{"keywords":["transportation","vehicle"],"char":"🚝","fitzpatrick_scale":false,"category":"travel_and_places"},"bullettrain_side":{"keywords":["transportation","vehicle"],"char":"🚄","fitzpatrick_scale":false,"category":"travel_and_places"},"bullettrain_front":{"keywords":["transportation","vehicle","speed","fast","public","travel"],"char":"🚅","fitzpatrick_scale":false,"category":"travel_and_places"},"light_rail":{"keywords":["transportation","vehicle"],"char":"🚈","fitzpatrick_scale":false,"category":"travel_and_places"},"mountain_railway":{"keywords":["transportation","vehicle"],"char":"🚞","fitzpatrick_scale":false,"category":"travel_and_places"},"steam_locomotive":{"keywords":["transportation","vehicle","train"],"char":"🚂","fitzpatrick_scale":false,"category":"travel_and_places"},"train2":{"keywords":["transportation","vehicle"],"char":"🚆","fitzpatrick_scale":false,"category":"travel_and_places"},"metro":{"keywords":["transportation","blue-square","mrt","underground","tube"],"char":"🚇","fitzpatrick_scale":false,"category":"travel_and_places"},"tram":{"keywords":["transportation","vehicle"],"char":"🚊","fitzpatrick_scale":false,"category":"travel_and_places"},"station":{"keywords":["transportation","vehicle","public"],"char":"🚉","fitzpatrick_scale":false,"category":"travel_and_places"},"flying_saucer":{"keywords":["transportation","vehicle","ufo"],"char":"🛸","fitzpatrick_scale":false,"category":"travel_and_places"},"helicopter":{"keywords":["transportation","vehicle","fly"],"char":"🚁","fitzpatrick_scale":false,"category":"travel_and_places"},"small_airplane":{"keywords":["flight","transportation","fly","vehicle"],"char":"🛩","fitzpatrick_scale":false,"category":"travel_and_places"},"airplane":{"keywords":["vehicle","transportation","flight","fly"],"char":"✈️","fitzpatrick_scale":false,"category":"travel_and_places"},"flight_departure":{"keywords":["airport","flight","landing"],"char":"🛫","fitzpatrick_scale":false,"category":"travel_and_places"},"flight_arrival":{"keywords":["airport","flight","boarding"],"char":"🛬","fitzpatrick_scale":false,"category":"travel_and_places"},"sailboat":{"keywords":["ship","summer","transportation","water","sailing"],"char":"⛵","fitzpatrick_scale":false,"category":"travel_and_places"},"motor_boat":{"keywords":["ship"],"char":"🛥","fitzpatrick_scale":false,"category":"travel_and_places"},"speedboat":{"keywords":["ship","transportation","vehicle","summer"],"char":"🚤","fitzpatrick_scale":false,"category":"travel_and_places"},"ferry":{"keywords":["boat","ship","yacht"],"char":"⛴","fitzpatrick_scale":false,"category":"travel_and_places"},"passenger_ship":{"keywords":["yacht","cruise","ferry"],"char":"🛳","fitzpatrick_scale":false,"category":"travel_and_places"},"rocket":{"keywords":["launch","ship","staffmode","NASA","outer space","outer_space","fly"],"char":"🚀","fitzpatrick_scale":false,"category":"travel_and_places"},"artificial_satellite":{"keywords":["communication","gps","orbit","spaceflight","NASA","ISS"],"char":"🛰","fitzpatrick_scale":false,"category":"travel_and_places"},"seat":{"keywords":["sit","airplane","transport","bus","flight","fly"],"char":"💺","fitzpatrick_scale":false,"category":"travel_and_places"},"canoe":{"keywords":["boat","paddle","water","ship"],"char":"🛶","fitzpatrick_scale":false,"category":"travel_and_places"},"anchor":{"keywords":["ship","ferry","sea","boat"],"char":"⚓","fitzpatrick_scale":false,"category":"travel_and_places"},"construction":{"keywords":["wip","progress","caution","warning"],"char":"🚧","fitzpatrick_scale":false,"category":"travel_and_places"},"fuelpump":{"keywords":["gas station","petroleum"],"char":"⛽","fitzpatrick_scale":false,"category":"travel_and_places"},"busstop":{"keywords":["transportation","wait"],"char":"🚏","fitzpatrick_scale":false,"category":"travel_and_places"},"vertical_traffic_light":{"keywords":["transportation","driving"],"char":"🚦","fitzpatrick_scale":false,"category":"travel_and_places"},"traffic_light":{"keywords":["transportation","signal"],"char":"🚥","fitzpatrick_scale":false,"category":"travel_and_places"},"checkered_flag":{"keywords":["contest","finishline","race","gokart"],"char":"🏁","fitzpatrick_scale":false,"category":"travel_and_places"},"ship":{"keywords":["transportation","titanic","deploy"],"char":"🚢","fitzpatrick_scale":false,"category":"travel_and_places"},"ferris_wheel":{"keywords":["photo","carnival","londoneye"],"char":"🎡","fitzpatrick_scale":false,"category":"travel_and_places"},"roller_coaster":{"keywords":["carnival","playground","photo","fun"],"char":"🎢","fitzpatrick_scale":false,"category":"travel_and_places"},"carousel_horse":{"keywords":["photo","carnival"],"char":"🎠","fitzpatrick_scale":false,"category":"travel_and_places"},"building_construction":{"keywords":["wip","working","progress"],"char":"🏗","fitzpatrick_scale":false,"category":"travel_and_places"},"foggy":{"keywords":["photo","mountain"],"char":"🌁","fitzpatrick_scale":false,"category":"travel_and_places"},"tokyo_tower":{"keywords":["photo","japanese"],"char":"🗼","fitzpatrick_scale":false,"category":"travel_and_places"},"factory":{"keywords":["building","industry","pollution","smoke"],"char":"🏭","fitzpatrick_scale":false,"category":"travel_and_places"},"fountain":{"keywords":["photo","summer","water","fresh"],"char":"⛲","fitzpatrick_scale":false,"category":"travel_and_places"},"rice_scene":{"keywords":["photo","japan","asia","tsukimi"],"char":"🎑","fitzpatrick_scale":false,"category":"travel_and_places"},"mountain":{"keywords":["photo","nature","environment"],"char":"⛰","fitzpatrick_scale":false,"category":"travel_and_places"},"mountain_snow":{"keywords":["photo","nature","environment","winter","cold"],"char":"🏔","fitzpatrick_scale":false,"category":"travel_and_places"},"mount_fuji":{"keywords":["photo","mountain","nature","japanese"],"char":"🗻","fitzpatrick_scale":false,"category":"travel_and_places"},"volcano":{"keywords":["photo","nature","disaster"],"char":"🌋","fitzpatrick_scale":false,"category":"travel_and_places"},"japan":{"keywords":["nation","country","japanese","asia"],"char":"🗾","fitzpatrick_scale":false,"category":"travel_and_places"},"camping":{"keywords":["photo","outdoors","tent"],"char":"🏕","fitzpatrick_scale":false,"category":"travel_and_places"},"tent":{"keywords":["photo","camping","outdoors"],"char":"⛺","fitzpatrick_scale":false,"category":"travel_and_places"},"national_park":{"keywords":["photo","environment","nature"],"char":"🏞","fitzpatrick_scale":false,"category":"travel_and_places"},"motorway":{"keywords":["road","cupertino","interstate","highway"],"char":"🛣","fitzpatrick_scale":false,"category":"travel_and_places"},"railway_track":{"keywords":["train","transportation"],"char":"🛤","fitzpatrick_scale":false,"category":"travel_and_places"},"sunrise":{"keywords":["morning","view","vacation","photo"],"char":"🌅","fitzpatrick_scale":false,"category":"travel_and_places"},"sunrise_over_mountains":{"keywords":["view","vacation","photo"],"char":"🌄","fitzpatrick_scale":false,"category":"travel_and_places"},"desert":{"keywords":["photo","warm","saharah"],"char":"🏜","fitzpatrick_scale":false,"category":"travel_and_places"},"beach_umbrella":{"keywords":["weather","summer","sunny","sand","mojito"],"char":"🏖","fitzpatrick_scale":false,"category":"travel_and_places"},"desert_island":{"keywords":["photo","tropical","mojito"],"char":"🏝","fitzpatrick_scale":false,"category":"travel_and_places"},"city_sunrise":{"keywords":["photo","good morning","dawn"],"char":"🌇","fitzpatrick_scale":false,"category":"travel_and_places"},"city_sunset":{"keywords":["photo","evening","sky","buildings"],"char":"🌆","fitzpatrick_scale":false,"category":"travel_and_places"},"cityscape":{"keywords":["photo","night life","urban"],"char":"🏙","fitzpatrick_scale":false,"category":"travel_and_places"},"night_with_stars":{"keywords":["evening","city","downtown"],"char":"🌃","fitzpatrick_scale":false,"category":"travel_and_places"},"bridge_at_night":{"keywords":["photo","sanfrancisco"],"char":"🌉","fitzpatrick_scale":false,"category":"travel_and_places"},"milky_way":{"keywords":["photo","space","stars"],"char":"🌌","fitzpatrick_scale":false,"category":"travel_and_places"},"stars":{"keywords":["night","photo"],"char":"🌠","fitzpatrick_scale":false,"category":"travel_and_places"},"sparkler":{"keywords":["stars","night","shine"],"char":"🎇","fitzpatrick_scale":false,"category":"travel_and_places"},"fireworks":{"keywords":["photo","festival","carnival","congratulations"],"char":"🎆","fitzpatrick_scale":false,"category":"travel_and_places"},"rainbow":{"keywords":["nature","happy","unicorn_face","photo","sky","spring"],"char":"🌈","fitzpatrick_scale":false,"category":"travel_and_places"},"houses":{"keywords":["buildings","photo"],"char":"🏘","fitzpatrick_scale":false,"category":"travel_and_places"},"european_castle":{"keywords":["building","royalty","history"],"char":"🏰","fitzpatrick_scale":false,"category":"travel_and_places"},"japanese_castle":{"keywords":["photo","building"],"char":"🏯","fitzpatrick_scale":false,"category":"travel_and_places"},"stadium":{"keywords":["photo","place","sports","concert","venue"],"char":"🏟","fitzpatrick_scale":false,"category":"travel_and_places"},"statue_of_liberty":{"keywords":["american","newyork"],"char":"🗽","fitzpatrick_scale":false,"category":"travel_and_places"},"house":{"keywords":["building","home"],"char":"🏠","fitzpatrick_scale":false,"category":"travel_and_places"},"house_with_garden":{"keywords":["home","plant","nature"],"char":"🏡","fitzpatrick_scale":false,"category":"travel_and_places"},"derelict_house":{"keywords":["abandon","evict","broken","building"],"char":"🏚","fitzpatrick_scale":false,"category":"travel_and_places"},"office":{"keywords":["building","bureau","work"],"char":"🏢","fitzpatrick_scale":false,"category":"travel_and_places"},"department_store":{"keywords":["building","shopping","mall"],"char":"🏬","fitzpatrick_scale":false,"category":"travel_and_places"},"post_office":{"keywords":["building","envelope","communication"],"char":"🏣","fitzpatrick_scale":false,"category":"travel_and_places"},"european_post_office":{"keywords":["building","email"],"char":"🏤","fitzpatrick_scale":false,"category":"travel_and_places"},"hospital":{"keywords":["building","health","surgery","doctor"],"char":"🏥","fitzpatrick_scale":false,"category":"travel_and_places"},"bank":{"keywords":["building","money","sales","cash","business","enterprise"],"char":"🏦","fitzpatrick_scale":false,"category":"travel_and_places"},"hotel":{"keywords":["building","accomodation","checkin"],"char":"🏨","fitzpatrick_scale":false,"category":"travel_and_places"},"convenience_store":{"keywords":["building","shopping","groceries"],"char":"🏪","fitzpatrick_scale":false,"category":"travel_and_places"},"school":{"keywords":["building","student","education","learn","teach"],"char":"🏫","fitzpatrick_scale":false,"category":"travel_and_places"},"love_hotel":{"keywords":["like","affection","dating"],"char":"🏩","fitzpatrick_scale":false,"category":"travel_and_places"},"wedding":{"keywords":["love","like","affection","couple","marriage","bride","groom"],"char":"💒","fitzpatrick_scale":false,"category":"travel_and_places"},"classical_building":{"keywords":["art","culture","history"],"char":"🏛","fitzpatrick_scale":false,"category":"travel_and_places"},"church":{"keywords":["building","religion","christ"],"char":"⛪","fitzpatrick_scale":false,"category":"travel_and_places"},"mosque":{"keywords":["islam","worship","minaret"],"char":"🕌","fitzpatrick_scale":false,"category":"travel_and_places"},"synagogue":{"keywords":["judaism","worship","temple","jewish"],"char":"🕍","fitzpatrick_scale":false,"category":"travel_and_places"},"kaaba":{"keywords":["mecca","mosque","islam"],"char":"🕋","fitzpatrick_scale":false,"category":"travel_and_places"},"shinto_shrine":{"keywords":["temple","japan","kyoto"],"char":"⛩","fitzpatrick_scale":false,"category":"travel_and_places"},"watch":{"keywords":["time","accessories"],"char":"⌚","fitzpatrick_scale":false,"category":"objects"},"iphone":{"keywords":["technology","apple","gadgets","dial"],"char":"📱","fitzpatrick_scale":false,"category":"objects"},"calling":{"keywords":["iphone","incoming"],"char":"📲","fitzpatrick_scale":false,"category":"objects"},"computer":{"keywords":["technology","laptop","screen","display","monitor"],"char":"💻","fitzpatrick_scale":false,"category":"objects"},"keyboard":{"keywords":["technology","computer","type","input","text"],"char":"⌨","fitzpatrick_scale":false,"category":"objects"},"desktop_computer":{"keywords":["technology","computing","screen"],"char":"🖥","fitzpatrick_scale":false,"category":"objects"},"printer":{"keywords":["paper","ink"],"char":"🖨","fitzpatrick_scale":false,"category":"objects"},"computer_mouse":{"keywords":["click"],"char":"🖱","fitzpatrick_scale":false,"category":"objects"},"trackball":{"keywords":["technology","trackpad"],"char":"🖲","fitzpatrick_scale":false,"category":"objects"},"joystick":{"keywords":["game","play"],"char":"🕹","fitzpatrick_scale":false,"category":"objects"},"clamp":{"keywords":["tool"],"char":"🗜","fitzpatrick_scale":false,"category":"objects"},"minidisc":{"keywords":["technology","record","data","disk","90s"],"char":"💽","fitzpatrick_scale":false,"category":"objects"},"floppy_disk":{"keywords":["oldschool","technology","save","90s","80s"],"char":"💾","fitzpatrick_scale":false,"category":"objects"},"cd":{"keywords":["technology","dvd","disk","disc","90s"],"char":"💿","fitzpatrick_scale":false,"category":"objects"},"dvd":{"keywords":["cd","disk","disc"],"char":"📀","fitzpatrick_scale":false,"category":"objects"},"vhs":{"keywords":["record","video","oldschool","90s","80s"],"char":"📼","fitzpatrick_scale":false,"category":"objects"},"camera":{"keywords":["gadgets","photography"],"char":"📷","fitzpatrick_scale":false,"category":"objects"},"camera_flash":{"keywords":["photography","gadgets"],"char":"📸","fitzpatrick_scale":false,"category":"objects"},"video_camera":{"keywords":["film","record"],"char":"📹","fitzpatrick_scale":false,"category":"objects"},"movie_camera":{"keywords":["film","record"],"char":"🎥","fitzpatrick_scale":false,"category":"objects"},"film_projector":{"keywords":["video","tape","record","movie"],"char":"📽","fitzpatrick_scale":false,"category":"objects"},"film_strip":{"keywords":["movie"],"char":"🎞","fitzpatrick_scale":false,"category":"objects"},"telephone_receiver":{"keywords":["technology","communication","dial"],"char":"📞","fitzpatrick_scale":false,"category":"objects"},"phone":{"keywords":["technology","communication","dial","telephone"],"char":"☎️","fitzpatrick_scale":false,"category":"objects"},"pager":{"keywords":["bbcall","oldschool","90s"],"char":"📟","fitzpatrick_scale":false,"category":"objects"},"fax":{"keywords":["communication","technology"],"char":"📠","fitzpatrick_scale":false,"category":"objects"},"tv":{"keywords":["technology","program","oldschool","show","television"],"char":"📺","fitzpatrick_scale":false,"category":"objects"},"radio":{"keywords":["communication","music","podcast","program"],"char":"📻","fitzpatrick_scale":false,"category":"objects"},"studio_microphone":{"keywords":["sing","recording","artist","talkshow"],"char":"🎙","fitzpatrick_scale":false,"category":"objects"},"level_slider":{"keywords":["scale"],"char":"🎚","fitzpatrick_scale":false,"category":"objects"},"control_knobs":{"keywords":["dial"],"char":"🎛","fitzpatrick_scale":false,"category":"objects"},"compass":{"keywords":["magnetic","navigation","orienteering"],"char":"🧭","fitzpatrick_scale":false,"category":"objects"},"stopwatch":{"keywords":["time","deadline"],"char":"⏱","fitzpatrick_scale":false,"category":"objects"},"timer_clock":{"keywords":["alarm"],"char":"⏲","fitzpatrick_scale":false,"category":"objects"},"alarm_clock":{"keywords":["time","wake"],"char":"⏰","fitzpatrick_scale":false,"category":"objects"},"mantelpiece_clock":{"keywords":["time"],"char":"🕰","fitzpatrick_scale":false,"category":"objects"},"hourglass_flowing_sand":{"keywords":["oldschool","time","countdown"],"char":"⏳","fitzpatrick_scale":false,"category":"objects"},"hourglass":{"keywords":["time","clock","oldschool","limit","exam","quiz","test"],"char":"⌛","fitzpatrick_scale":false,"category":"objects"},"satellite":{"keywords":["communication","future","radio","space"],"char":"📡","fitzpatrick_scale":false,"category":"objects"},"battery":{"keywords":["power","energy","sustain"],"char":"🔋","fitzpatrick_scale":false,"category":"objects"},"electric_plug":{"keywords":["charger","power"],"char":"🔌","fitzpatrick_scale":false,"category":"objects"},"bulb":{"keywords":["light","electricity","idea"],"char":"💡","fitzpatrick_scale":false,"category":"objects"},"flashlight":{"keywords":["dark","camping","sight","night"],"char":"🔦","fitzpatrick_scale":false,"category":"objects"},"candle":{"keywords":["fire","wax"],"char":"🕯","fitzpatrick_scale":false,"category":"objects"},"fire_extinguisher":{"keywords":["quench"],"char":"🧯","fitzpatrick_scale":false,"category":"objects"},"wastebasket":{"keywords":["bin","trash","rubbish","garbage","toss"],"char":"🗑","fitzpatrick_scale":false,"category":"objects"},"oil_drum":{"keywords":["barrell"],"char":"🛢","fitzpatrick_scale":false,"category":"objects"},"money_with_wings":{"keywords":["dollar","bills","payment","sale"],"char":"💸","fitzpatrick_scale":false,"category":"objects"},"dollar":{"keywords":["money","sales","bill","currency"],"char":"💵","fitzpatrick_scale":false,"category":"objects"},"yen":{"keywords":["money","sales","japanese","dollar","currency"],"char":"💴","fitzpatrick_scale":false,"category":"objects"},"euro":{"keywords":["money","sales","dollar","currency"],"char":"💶","fitzpatrick_scale":false,"category":"objects"},"pound":{"keywords":["british","sterling","money","sales","bills","uk","england","currency"],"char":"💷","fitzpatrick_scale":false,"category":"objects"},"moneybag":{"keywords":["dollar","payment","coins","sale"],"char":"💰","fitzpatrick_scale":false,"category":"objects"},"credit_card":{"keywords":["money","sales","dollar","bill","payment","shopping"],"char":"💳","fitzpatrick_scale":false,"category":"objects"},"gem":{"keywords":["blue","ruby","diamond","jewelry"],"char":"💎","fitzpatrick_scale":false,"category":"objects"},"balance_scale":{"keywords":["law","fairness","weight"],"char":"⚖","fitzpatrick_scale":false,"category":"objects"},"toolbox":{"keywords":["tools","diy","fix","maintainer","mechanic"],"char":"🧰","fitzpatrick_scale":false,"category":"objects"},"wrench":{"keywords":["tools","diy","ikea","fix","maintainer"],"char":"🔧","fitzpatrick_scale":false,"category":"objects"},"hammer":{"keywords":["tools","build","create"],"char":"🔨","fitzpatrick_scale":false,"category":"objects"},"hammer_and_pick":{"keywords":["tools","build","create"],"char":"⚒","fitzpatrick_scale":false,"category":"objects"},"hammer_and_wrench":{"keywords":["tools","build","create"],"char":"🛠","fitzpatrick_scale":false,"category":"objects"},"pick":{"keywords":["tools","dig"],"char":"⛏","fitzpatrick_scale":false,"category":"objects"},"nut_and_bolt":{"keywords":["handy","tools","fix"],"char":"🔩","fitzpatrick_scale":false,"category":"objects"},"gear":{"keywords":["cog"],"char":"⚙","fitzpatrick_scale":false,"category":"objects"},"brick":{"keywords":["bricks"],"char":"🧱","fitzpatrick_scale":false,"category":"objects"},"chains":{"keywords":["lock","arrest"],"char":"⛓","fitzpatrick_scale":false,"category":"objects"},"magnet":{"keywords":["attraction","magnetic"],"char":"🧲","fitzpatrick_scale":false,"category":"objects"},"gun":{"keywords":["violence","weapon","pistol","revolver"],"char":"🔫","fitzpatrick_scale":false,"category":"objects"},"bomb":{"keywords":["boom","explode","explosion","terrorism"],"char":"💣","fitzpatrick_scale":false,"category":"objects"},"firecracker":{"keywords":["dynamite","boom","explode","explosion","explosive"],"char":"🧨","fitzpatrick_scale":false,"category":"objects"},"hocho":{"keywords":["knife","blade","cutlery","kitchen","weapon"],"char":"🔪","fitzpatrick_scale":false,"category":"objects"},"dagger":{"keywords":["weapon"],"char":"🗡","fitzpatrick_scale":false,"category":"objects"},"crossed_swords":{"keywords":["weapon"],"char":"⚔","fitzpatrick_scale":false,"category":"objects"},"shield":{"keywords":["protection","security"],"char":"🛡","fitzpatrick_scale":false,"category":"objects"},"smoking":{"keywords":["kills","tobacco","cigarette","joint","smoke"],"char":"🚬","fitzpatrick_scale":false,"category":"objects"},"skull_and_crossbones":{"keywords":["poison","danger","deadly","scary","death","pirate","evil"],"char":"☠","fitzpatrick_scale":false,"category":"objects"},"coffin":{"keywords":["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],"char":"⚰","fitzpatrick_scale":false,"category":"objects"},"funeral_urn":{"keywords":["dead","die","death","rip","ashes"],"char":"⚱","fitzpatrick_scale":false,"category":"objects"},"amphora":{"keywords":["vase","jar"],"char":"🏺","fitzpatrick_scale":false,"category":"objects"},"crystal_ball":{"keywords":["disco","party","magic","circus","fortune_teller"],"char":"🔮","fitzpatrick_scale":false,"category":"objects"},"prayer_beads":{"keywords":["dhikr","religious"],"char":"📿","fitzpatrick_scale":false,"category":"objects"},"nazar_amulet":{"keywords":["bead","charm"],"char":"🧿","fitzpatrick_scale":false,"category":"objects"},"barber":{"keywords":["hair","salon","style"],"char":"💈","fitzpatrick_scale":false,"category":"objects"},"alembic":{"keywords":["distilling","science","experiment","chemistry"],"char":"⚗","fitzpatrick_scale":false,"category":"objects"},"telescope":{"keywords":["stars","space","zoom","science","astronomy"],"char":"🔭","fitzpatrick_scale":false,"category":"objects"},"microscope":{"keywords":["laboratory","experiment","zoomin","science","study"],"char":"🔬","fitzpatrick_scale":false,"category":"objects"},"hole":{"keywords":["embarrassing"],"char":"🕳","fitzpatrick_scale":false,"category":"objects"},"pill":{"keywords":["health","medicine","doctor","pharmacy","drug"],"char":"💊","fitzpatrick_scale":false,"category":"objects"},"syringe":{"keywords":["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],"char":"💉","fitzpatrick_scale":false,"category":"objects"},"dna":{"keywords":["biologist","genetics","life"],"char":"🧬","fitzpatrick_scale":false,"category":"objects"},"microbe":{"keywords":["amoeba","bacteria","germs"],"char":"🦠","fitzpatrick_scale":false,"category":"objects"},"petri_dish":{"keywords":["bacteria","biology","culture","lab"],"char":"🧫","fitzpatrick_scale":false,"category":"objects"},"test_tube":{"keywords":["chemistry","experiment","lab","science"],"char":"🧪","fitzpatrick_scale":false,"category":"objects"},"thermometer":{"keywords":["weather","temperature","hot","cold"],"char":"🌡","fitzpatrick_scale":false,"category":"objects"},"broom":{"keywords":["cleaning","sweeping","witch"],"char":"🧹","fitzpatrick_scale":false,"category":"objects"},"basket":{"keywords":["laundry"],"char":"🧺","fitzpatrick_scale":false,"category":"objects"},"toilet_paper":{"keywords":["roll"],"char":"🧻","fitzpatrick_scale":false,"category":"objects"},"label":{"keywords":["sale","tag"],"char":"🏷","fitzpatrick_scale":false,"category":"objects"},"bookmark":{"keywords":["favorite","label","save"],"char":"🔖","fitzpatrick_scale":false,"category":"objects"},"toilet":{"keywords":["restroom","wc","washroom","bathroom","potty"],"char":"🚽","fitzpatrick_scale":false,"category":"objects"},"shower":{"keywords":["clean","water","bathroom"],"char":"🚿","fitzpatrick_scale":false,"category":"objects"},"bathtub":{"keywords":["clean","shower","bathroom"],"char":"🛁","fitzpatrick_scale":false,"category":"objects"},"soap":{"keywords":["bar","bathing","cleaning","lather"],"char":"🧼","fitzpatrick_scale":false,"category":"objects"},"sponge":{"keywords":["absorbing","cleaning","porous"],"char":"🧽","fitzpatrick_scale":false,"category":"objects"},"lotion_bottle":{"keywords":["moisturizer","sunscreen"],"char":"🧴","fitzpatrick_scale":false,"category":"objects"},"key":{"keywords":["lock","door","password"],"char":"🔑","fitzpatrick_scale":false,"category":"objects"},"old_key":{"keywords":["lock","door","password"],"char":"🗝","fitzpatrick_scale":false,"category":"objects"},"couch_and_lamp":{"keywords":["read","chill"],"char":"🛋","fitzpatrick_scale":false,"category":"objects"},"sleeping_bed":{"keywords":["bed","rest"],"char":"🛌","fitzpatrick_scale":true,"category":"objects"},"bed":{"keywords":["sleep","rest"],"char":"🛏","fitzpatrick_scale":false,"category":"objects"},"door":{"keywords":["house","entry","exit"],"char":"🚪","fitzpatrick_scale":false,"category":"objects"},"bellhop_bell":{"keywords":["service"],"char":"🛎","fitzpatrick_scale":false,"category":"objects"},"teddy_bear":{"keywords":["plush","stuffed"],"char":"🧸","fitzpatrick_scale":false,"category":"objects"},"framed_picture":{"keywords":["photography"],"char":"🖼","fitzpatrick_scale":false,"category":"objects"},"world_map":{"keywords":["location","direction"],"char":"🗺","fitzpatrick_scale":false,"category":"objects"},"parasol_on_ground":{"keywords":["weather","summer"],"char":"⛱","fitzpatrick_scale":false,"category":"objects"},"moyai":{"keywords":["rock","easter island","moai"],"char":"🗿","fitzpatrick_scale":false,"category":"objects"},"shopping":{"keywords":["mall","buy","purchase"],"char":"🛍","fitzpatrick_scale":false,"category":"objects"},"shopping_cart":{"keywords":["trolley"],"char":"🛒","fitzpatrick_scale":false,"category":"objects"},"balloon":{"keywords":["party","celebration","birthday","circus"],"char":"🎈","fitzpatrick_scale":false,"category":"objects"},"flags":{"keywords":["fish","japanese","koinobori","carp","banner"],"char":"🎏","fitzpatrick_scale":false,"category":"objects"},"ribbon":{"keywords":["decoration","pink","girl","bowtie"],"char":"🎀","fitzpatrick_scale":false,"category":"objects"},"gift":{"keywords":["present","birthday","christmas","xmas"],"char":"🎁","fitzpatrick_scale":false,"category":"objects"},"confetti_ball":{"keywords":["festival","party","birthday","circus"],"char":"🎊","fitzpatrick_scale":false,"category":"objects"},"tada":{"keywords":["party","congratulations","birthday","magic","circus","celebration"],"char":"🎉","fitzpatrick_scale":false,"category":"objects"},"dolls":{"keywords":["japanese","toy","kimono"],"char":"🎎","fitzpatrick_scale":false,"category":"objects"},"wind_chime":{"keywords":["nature","ding","spring","bell"],"char":"🎐","fitzpatrick_scale":false,"category":"objects"},"crossed_flags":{"keywords":["japanese","nation","country","border"],"char":"🎌","fitzpatrick_scale":false,"category":"objects"},"izakaya_lantern":{"keywords":["light","paper","halloween","spooky"],"char":"🏮","fitzpatrick_scale":false,"category":"objects"},"red_envelope":{"keywords":["gift"],"char":"🧧","fitzpatrick_scale":false,"category":"objects"},"email":{"keywords":["letter","postal","inbox","communication"],"char":"✉️","fitzpatrick_scale":false,"category":"objects"},"envelope_with_arrow":{"keywords":["email","communication"],"char":"📩","fitzpatrick_scale":false,"category":"objects"},"incoming_envelope":{"keywords":["email","inbox"],"char":"📨","fitzpatrick_scale":false,"category":"objects"},"e-mail":{"keywords":["communication","inbox"],"char":"📧","fitzpatrick_scale":false,"category":"objects"},"love_letter":{"keywords":["email","like","affection","envelope","valentines"],"char":"💌","fitzpatrick_scale":false,"category":"objects"},"postbox":{"keywords":["email","letter","envelope"],"char":"📮","fitzpatrick_scale":false,"category":"objects"},"mailbox_closed":{"keywords":["email","communication","inbox"],"char":"📪","fitzpatrick_scale":false,"category":"objects"},"mailbox":{"keywords":["email","inbox","communication"],"char":"📫","fitzpatrick_scale":false,"category":"objects"},"mailbox_with_mail":{"keywords":["email","inbox","communication"],"char":"📬","fitzpatrick_scale":false,"category":"objects"},"mailbox_with_no_mail":{"keywords":["email","inbox"],"char":"📭","fitzpatrick_scale":false,"category":"objects"},"package":{"keywords":["mail","gift","cardboard","box","moving"],"char":"📦","fitzpatrick_scale":false,"category":"objects"},"postal_horn":{"keywords":["instrument","music"],"char":"📯","fitzpatrick_scale":false,"category":"objects"},"inbox_tray":{"keywords":["email","documents"],"char":"📥","fitzpatrick_scale":false,"category":"objects"},"outbox_tray":{"keywords":["inbox","email"],"char":"📤","fitzpatrick_scale":false,"category":"objects"},"scroll":{"keywords":["documents","ancient","history","paper"],"char":"📜","fitzpatrick_scale":false,"category":"objects"},"page_with_curl":{"keywords":["documents","office","paper"],"char":"📃","fitzpatrick_scale":false,"category":"objects"},"bookmark_tabs":{"keywords":["favorite","save","order","tidy"],"char":"📑","fitzpatrick_scale":false,"category":"objects"},"receipt":{"keywords":["accounting","expenses"],"char":"🧾","fitzpatrick_scale":false,"category":"objects"},"bar_chart":{"keywords":["graph","presentation","stats"],"char":"📊","fitzpatrick_scale":false,"category":"objects"},"chart_with_upwards_trend":{"keywords":["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],"char":"📈","fitzpatrick_scale":false,"category":"objects"},"chart_with_downwards_trend":{"keywords":["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],"char":"📉","fitzpatrick_scale":false,"category":"objects"},"page_facing_up":{"keywords":["documents","office","paper","information"],"char":"📄","fitzpatrick_scale":false,"category":"objects"},"date":{"keywords":["calendar","schedule"],"char":"📅","fitzpatrick_scale":false,"category":"objects"},"calendar":{"keywords":["schedule","date","planning"],"char":"📆","fitzpatrick_scale":false,"category":"objects"},"spiral_calendar":{"keywords":["date","schedule","planning"],"char":"🗓","fitzpatrick_scale":false,"category":"objects"},"card_index":{"keywords":["business","stationery"],"char":"📇","fitzpatrick_scale":false,"category":"objects"},"card_file_box":{"keywords":["business","stationery"],"char":"🗃","fitzpatrick_scale":false,"category":"objects"},"ballot_box":{"keywords":["election","vote"],"char":"🗳","fitzpatrick_scale":false,"category":"objects"},"file_cabinet":{"keywords":["filing","organizing"],"char":"🗄","fitzpatrick_scale":false,"category":"objects"},"clipboard":{"keywords":["stationery","documents"],"char":"📋","fitzpatrick_scale":false,"category":"objects"},"spiral_notepad":{"keywords":["memo","stationery"],"char":"🗒","fitzpatrick_scale":false,"category":"objects"},"file_folder":{"keywords":["documents","business","office"],"char":"📁","fitzpatrick_scale":false,"category":"objects"},"open_file_folder":{"keywords":["documents","load"],"char":"📂","fitzpatrick_scale":false,"category":"objects"},"card_index_dividers":{"keywords":["organizing","business","stationery"],"char":"🗂","fitzpatrick_scale":false,"category":"objects"},"newspaper_roll":{"keywords":["press","headline"],"char":"🗞","fitzpatrick_scale":false,"category":"objects"},"newspaper":{"keywords":["press","headline"],"char":"📰","fitzpatrick_scale":false,"category":"objects"},"notebook":{"keywords":["stationery","record","notes","paper","study"],"char":"📓","fitzpatrick_scale":false,"category":"objects"},"closed_book":{"keywords":["read","library","knowledge","textbook","learn"],"char":"📕","fitzpatrick_scale":false,"category":"objects"},"green_book":{"keywords":["read","library","knowledge","study"],"char":"📗","fitzpatrick_scale":false,"category":"objects"},"blue_book":{"keywords":["read","library","knowledge","learn","study"],"char":"📘","fitzpatrick_scale":false,"category":"objects"},"orange_book":{"keywords":["read","library","knowledge","textbook","study"],"char":"📙","fitzpatrick_scale":false,"category":"objects"},"notebook_with_decorative_cover":{"keywords":["classroom","notes","record","paper","study"],"char":"📔","fitzpatrick_scale":false,"category":"objects"},"ledger":{"keywords":["notes","paper"],"char":"📒","fitzpatrick_scale":false,"category":"objects"},"books":{"keywords":["literature","library","study"],"char":"📚","fitzpatrick_scale":false,"category":"objects"},"open_book":{"keywords":["book","read","library","knowledge","literature","learn","study"],"char":"📖","fitzpatrick_scale":false,"category":"objects"},"safety_pin":{"keywords":["diaper"],"char":"🧷","fitzpatrick_scale":false,"category":"objects"},"link":{"keywords":["rings","url"],"char":"🔗","fitzpatrick_scale":false,"category":"objects"},"paperclip":{"keywords":["documents","stationery"],"char":"📎","fitzpatrick_scale":false,"category":"objects"},"paperclips":{"keywords":["documents","stationery"],"char":"🖇","fitzpatrick_scale":false,"category":"objects"},"scissors":{"keywords":["stationery","cut"],"char":"✂️","fitzpatrick_scale":false,"category":"objects"},"triangular_ruler":{"keywords":["stationery","math","architect","sketch"],"char":"📐","fitzpatrick_scale":false,"category":"objects"},"straight_ruler":{"keywords":["stationery","calculate","length","math","school","drawing","architect","sketch"],"char":"📏","fitzpatrick_scale":false,"category":"objects"},"abacus":{"keywords":["calculation"],"char":"🧮","fitzpatrick_scale":false,"category":"objects"},"pushpin":{"keywords":["stationery","mark","here"],"char":"📌","fitzpatrick_scale":false,"category":"objects"},"round_pushpin":{"keywords":["stationery","location","map","here"],"char":"📍","fitzpatrick_scale":false,"category":"objects"},"triangular_flag_on_post":{"keywords":["mark","milestone","place"],"char":"🚩","fitzpatrick_scale":false,"category":"objects"},"white_flag":{"keywords":["losing","loser","lost","surrender","give up","fail"],"char":"🏳","fitzpatrick_scale":false,"category":"objects"},"black_flag":{"keywords":["pirate"],"char":"🏴","fitzpatrick_scale":false,"category":"objects"},"rainbow_flag":{"keywords":["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],"char":"🏳️‍🌈","fitzpatrick_scale":false,"category":"objects"},"closed_lock_with_key":{"keywords":["security","privacy"],"char":"🔐","fitzpatrick_scale":false,"category":"objects"},"lock":{"keywords":["security","password","padlock"],"char":"🔒","fitzpatrick_scale":false,"category":"objects"},"unlock":{"keywords":["privacy","security"],"char":"🔓","fitzpatrick_scale":false,"category":"objects"},"lock_with_ink_pen":{"keywords":["security","secret"],"char":"🔏","fitzpatrick_scale":false,"category":"objects"},"pen":{"keywords":["stationery","writing","write"],"char":"🖊","fitzpatrick_scale":false,"category":"objects"},"fountain_pen":{"keywords":["stationery","writing","write"],"char":"🖋","fitzpatrick_scale":false,"category":"objects"},"black_nib":{"keywords":["pen","stationery","writing","write"],"char":"✒️","fitzpatrick_scale":false,"category":"objects"},"memo":{"keywords":["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],"char":"📝","fitzpatrick_scale":false,"category":"objects"},"pencil2":{"keywords":["stationery","write","paper","writing","school","study"],"char":"✏️","fitzpatrick_scale":false,"category":"objects"},"crayon":{"keywords":["drawing","creativity"],"char":"🖍","fitzpatrick_scale":false,"category":"objects"},"paintbrush":{"keywords":["drawing","creativity","art"],"char":"🖌","fitzpatrick_scale":false,"category":"objects"},"mag":{"keywords":["search","zoom","find","detective"],"char":"🔍","fitzpatrick_scale":false,"category":"objects"},"mag_right":{"keywords":["search","zoom","find","detective"],"char":"🔎","fitzpatrick_scale":false,"category":"objects"},"heart":{"keywords":["love","like","valentines"],"char":"❤️","fitzpatrick_scale":false,"category":"symbols"},"orange_heart":{"keywords":["love","like","affection","valentines"],"char":"🧡","fitzpatrick_scale":false,"category":"symbols"},"yellow_heart":{"keywords":["love","like","affection","valentines"],"char":"💛","fitzpatrick_scale":false,"category":"symbols"},"green_heart":{"keywords":["love","like","affection","valentines"],"char":"💚","fitzpatrick_scale":false,"category":"symbols"},"blue_heart":{"keywords":["love","like","affection","valentines"],"char":"💙","fitzpatrick_scale":false,"category":"symbols"},"purple_heart":{"keywords":["love","like","affection","valentines"],"char":"💜","fitzpatrick_scale":false,"category":"symbols"},"black_heart":{"keywords":["evil"],"char":"🖤","fitzpatrick_scale":false,"category":"symbols"},"broken_heart":{"keywords":["sad","sorry","break","heart","heartbreak"],"char":"💔","fitzpatrick_scale":false,"category":"symbols"},"heavy_heart_exclamation":{"keywords":["decoration","love"],"char":"❣","fitzpatrick_scale":false,"category":"symbols"},"two_hearts":{"keywords":["love","like","affection","valentines","heart"],"char":"💕","fitzpatrick_scale":false,"category":"symbols"},"revolving_hearts":{"keywords":["love","like","affection","valentines"],"char":"💞","fitzpatrick_scale":false,"category":"symbols"},"heartbeat":{"keywords":["love","like","affection","valentines","pink","heart"],"char":"💓","fitzpatrick_scale":false,"category":"symbols"},"heartpulse":{"keywords":["like","love","affection","valentines","pink"],"char":"💗","fitzpatrick_scale":false,"category":"symbols"},"sparkling_heart":{"keywords":["love","like","affection","valentines"],"char":"💖","fitzpatrick_scale":false,"category":"symbols"},"cupid":{"keywords":["love","like","heart","affection","valentines"],"char":"💘","fitzpatrick_scale":false,"category":"symbols"},"gift_heart":{"keywords":["love","valentines"],"char":"💝","fitzpatrick_scale":false,"category":"symbols"},"heart_decoration":{"keywords":["purple-square","love","like"],"char":"💟","fitzpatrick_scale":false,"category":"symbols"},"peace_symbol":{"keywords":["hippie"],"char":"☮","fitzpatrick_scale":false,"category":"symbols"},"latin_cross":{"keywords":["christianity"],"char":"✝","fitzpatrick_scale":false,"category":"symbols"},"star_and_crescent":{"keywords":["islam"],"char":"☪","fitzpatrick_scale":false,"category":"symbols"},"om":{"keywords":["hinduism","buddhism","sikhism","jainism"],"char":"🕉","fitzpatrick_scale":false,"category":"symbols"},"wheel_of_dharma":{"keywords":["hinduism","buddhism","sikhism","jainism"],"char":"☸","fitzpatrick_scale":false,"category":"symbols"},"star_of_david":{"keywords":["judaism"],"char":"✡","fitzpatrick_scale":false,"category":"symbols"},"six_pointed_star":{"keywords":["purple-square","religion","jewish","hexagram"],"char":"🔯","fitzpatrick_scale":false,"category":"symbols"},"menorah":{"keywords":["hanukkah","candles","jewish"],"char":"🕎","fitzpatrick_scale":false,"category":"symbols"},"yin_yang":{"keywords":["balance"],"char":"☯","fitzpatrick_scale":false,"category":"symbols"},"orthodox_cross":{"keywords":["suppedaneum","religion"],"char":"☦","fitzpatrick_scale":false,"category":"symbols"},"place_of_worship":{"keywords":["religion","church","temple","prayer"],"char":"🛐","fitzpatrick_scale":false,"category":"symbols"},"ophiuchus":{"keywords":["sign","purple-square","constellation","astrology"],"char":"⛎","fitzpatrick_scale":false,"category":"symbols"},"aries":{"keywords":["sign","purple-square","zodiac","astrology"],"char":"♈","fitzpatrick_scale":false,"category":"symbols"},"taurus":{"keywords":["purple-square","sign","zodiac","astrology"],"char":"♉","fitzpatrick_scale":false,"category":"symbols"},"gemini":{"keywords":["sign","zodiac","purple-square","astrology"],"char":"♊","fitzpatrick_scale":false,"category":"symbols"},"cancer":{"keywords":["sign","zodiac","purple-square","astrology"],"char":"♋","fitzpatrick_scale":false,"category":"symbols"},"leo":{"keywords":["sign","purple-square","zodiac","astrology"],"char":"♌","fitzpatrick_scale":false,"category":"symbols"},"virgo":{"keywords":["sign","zodiac","purple-square","astrology"],"char":"♍","fitzpatrick_scale":false,"category":"symbols"},"libra":{"keywords":["sign","purple-square","zodiac","astrology"],"char":"♎","fitzpatrick_scale":false,"category":"symbols"},"scorpius":{"keywords":["sign","zodiac","purple-square","astrology","scorpio"],"char":"♏","fitzpatrick_scale":false,"category":"symbols"},"sagittarius":{"keywords":["sign","zodiac","purple-square","astrology"],"char":"♐","fitzpatrick_scale":false,"category":"symbols"},"capricorn":{"keywords":["sign","zodiac","purple-square","astrology"],"char":"♑","fitzpatrick_scale":false,"category":"symbols"},"aquarius":{"keywords":["sign","purple-square","zodiac","astrology"],"char":"♒","fitzpatrick_scale":false,"category":"symbols"},"pisces":{"keywords":["purple-square","sign","zodiac","astrology"],"char":"♓","fitzpatrick_scale":false,"category":"symbols"},"id":{"keywords":["purple-square","words"],"char":"🆔","fitzpatrick_scale":false,"category":"symbols"},"atom_symbol":{"keywords":["science","physics","chemistry"],"char":"⚛","fitzpatrick_scale":false,"category":"symbols"},"u7a7a":{"keywords":["kanji","japanese","chinese","empty","sky","blue-square"],"char":"🈳","fitzpatrick_scale":false,"category":"symbols"},"u5272":{"keywords":["cut","divide","chinese","kanji","pink-square"],"char":"🈹","fitzpatrick_scale":false,"category":"symbols"},"radioactive":{"keywords":["nuclear","danger"],"char":"☢","fitzpatrick_scale":false,"category":"symbols"},"biohazard":{"keywords":["danger"],"char":"☣","fitzpatrick_scale":false,"category":"symbols"},"mobile_phone_off":{"keywords":["mute","orange-square","silence","quiet"],"char":"📴","fitzpatrick_scale":false,"category":"symbols"},"vibration_mode":{"keywords":["orange-square","phone"],"char":"📳","fitzpatrick_scale":false,"category":"symbols"},"u6709":{"keywords":["orange-square","chinese","have","kanji"],"char":"🈶","fitzpatrick_scale":false,"category":"symbols"},"u7121":{"keywords":["nothing","chinese","kanji","japanese","orange-square"],"char":"🈚","fitzpatrick_scale":false,"category":"symbols"},"u7533":{"keywords":["chinese","japanese","kanji","orange-square"],"char":"🈸","fitzpatrick_scale":false,"category":"symbols"},"u55b6":{"keywords":["japanese","opening hours","orange-square"],"char":"🈺","fitzpatrick_scale":false,"category":"symbols"},"u6708":{"keywords":["chinese","month","moon","japanese","orange-square","kanji"],"char":"🈷️","fitzpatrick_scale":false,"category":"symbols"},"eight_pointed_black_star":{"keywords":["orange-square","shape","polygon"],"char":"✴️","fitzpatrick_scale":false,"category":"symbols"},"vs":{"keywords":["words","orange-square"],"char":"🆚","fitzpatrick_scale":false,"category":"symbols"},"accept":{"keywords":["ok","good","chinese","kanji","agree","yes","orange-circle"],"char":"🉑","fitzpatrick_scale":false,"category":"symbols"},"white_flower":{"keywords":["japanese","spring"],"char":"💮","fitzpatrick_scale":false,"category":"symbols"},"ideograph_advantage":{"keywords":["chinese","kanji","obtain","get","circle"],"char":"🉐","fitzpatrick_scale":false,"category":"symbols"},"secret":{"keywords":["privacy","chinese","sshh","kanji","red-circle"],"char":"㊙️","fitzpatrick_scale":false,"category":"symbols"},"congratulations":{"keywords":["chinese","kanji","japanese","red-circle"],"char":"㊗️","fitzpatrick_scale":false,"category":"symbols"},"u5408":{"keywords":["japanese","chinese","join","kanji","red-square"],"char":"🈴","fitzpatrick_scale":false,"category":"symbols"},"u6e80":{"keywords":["full","chinese","japanese","red-square","kanji"],"char":"🈵","fitzpatrick_scale":false,"category":"symbols"},"u7981":{"keywords":["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],"char":"🈲","fitzpatrick_scale":false,"category":"symbols"},"a":{"keywords":["red-square","alphabet","letter"],"char":"🅰️","fitzpatrick_scale":false,"category":"symbols"},"b":{"keywords":["red-square","alphabet","letter"],"char":"🅱️","fitzpatrick_scale":false,"category":"symbols"},"ab":{"keywords":["red-square","alphabet"],"char":"🆎","fitzpatrick_scale":false,"category":"symbols"},"cl":{"keywords":["alphabet","words","red-square"],"char":"🆑","fitzpatrick_scale":false,"category":"symbols"},"o2":{"keywords":["alphabet","red-square","letter"],"char":"🅾️","fitzpatrick_scale":false,"category":"symbols"},"sos":{"keywords":["help","red-square","words","emergency","911"],"char":"🆘","fitzpatrick_scale":false,"category":"symbols"},"no_entry":{"keywords":["limit","security","privacy","bad","denied","stop","circle"],"char":"⛔","fitzpatrick_scale":false,"category":"symbols"},"name_badge":{"keywords":["fire","forbid"],"char":"📛","fitzpatrick_scale":false,"category":"symbols"},"no_entry_sign":{"keywords":["forbid","stop","limit","denied","disallow","circle"],"char":"🚫","fitzpatrick_scale":false,"category":"symbols"},"x":{"keywords":["no","delete","remove","cancel","red"],"char":"❌","fitzpatrick_scale":false,"category":"symbols"},"o":{"keywords":["circle","round"],"char":"⭕","fitzpatrick_scale":false,"category":"symbols"},"stop_sign":{"keywords":["stop"],"char":"🛑","fitzpatrick_scale":false,"category":"symbols"},"anger":{"keywords":["angry","mad"],"char":"💢","fitzpatrick_scale":false,"category":"symbols"},"hotsprings":{"keywords":["bath","warm","relax"],"char":"♨️","fitzpatrick_scale":false,"category":"symbols"},"no_pedestrians":{"keywords":["rules","crossing","walking","circle"],"char":"🚷","fitzpatrick_scale":false,"category":"symbols"},"do_not_litter":{"keywords":["trash","bin","garbage","circle"],"char":"🚯","fitzpatrick_scale":false,"category":"symbols"},"no_bicycles":{"keywords":["cyclist","prohibited","circle"],"char":"🚳","fitzpatrick_scale":false,"category":"symbols"},"non-potable_water":{"keywords":["drink","faucet","tap","circle"],"char":"🚱","fitzpatrick_scale":false,"category":"symbols"},"underage":{"keywords":["18","drink","pub","night","minor","circle"],"char":"🔞","fitzpatrick_scale":false,"category":"symbols"},"no_mobile_phones":{"keywords":["iphone","mute","circle"],"char":"📵","fitzpatrick_scale":false,"category":"symbols"},"exclamation":{"keywords":["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],"char":"❗","fitzpatrick_scale":false,"category":"symbols"},"grey_exclamation":{"keywords":["surprise","punctuation","gray","wow","warning"],"char":"❕","fitzpatrick_scale":false,"category":"symbols"},"question":{"keywords":["doubt","confused"],"char":"❓","fitzpatrick_scale":false,"category":"symbols"},"grey_question":{"keywords":["doubts","gray","huh","confused"],"char":"❔","fitzpatrick_scale":false,"category":"symbols"},"bangbang":{"keywords":["exclamation","surprise"],"char":"‼️","fitzpatrick_scale":false,"category":"symbols"},"interrobang":{"keywords":["wat","punctuation","surprise"],"char":"⁉️","fitzpatrick_scale":false,"category":"symbols"},"low_brightness":{"keywords":["sun","afternoon","warm","summer"],"char":"🔅","fitzpatrick_scale":false,"category":"symbols"},"high_brightness":{"keywords":["sun","light"],"char":"🔆","fitzpatrick_scale":false,"category":"symbols"},"trident":{"keywords":["weapon","spear"],"char":"🔱","fitzpatrick_scale":false,"category":"symbols"},"fleur_de_lis":{"keywords":["decorative","scout"],"char":"⚜","fitzpatrick_scale":false,"category":"symbols"},"part_alternation_mark":{"keywords":["graph","presentation","stats","business","economics","bad"],"char":"〽️","fitzpatrick_scale":false,"category":"symbols"},"warning":{"keywords":["exclamation","wip","alert","error","problem","issue"],"char":"⚠️","fitzpatrick_scale":false,"category":"symbols"},"children_crossing":{"keywords":["school","warning","danger","sign","driving","yellow-diamond"],"char":"🚸","fitzpatrick_scale":false,"category":"symbols"},"beginner":{"keywords":["badge","shield"],"char":"🔰","fitzpatrick_scale":false,"category":"symbols"},"recycle":{"keywords":["arrow","environment","garbage","trash"],"char":"♻️","fitzpatrick_scale":false,"category":"symbols"},"u6307":{"keywords":["chinese","point","green-square","kanji"],"char":"🈯","fitzpatrick_scale":false,"category":"symbols"},"chart":{"keywords":["green-square","graph","presentation","stats"],"char":"💹","fitzpatrick_scale":false,"category":"symbols"},"sparkle":{"keywords":["stars","green-square","awesome","good","fireworks"],"char":"❇️","fitzpatrick_scale":false,"category":"symbols"},"eight_spoked_asterisk":{"keywords":["star","sparkle","green-square"],"char":"✳️","fitzpatrick_scale":false,"category":"symbols"},"negative_squared_cross_mark":{"keywords":["x","green-square","no","deny"],"char":"❎","fitzpatrick_scale":false,"category":"symbols"},"white_check_mark":{"keywords":["green-square","ok","agree","vote","election","answer","tick"],"char":"✅","fitzpatrick_scale":false,"category":"symbols"},"diamond_shape_with_a_dot_inside":{"keywords":["jewel","blue","gem","crystal","fancy"],"char":"💠","fitzpatrick_scale":false,"category":"symbols"},"cyclone":{"keywords":["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],"char":"🌀","fitzpatrick_scale":false,"category":"symbols"},"loop":{"keywords":["tape","cassette"],"char":"➿","fitzpatrick_scale":false,"category":"symbols"},"globe_with_meridians":{"keywords":["earth","international","world","internet","interweb","i18n"],"char":"🌐","fitzpatrick_scale":false,"category":"symbols"},"m":{"keywords":["alphabet","blue-circle","letter"],"char":"Ⓜ️","fitzpatrick_scale":false,"category":"symbols"},"atm":{"keywords":["money","sales","cash","blue-square","payment","bank"],"char":"🏧","fitzpatrick_scale":false,"category":"symbols"},"sa":{"keywords":["japanese","blue-square","katakana"],"char":"🈂️","fitzpatrick_scale":false,"category":"symbols"},"passport_control":{"keywords":["custom","blue-square"],"char":"🛂","fitzpatrick_scale":false,"category":"symbols"},"customs":{"keywords":["passport","border","blue-square"],"char":"🛃","fitzpatrick_scale":false,"category":"symbols"},"baggage_claim":{"keywords":["blue-square","airport","transport"],"char":"🛄","fitzpatrick_scale":false,"category":"symbols"},"left_luggage":{"keywords":["blue-square","travel"],"char":"🛅","fitzpatrick_scale":false,"category":"symbols"},"wheelchair":{"keywords":["blue-square","disabled","a11y","accessibility"],"char":"♿","fitzpatrick_scale":false,"category":"symbols"},"no_smoking":{"keywords":["cigarette","blue-square","smell","smoke"],"char":"🚭","fitzpatrick_scale":false,"category":"symbols"},"wc":{"keywords":["toilet","restroom","blue-square"],"char":"🚾","fitzpatrick_scale":false,"category":"symbols"},"parking":{"keywords":["cars","blue-square","alphabet","letter"],"char":"🅿️","fitzpatrick_scale":false,"category":"symbols"},"potable_water":{"keywords":["blue-square","liquid","restroom","cleaning","faucet"],"char":"🚰","fitzpatrick_scale":false,"category":"symbols"},"mens":{"keywords":["toilet","restroom","wc","blue-square","gender","male"],"char":"🚹","fitzpatrick_scale":false,"category":"symbols"},"womens":{"keywords":["purple-square","woman","female","toilet","loo","restroom","gender"],"char":"🚺","fitzpatrick_scale":false,"category":"symbols"},"baby_symbol":{"keywords":["orange-square","child"],"char":"🚼","fitzpatrick_scale":false,"category":"symbols"},"restroom":{"keywords":["blue-square","toilet","refresh","wc","gender"],"char":"🚻","fitzpatrick_scale":false,"category":"symbols"},"put_litter_in_its_place":{"keywords":["blue-square","sign","human","info"],"char":"🚮","fitzpatrick_scale":false,"category":"symbols"},"cinema":{"keywords":["blue-square","record","film","movie","curtain","stage","theater"],"char":"🎦","fitzpatrick_scale":false,"category":"symbols"},"signal_strength":{"keywords":["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],"char":"📶","fitzpatrick_scale":false,"category":"symbols"},"koko":{"keywords":["blue-square","here","katakana","japanese","destination"],"char":"🈁","fitzpatrick_scale":false,"category":"symbols"},"ng":{"keywords":["blue-square","words","shape","icon"],"char":"🆖","fitzpatrick_scale":false,"category":"symbols"},"ok":{"keywords":["good","agree","yes","blue-square"],"char":"🆗","fitzpatrick_scale":false,"category":"symbols"},"up":{"keywords":["blue-square","above","high"],"char":"🆙","fitzpatrick_scale":false,"category":"symbols"},"cool":{"keywords":["words","blue-square"],"char":"🆒","fitzpatrick_scale":false,"category":"symbols"},"new":{"keywords":["blue-square","words","start"],"char":"🆕","fitzpatrick_scale":false,"category":"symbols"},"free":{"keywords":["blue-square","words"],"char":"🆓","fitzpatrick_scale":false,"category":"symbols"},"zero":{"keywords":["0","numbers","blue-square","null"],"char":"0️⃣","fitzpatrick_scale":false,"category":"symbols"},"one":{"keywords":["blue-square","numbers","1"],"char":"1️⃣","fitzpatrick_scale":false,"category":"symbols"},"two":{"keywords":["numbers","2","prime","blue-square"],"char":"2️⃣","fitzpatrick_scale":false,"category":"symbols"},"three":{"keywords":["3","numbers","prime","blue-square"],"char":"3️⃣","fitzpatrick_scale":false,"category":"symbols"},"four":{"keywords":["4","numbers","blue-square"],"char":"4️⃣","fitzpatrick_scale":false,"category":"symbols"},"five":{"keywords":["5","numbers","blue-square","prime"],"char":"5️⃣","fitzpatrick_scale":false,"category":"symbols"},"six":{"keywords":["6","numbers","blue-square"],"char":"6️⃣","fitzpatrick_scale":false,"category":"symbols"},"seven":{"keywords":["7","numbers","blue-square","prime"],"char":"7️⃣","fitzpatrick_scale":false,"category":"symbols"},"eight":{"keywords":["8","blue-square","numbers"],"char":"8️⃣","fitzpatrick_scale":false,"category":"symbols"},"nine":{"keywords":["blue-square","numbers","9"],"char":"9️⃣","fitzpatrick_scale":false,"category":"symbols"},"keycap_ten":{"keywords":["numbers","10","blue-square"],"char":"🔟","fitzpatrick_scale":false,"category":"symbols"},"asterisk":{"keywords":["star","keycap"],"char":"*⃣","fitzpatrick_scale":false,"category":"symbols"},"eject_button":{"keywords":["blue-square"],"char":"⏏️","fitzpatrick_scale":false,"category":"symbols"},"arrow_forward":{"keywords":["blue-square","right","direction","play"],"char":"▶️","fitzpatrick_scale":false,"category":"symbols"},"pause_button":{"keywords":["pause","blue-square"],"char":"⏸","fitzpatrick_scale":false,"category":"symbols"},"next_track_button":{"keywords":["forward","next","blue-square"],"char":"⏭","fitzpatrick_scale":false,"category":"symbols"},"stop_button":{"keywords":["blue-square"],"char":"⏹","fitzpatrick_scale":false,"category":"symbols"},"record_button":{"keywords":["blue-square"],"char":"⏺","fitzpatrick_scale":false,"category":"symbols"},"play_or_pause_button":{"keywords":["blue-square","play","pause"],"char":"⏯","fitzpatrick_scale":false,"category":"symbols"},"previous_track_button":{"keywords":["backward"],"char":"⏮","fitzpatrick_scale":false,"category":"symbols"},"fast_forward":{"keywords":["blue-square","play","speed","continue"],"char":"⏩","fitzpatrick_scale":false,"category":"symbols"},"rewind":{"keywords":["play","blue-square"],"char":"⏪","fitzpatrick_scale":false,"category":"symbols"},"twisted_rightwards_arrows":{"keywords":["blue-square","shuffle","music","random"],"char":"🔀","fitzpatrick_scale":false,"category":"symbols"},"repeat":{"keywords":["loop","record"],"char":"🔁","fitzpatrick_scale":false,"category":"symbols"},"repeat_one":{"keywords":["blue-square","loop"],"char":"🔂","fitzpatrick_scale":false,"category":"symbols"},"arrow_backward":{"keywords":["blue-square","left","direction"],"char":"◀️","fitzpatrick_scale":false,"category":"symbols"},"arrow_up_small":{"keywords":["blue-square","triangle","direction","point","forward","top"],"char":"🔼","fitzpatrick_scale":false,"category":"symbols"},"arrow_down_small":{"keywords":["blue-square","direction","bottom"],"char":"🔽","fitzpatrick_scale":false,"category":"symbols"},"arrow_double_up":{"keywords":["blue-square","direction","top"],"char":"⏫","fitzpatrick_scale":false,"category":"symbols"},"arrow_double_down":{"keywords":["blue-square","direction","bottom"],"char":"⏬","fitzpatrick_scale":false,"category":"symbols"},"arrow_right":{"keywords":["blue-square","next"],"char":"➡️","fitzpatrick_scale":false,"category":"symbols"},"arrow_left":{"keywords":["blue-square","previous","back"],"char":"⬅️","fitzpatrick_scale":false,"category":"symbols"},"arrow_up":{"keywords":["blue-square","continue","top","direction"],"char":"⬆️","fitzpatrick_scale":false,"category":"symbols"},"arrow_down":{"keywords":["blue-square","direction","bottom"],"char":"⬇️","fitzpatrick_scale":false,"category":"symbols"},"arrow_upper_right":{"keywords":["blue-square","point","direction","diagonal","northeast"],"char":"↗️","fitzpatrick_scale":false,"category":"symbols"},"arrow_lower_right":{"keywords":["blue-square","direction","diagonal","southeast"],"char":"↘️","fitzpatrick_scale":false,"category":"symbols"},"arrow_lower_left":{"keywords":["blue-square","direction","diagonal","southwest"],"char":"↙️","fitzpatrick_scale":false,"category":"symbols"},"arrow_upper_left":{"keywords":["blue-square","point","direction","diagonal","northwest"],"char":"↖️","fitzpatrick_scale":false,"category":"symbols"},"arrow_up_down":{"keywords":["blue-square","direction","way","vertical"],"char":"↕️","fitzpatrick_scale":false,"category":"symbols"},"left_right_arrow":{"keywords":["shape","direction","horizontal","sideways"],"char":"↔️","fitzpatrick_scale":false,"category":"symbols"},"arrows_counterclockwise":{"keywords":["blue-square","sync","cycle"],"char":"🔄","fitzpatrick_scale":false,"category":"symbols"},"arrow_right_hook":{"keywords":["blue-square","return","rotate","direction"],"char":"↪️","fitzpatrick_scale":false,"category":"symbols"},"leftwards_arrow_with_hook":{"keywords":["back","return","blue-square","undo","enter"],"char":"↩️","fitzpatrick_scale":false,"category":"symbols"},"arrow_heading_up":{"keywords":["blue-square","direction","top"],"char":"⤴️","fitzpatrick_scale":false,"category":"symbols"},"arrow_heading_down":{"keywords":["blue-square","direction","bottom"],"char":"⤵️","fitzpatrick_scale":false,"category":"symbols"},"hash":{"keywords":["symbol","blue-square","twitter"],"char":"#️⃣","fitzpatrick_scale":false,"category":"symbols"},"information_source":{"keywords":["blue-square","alphabet","letter"],"char":"ℹ️","fitzpatrick_scale":false,"category":"symbols"},"abc":{"keywords":["blue-square","alphabet"],"char":"🔤","fitzpatrick_scale":false,"category":"symbols"},"abcd":{"keywords":["blue-square","alphabet"],"char":"🔡","fitzpatrick_scale":false,"category":"symbols"},"capital_abcd":{"keywords":["alphabet","words","blue-square"],"char":"🔠","fitzpatrick_scale":false,"category":"symbols"},"symbols":{"keywords":["blue-square","music","note","ampersand","percent","glyphs","characters"],"char":"🔣","fitzpatrick_scale":false,"category":"symbols"},"musical_note":{"keywords":["score","tone","sound"],"char":"🎵","fitzpatrick_scale":false,"category":"symbols"},"notes":{"keywords":["music","score"],"char":"🎶","fitzpatrick_scale":false,"category":"symbols"},"wavy_dash":{"keywords":["draw","line","moustache","mustache","squiggle","scribble"],"char":"〰️","fitzpatrick_scale":false,"category":"symbols"},"curly_loop":{"keywords":["scribble","draw","shape","squiggle"],"char":"➰","fitzpatrick_scale":false,"category":"symbols"},"heavy_check_mark":{"keywords":["ok","nike","answer","yes","tick"],"char":"✔️","fitzpatrick_scale":false,"category":"symbols"},"arrows_clockwise":{"keywords":["sync","cycle","round","repeat"],"char":"🔃","fitzpatrick_scale":false,"category":"symbols"},"heavy_plus_sign":{"keywords":["math","calculation","addition","more","increase"],"char":"➕","fitzpatrick_scale":false,"category":"symbols"},"heavy_minus_sign":{"keywords":["math","calculation","subtract","less"],"char":"➖","fitzpatrick_scale":false,"category":"symbols"},"heavy_division_sign":{"keywords":["divide","math","calculation"],"char":"➗","fitzpatrick_scale":false,"category":"symbols"},"heavy_multiplication_x":{"keywords":["math","calculation"],"char":"✖️","fitzpatrick_scale":false,"category":"symbols"},"infinity":{"keywords":["forever"],"char":"♾","fitzpatrick_scale":false,"category":"symbols"},"heavy_dollar_sign":{"keywords":["money","sales","payment","currency","buck"],"char":"💲","fitzpatrick_scale":false,"category":"symbols"},"currency_exchange":{"keywords":["money","sales","dollar","travel"],"char":"💱","fitzpatrick_scale":false,"category":"symbols"},"copyright":{"keywords":["ip","license","circle","law","legal"],"char":"©️","fitzpatrick_scale":false,"category":"symbols"},"registered":{"keywords":["alphabet","circle"],"char":"®️","fitzpatrick_scale":false,"category":"symbols"},"tm":{"keywords":["trademark","brand","law","legal"],"char":"™️","fitzpatrick_scale":false,"category":"symbols"},"end":{"keywords":["words","arrow"],"char":"🔚","fitzpatrick_scale":false,"category":"symbols"},"back":{"keywords":["arrow","words","return"],"char":"🔙","fitzpatrick_scale":false,"category":"symbols"},"on":{"keywords":["arrow","words"],"char":"🔛","fitzpatrick_scale":false,"category":"symbols"},"top":{"keywords":["words","blue-square"],"char":"🔝","fitzpatrick_scale":false,"category":"symbols"},"soon":{"keywords":["arrow","words"],"char":"🔜","fitzpatrick_scale":false,"category":"symbols"},"ballot_box_with_check":{"keywords":["ok","agree","confirm","black-square","vote","election","yes","tick"],"char":"☑️","fitzpatrick_scale":false,"category":"symbols"},"radio_button":{"keywords":["input","old","music","circle"],"char":"🔘","fitzpatrick_scale":false,"category":"symbols"},"white_circle":{"keywords":["shape","round"],"char":"⚪","fitzpatrick_scale":false,"category":"symbols"},"black_circle":{"keywords":["shape","button","round"],"char":"⚫","fitzpatrick_scale":false,"category":"symbols"},"red_circle":{"keywords":["shape","error","danger"],"char":"🔴","fitzpatrick_scale":false,"category":"symbols"},"large_blue_circle":{"keywords":["shape","icon","button"],"char":"🔵","fitzpatrick_scale":false,"category":"symbols"},"small_orange_diamond":{"keywords":["shape","jewel","gem"],"char":"🔸","fitzpatrick_scale":false,"category":"symbols"},"small_blue_diamond":{"keywords":["shape","jewel","gem"],"char":"🔹","fitzpatrick_scale":false,"category":"symbols"},"large_orange_diamond":{"keywords":["shape","jewel","gem"],"char":"🔶","fitzpatrick_scale":false,"category":"symbols"},"large_blue_diamond":{"keywords":["shape","jewel","gem"],"char":"🔷","fitzpatrick_scale":false,"category":"symbols"},"small_red_triangle":{"keywords":["shape","direction","up","top"],"char":"🔺","fitzpatrick_scale":false,"category":"symbols"},"black_small_square":{"keywords":["shape","icon"],"char":"▪️","fitzpatrick_scale":false,"category":"symbols"},"white_small_square":{"keywords":["shape","icon"],"char":"▫️","fitzpatrick_scale":false,"category":"symbols"},"black_large_square":{"keywords":["shape","icon","button"],"char":"⬛","fitzpatrick_scale":false,"category":"symbols"},"white_large_square":{"keywords":["shape","icon","stone","button"],"char":"⬜","fitzpatrick_scale":false,"category":"symbols"},"small_red_triangle_down":{"keywords":["shape","direction","bottom"],"char":"🔻","fitzpatrick_scale":false,"category":"symbols"},"black_medium_square":{"keywords":["shape","button","icon"],"char":"◼️","fitzpatrick_scale":false,"category":"symbols"},"white_medium_square":{"keywords":["shape","stone","icon"],"char":"◻️","fitzpatrick_scale":false,"category":"symbols"},"black_medium_small_square":{"keywords":["icon","shape","button"],"char":"◾","fitzpatrick_scale":false,"category":"symbols"},"white_medium_small_square":{"keywords":["shape","stone","icon","button"],"char":"◽","fitzpatrick_scale":false,"category":"symbols"},"black_square_button":{"keywords":["shape","input","frame"],"char":"🔲","fitzpatrick_scale":false,"category":"symbols"},"white_square_button":{"keywords":["shape","input"],"char":"🔳","fitzpatrick_scale":false,"category":"symbols"},"speaker":{"keywords":["sound","volume","silence","broadcast"],"char":"🔈","fitzpatrick_scale":false,"category":"symbols"},"sound":{"keywords":["volume","speaker","broadcast"],"char":"🔉","fitzpatrick_scale":false,"category":"symbols"},"loud_sound":{"keywords":["volume","noise","noisy","speaker","broadcast"],"char":"🔊","fitzpatrick_scale":false,"category":"symbols"},"mute":{"keywords":["sound","volume","silence","quiet"],"char":"🔇","fitzpatrick_scale":false,"category":"symbols"},"mega":{"keywords":["sound","speaker","volume"],"char":"📣","fitzpatrick_scale":false,"category":"symbols"},"loudspeaker":{"keywords":["volume","sound"],"char":"📢","fitzpatrick_scale":false,"category":"symbols"},"bell":{"keywords":["sound","notification","christmas","xmas","chime"],"char":"🔔","fitzpatrick_scale":false,"category":"symbols"},"no_bell":{"keywords":["sound","volume","mute","quiet","silent"],"char":"🔕","fitzpatrick_scale":false,"category":"symbols"},"black_joker":{"keywords":["poker","cards","game","play","magic"],"char":"🃏","fitzpatrick_scale":false,"category":"symbols"},"mahjong":{"keywords":["game","play","chinese","kanji"],"char":"🀄","fitzpatrick_scale":false,"category":"symbols"},"spades":{"keywords":["poker","cards","suits","magic"],"char":"♠️","fitzpatrick_scale":false,"category":"symbols"},"clubs":{"keywords":["poker","cards","magic","suits"],"char":"♣️","fitzpatrick_scale":false,"category":"symbols"},"hearts":{"keywords":["poker","cards","magic","suits"],"char":"♥️","fitzpatrick_scale":false,"category":"symbols"},"diamonds":{"keywords":["poker","cards","magic","suits"],"char":"♦️","fitzpatrick_scale":false,"category":"symbols"},"flower_playing_cards":{"keywords":["game","sunset","red"],"char":"🎴","fitzpatrick_scale":false,"category":"symbols"},"thought_balloon":{"keywords":["bubble","cloud","speech","thinking","dream"],"char":"💭","fitzpatrick_scale":false,"category":"symbols"},"right_anger_bubble":{"keywords":["caption","speech","thinking","mad"],"char":"🗯","fitzpatrick_scale":false,"category":"symbols"},"speech_balloon":{"keywords":["bubble","words","message","talk","chatting"],"char":"💬","fitzpatrick_scale":false,"category":"symbols"},"left_speech_bubble":{"keywords":["words","message","talk","chatting"],"char":"🗨","fitzpatrick_scale":false,"category":"symbols"},"clock1":{"keywords":["time","late","early","schedule"],"char":"🕐","fitzpatrick_scale":false,"category":"symbols"},"clock2":{"keywords":["time","late","early","schedule"],"char":"🕑","fitzpatrick_scale":false,"category":"symbols"},"clock3":{"keywords":["time","late","early","schedule"],"char":"🕒","fitzpatrick_scale":false,"category":"symbols"},"clock4":{"keywords":["time","late","early","schedule"],"char":"🕓","fitzpatrick_scale":false,"category":"symbols"},"clock5":{"keywords":["time","late","early","schedule"],"char":"🕔","fitzpatrick_scale":false,"category":"symbols"},"clock6":{"keywords":["time","late","early","schedule","dawn","dusk"],"char":"🕕","fitzpatrick_scale":false,"category":"symbols"},"clock7":{"keywords":["time","late","early","schedule"],"char":"🕖","fitzpatrick_scale":false,"category":"symbols"},"clock8":{"keywords":["time","late","early","schedule"],"char":"🕗","fitzpatrick_scale":false,"category":"symbols"},"clock9":{"keywords":["time","late","early","schedule"],"char":"🕘","fitzpatrick_scale":false,"category":"symbols"},"clock10":{"keywords":["time","late","early","schedule"],"char":"🕙","fitzpatrick_scale":false,"category":"symbols"},"clock11":{"keywords":["time","late","early","schedule"],"char":"🕚","fitzpatrick_scale":false,"category":"symbols"},"clock12":{"keywords":["time","noon","midnight","midday","late","early","schedule"],"char":"🕛","fitzpatrick_scale":false,"category":"symbols"},"clock130":{"keywords":["time","late","early","schedule"],"char":"🕜","fitzpatrick_scale":false,"category":"symbols"},"clock230":{"keywords":["time","late","early","schedule"],"char":"🕝","fitzpatrick_scale":false,"category":"symbols"},"clock330":{"keywords":["time","late","early","schedule"],"char":"🕞","fitzpatrick_scale":false,"category":"symbols"},"clock430":{"keywords":["time","late","early","schedule"],"char":"🕟","fitzpatrick_scale":false,"category":"symbols"},"clock530":{"keywords":["time","late","early","schedule"],"char":"🕠","fitzpatrick_scale":false,"category":"symbols"},"clock630":{"keywords":["time","late","early","schedule"],"char":"🕡","fitzpatrick_scale":false,"category":"symbols"},"clock730":{"keywords":["time","late","early","schedule"],"char":"🕢","fitzpatrick_scale":false,"category":"symbols"},"clock830":{"keywords":["time","late","early","schedule"],"char":"🕣","fitzpatrick_scale":false,"category":"symbols"},"clock930":{"keywords":["time","late","early","schedule"],"char":"🕤","fitzpatrick_scale":false,"category":"symbols"},"clock1030":{"keywords":["time","late","early","schedule"],"char":"🕥","fitzpatrick_scale":false,"category":"symbols"},"clock1130":{"keywords":["time","late","early","schedule"],"char":"🕦","fitzpatrick_scale":false,"category":"symbols"},"clock1230":{"keywords":["time","late","early","schedule"],"char":"🕧","fitzpatrick_scale":false,"category":"symbols"},"afghanistan":{"keywords":["af","flag","nation","country","banner"],"char":"🇦🇫","fitzpatrick_scale":false,"category":"flags"},"aland_islands":{"keywords":["Åland","islands","flag","nation","country","banner"],"char":"🇦🇽","fitzpatrick_scale":false,"category":"flags"},"albania":{"keywords":["al","flag","nation","country","banner"],"char":"🇦🇱","fitzpatrick_scale":false,"category":"flags"},"algeria":{"keywords":["dz","flag","nation","country","banner"],"char":"🇩🇿","fitzpatrick_scale":false,"category":"flags"},"american_samoa":{"keywords":["american","ws","flag","nation","country","banner"],"char":"🇦🇸","fitzpatrick_scale":false,"category":"flags"},"andorra":{"keywords":["ad","flag","nation","country","banner"],"char":"🇦🇩","fitzpatrick_scale":false,"category":"flags"},"angola":{"keywords":["ao","flag","nation","country","banner"],"char":"🇦🇴","fitzpatrick_scale":false,"category":"flags"},"anguilla":{"keywords":["ai","flag","nation","country","banner"],"char":"🇦🇮","fitzpatrick_scale":false,"category":"flags"},"antarctica":{"keywords":["aq","flag","nation","country","banner"],"char":"🇦🇶","fitzpatrick_scale":false,"category":"flags"},"antigua_barbuda":{"keywords":["antigua","barbuda","flag","nation","country","banner"],"char":"🇦🇬","fitzpatrick_scale":false,"category":"flags"},"argentina":{"keywords":["ar","flag","nation","country","banner"],"char":"🇦🇷","fitzpatrick_scale":false,"category":"flags"},"armenia":{"keywords":["am","flag","nation","country","banner"],"char":"🇦🇲","fitzpatrick_scale":false,"category":"flags"},"aruba":{"keywords":["aw","flag","nation","country","banner"],"char":"🇦🇼","fitzpatrick_scale":false,"category":"flags"},"australia":{"keywords":["au","flag","nation","country","banner"],"char":"🇦🇺","fitzpatrick_scale":false,"category":"flags"},"austria":{"keywords":["at","flag","nation","country","banner"],"char":"🇦🇹","fitzpatrick_scale":false,"category":"flags"},"azerbaijan":{"keywords":["az","flag","nation","country","banner"],"char":"🇦🇿","fitzpatrick_scale":false,"category":"flags"},"bahamas":{"keywords":["bs","flag","nation","country","banner"],"char":"🇧🇸","fitzpatrick_scale":false,"category":"flags"},"bahrain":{"keywords":["bh","flag","nation","country","banner"],"char":"🇧🇭","fitzpatrick_scale":false,"category":"flags"},"bangladesh":{"keywords":["bd","flag","nation","country","banner"],"char":"🇧🇩","fitzpatrick_scale":false,"category":"flags"},"barbados":{"keywords":["bb","flag","nation","country","banner"],"char":"🇧🇧","fitzpatrick_scale":false,"category":"flags"},"belarus":{"keywords":["by","flag","nation","country","banner"],"char":"🇧🇾","fitzpatrick_scale":false,"category":"flags"},"belgium":{"keywords":["be","flag","nation","country","banner"],"char":"🇧🇪","fitzpatrick_scale":false,"category":"flags"},"belize":{"keywords":["bz","flag","nation","country","banner"],"char":"🇧🇿","fitzpatrick_scale":false,"category":"flags"},"benin":{"keywords":["bj","flag","nation","country","banner"],"char":"🇧🇯","fitzpatrick_scale":false,"category":"flags"},"bermuda":{"keywords":["bm","flag","nation","country","banner"],"char":"🇧🇲","fitzpatrick_scale":false,"category":"flags"},"bhutan":{"keywords":["bt","flag","nation","country","banner"],"char":"🇧🇹","fitzpatrick_scale":false,"category":"flags"},"bolivia":{"keywords":["bo","flag","nation","country","banner"],"char":"🇧🇴","fitzpatrick_scale":false,"category":"flags"},"caribbean_netherlands":{"keywords":["bonaire","flag","nation","country","banner"],"char":"🇧🇶","fitzpatrick_scale":false,"category":"flags"},"bosnia_herzegovina":{"keywords":["bosnia","herzegovina","flag","nation","country","banner"],"char":"🇧🇦","fitzpatrick_scale":false,"category":"flags"},"botswana":{"keywords":["bw","flag","nation","country","banner"],"char":"🇧🇼","fitzpatrick_scale":false,"category":"flags"},"brazil":{"keywords":["br","flag","nation","country","banner"],"char":"🇧🇷","fitzpatrick_scale":false,"category":"flags"},"british_indian_ocean_territory":{"keywords":["british","indian","ocean","territory","flag","nation","country","banner"],"char":"🇮🇴","fitzpatrick_scale":false,"category":"flags"},"british_virgin_islands":{"keywords":["british","virgin","islands","bvi","flag","nation","country","banner"],"char":"🇻🇬","fitzpatrick_scale":false,"category":"flags"},"brunei":{"keywords":["bn","darussalam","flag","nation","country","banner"],"char":"🇧🇳","fitzpatrick_scale":false,"category":"flags"},"bulgaria":{"keywords":["bg","flag","nation","country","banner"],"char":"🇧🇬","fitzpatrick_scale":false,"category":"flags"},"burkina_faso":{"keywords":["burkina","faso","flag","nation","country","banner"],"char":"🇧🇫","fitzpatrick_scale":false,"category":"flags"},"burundi":{"keywords":["bi","flag","nation","country","banner"],"char":"🇧🇮","fitzpatrick_scale":false,"category":"flags"},"cape_verde":{"keywords":["cabo","verde","flag","nation","country","banner"],"char":"🇨🇻","fitzpatrick_scale":false,"category":"flags"},"cambodia":{"keywords":["kh","flag","nation","country","banner"],"char":"🇰🇭","fitzpatrick_scale":false,"category":"flags"},"cameroon":{"keywords":["cm","flag","nation","country","banner"],"char":"🇨🇲","fitzpatrick_scale":false,"category":"flags"},"canada":{"keywords":["ca","flag","nation","country","banner"],"char":"🇨🇦","fitzpatrick_scale":false,"category":"flags"},"canary_islands":{"keywords":["canary","islands","flag","nation","country","banner"],"char":"🇮🇨","fitzpatrick_scale":false,"category":"flags"},"cayman_islands":{"keywords":["cayman","islands","flag","nation","country","banner"],"char":"🇰🇾","fitzpatrick_scale":false,"category":"flags"},"central_african_republic":{"keywords":["central","african","republic","flag","nation","country","banner"],"char":"🇨🇫","fitzpatrick_scale":false,"category":"flags"},"chad":{"keywords":["td","flag","nation","country","banner"],"char":"🇹🇩","fitzpatrick_scale":false,"category":"flags"},"chile":{"keywords":["flag","nation","country","banner"],"char":"🇨🇱","fitzpatrick_scale":false,"category":"flags"},"cn":{"keywords":["china","chinese","prc","flag","country","nation","banner"],"char":"🇨🇳","fitzpatrick_scale":false,"category":"flags"},"christmas_island":{"keywords":["christmas","island","flag","nation","country","banner"],"char":"🇨🇽","fitzpatrick_scale":false,"category":"flags"},"cocos_islands":{"keywords":["cocos","keeling","islands","flag","nation","country","banner"],"char":"🇨🇨","fitzpatrick_scale":false,"category":"flags"},"colombia":{"keywords":["co","flag","nation","country","banner"],"char":"🇨🇴","fitzpatrick_scale":false,"category":"flags"},"comoros":{"keywords":["km","flag","nation","country","banner"],"char":"🇰🇲","fitzpatrick_scale":false,"category":"flags"},"congo_brazzaville":{"keywords":["congo","flag","nation","country","banner"],"char":"🇨🇬","fitzpatrick_scale":false,"category":"flags"},"congo_kinshasa":{"keywords":["congo","democratic","republic","flag","nation","country","banner"],"char":"🇨🇩","fitzpatrick_scale":false,"category":"flags"},"cook_islands":{"keywords":["cook","islands","flag","nation","country","banner"],"char":"🇨🇰","fitzpatrick_scale":false,"category":"flags"},"costa_rica":{"keywords":["costa","rica","flag","nation","country","banner"],"char":"🇨🇷","fitzpatrick_scale":false,"category":"flags"},"croatia":{"keywords":["hr","flag","nation","country","banner"],"char":"🇭🇷","fitzpatrick_scale":false,"category":"flags"},"cuba":{"keywords":["cu","flag","nation","country","banner"],"char":"🇨🇺","fitzpatrick_scale":false,"category":"flags"},"curacao":{"keywords":["curaçao","flag","nation","country","banner"],"char":"🇨🇼","fitzpatrick_scale":false,"category":"flags"},"cyprus":{"keywords":["cy","flag","nation","country","banner"],"char":"🇨🇾","fitzpatrick_scale":false,"category":"flags"},"czech_republic":{"keywords":["cz","flag","nation","country","banner"],"char":"🇨🇿","fitzpatrick_scale":false,"category":"flags"},"denmark":{"keywords":["dk","flag","nation","country","banner"],"char":"🇩🇰","fitzpatrick_scale":false,"category":"flags"},"djibouti":{"keywords":["dj","flag","nation","country","banner"],"char":"🇩🇯","fitzpatrick_scale":false,"category":"flags"},"dominica":{"keywords":["dm","flag","nation","country","banner"],"char":"🇩🇲","fitzpatrick_scale":false,"category":"flags"},"dominican_republic":{"keywords":["dominican","republic","flag","nation","country","banner"],"char":"🇩🇴","fitzpatrick_scale":false,"category":"flags"},"ecuador":{"keywords":["ec","flag","nation","country","banner"],"char":"🇪🇨","fitzpatrick_scale":false,"category":"flags"},"egypt":{"keywords":["eg","flag","nation","country","banner"],"char":"🇪🇬","fitzpatrick_scale":false,"category":"flags"},"el_salvador":{"keywords":["el","salvador","flag","nation","country","banner"],"char":"🇸🇻","fitzpatrick_scale":false,"category":"flags"},"equatorial_guinea":{"keywords":["equatorial","gn","flag","nation","country","banner"],"char":"🇬🇶","fitzpatrick_scale":false,"category":"flags"},"eritrea":{"keywords":["er","flag","nation","country","banner"],"char":"🇪🇷","fitzpatrick_scale":false,"category":"flags"},"estonia":{"keywords":["ee","flag","nation","country","banner"],"char":"🇪🇪","fitzpatrick_scale":false,"category":"flags"},"ethiopia":{"keywords":["et","flag","nation","country","banner"],"char":"🇪🇹","fitzpatrick_scale":false,"category":"flags"},"eu":{"keywords":["european","union","flag","banner"],"char":"🇪🇺","fitzpatrick_scale":false,"category":"flags"},"falkland_islands":{"keywords":["falkland","islands","malvinas","flag","nation","country","banner"],"char":"🇫🇰","fitzpatrick_scale":false,"category":"flags"},"faroe_islands":{"keywords":["faroe","islands","flag","nation","country","banner"],"char":"🇫🇴","fitzpatrick_scale":false,"category":"flags"},"fiji":{"keywords":["fj","flag","nation","country","banner"],"char":"🇫🇯","fitzpatrick_scale":false,"category":"flags"},"finland":{"keywords":["fi","flag","nation","country","banner"],"char":"🇫🇮","fitzpatrick_scale":false,"category":"flags"},"fr":{"keywords":["banner","flag","nation","france","french","country"],"char":"🇫🇷","fitzpatrick_scale":false,"category":"flags"},"french_guiana":{"keywords":["french","guiana","flag","nation","country","banner"],"char":"🇬🇫","fitzpatrick_scale":false,"category":"flags"},"french_polynesia":{"keywords":["french","polynesia","flag","nation","country","banner"],"char":"🇵🇫","fitzpatrick_scale":false,"category":"flags"},"french_southern_territories":{"keywords":["french","southern","territories","flag","nation","country","banner"],"char":"🇹🇫","fitzpatrick_scale":false,"category":"flags"},"gabon":{"keywords":["ga","flag","nation","country","banner"],"char":"🇬🇦","fitzpatrick_scale":false,"category":"flags"},"gambia":{"keywords":["gm","flag","nation","country","banner"],"char":"🇬🇲","fitzpatrick_scale":false,"category":"flags"},"georgia":{"keywords":["ge","flag","nation","country","banner"],"char":"🇬🇪","fitzpatrick_scale":false,"category":"flags"},"de":{"keywords":["german","nation","flag","country","banner"],"char":"🇩🇪","fitzpatrick_scale":false,"category":"flags"},"ghana":{"keywords":["gh","flag","nation","country","banner"],"char":"🇬🇭","fitzpatrick_scale":false,"category":"flags"},"gibraltar":{"keywords":["gi","flag","nation","country","banner"],"char":"🇬🇮","fitzpatrick_scale":false,"category":"flags"},"greece":{"keywords":["gr","flag","nation","country","banner"],"char":"🇬🇷","fitzpatrick_scale":false,"category":"flags"},"greenland":{"keywords":["gl","flag","nation","country","banner"],"char":"🇬🇱","fitzpatrick_scale":false,"category":"flags"},"grenada":{"keywords":["gd","flag","nation","country","banner"],"char":"🇬🇩","fitzpatrick_scale":false,"category":"flags"},"guadeloupe":{"keywords":["gp","flag","nation","country","banner"],"char":"🇬🇵","fitzpatrick_scale":false,"category":"flags"},"guam":{"keywords":["gu","flag","nation","country","banner"],"char":"🇬🇺","fitzpatrick_scale":false,"category":"flags"},"guatemala":{"keywords":["gt","flag","nation","country","banner"],"char":"🇬🇹","fitzpatrick_scale":false,"category":"flags"},"guernsey":{"keywords":["gg","flag","nation","country","banner"],"char":"🇬🇬","fitzpatrick_scale":false,"category":"flags"},"guinea":{"keywords":["gn","flag","nation","country","banner"],"char":"🇬🇳","fitzpatrick_scale":false,"category":"flags"},"guinea_bissau":{"keywords":["gw","bissau","flag","nation","country","banner"],"char":"🇬🇼","fitzpatrick_scale":false,"category":"flags"},"guyana":{"keywords":["gy","flag","nation","country","banner"],"char":"🇬🇾","fitzpatrick_scale":false,"category":"flags"},"haiti":{"keywords":["ht","flag","nation","country","banner"],"char":"🇭🇹","fitzpatrick_scale":false,"category":"flags"},"honduras":{"keywords":["hn","flag","nation","country","banner"],"char":"🇭🇳","fitzpatrick_scale":false,"category":"flags"},"hong_kong":{"keywords":["hong","kong","flag","nation","country","banner"],"char":"🇭🇰","fitzpatrick_scale":false,"category":"flags"},"hungary":{"keywords":["hu","flag","nation","country","banner"],"char":"🇭🇺","fitzpatrick_scale":false,"category":"flags"},"iceland":{"keywords":["is","flag","nation","country","banner"],"char":"🇮🇸","fitzpatrick_scale":false,"category":"flags"},"india":{"keywords":["in","flag","nation","country","banner"],"char":"🇮🇳","fitzpatrick_scale":false,"category":"flags"},"indonesia":{"keywords":["flag","nation","country","banner"],"char":"🇮🇩","fitzpatrick_scale":false,"category":"flags"},"iran":{"keywords":["iran,","islamic","republic","flag","nation","country","banner"],"char":"🇮🇷","fitzpatrick_scale":false,"category":"flags"},"iraq":{"keywords":["iq","flag","nation","country","banner"],"char":"🇮🇶","fitzpatrick_scale":false,"category":"flags"},"ireland":{"keywords":["ie","flag","nation","country","banner"],"char":"🇮🇪","fitzpatrick_scale":false,"category":"flags"},"isle_of_man":{"keywords":["isle","man","flag","nation","country","banner"],"char":"🇮🇲","fitzpatrick_scale":false,"category":"flags"},"israel":{"keywords":["il","flag","nation","country","banner"],"char":"🇮🇱","fitzpatrick_scale":false,"category":"flags"},"it":{"keywords":["italy","flag","nation","country","banner"],"char":"🇮🇹","fitzpatrick_scale":false,"category":"flags"},"cote_divoire":{"keywords":["ivory","coast","flag","nation","country","banner"],"char":"🇨🇮","fitzpatrick_scale":false,"category":"flags"},"jamaica":{"keywords":["jm","flag","nation","country","banner"],"char":"🇯🇲","fitzpatrick_scale":false,"category":"flags"},"jp":{"keywords":["japanese","nation","flag","country","banner"],"char":"🇯🇵","fitzpatrick_scale":false,"category":"flags"},"jersey":{"keywords":["je","flag","nation","country","banner"],"char":"🇯🇪","fitzpatrick_scale":false,"category":"flags"},"jordan":{"keywords":["jo","flag","nation","country","banner"],"char":"🇯🇴","fitzpatrick_scale":false,"category":"flags"},"kazakhstan":{"keywords":["kz","flag","nation","country","banner"],"char":"🇰🇿","fitzpatrick_scale":false,"category":"flags"},"kenya":{"keywords":["ke","flag","nation","country","banner"],"char":"🇰🇪","fitzpatrick_scale":false,"category":"flags"},"kiribati":{"keywords":["ki","flag","nation","country","banner"],"char":"🇰🇮","fitzpatrick_scale":false,"category":"flags"},"kosovo":{"keywords":["xk","flag","nation","country","banner"],"char":"🇽🇰","fitzpatrick_scale":false,"category":"flags"},"kuwait":{"keywords":["kw","flag","nation","country","banner"],"char":"🇰🇼","fitzpatrick_scale":false,"category":"flags"},"kyrgyzstan":{"keywords":["kg","flag","nation","country","banner"],"char":"🇰🇬","fitzpatrick_scale":false,"category":"flags"},"laos":{"keywords":["lao","democratic","republic","flag","nation","country","banner"],"char":"🇱🇦","fitzpatrick_scale":false,"category":"flags"},"latvia":{"keywords":["lv","flag","nation","country","banner"],"char":"🇱🇻","fitzpatrick_scale":false,"category":"flags"},"lebanon":{"keywords":["lb","flag","nation","country","banner"],"char":"🇱🇧","fitzpatrick_scale":false,"category":"flags"},"lesotho":{"keywords":["ls","flag","nation","country","banner"],"char":"🇱🇸","fitzpatrick_scale":false,"category":"flags"},"liberia":{"keywords":["lr","flag","nation","country","banner"],"char":"🇱🇷","fitzpatrick_scale":false,"category":"flags"},"libya":{"keywords":["ly","flag","nation","country","banner"],"char":"🇱🇾","fitzpatrick_scale":false,"category":"flags"},"liechtenstein":{"keywords":["li","flag","nation","country","banner"],"char":"🇱🇮","fitzpatrick_scale":false,"category":"flags"},"lithuania":{"keywords":["lt","flag","nation","country","banner"],"char":"🇱🇹","fitzpatrick_scale":false,"category":"flags"},"luxembourg":{"keywords":["lu","flag","nation","country","banner"],"char":"🇱🇺","fitzpatrick_scale":false,"category":"flags"},"macau":{"keywords":["macao","flag","nation","country","banner"],"char":"🇲🇴","fitzpatrick_scale":false,"category":"flags"},"macedonia":{"keywords":["macedonia,","flag","nation","country","banner"],"char":"🇲🇰","fitzpatrick_scale":false,"category":"flags"},"madagascar":{"keywords":["mg","flag","nation","country","banner"],"char":"🇲🇬","fitzpatrick_scale":false,"category":"flags"},"malawi":{"keywords":["mw","flag","nation","country","banner"],"char":"🇲🇼","fitzpatrick_scale":false,"category":"flags"},"malaysia":{"keywords":["my","flag","nation","country","banner"],"char":"🇲🇾","fitzpatrick_scale":false,"category":"flags"},"maldives":{"keywords":["mv","flag","nation","country","banner"],"char":"🇲🇻","fitzpatrick_scale":false,"category":"flags"},"mali":{"keywords":["ml","flag","nation","country","banner"],"char":"🇲🇱","fitzpatrick_scale":false,"category":"flags"},"malta":{"keywords":["mt","flag","nation","country","banner"],"char":"🇲🇹","fitzpatrick_scale":false,"category":"flags"},"marshall_islands":{"keywords":["marshall","islands","flag","nation","country","banner"],"char":"🇲🇭","fitzpatrick_scale":false,"category":"flags"},"martinique":{"keywords":["mq","flag","nation","country","banner"],"char":"🇲🇶","fitzpatrick_scale":false,"category":"flags"},"mauritania":{"keywords":["mr","flag","nation","country","banner"],"char":"🇲🇷","fitzpatrick_scale":false,"category":"flags"},"mauritius":{"keywords":["mu","flag","nation","country","banner"],"char":"🇲🇺","fitzpatrick_scale":false,"category":"flags"},"mayotte":{"keywords":["yt","flag","nation","country","banner"],"char":"🇾🇹","fitzpatrick_scale":false,"category":"flags"},"mexico":{"keywords":["mx","flag","nation","country","banner"],"char":"🇲🇽","fitzpatrick_scale":false,"category":"flags"},"micronesia":{"keywords":["micronesia,","federated","states","flag","nation","country","banner"],"char":"🇫🇲","fitzpatrick_scale":false,"category":"flags"},"moldova":{"keywords":["moldova,","republic","flag","nation","country","banner"],"char":"🇲🇩","fitzpatrick_scale":false,"category":"flags"},"monaco":{"keywords":["mc","flag","nation","country","banner"],"char":"🇲🇨","fitzpatrick_scale":false,"category":"flags"},"mongolia":{"keywords":["mn","flag","nation","country","banner"],"char":"🇲🇳","fitzpatrick_scale":false,"category":"flags"},"montenegro":{"keywords":["me","flag","nation","country","banner"],"char":"🇲🇪","fitzpatrick_scale":false,"category":"flags"},"montserrat":{"keywords":["ms","flag","nation","country","banner"],"char":"🇲🇸","fitzpatrick_scale":false,"category":"flags"},"morocco":{"keywords":["ma","flag","nation","country","banner"],"char":"🇲🇦","fitzpatrick_scale":false,"category":"flags"},"mozambique":{"keywords":["mz","flag","nation","country","banner"],"char":"🇲🇿","fitzpatrick_scale":false,"category":"flags"},"myanmar":{"keywords":["mm","flag","nation","country","banner"],"char":"🇲🇲","fitzpatrick_scale":false,"category":"flags"},"namibia":{"keywords":["na","flag","nation","country","banner"],"char":"🇳🇦","fitzpatrick_scale":false,"category":"flags"},"nauru":{"keywords":["nr","flag","nation","country","banner"],"char":"🇳🇷","fitzpatrick_scale":false,"category":"flags"},"nepal":{"keywords":["np","flag","nation","country","banner"],"char":"🇳🇵","fitzpatrick_scale":false,"category":"flags"},"netherlands":{"keywords":["nl","flag","nation","country","banner"],"char":"🇳🇱","fitzpatrick_scale":false,"category":"flags"},"new_caledonia":{"keywords":["new","caledonia","flag","nation","country","banner"],"char":"🇳🇨","fitzpatrick_scale":false,"category":"flags"},"new_zealand":{"keywords":["new","zealand","flag","nation","country","banner"],"char":"🇳🇿","fitzpatrick_scale":false,"category":"flags"},"nicaragua":{"keywords":["ni","flag","nation","country","banner"],"char":"🇳🇮","fitzpatrick_scale":false,"category":"flags"},"niger":{"keywords":["ne","flag","nation","country","banner"],"char":"🇳🇪","fitzpatrick_scale":false,"category":"flags"},"nigeria":{"keywords":["flag","nation","country","banner"],"char":"🇳🇬","fitzpatrick_scale":false,"category":"flags"},"niue":{"keywords":["nu","flag","nation","country","banner"],"char":"🇳🇺","fitzpatrick_scale":false,"category":"flags"},"norfolk_island":{"keywords":["norfolk","island","flag","nation","country","banner"],"char":"🇳🇫","fitzpatrick_scale":false,"category":"flags"},"northern_mariana_islands":{"keywords":["northern","mariana","islands","flag","nation","country","banner"],"char":"🇲🇵","fitzpatrick_scale":false,"category":"flags"},"north_korea":{"keywords":["north","korea","nation","flag","country","banner"],"char":"🇰🇵","fitzpatrick_scale":false,"category":"flags"},"norway":{"keywords":["no","flag","nation","country","banner"],"char":"🇳🇴","fitzpatrick_scale":false,"category":"flags"},"oman":{"keywords":["om_symbol","flag","nation","country","banner"],"char":"🇴🇲","fitzpatrick_scale":false,"category":"flags"},"pakistan":{"keywords":["pk","flag","nation","country","banner"],"char":"🇵🇰","fitzpatrick_scale":false,"category":"flags"},"palau":{"keywords":["pw","flag","nation","country","banner"],"char":"🇵🇼","fitzpatrick_scale":false,"category":"flags"},"palestinian_territories":{"keywords":["palestine","palestinian","territories","flag","nation","country","banner"],"char":"🇵🇸","fitzpatrick_scale":false,"category":"flags"},"panama":{"keywords":["pa","flag","nation","country","banner"],"char":"🇵🇦","fitzpatrick_scale":false,"category":"flags"},"papua_new_guinea":{"keywords":["papua","new","guinea","flag","nation","country","banner"],"char":"🇵🇬","fitzpatrick_scale":false,"category":"flags"},"paraguay":{"keywords":["py","flag","nation","country","banner"],"char":"🇵🇾","fitzpatrick_scale":false,"category":"flags"},"peru":{"keywords":["pe","flag","nation","country","banner"],"char":"🇵🇪","fitzpatrick_scale":false,"category":"flags"},"philippines":{"keywords":["ph","flag","nation","country","banner"],"char":"🇵🇭","fitzpatrick_scale":false,"category":"flags"},"pitcairn_islands":{"keywords":["pitcairn","flag","nation","country","banner"],"char":"🇵🇳","fitzpatrick_scale":false,"category":"flags"},"poland":{"keywords":["pl","flag","nation","country","banner"],"char":"🇵🇱","fitzpatrick_scale":false,"category":"flags"},"portugal":{"keywords":["pt","flag","nation","country","banner"],"char":"🇵🇹","fitzpatrick_scale":false,"category":"flags"},"puerto_rico":{"keywords":["puerto","rico","flag","nation","country","banner"],"char":"🇵🇷","fitzpatrick_scale":false,"category":"flags"},"qatar":{"keywords":["qa","flag","nation","country","banner"],"char":"🇶🇦","fitzpatrick_scale":false,"category":"flags"},"reunion":{"keywords":["réunion","flag","nation","country","banner"],"char":"🇷🇪","fitzpatrick_scale":false,"category":"flags"},"romania":{"keywords":["ro","flag","nation","country","banner"],"char":"🇷🇴","fitzpatrick_scale":false,"category":"flags"},"ru":{"keywords":["russian","federation","flag","nation","country","banner"],"char":"🇷🇺","fitzpatrick_scale":false,"category":"flags"},"rwanda":{"keywords":["rw","flag","nation","country","banner"],"char":"🇷🇼","fitzpatrick_scale":false,"category":"flags"},"st_barthelemy":{"keywords":["saint","barthélemy","flag","nation","country","banner"],"char":"🇧🇱","fitzpatrick_scale":false,"category":"flags"},"st_helena":{"keywords":["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],"char":"🇸🇭","fitzpatrick_scale":false,"category":"flags"},"st_kitts_nevis":{"keywords":["saint","kitts","nevis","flag","nation","country","banner"],"char":"🇰🇳","fitzpatrick_scale":false,"category":"flags"},"st_lucia":{"keywords":["saint","lucia","flag","nation","country","banner"],"char":"🇱🇨","fitzpatrick_scale":false,"category":"flags"},"st_pierre_miquelon":{"keywords":["saint","pierre","miquelon","flag","nation","country","banner"],"char":"🇵🇲","fitzpatrick_scale":false,"category":"flags"},"st_vincent_grenadines":{"keywords":["saint","vincent","grenadines","flag","nation","country","banner"],"char":"🇻🇨","fitzpatrick_scale":false,"category":"flags"},"samoa":{"keywords":["ws","flag","nation","country","banner"],"char":"🇼🇸","fitzpatrick_scale":false,"category":"flags"},"san_marino":{"keywords":["san","marino","flag","nation","country","banner"],"char":"🇸🇲","fitzpatrick_scale":false,"category":"flags"},"sao_tome_principe":{"keywords":["sao","tome","principe","flag","nation","country","banner"],"char":"🇸🇹","fitzpatrick_scale":false,"category":"flags"},"saudi_arabia":{"keywords":["flag","nation","country","banner"],"char":"🇸🇦","fitzpatrick_scale":false,"category":"flags"},"senegal":{"keywords":["sn","flag","nation","country","banner"],"char":"🇸🇳","fitzpatrick_scale":false,"category":"flags"},"serbia":{"keywords":["rs","flag","nation","country","banner"],"char":"🇷🇸","fitzpatrick_scale":false,"category":"flags"},"seychelles":{"keywords":["sc","flag","nation","country","banner"],"char":"🇸🇨","fitzpatrick_scale":false,"category":"flags"},"sierra_leone":{"keywords":["sierra","leone","flag","nation","country","banner"],"char":"🇸🇱","fitzpatrick_scale":false,"category":"flags"},"singapore":{"keywords":["sg","flag","nation","country","banner"],"char":"🇸🇬","fitzpatrick_scale":false,"category":"flags"},"sint_maarten":{"keywords":["sint","maarten","dutch","flag","nation","country","banner"],"char":"🇸🇽","fitzpatrick_scale":false,"category":"flags"},"slovakia":{"keywords":["sk","flag","nation","country","banner"],"char":"🇸🇰","fitzpatrick_scale":false,"category":"flags"},"slovenia":{"keywords":["si","flag","nation","country","banner"],"char":"🇸🇮","fitzpatrick_scale":false,"category":"flags"},"solomon_islands":{"keywords":["solomon","islands","flag","nation","country","banner"],"char":"🇸🇧","fitzpatrick_scale":false,"category":"flags"},"somalia":{"keywords":["so","flag","nation","country","banner"],"char":"🇸🇴","fitzpatrick_scale":false,"category":"flags"},"south_africa":{"keywords":["south","africa","flag","nation","country","banner"],"char":"🇿🇦","fitzpatrick_scale":false,"category":"flags"},"south_georgia_south_sandwich_islands":{"keywords":["south","georgia","sandwich","islands","flag","nation","country","banner"],"char":"🇬🇸","fitzpatrick_scale":false,"category":"flags"},"kr":{"keywords":["south","korea","nation","flag","country","banner"],"char":"🇰🇷","fitzpatrick_scale":false,"category":"flags"},"south_sudan":{"keywords":["south","sd","flag","nation","country","banner"],"char":"🇸🇸","fitzpatrick_scale":false,"category":"flags"},"es":{"keywords":["spain","flag","nation","country","banner"],"char":"🇪🇸","fitzpatrick_scale":false,"category":"flags"},"sri_lanka":{"keywords":["sri","lanka","flag","nation","country","banner"],"char":"🇱🇰","fitzpatrick_scale":false,"category":"flags"},"sudan":{"keywords":["sd","flag","nation","country","banner"],"char":"🇸🇩","fitzpatrick_scale":false,"category":"flags"},"suriname":{"keywords":["sr","flag","nation","country","banner"],"char":"🇸🇷","fitzpatrick_scale":false,"category":"flags"},"swaziland":{"keywords":["sz","flag","nation","country","banner"],"char":"🇸🇿","fitzpatrick_scale":false,"category":"flags"},"sweden":{"keywords":["se","flag","nation","country","banner"],"char":"🇸🇪","fitzpatrick_scale":false,"category":"flags"},"switzerland":{"keywords":["ch","flag","nation","country","banner"],"char":"🇨🇭","fitzpatrick_scale":false,"category":"flags"},"syria":{"keywords":["syrian","arab","republic","flag","nation","country","banner"],"char":"🇸🇾","fitzpatrick_scale":false,"category":"flags"},"taiwan":{"keywords":["tw","flag","nation","country","banner"],"char":"🇹🇼","fitzpatrick_scale":false,"category":"flags"},"tajikistan":{"keywords":["tj","flag","nation","country","banner"],"char":"🇹🇯","fitzpatrick_scale":false,"category":"flags"},"tanzania":{"keywords":["tanzania,","united","republic","flag","nation","country","banner"],"char":"🇹🇿","fitzpatrick_scale":false,"category":"flags"},"thailand":{"keywords":["th","flag","nation","country","banner"],"char":"🇹🇭","fitzpatrick_scale":false,"category":"flags"},"timor_leste":{"keywords":["timor","leste","flag","nation","country","banner"],"char":"🇹🇱","fitzpatrick_scale":false,"category":"flags"},"togo":{"keywords":["tg","flag","nation","country","banner"],"char":"🇹🇬","fitzpatrick_scale":false,"category":"flags"},"tokelau":{"keywords":["tk","flag","nation","country","banner"],"char":"🇹🇰","fitzpatrick_scale":false,"category":"flags"},"tonga":{"keywords":["to","flag","nation","country","banner"],"char":"🇹🇴","fitzpatrick_scale":false,"category":"flags"},"trinidad_tobago":{"keywords":["trinidad","tobago","flag","nation","country","banner"],"char":"🇹🇹","fitzpatrick_scale":false,"category":"flags"},"tunisia":{"keywords":["tn","flag","nation","country","banner"],"char":"🇹🇳","fitzpatrick_scale":false,"category":"flags"},"tr":{"keywords":["turkey","flag","nation","country","banner"],"char":"🇹🇷","fitzpatrick_scale":false,"category":"flags"},"turkmenistan":{"keywords":["flag","nation","country","banner"],"char":"🇹🇲","fitzpatrick_scale":false,"category":"flags"},"turks_caicos_islands":{"keywords":["turks","caicos","islands","flag","nation","country","banner"],"char":"🇹🇨","fitzpatrick_scale":false,"category":"flags"},"tuvalu":{"keywords":["flag","nation","country","banner"],"char":"🇹🇻","fitzpatrick_scale":false,"category":"flags"},"uganda":{"keywords":["ug","flag","nation","country","banner"],"char":"🇺🇬","fitzpatrick_scale":false,"category":"flags"},"ukraine":{"keywords":["ua","flag","nation","country","banner"],"char":"🇺🇦","fitzpatrick_scale":false,"category":"flags"},"united_arab_emirates":{"keywords":["united","arab","emirates","flag","nation","country","banner"],"char":"🇦🇪","fitzpatrick_scale":false,"category":"flags"},"uk":{"keywords":["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],"char":"🇬🇧","fitzpatrick_scale":false,"category":"flags"},"england":{"keywords":["flag","english"],"char":"🏴󠁧󠁢󠁥󠁮󠁧󠁿","fitzpatrick_scale":false,"category":"flags"},"scotland":{"keywords":["flag","scottish"],"char":"🏴󠁧󠁢󠁳󠁣󠁴󠁿","fitzpatrick_scale":false,"category":"flags"},"wales":{"keywords":["flag","welsh"],"char":"🏴󠁧󠁢󠁷󠁬󠁳󠁿","fitzpatrick_scale":false,"category":"flags"},"us":{"keywords":["united","states","america","flag","nation","country","banner"],"char":"🇺🇸","fitzpatrick_scale":false,"category":"flags"},"us_virgin_islands":{"keywords":["virgin","islands","us","flag","nation","country","banner"],"char":"🇻🇮","fitzpatrick_scale":false,"category":"flags"},"uruguay":{"keywords":["uy","flag","nation","country","banner"],"char":"🇺🇾","fitzpatrick_scale":false,"category":"flags"},"uzbekistan":{"keywords":["uz","flag","nation","country","banner"],"char":"🇺🇿","fitzpatrick_scale":false,"category":"flags"},"vanuatu":{"keywords":["vu","flag","nation","country","banner"],"char":"🇻🇺","fitzpatrick_scale":false,"category":"flags"},"vatican_city":{"keywords":["vatican","city","flag","nation","country","banner"],"char":"🇻🇦","fitzpatrick_scale":false,"category":"flags"},"venezuela":{"keywords":["ve","bolivarian","republic","flag","nation","country","banner"],"char":"🇻🇪","fitzpatrick_scale":false,"category":"flags"},"vietnam":{"keywords":["viet","nam","flag","nation","country","banner"],"char":"🇻🇳","fitzpatrick_scale":false,"category":"flags"},"wallis_futuna":{"keywords":["wallis","futuna","flag","nation","country","banner"],"char":"🇼🇫","fitzpatrick_scale":false,"category":"flags"},"western_sahara":{"keywords":["western","sahara","flag","nation","country","banner"],"char":"🇪🇭","fitzpatrick_scale":false,"category":"flags"},"yemen":{"keywords":["ye","flag","nation","country","banner"],"char":"🇾🇪","fitzpatrick_scale":false,"category":"flags"},"zambia":{"keywords":["zm","flag","nation","country","banner"],"char":"🇿🇲","fitzpatrick_scale":false,"category":"flags"},"zimbabwe":{"keywords":["zw","flag","nation","country","banner"],"char":"🇿🇼","fitzpatrick_scale":false,"category":"flags"},"united_nations":{"keywords":["un","flag","banner"],"char":"🇺🇳","fitzpatrick_scale":false,"category":"flags"},"pirate_flag":{"keywords":["skull","crossbones","flag","banner"],"char":"🏴‍☠️","fitzpatrick_scale":false,"category":"flags"}}')},8385:e=>{"use strict";e.exports=JSON.parse('["grinning","smiley","smile","grin","laughing","sweat_smile","joy","rofl","relaxed","blush","innocent","slightly_smiling_face","upside_down_face","wink","relieved","heart_eyes","smiling_face_with_three_hearts","kissing_heart","kissing","kissing_smiling_eyes","kissing_closed_eyes","yum","stuck_out_tongue","stuck_out_tongue_closed_eyes","stuck_out_tongue_winking_eye","zany","raised_eyebrow","monocle","nerd_face","sunglasses","star_struck","partying","smirk","unamused","disappointed","pensive","worried","confused","slightly_frowning_face","frowning_face","persevere","confounded","tired_face","weary","pleading","cry","sob","triumph","angry","rage","symbols_over_mouth","exploding_head","flushed","hot","cold","scream","fearful","cold_sweat","disappointed_relieved","sweat","hugs","thinking","hand_over_mouth","shushing","lying_face","no_mouth","neutral_face","expressionless","grimacing","roll_eyes","hushed","frowning","anguished","open_mouth","astonished","sleeping","drooling_face","sleepy","dizzy_face","zipper_mouth_face","woozy","nauseated_face","vomiting","sneezing_face","mask","face_with_thermometer","face_with_head_bandage","money_mouth_face","cowboy_hat_face","smiling_imp","imp","japanese_ogre","japanese_goblin","clown_face","poop","ghost","skull","skull_and_crossbones","alien","space_invader","robot","jack_o_lantern","smiley_cat","smile_cat","joy_cat","heart_eyes_cat","smirk_cat","kissing_cat","scream_cat","crying_cat_face","pouting_cat","palms_up","open_hands","raised_hands","clap","handshake","+1","-1","facepunch","fist","fist_left","fist_right","crossed_fingers","v","love_you","metal","ok_hand","point_left","point_right","point_up","point_down","point_up_2","raised_hand","raised_back_of_hand","raised_hand_with_fingers_splayed","vulcan_salute","wave","call_me_hand","muscle","fu","writing_hand","pray","foot","leg","ring","lipstick","kiss","lips","tooth","tongue","ear","nose","footprints","eye","eyes","brain","speaking_head","bust_in_silhouette","busts_in_silhouette","baby","girl","child","boy","woman","adult","man","blonde_woman","blonde_man","bearded_person","older_woman","older_adult","older_man","man_with_gua_pi_mao","woman_with_headscarf","woman_with_turban","man_with_turban","policewoman","policeman","construction_worker_woman","construction_worker_man","guardswoman","guardsman","female_detective","male_detective","woman_health_worker","man_health_worker","woman_farmer","man_farmer","woman_cook","man_cook","woman_student","man_student","woman_singer","man_singer","woman_teacher","man_teacher","woman_factory_worker","man_factory_worker","woman_technologist","man_technologist","woman_office_worker","man_office_worker","woman_mechanic","man_mechanic","woman_scientist","man_scientist","woman_artist","man_artist","woman_firefighter","man_firefighter","woman_pilot","man_pilot","woman_astronaut","man_astronaut","woman_judge","man_judge","bride_with_veil","man_in_tuxedo","princess","prince","woman_superhero","man_superhero","woman_supervillain","man_supervillain","mrs_claus","santa","sorceress","wizard","woman_elf","man_elf","woman_vampire","man_vampire","woman_zombie","man_zombie","woman_genie","man_genie","mermaid","merman","woman_fairy","man_fairy","angel","pregnant_woman","breastfeeding","bowing_woman","bowing_man","tipping_hand_woman","tipping_hand_man","no_good_woman","no_good_man","ok_woman","ok_man","raising_hand_woman","raising_hand_man","woman_facepalming","man_facepalming","woman_shrugging","man_shrugging","pouting_woman","pouting_man","frowning_woman","frowning_man","haircut_woman","haircut_man","massage_woman","massage_man","woman_in_steamy_room","man_in_steamy_room","nail_care","selfie","dancer","man_dancing","dancing_women","dancing_men","business_suit_levitating","walking_woman","walking_man","running_woman","running_man","couple","two_women_holding_hands","two_men_holding_hands","couple_with_heart_woman_man","couple_with_heart_woman_woman","couple_with_heart_man_man","couplekiss_man_woman","couplekiss_woman_woman","couplekiss_man_man","family_man_woman_boy","family_man_woman_girl","family_man_woman_girl_boy","family_man_woman_boy_boy","family_man_woman_girl_girl","family_woman_woman_boy","family_woman_woman_girl","family_woman_woman_girl_boy","family_woman_woman_boy_boy","family_woman_woman_girl_girl","family_man_man_boy","family_man_man_girl","family_man_man_girl_boy","family_man_man_boy_boy","family_man_man_girl_girl","family_woman_boy","family_woman_girl","family_woman_girl_boy","family_woman_boy_boy","family_woman_girl_girl","family_man_boy","family_man_girl","family_man_girl_boy","family_man_boy_boy","family_man_girl_girl","yarn","thread","coat","labcoat","womans_clothes","tshirt","jeans","necktie","dress","bikini","kimono","flat_shoe","high_heel","sandal","boot","mans_shoe","athletic_shoe","hiking_boot","socks","gloves","scarf","tophat","billed_hat","womans_hat","mortar_board","rescue_worker_helmet","crown","pouch","purse","handbag","briefcase","school_satchel","luggage","eyeglasses","dark_sunglasses","goggles","closed_umbrella","dog","cat","mouse","hamster","rabbit","fox_face","bear","panda_face","koala","tiger","lion","cow","pig","pig_nose","frog","monkey_face","see_no_evil","hear_no_evil","speak_no_evil","monkey","chicken","penguin","bird","baby_chick","hatching_chick","hatched_chick","duck","eagle","owl","bat","wolf","boar","horse","unicorn","honeybee","bug","butterfly","snail","shell","beetle","ant","mosquito","grasshopper","spider","spider_web","scorpion","turtle","snake","lizard","t-rex","sauropod","octopus","squid","shrimp","lobster","crab","blowfish","tropical_fish","fish","dolphin","whale","whale2","shark","crocodile","tiger2","leopard","zebra","gorilla","elephant","hippopotamus","rhinoceros","dromedary_camel","giraffe","kangaroo","camel","water_buffalo","ox","cow2","racehorse","pig2","ram","sheep","llama","goat","deer","dog2","poodle","cat2","rooster","turkey","peacock","parrot","swan","dove","rabbit2","raccoon","badger","rat","mouse2","chipmunk","hedgehog","paw_prints","dragon","dragon_face","cactus","christmas_tree","evergreen_tree","deciduous_tree","palm_tree","seedling","herb","shamrock","four_leaf_clover","bamboo","tanabata_tree","leaves","fallen_leaf","maple_leaf","ear_of_rice","hibiscus","sunflower","rose","wilted_flower","tulip","blossom","cherry_blossom","bouquet","mushroom","earth_americas","earth_africa","earth_asia","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","new_moon_with_face","full_moon_with_face","first_quarter_moon_with_face","last_quarter_moon_with_face","sun_with_face","crescent_moon","star","star2","dizzy","sparkles","comet","sunny","sun_behind_small_cloud","partly_sunny","sun_behind_large_cloud","sun_behind_rain_cloud","cloud","cloud_with_rain","cloud_with_lightning_and_rain","cloud_with_lightning","zap","fire","boom","snowflake","cloud_with_snow","snowman","snowman_with_snow","wind_face","dash","tornado","fog","open_umbrella","umbrella","droplet","sweat_drops","ocean","green_apple","apple","pear","tangerine","lemon","banana","watermelon","grapes","strawberry","melon","cherries","peach","mango","pineapple","coconut","kiwi_fruit","tomato","eggplant","avocado","broccoli","leafy_greens","cucumber","hot_pepper","corn","carrot","potato","sweet_potato","croissant","bagel","bread","baguette_bread","pretzel","cheese","egg","fried_egg","pancakes","bacon","steak","poultry_leg","meat_on_bone","bone","hotdog","hamburger","fries","pizza","sandwich","stuffed_flatbread","taco","burrito","green_salad","shallow_pan_of_food","canned_food","spaghetti","ramen","stew","curry","sushi","bento","fried_shrimp","rice_ball","rice","rice_cracker","fish_cake","fortune_cookie","moon_cake","oden","dango","shaved_ice","ice_cream","icecream","pie","cupcake","cake","birthday","custard","lollipop","candy","chocolate_bar","popcorn","doughnut","dumpling","cookie","chestnut","peanuts","honey_pot","milk_glass","baby_bottle","coffee","tea","cup_with_straw","sake","beer","beers","clinking_glasses","wine_glass","tumbler_glass","cocktail","tropical_drink","champagne","spoon","fork_and_knife","plate_with_cutlery","bowl_with_spoon","takeout_box","chopsticks","salt","soccer","basketball","football","baseball","softball","tennis","volleyball","rugby_football","flying_disc","8ball","golf","golfing_woman","golfing_man","ping_pong","badminton","goal_net","ice_hockey","field_hockey","lacrosse","cricket","ski","skier","snowboarder","person_fencing","women_wrestling","men_wrestling","woman_cartwheeling","man_cartwheeling","woman_playing_handball","man_playing_handball","ice_skate","curling_stone","skateboard","sled","bow_and_arrow","fishing_pole_and_fish","boxing_glove","martial_arts_uniform","rowing_woman","rowing_man","climbing_woman","climbing_man","swimming_woman","swimming_man","woman_playing_water_polo","man_playing_water_polo","woman_in_lotus_position","man_in_lotus_position","surfing_woman","surfing_man","basketball_woman","basketball_man","weight_lifting_woman","weight_lifting_man","biking_woman","biking_man","mountain_biking_woman","mountain_biking_man","horse_racing","trophy","running_shirt_with_sash","medal_sports","medal_military","1st_place_medal","2nd_place_medal","3rd_place_medal","reminder_ribbon","rosette","ticket","tickets","performing_arts","art","circus_tent","woman_juggling","man_juggling","microphone","headphones","musical_score","musical_keyboard","drum","saxophone","trumpet","guitar","violin","clapper","video_game","dart","game_die","chess_pawn","slot_machine","jigsaw","bowling","red_car","taxi","blue_car","bus","trolleybus","racing_car","police_car","ambulance","fire_engine","minibus","truck","articulated_lorry","tractor","kick_scooter","motorcycle","bike","motor_scooter","rotating_light","oncoming_police_car","oncoming_bus","oncoming_automobile","oncoming_taxi","aerial_tramway","mountain_cableway","suspension_railway","railway_car","train","monorail","bullettrain_side","bullettrain_front","light_rail","mountain_railway","steam_locomotive","train2","metro","tram","station","flying_saucer","helicopter","small_airplane","airplane","flight_departure","flight_arrival","sailboat","motor_boat","speedboat","ferry","passenger_ship","rocket","artificial_satellite","seat","canoe","anchor","construction","fuelpump","busstop","vertical_traffic_light","traffic_light","ship","ferris_wheel","roller_coaster","carousel_horse","building_construction","foggy","tokyo_tower","factory","fountain","rice_scene","mountain","mountain_snow","mount_fuji","volcano","japan","camping","tent","national_park","motorway","railway_track","sunrise","sunrise_over_mountains","desert","beach_umbrella","desert_island","city_sunrise","city_sunset","cityscape","night_with_stars","bridge_at_night","milky_way","stars","sparkler","fireworks","rainbow","houses","european_castle","japanese_castle","stadium","statue_of_liberty","house","house_with_garden","derelict_house","office","department_store","post_office","european_post_office","hospital","bank","hotel","convenience_store","school","love_hotel","wedding","classical_building","church","mosque","synagogue","kaaba","shinto_shrine","watch","iphone","calling","computer","keyboard","desktop_computer","printer","computer_mouse","trackball","joystick","clamp","minidisc","floppy_disk","cd","dvd","vhs","camera","camera_flash","video_camera","movie_camera","film_projector","film_strip","telephone_receiver","phone","pager","fax","tv","radio","studio_microphone","level_slider","control_knobs","compass","stopwatch","timer_clock","alarm_clock","mantelpiece_clock","hourglass_flowing_sand","hourglass","satellite","battery","electric_plug","bulb","flashlight","candle","fire_extinguisher","wastebasket","oil_drum","money_with_wings","dollar","yen","euro","pound","moneybag","credit_card","gem","balance_scale","toolbox","wrench","hammer","hammer_and_pick","hammer_and_wrench","pick","nut_and_bolt","gear","brick","chains","magnet","gun","bomb","firecracker","hocho","dagger","crossed_swords","shield","smoking","coffin","funeral_urn","amphora","crystal_ball","prayer_beads","nazar_amulet","barber","alembic","telescope","microscope","hole","pill","syringe","dna","microbe","petri_dish","test_tube","thermometer","broom","basket","toilet_paper","label","bookmark","toilet","shower","bathtub","bath","soap","sponge","lotion_bottle","key","old_key","couch_and_lamp","sleeping_bed","bed","door","bellhop_bell","teddy_bear","framed_picture","world_map","parasol_on_ground","moyai","shopping","shopping_cart","balloon","flags","ribbon","gift","confetti_ball","tada","dolls","wind_chime","crossed_flags","izakaya_lantern","red_envelope","email","envelope_with_arrow","incoming_envelope","e-mail","love_letter","postbox","mailbox_closed","mailbox","mailbox_with_mail","mailbox_with_no_mail","package","postal_horn","inbox_tray","outbox_tray","scroll","page_with_curl","bookmark_tabs","receipt","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","page_facing_up","date","calendar","spiral_calendar","card_index","card_file_box","ballot_box","file_cabinet","clipboard","spiral_notepad","file_folder","open_file_folder","card_index_dividers","newspaper_roll","newspaper","notebook","closed_book","green_book","blue_book","orange_book","notebook_with_decorative_cover","ledger","books","open_book","safety_pin","link","paperclip","paperclips","scissors","triangular_ruler","straight_ruler","abacus","pushpin","round_pushpin","closed_lock_with_key","lock","unlock","lock_with_ink_pen","pen","fountain_pen","black_nib","memo","pencil2","crayon","paintbrush","mag","mag_right","heart","orange_heart","yellow_heart","green_heart","blue_heart","purple_heart","black_heart","broken_heart","heavy_heart_exclamation","two_hearts","revolving_hearts","heartbeat","heartpulse","sparkling_heart","cupid","gift_heart","heart_decoration","peace_symbol","latin_cross","star_and_crescent","om","wheel_of_dharma","star_of_david","six_pointed_star","menorah","yin_yang","orthodox_cross","place_of_worship","ophiuchus","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","id","atom_symbol","u7a7a","u5272","radioactive","biohazard","mobile_phone_off","vibration_mode","u6709","u7121","u7533","u55b6","u6708","eight_pointed_black_star","vs","accept","white_flower","ideograph_advantage","secret","congratulations","u5408","u6e80","u7981","a","b","ab","cl","o2","sos","no_entry","name_badge","no_entry_sign","x","o","stop_sign","anger","hotsprings","no_pedestrians","do_not_litter","no_bicycles","non-potable_water","underage","no_mobile_phones","exclamation","grey_exclamation","question","grey_question","bangbang","interrobang","100","low_brightness","high_brightness","trident","fleur_de_lis","part_alternation_mark","warning","children_crossing","beginner","recycle","u6307","chart","sparkle","eight_spoked_asterisk","negative_squared_cross_mark","white_check_mark","diamond_shape_with_a_dot_inside","cyclone","loop","globe_with_meridians","m","atm","zzz","sa","passport_control","customs","baggage_claim","left_luggage","wheelchair","no_smoking","wc","parking","potable_water","mens","womens","baby_symbol","restroom","put_litter_in_its_place","cinema","signal_strength","koko","ng","ok","up","cool","new","free","zero","one","two","three","four","five","six","seven","eight","nine","keycap_ten","asterisk","1234","eject_button","arrow_forward","pause_button","next_track_button","stop_button","record_button","play_or_pause_button","previous_track_button","fast_forward","rewind","twisted_rightwards_arrows","repeat","repeat_one","arrow_backward","arrow_up_small","arrow_down_small","arrow_double_up","arrow_double_down","arrow_right","arrow_left","arrow_up","arrow_down","arrow_upper_right","arrow_lower_right","arrow_lower_left","arrow_upper_left","arrow_up_down","left_right_arrow","arrows_counterclockwise","arrow_right_hook","leftwards_arrow_with_hook","arrow_heading_up","arrow_heading_down","hash","information_source","abc","abcd","capital_abcd","symbols","musical_note","notes","wavy_dash","curly_loop","heavy_check_mark","arrows_clockwise","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","heavy_multiplication_x","infinity","heavy_dollar_sign","currency_exchange","copyright","registered","tm","end","back","on","top","soon","ballot_box_with_check","radio_button","white_circle","black_circle","red_circle","large_blue_circle","small_orange_diamond","small_blue_diamond","large_orange_diamond","large_blue_diamond","small_red_triangle","black_small_square","white_small_square","black_large_square","white_large_square","small_red_triangle_down","black_medium_square","white_medium_square","black_medium_small_square","white_medium_small_square","black_square_button","white_square_button","speaker","sound","loud_sound","mute","mega","loudspeaker","bell","no_bell","black_joker","mahjong","spades","clubs","hearts","diamonds","flower_playing_cards","thought_balloon","right_anger_bubble","speech_balloon","left_speech_bubble","clock1","clock2","clock3","clock4","clock5","clock6","clock7","clock8","clock9","clock10","clock11","clock12","clock130","clock230","clock330","clock430","clock530","clock630","clock730","clock830","clock930","clock1030","clock1130","clock1230","white_flag","black_flag","pirate_flag","checkered_flag","triangular_flag_on_post","rainbow_flag","united_nations","afghanistan","aland_islands","albania","algeria","american_samoa","andorra","angola","anguilla","antarctica","antigua_barbuda","argentina","armenia","aruba","australia","austria","azerbaijan","bahamas","bahrain","bangladesh","barbados","belarus","belgium","belize","benin","bermuda","bhutan","bolivia","caribbean_netherlands","bosnia_herzegovina","botswana","brazil","british_indian_ocean_territory","british_virgin_islands","brunei","bulgaria","burkina_faso","burundi","cape_verde","cambodia","cameroon","canada","canary_islands","cayman_islands","central_african_republic","chad","chile","cn","christmas_island","cocos_islands","colombia","comoros","congo_brazzaville","congo_kinshasa","cook_islands","costa_rica","croatia","cuba","curacao","cyprus","czech_republic","denmark","djibouti","dominica","dominican_republic","ecuador","egypt","el_salvador","equatorial_guinea","eritrea","estonia","ethiopia","eu","falkland_islands","faroe_islands","fiji","finland","fr","french_guiana","french_polynesia","french_southern_territories","gabon","gambia","georgia","de","ghana","gibraltar","greece","greenland","grenada","guadeloupe","guam","guatemala","guernsey","guinea","guinea_bissau","guyana","haiti","honduras","hong_kong","hungary","iceland","india","indonesia","iran","iraq","ireland","isle_of_man","israel","it","cote_divoire","jamaica","jp","jersey","jordan","kazakhstan","kenya","kiribati","kosovo","kuwait","kyrgyzstan","laos","latvia","lebanon","lesotho","liberia","libya","liechtenstein","lithuania","luxembourg","macau","macedonia","madagascar","malawi","malaysia","maldives","mali","malta","marshall_islands","martinique","mauritania","mauritius","mayotte","mexico","micronesia","moldova","monaco","mongolia","montenegro","montserrat","morocco","mozambique","myanmar","namibia","nauru","nepal","netherlands","new_caledonia","new_zealand","nicaragua","niger","nigeria","niue","norfolk_island","northern_mariana_islands","north_korea","norway","oman","pakistan","palau","palestinian_territories","panama","papua_new_guinea","paraguay","peru","philippines","pitcairn_islands","poland","portugal","puerto_rico","qatar","reunion","romania","ru","rwanda","st_barthelemy","st_helena","st_kitts_nevis","st_lucia","st_pierre_miquelon","st_vincent_grenadines","samoa","san_marino","sao_tome_principe","saudi_arabia","senegal","serbia","seychelles","sierra_leone","singapore","sint_maarten","slovakia","slovenia","solomon_islands","somalia","south_africa","south_georgia_south_sandwich_islands","kr","south_sudan","es","sri_lanka","sudan","suriname","swaziland","sweden","switzerland","syria","taiwan","tajikistan","tanzania","thailand","timor_leste","togo","tokelau","tonga","trinidad_tobago","tunisia","tr","turkmenistan","turks_caicos_islands","tuvalu","uganda","ukraine","united_arab_emirates","uk","england","scotland","wales","us","us_virgin_islands","uruguay","uzbekistan","vanuatu","vatican_city","venezuela","vietnam","wallis_futuna","western_sahara","yemen","zambia","zimbabwe"]')}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={id:e,loaded:!1,exports:{}};return o[e].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=o,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var o=Object.create(null);a.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,a.d(o,i),o},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,r)=>(a.f[r](e,t),t)),[])),a.u=e=>"rgl.min.js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},n="gui.ajax:",a.l=(e,t,o,i)=>{if(r[e])r[e].push(t);else{var s,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==n+o){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",n+o),s.src=e),r[e]=[t];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var o=r[e];if(delete r[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),c&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="plug/gui.ajax/res/dist/libs/",(()=>{var e={66:0};a.f.j=(t,r)=>{var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>n=e[t]=[r,o]));r.push(n[2]=o);var i=a.p+a.u(t),s=new Error;a.l(i,(r=>{if(a.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,n[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[i,s,c]=r,l=0;if(i.some((t=>0!==e[t]))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);c&&c(a)}for(t&&t(r);l<i.length;l++)o=i[l],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkgui_ajax=self.webpackChunkgui_ajax||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),a.nc=void 0;var s={};(()=>{"use strict";a.r(s),a.d(s,{default:()=>GM});var e=a(2015),t=a.n(e),r=a(2326),n=a.n(r),o=a(3528),i=a.n(o);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}var d=a(5117),p=a(9298),f={NODE_PROVIDER:"node",SORTABLE_LIST_ITEM:"sortable-list-item"};function h(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}function m(e,t){return{connectDropTarget:e.dropTarget(),canDrop:t.canDrop(),isOver:t.isOver(),isOverCurrent:t.isOver({shallow:!0})}}var y=function(){return e=function e(t,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._source=t,this._target=r,this._step=n,this._dropEffect=o},(t=[{key:"getSource",value:function(){return this._source}},{key:"getTarget",value:function(){return this._target}},{key:"getStep",value:function(){return this._step}},{key:"getDropEffect",value:function(){return this._dropEffect}}])&&l(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();y.STEP_BEGIN_DRAG="beginDrag",y.STEP_END_DRAG="endDrag",y.STEP_CAN_DROP="canDrop",y.STEP_HOVER_DROP="hover";var g=function(e,t,r,n){var o=window.pydio.Controller,a=o.defaultActions.get("dragndrop");if(!a)throw new Error("No DND Actions available");var s=o.getActionByName(a);if(s.deny){var c=new(i());if(c.setSelectedNodes([e]),s.fireSelectionChange(c),s.deny)throw new Error("DND action disabled")}var l=new y(e,t,r,n),u=s.options.dragndropCheckModule;if(r===y.STEP_CAN_DROP&&u){if(!d.getFunctionByName(u,window))throw p.detectModuleToLoadAndApply(u,(function(){})),new Error("Cannot find test module, trying to load it");d.executeFunctionByName(s.options.dragndropCheckModule,window,o,l)}else s.apply(l)},b={beginDrag:function(e){return{node:e.node}},endDrag:function(e,t,r){if(t.didDrop()){var n=t.getItem(),o=t.getDropResult();try{g(n.node,o.node,y.STEP_END_DRAG,o.dropEffect)}catch(e){}}}},v={hover:function(e,t){},canDrop:function(e,t){var r=t.getItem().node,n=e.node;try{g(r,n,y.STEP_CAN_DROP)}catch(e){return!1}return!0},drop:function(e,t){if(!t.didDrop())return{node:e.node}}},k=a(6146);const w=require("react-dnd");var _=a.n(w);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return(t=j(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}}function x(e,t,r){return t&&T(e.prototype,t),r&&T(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function j(e){var t=function(e){if("object"!=S(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==S(t)?t:t+""}function A(e,t,r){return t=I(t),function(e,t){if(t&&("object"==S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,z()?Reflect.construct(t,r||[],I(e).constructor):t.apply(e,r))}function z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(z=function(){return!!e})()}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}var D=function(e){function r(){return P(this,r),A(this,r,arguments)}return R(r,e),x(r,[{key:"removeClicked",value:function(){this.props.onRemove(this.props.id)}},{key:"render",value:function(){var e,r=this,o=this.props,i=o.isDragging,a=o.connectDragSource,s=o.connectDropTarget,c=o.renderItem,l=o.style,u=o.item,d=o.removable,p=o.className,f=o.label;return d&&(e=t().createElement("span",{className:"button mdi mdi-close",onClick:function(e){return r.removeClicked(e)}})),c?t().createElement("div",{ref:function(e){s(n().findDOMNode(e)),a(n().findDOMNode(e))},style:E(E({},l),{},{opacity:i?0:1})},c(u)):t().createElement(k.Paper,{ref:function(e){s(n().findDOMNode(e)),a(n().findDOMNode(e))},zDepth:1,style:{opacity:i?0:1,margin:"8px 0"}},t().createElement("div",{className:p},f,e))}}])}(t().Component),N=function(e){function r(){return P(this,r),A(this,r,arguments)}return R(r,e),x(r,[{key:"removeClicked",value:function(){this.props.onRemove(this.props.id)}},{key:"render",value:function(){var e,r=this;return this.props.removable&&(e=t().createElement("span",{className:"button mdi mdi-close",onClick:function(e){return r.removeClicked(e)}})),t().createElement(k.Paper,{zDepth:1,style:{margin:"8px 0"}},t().createElement("div",{className:this.props.className},this.props.label,e))}}])}(t().Component),L=N;_()&&(L=_().flow(_().DragSource(f.SORTABLE_LIST_ITEM,{beginDrag:function(e){return{id:e.id}},endDrag:function(e){e.endSwitching()}},h),_().DropTarget(f.SORTABLE_LIST_ITEM,{hover:function(e,t){var r=t.getItem().id;r!==e.id&&e.switchItems(r,e.id)}},m))(D));var U=function(e){function r(e){var t;return P(this,r),(t=A(this,r,[e])).state={values:t.props.values},t}return R(r,e),x(r,[{key:"componentWillReceiveProps",value:function(e){this.setState({values:e.values,switchData:null})}},{key:"findItemIndex",value:function(e,t){for(var r=0;r<t.length;r++)if(t[r].payload===e)return r}},{key:"switchItems",value:function(e,t){var r=this.findItemIndex(e,this.state.values),n=this.state.values[r],o=this.findItemIndex(t,this.state.values),i=this.state.values[o],a=this.state.values.slice();a[r]=i,a[o]=n;var s=this.findItemIndex(e,this.props.values),c=this.findItemIndex(t,this.props.values);s===o&&c===r?this.setState({values:a,switchData:null}):this.setState({values:a,switchData:{oldId:e,newId:t}})}},{key:"endSwitching",value:function(){this.state.switchData&&this.props.onOrderUpdated&&this.props.onOrderUpdated(this.state.switchData.oldId,this.state.switchData.newId,this.state.values),this.setState({switchData:null})}},{key:"render",value:function(){return t().createElement("div",{className:this.props.className},this.state.values.map(function(e){return t().createElement(L,{id:e.payload,key:e.payload,label:e.text,switchItems:this.switchItems.bind(this),endSwitching:this.endSwitching.bind(this),removable:this.props.removable,onRemove:this.props.onRemove,className:this.props.itemClassName,item:e,style:this.props.itemStyle,renderItem:this.props.renderItem})}.bind(this)))}}])}(t().Component);const B=require("create-react-class");var F=a.n(B),q=a(9825),W=a.n(q),H=a(4217),V=a.n(H);const J=require("react-infinite");var G=a.n(J),K=a(3483),$=a.n(K);const X=require("pydio/util/lang");var Y=a.n(X),Q=a(509),Z=a(4823),ee=a.n(Z);function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}var re=["muiTheme","node","iconCell","firstLine","secondLine"];function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ne.apply(null,arguments)}function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ae(e,t,r){return(t=le(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,le(n.key),n)}}function le(e){var t=function(e){if("object"!=te(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==te(t)?t:t+""}function ue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ue=function(){return!!e})()}function de(e){return de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},de(e)}function pe(e,t){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pe(e,t)}var fe=V().requireLib("hoc").withContextMenu,he=function(r){function o(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=function(e,t,r){return t=de(t),function(e,t){if(t&&("object"==te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ue()?Reflect.construct(t,r||[],de(e).constructor):t.apply(e,r))}(this,o,[t])).inlineEditorRef=(0,e.createRef)(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pe(e,t)}(o,r),i=o,(a=[{key:"componentDidMount",value:function(){var e=this.props.setInlineEditionAnchor;e&&this.inlineEditorRef.current&&e(this.inlineEditorRef.current)}},{key:"onClick",value:function(e){if(this.props.showSelector){if(this.props.selectorDisabled)return;this.props.onSelect(this.props.node,e),e.stopPropagation(),e.preventDefault()}else this.props.onClick&&this.props.onClick(this.props.node,e)}},{key:"onDoubleClick",value:function(e){this.props.onDoubleClick&&this.props.onDoubleClick(this.props.node,e)}},{key:"render",value:function(){var e,r,o=this,i=this.props,a=i.node,s=i.showSelector,c=i.selected,l=i.selectorDisabled,u=i.firstLine,d=i.secondLine,p=i.thirdLine,f=i.style,h=i.actions,m=i.iconCell,y=i.mainIcon,g=i.className,b=i.muiTheme,v=i.canDrop,w=i.isOver,_=i.nativeIsOver,S=i.connectDragSource,O=i.connectDropTarget,E=i.selectedAsBorder,C=["material-list-entry","material-list-entry-"+(p?3:d?2:1)+"-lines"];g&&C.push(g),s&&(e=t().createElement("div",{className:"material-list-selector"},t().createElement(k.Checkbox,{checked:c,ref:"selector",disabled:l}))),m?r=this.props.iconCell:this.props.mainIcon&&(r=t().createElement(k.FontIcon,{className:"mui-font-icon "+this.props.mainIcon,style:{fontSize:18,color:"#FFF",display:"inline-block",margin:16,backgroundColor:"rgb(189, 189, 189)",padding:"7px 3px",width:33,height:33,textAlign:"center"}})),(v&&w||_)&&C.push("droppable-active"),a&&(C.push("listentry_"+Y().computeStringSlug(a.getPath())),C.push("ajxp_node_"+(a.isLeaf()?"leaf":"collection")),a.getAjxpMime()&&C.push("ajxp_mime_"+a.getAjxpMime()),a.getMetadata().has("local:entry-classes")&&C.push.apply(C,function(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return se(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?se(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a.getMetadata().get("local:entry-classes"))));var P={};if(this.state&&this.state.hover&&!this.props.noHover&&(P=ie(ie({},P),{},{backgroundColor:b.darkMode?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)",borderBottom:"1px solid transparent"})),c){var T=b.palette.accent2Color,x=ee()(T).dark();P=ie(ie({},P),{},E?{boxShadow:"0 0 0 2px "+T+",rgba(0, 0, 0, .4) 0px 0px 10px"}:{backgroundColor:T,color:x?"white":"rgba(0,0,0,.87)"}),C.push("selected"),C.push("selected-"+(x?"dark":"light"))}return t().createElement(me,ne({},this.props,{ref:function(e){var t=n().findDOMNode(e);"function"==typeof O&&O(t),"function"==typeof S&&S(t)},onClick:this.onClick.bind(this),onDoubleClick:s?null:this.onDoubleClick.bind(this),className:C.join(" "),onMouseOver:function(){o.setState({hover:!0})},onMouseOut:function(){o.setState({hover:!1})},style:ie(ie({},f),P)}),e,t().createElement("div",{className:"material-list-icon"+(y||m?"":" material-list-icon-none")},r),t().createElement("div",{className:"material-list-text"},t().createElement("div",{key:"line-1",className:"material-list-line-1",ref:this.inlineEditorRef},u),t().createElement("div",{key:"line-2",className:"material-list-line-2"},d),t().createElement("div",{key:"line-3",className:"material-list-line-3"},p)),t().createElement("div",{className:"material-list-actions"},h))}}])&&ce(i.prototype,a),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,a}(t().Component),me=function(e){e.muiTheme,e.node,e.iconCell,e.firstLine,e.secondLine;var r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,re);return t().createElement("div",r)};me=fe(me),he.propTypes={showSelector:W().bool,selected:W().bool,selectorDisabled:W().bool,onSelect:W().func,onClick:W().func,iconCell:W().element,mainIcon:W().string,firstLine:W().node,secondLine:W().node,thirdLine:W().node,actions:W().element,activeDroppable:W().bool,className:W().string,style:W().object,noHover:W().bool},he=(0,Q.muiThemeable)()(he);var ye=(0,w.flow)((0,w.DragSource)(f.NODE_PROVIDER,b,h),(0,w.DropTarget)(f.NODE_PROVIDER,v,m))(he);const ge=require("pydio/util/path");var be=a.n(ge),ve=a(2218),ke=a(4365),we=a(3321),_e=a(8810),Se=a(2556),Oe=a(2968);function Ee(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ce(e){return e instanceof Ee(e).Element||e instanceof Element}function Pe(e){return e instanceof Ee(e).HTMLElement||e instanceof HTMLElement}function Te(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Ee(e).ShadowRoot||e instanceof ShadowRoot)}var xe=Math.max,je=Math.min,Ae=Math.round;function ze(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Ie(){return!/^((?!chrome|android).)*safari/i.test(ze())}function Re(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var n=e.getBoundingClientRect(),o=1,i=1;t&&Pe(e)&&(o=e.offsetWidth>0&&Ae(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Ae(n.height)/e.offsetHeight||1);var a=(Ce(e)?Ee(e):window).visualViewport,s=!Ie()&&r,c=(n.left+(s&&a?a.offsetLeft:0))/o,l=(n.top+(s&&a?a.offsetTop:0))/i,u=n.width/o,d=n.height/i;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c,x:c,y:l}}function Me(e){var t=Ee(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function De(e){return e?(e.nodeName||"").toLowerCase():null}function Ne(e){return((Ce(e)?e.ownerDocument:e.document)||window.document).documentElement}function Le(e){return Re(Ne(e)).left+Me(e).scrollLeft}function Ue(e){return Ee(e).getComputedStyle(e)}function Be(e){var t=Ue(e),r=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+n)}function Fe(e,t,r){void 0===r&&(r=!1);var n,o,i=Pe(t),a=Pe(t)&&function(e){var t=e.getBoundingClientRect(),r=Ae(t.width)/e.offsetWidth||1,n=Ae(t.height)/e.offsetHeight||1;return 1!==r||1!==n}(t),s=Ne(t),c=Re(e,a,r),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!r)&&(("body"!==De(t)||Be(s))&&(l=(n=t)!==Ee(n)&&Pe(n)?{scrollLeft:(o=n).scrollLeft,scrollTop:o.scrollTop}:Me(n)),Pe(t)?((u=Re(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):s&&(u.x=Le(s))),{x:c.left+l.scrollLeft-u.x,y:c.top+l.scrollTop-u.y,width:c.width,height:c.height}}function qe(e){var t=Re(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function We(e){return"html"===De(e)?e:e.assignedSlot||e.parentNode||(Te(e)?e.host:null)||Ne(e)}function He(e){return["html","body","#document"].indexOf(De(e))>=0?e.ownerDocument.body:Pe(e)&&Be(e)?e:He(We(e))}function Ve(e,t){var r;void 0===t&&(t=[]);var n=He(e),o=n===(null==(r=e.ownerDocument)?void 0:r.body),i=Ee(n),a=o?[i].concat(i.visualViewport||[],Be(n)?n:[]):n,s=t.concat(a);return o?s:s.concat(Ve(We(a)))}function Je(e){return["table","td","th"].indexOf(De(e))>=0}function Ge(e){return Pe(e)&&"fixed"!==Ue(e).position?e.offsetParent:null}function Ke(e){for(var t=Ee(e),r=Ge(e);r&&Je(r)&&"static"===Ue(r).position;)r=Ge(r);return r&&("html"===De(r)||"body"===De(r)&&"static"===Ue(r).position)?t:r||function(e){var t=/firefox/i.test(ze());if(/Trident/i.test(ze())&&Pe(e)&&"fixed"===Ue(e).position)return null;var r=We(e);for(Te(r)&&(r=r.host);Pe(r)&&["html","body"].indexOf(De(r))<0;){var n=Ue(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(e)||t}var $e="top",Xe="bottom",Ye="right",Qe="left",Ze="auto",et=[$e,Xe,Ye,Qe],tt="start",rt="end",nt="viewport",ot="popper",it=et.reduce((function(e,t){return e.concat([t+"-"+tt,t+"-"+rt])}),[]),at=[].concat(et,[Ze]).reduce((function(e,t){return e.concat([t,t+"-"+tt,t+"-"+rt])}),[]),st=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ct(e){var t=new Map,r=new Set,n=[];function o(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!r.has(e)){var n=t.get(e);n&&o(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||o(e)})),n}var lt={placement:"bottom",modifiers:[],strategy:"absolute"};function ut(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function dt(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,o=t.defaultOptions,i=void 0===o?lt:o;return function(e,t,r){void 0===r&&(r=i);var o,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},lt,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],l=!1,u={state:s,setOptions:function(r){var o="function"==typeof r?r(s.options):r;d(),s.options=Object.assign({},i,s.options,o),s.scrollParents={reference:Ce(e)?Ve(e):e.contextElement?Ve(e.contextElement):[],popper:Ve(t)};var a,l,p=function(e){var t=ct(e);return st.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}((a=[].concat(n,s.options.modifiers),l=a.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e}),{}),Object.keys(l).map((function(e){return l[e]}))));return s.orderedModifiers=p.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,o=e.effect;if("function"==typeof o){var i=o({state:s,name:t,instance:u,options:n});c.push(i||function(){})}})),u.update()},forceUpdate:function(){if(!l){var e=s.elements,t=e.reference,r=e.popper;if(ut(t,r)){s.rects={reference:Fe(t,Ke(r),"fixed"===s.options.strategy),popper:qe(r)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<s.orderedModifiers.length;n++)if(!0!==s.reset){var o=s.orderedModifiers[n],i=o.fn,a=o.options,c=void 0===a?{}:a,d=o.name;"function"==typeof i&&(s=i({state:s,options:c,name:d,instance:u})||s)}else s.reset=!1,n=-1}}},update:(o=function(){return new Promise((function(e){u.forceUpdate(),e(s)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(o())}))}))),a}),destroy:function(){d(),l=!0}};if(!ut(e,t))return u;function d(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(r).then((function(e){!l&&r.onFirstUpdate&&r.onFirstUpdate(e)})),u}}var pt={passive:!0};function ft(e){return e.split("-")[0]}function ht(e){return e.split("-")[1]}function mt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function yt(e){var t,r=e.reference,n=e.element,o=e.placement,i=o?ft(o):null,a=o?ht(o):null,s=r.x+r.width/2-n.width/2,c=r.y+r.height/2-n.height/2;switch(i){case $e:t={x:s,y:r.y-n.height};break;case Xe:t={x:s,y:r.y+r.height};break;case Ye:t={x:r.x+r.width,y:c};break;case Qe:t={x:r.x-n.width,y:c};break;default:t={x:r.x,y:r.y}}var l=i?mt(i):null;if(null!=l){var u="y"===l?"height":"width";switch(a){case tt:t[l]=t[l]-(r[u]/2-n[u]/2);break;case rt:t[l]=t[l]+(r[u]/2-n[u]/2)}}return t}var gt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bt(e){var t,r=e.popper,n=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,d=e.isFixed,p=a.x,f=void 0===p?0:p,h=a.y,m=void 0===h?0:h,y="function"==typeof u?u({x:f,y:m}):{x:f,y:m};f=y.x,m=y.y;var g=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),v=Qe,k=$e,w=window;if(l){var _=Ke(r),S="clientHeight",O="clientWidth";_===Ee(r)&&"static"!==Ue(_=Ne(r)).position&&"absolute"===s&&(S="scrollHeight",O="scrollWidth"),(o===$e||(o===Qe||o===Ye)&&i===rt)&&(k=Xe,m-=(d&&_===w&&w.visualViewport?w.visualViewport.height:_[S])-n.height,m*=c?1:-1),o!==Qe&&(o!==$e&&o!==Xe||i!==rt)||(v=Ye,f-=(d&&_===w&&w.visualViewport?w.visualViewport.width:_[O])-n.width,f*=c?1:-1)}var E,C=Object.assign({position:s},l&&gt),P=!0===u?function(e,t){var r=e.x,n=e.y,o=t.devicePixelRatio||1;return{x:Ae(r*o)/o||0,y:Ae(n*o)/o||0}}({x:f,y:m},Ee(r)):{x:f,y:m};return f=P.x,m=P.y,c?Object.assign({},C,((E={})[k]=b?"0":"",E[v]=g?"0":"",E.transform=(w.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",E)):Object.assign({},C,((t={})[k]=b?m+"px":"",t[v]=g?f+"px":"",t.transform="",t))}var vt={left:"right",right:"left",bottom:"top",top:"bottom"};function kt(e){return e.replace(/left|right|bottom|top/g,(function(e){return vt[e]}))}var wt={start:"end",end:"start"};function _t(e){return e.replace(/start|end/g,(function(e){return wt[e]}))}function St(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Te(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ot(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Et(e,t,r){return t===nt?Ot(function(e,t){var r=Ee(e),n=Ne(e),o=r.visualViewport,i=n.clientWidth,a=n.clientHeight,s=0,c=0;if(o){i=o.width,a=o.height;var l=Ie();(l||!l&&"fixed"===t)&&(s=o.offsetLeft,c=o.offsetTop)}return{width:i,height:a,x:s+Le(e),y:c}}(e,r)):Ce(t)?function(e,t){var r=Re(e,!1,"fixed"===t);return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}(t,r):Ot(function(e){var t,r=Ne(e),n=Me(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=xe(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=xe(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-n.scrollLeft+Le(e),c=-n.scrollTop;return"rtl"===Ue(o||r).direction&&(s+=xe(r.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:c}}(Ne(e)))}function Ct(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Pt(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}function Tt(e,t){void 0===t&&(t={});var r=t,n=r.placement,o=void 0===n?e.placement:n,i=r.strategy,a=void 0===i?e.strategy:i,s=r.boundary,c=void 0===s?"clippingParents":s,l=r.rootBoundary,u=void 0===l?nt:l,d=r.elementContext,p=void 0===d?ot:d,f=r.altBoundary,h=void 0!==f&&f,m=r.padding,y=void 0===m?0:m,g=Ct("number"!=typeof y?y:Pt(y,et)),b=p===ot?"reference":ot,v=e.rects.popper,k=e.elements[h?b:p],w=function(e,t,r,n){var o="clippingParents"===t?function(e){var t=Ve(We(e)),r=["absolute","fixed"].indexOf(Ue(e).position)>=0&&Pe(e)?Ke(e):e;return Ce(r)?t.filter((function(e){return Ce(e)&&St(e,r)&&"body"!==De(e)})):[]}(e):[].concat(t),i=[].concat(o,[r]),a=i[0],s=i.reduce((function(t,r){var o=Et(e,r,n);return t.top=xe(o.top,t.top),t.right=je(o.right,t.right),t.bottom=je(o.bottom,t.bottom),t.left=xe(o.left,t.left),t}),Et(e,a,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(Ce(k)?k:k.contextElement||Ne(e.elements.popper),c,u,a),_=Re(e.elements.reference),S=yt({reference:_,element:v,strategy:"absolute",placement:o}),O=Ot(Object.assign({},v,S)),E=p===ot?O:_,C={top:w.top-E.top+g.top,bottom:E.bottom-w.bottom+g.bottom,left:w.left-E.left+g.left,right:E.right-w.right+g.right},P=e.modifiersData.offset;if(p===ot&&P){var T=P[o];Object.keys(C).forEach((function(e){var t=[Ye,Xe].indexOf(e)>=0?1:-1,r=[$e,Xe].indexOf(e)>=0?"y":"x";C[e]+=T[r]*t}))}return C}function xt(e,t,r){return xe(e,je(t,r))}function jt(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function At(e){return[$e,Ye,Xe,Qe].some((function(t){return e[t]>=0}))}var zt=dt({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,o=n.scroll,i=void 0===o||o,a=n.resize,s=void 0===a||a,c=Ee(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&l.forEach((function(e){e.addEventListener("scroll",r.update,pt)})),s&&c.addEventListener("resize",r.update,pt),function(){i&&l.forEach((function(e){e.removeEventListener("scroll",r.update,pt)})),s&&c.removeEventListener("resize",r.update,pt)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=yt({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,o=void 0===n||n,i=r.adaptive,a=void 0===i||i,s=r.roundOffsets,c=void 0===s||s,l={placement:ft(t.placement),variation:ht(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,bt(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,bt(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},o=t.elements[e];Pe(o)&&De(o)&&(Object.assign(o.style,r),Object.keys(n).forEach((function(e){var t=n[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});Pe(n)&&De(n)&&(Object.assign(n.style,i),Object.keys(o).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,o=r.offset,i=void 0===o?[0,0]:o,a=at.reduce((function(e,r){return e[r]=function(e,t,r){var n=ft(e),o=[Qe,$e].indexOf(n)>=0?-1:1,i="function"==typeof r?r(Object.assign({},t,{placement:e})):r,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[Qe,Ye].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}(r,t.rects,i),e}),{}),s=a[t.placement],c=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[n]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=r.mainAxis,i=void 0===o||o,a=r.altAxis,s=void 0===a||a,c=r.fallbackPlacements,l=r.padding,u=r.boundary,d=r.rootBoundary,p=r.altBoundary,f=r.flipVariations,h=void 0===f||f,m=r.allowedAutoPlacements,y=t.options.placement,g=ft(y),b=c||(g!==y&&h?function(e){if(ft(e)===Ze)return[];var t=kt(e);return[_t(e),t,_t(t)]}(y):[kt(y)]),v=[y].concat(b).reduce((function(e,r){return e.concat(ft(r)===Ze?function(e,t){void 0===t&&(t={});var r=t,n=r.placement,o=r.boundary,i=r.rootBoundary,a=r.padding,s=r.flipVariations,c=r.allowedAutoPlacements,l=void 0===c?at:c,u=ht(n),d=u?s?it:it.filter((function(e){return ht(e)===u})):et,p=d.filter((function(e){return l.indexOf(e)>=0}));0===p.length&&(p=d);var f=p.reduce((function(t,r){return t[r]=Tt(e,{placement:r,boundary:o,rootBoundary:i,padding:a})[ft(r)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:r,boundary:u,rootBoundary:d,padding:l,flipVariations:h,allowedAutoPlacements:m}):r)}),[]),k=t.rects.reference,w=t.rects.popper,_=new Map,S=!0,O=v[0],E=0;E<v.length;E++){var C=v[E],P=ft(C),T=ht(C)===tt,x=[$e,Xe].indexOf(P)>=0,j=x?"width":"height",A=Tt(t,{placement:C,boundary:u,rootBoundary:d,altBoundary:p,padding:l}),z=x?T?Ye:Qe:T?Xe:$e;k[j]>w[j]&&(z=kt(z));var I=kt(z),R=[];if(i&&R.push(A[P]<=0),s&&R.push(A[z]<=0,A[I]<=0),R.every((function(e){return e}))){O=C,S=!1;break}_.set(C,R)}if(S)for(var M=function(e){var t=v.find((function(t){var r=_.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return O=t,"break"},D=h?3:1;D>0&&"break"!==M(D);D--);t.placement!==O&&(t.modifiersData[n]._skip=!0,t.placement=O,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,o=r.mainAxis,i=void 0===o||o,a=r.altAxis,s=void 0!==a&&a,c=r.boundary,l=r.rootBoundary,u=r.altBoundary,d=r.padding,p=r.tether,f=void 0===p||p,h=r.tetherOffset,m=void 0===h?0:h,y=Tt(t,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),g=ft(t.placement),b=ht(t.placement),v=!b,k=mt(g),w="x"===k?"y":"x",_=t.modifiersData.popperOffsets,S=t.rects.reference,O=t.rects.popper,E="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,C="number"==typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),P=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(_){if(i){var x,j="y"===k?$e:Qe,A="y"===k?Xe:Ye,z="y"===k?"height":"width",I=_[k],R=I+y[j],M=I-y[A],D=f?-O[z]/2:0,N=b===tt?S[z]:O[z],L=b===tt?-O[z]:-S[z],U=t.elements.arrow,B=f&&U?qe(U):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=F[j],W=F[A],H=xt(0,S[z],B[z]),V=v?S[z]/2-D-H-q-C.mainAxis:N-H-q-C.mainAxis,J=v?-S[z]/2+D+H+W+C.mainAxis:L+H+W+C.mainAxis,G=t.elements.arrow&&Ke(t.elements.arrow),K=G?"y"===k?G.clientTop||0:G.clientLeft||0:0,$=null!=(x=null==P?void 0:P[k])?x:0,X=I+J-$,Y=xt(f?je(R,I+V-$-K):R,I,f?xe(M,X):M);_[k]=Y,T[k]=Y-I}if(s){var Q,Z="x"===k?$e:Qe,ee="x"===k?Xe:Ye,te=_[w],re="y"===w?"height":"width",ne=te+y[Z],oe=te-y[ee],ie=-1!==[$e,Qe].indexOf(g),ae=null!=(Q=null==P?void 0:P[w])?Q:0,se=ie?ne:te-S[re]-O[re]-ae+C.altAxis,ce=ie?te+S[re]+O[re]-ae-C.altAxis:oe,le=f&&ie?function(e,t,r){var n=xt(e,t,r);return n>r?r:n}(se,te,ce):xt(f?se:ne,te,f?ce:oe);_[w]=le,T[w]=le-te}t.modifiersData[n]=T}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,o=e.options,i=r.elements.arrow,a=r.modifiersData.popperOffsets,s=ft(r.placement),c=mt(s),l=[Qe,Ye].indexOf(s)>=0?"height":"width";if(i&&a){var u=function(e,t){return Ct("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Pt(e,et))}(o.padding,r),d=qe(i),p="y"===c?$e:Qe,f="y"===c?Xe:Ye,h=r.rects.reference[l]+r.rects.reference[c]-a[c]-r.rects.popper[l],m=a[c]-r.rects.reference[c],y=Ke(i),g=y?"y"===c?y.clientHeight||0:y.clientWidth||0:0,b=h/2-m/2,v=u[p],k=g-d[l]-u[f],w=g/2-d[l]/2+b,_=xt(v,w,k),S=c;r.modifiersData[n]=((t={})[S]=_,t.centerOffset=_-w,t)}},effect:function(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&St(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=Tt(t,{elementContext:"reference"}),s=Tt(t,{altBoundary:!0}),c=jt(a,n),l=jt(s,o,i),u=At(c),d=At(l);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),It=a(7670);const Rt=function(e,t,r){return void 0===e||"string"==typeof e?t:(0,ve.A)({},t,{ownerState:(0,ve.A)({},t.ownerState,r)})};var Mt=a(3372);const Dt=function(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"==typeof e[t])})).forEach((function(r){t[r]=e[r]})),t},Nt=function(e){var t=e.getSlotProps,r=e.additionalProps,n=e.externalSlotProps,o=e.externalForwardedProps,i=e.className;if(!t){var a=(0,Mt.A)(null==r?void 0:r.className,i,null==o?void 0:o.className,null==n?void 0:n.className),s=(0,ve.A)({},null==r?void 0:r.style,null==o?void 0:o.style,null==n?void 0:n.style),c=(0,ve.A)({},r,o,n);return a.length>0&&(c.className=a),Object.keys(s).length>0&&(c.style=s),{props:c,internalRef:void 0}}var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var r={};return Object.keys(e).filter((function(r){return r.match(/^on[A-Z]/)&&"function"==typeof e[r]&&!t.includes(r)})).forEach((function(t){r[t]=e[t]})),r}((0,ve.A)({},o,n)),u=Dt(n),d=Dt(o),p=t(l),f=(0,Mt.A)(null==p?void 0:p.className,null==r?void 0:r.className,i,null==o?void 0:o.className,null==n?void 0:n.className),h=(0,ve.A)({},null==p?void 0:p.style,null==r?void 0:r.style,null==o?void 0:o.style,null==n?void 0:n.style),m=(0,ve.A)({},p,r,d,u);return f.length>0&&(m.className=f),Object.keys(h).length>0&&(m.style=h),{props:m,internalRef:p.ref}};var Lt=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];var Ut=a(5976),Bt=a(1894);function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const qt=e.forwardRef((function(t,n){var o=t.children,i=t.container,a=t.disablePortal,s=void 0!==a&&a,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ft(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ft(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.useState(null),2),l=c[0],u=c[1],d=(0,_e.A)(e.isValidElement(o)?o.ref:null,n);if((0,Se.A)((function(){s||u(function(e){return"function"==typeof e?e():e}(i)||document.body)}),[i,s]),(0,Se.A)((function(){if(l&&!s)return(0,Ut.A)(n,l),function(){(0,Ut.A)(n,null)}}),[n,l,s]),s){if(e.isValidElement(o)){var p={ref:d};return e.cloneElement(o,p)}return(0,Bt.jsx)(e.Fragment,{children:o})}return(0,Bt.jsx)(e.Fragment,{children:l?r.createPortal(o,l):l})}));var Wt=a(7384),Ht=a(2264);function Vt(e){return(0,Ht.Ay)("MuiPopper",e)}function Jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}(0,Wt.A)("MuiPopper",["root"]);var Kt=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],$t=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Xt(e){return"function"==typeof e?e():e}var Yt={},Qt=e.forwardRef((function(t,r){var n,o=t.anchorEl,i=t.children,a=t.direction,s=t.disablePortal,c=t.modifiers,l=t.open,u=t.placement,d=t.popperOptions,p=t.popperRef,f=t.slotProps,h=void 0===f?{}:f,m=t.slots,y=void 0===m?{}:m,g=t.TransitionProps,b=(0,ke.A)(t,Kt),v=e.useRef(null),k=(0,_e.A)(v,r),w=e.useRef(null),_=(0,_e.A)(w,p),S=e.useRef(_);(0,Se.A)((function(){S.current=_}),[_]),e.useImperativeHandle(p,(function(){return w.current}),[]);var O=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(u,a),E=Jt(e.useState(O),2),C=E[0],P=E[1],T=Jt(e.useState(Xt(o)),2),x=T[0],j=T[1];e.useEffect((function(){w.current&&w.current.forceUpdate()})),e.useEffect((function(){o&&j(Xt(o))}),[o]),(0,Se.A)((function(){if(x&&l){var e=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:function(e){var t=e.state;P(t.placement)}}];null!=c&&(e=e.concat(c)),d&&null!=d.modifiers&&(e=e.concat(d.modifiers));var t=zt(x,v.current,(0,ve.A)({placement:O},d,{modifiers:e}));return S.current(t),function(){t.destroy(),S.current(null)}}}),[x,s,c,l,d,O]);var A={placement:C};null!==g&&(A.TransitionProps=g);var z,I,R,M,D,N,L,U,B,F,q,W,H,V=function(e){var t=e.classes;return(0,It.A)({root:["root"]},Vt,t)}(t),J=null!=(n=y.root)?n:"div",G=(z={elementType:J,externalSlotProps:h.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:k},ownerState:t,className:V.root},R=z.elementType,M=z.externalSlotProps,D=z.ownerState,N=z.skipResolvingSlotProps,L=void 0!==N&&N,U=(0,ke.A)(z,Lt),B=L?{}:function(e,t){return"function"==typeof e?e(t,void 0):e}(M,D),F=Nt((0,ve.A)({},U,{externalSlotProps:B})),q=F.props,W=F.internalRef,H=(0,_e.A)(W,null==B?void 0:B.ref,null==(I=z.additionalProps)?void 0:I.ref),Rt(R,(0,ve.A)({},q,{ref:H}),D));return(0,Bt.jsx)(J,(0,ve.A)({},G,{children:"function"==typeof i?i(A):i}))}));const Zt=e.forwardRef((function(t,r){var n,o=t.anchorEl,i=t.children,a=t.container,s=t.direction,c=void 0===s?"ltr":s,l=t.disablePortal,u=void 0!==l&&l,d=t.keepMounted,p=void 0!==d&&d,f=t.modifiers,h=t.open,m=t.placement,y=void 0===m?"bottom":m,g=t.popperOptions,b=void 0===g?Yt:g,v=t.popperRef,k=t.style,w=t.transition,_=void 0!==w&&w,S=t.slotProps,O=void 0===S?{}:S,E=t.slots,C=void 0===E?{}:E,P=(0,ke.A)(t,$t),T=Jt(e.useState(!0),2),x=T[0],j=T[1];if(!p&&!h&&(!_||x))return null;if(a)n=a;else if(o){var A=Xt(o);n=A&&void 0!==A.nodeType?(0,Oe.A)(A).body:(0,Oe.A)(null).body}var z=h||!p||_&&!x?void 0:"none",I=_?{in:h,onEnter:function(){j(!1)},onExited:function(){j(!0)}}:void 0;return(0,Bt.jsx)(qt,{disablePortal:u,container:n,children:(0,Bt.jsx)(Qt,(0,ve.A)({anchorEl:o,direction:c,disablePortal:u,modifiers:f,ref:r,open:_?!x:h,placement:y,popperOptions:b,popperRef:v,slotProps:O,slots:C},P,{style:(0,ve.A)({position:"fixed",top:0,left:0,display:z},k),TransitionProps:I,children:i}))})}));var er=a(9278),tr=a(6727),rr=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],nr=(0,er.Ay)(Zt,{name:"MuiPopper",slot:"Root",overridesResolver:function(e,t){return t.root}})({});const or=e.forwardRef((function(e,t){var r,n=(0,we.A)(),o=(0,tr.b)({props:e,name:"MuiPopper"}),i=o.anchorEl,a=o.component,s=o.components,c=o.componentsProps,l=o.container,u=o.disablePortal,d=o.keepMounted,p=o.modifiers,f=o.open,h=o.placement,m=o.popperOptions,y=o.popperRef,g=o.transition,b=o.slots,v=o.slotProps,k=(0,ke.A)(o,rr),w=null!=(r=null==b?void 0:b.root)?r:null==s?void 0:s.Root,_=(0,ve.A)({anchorEl:i,container:l,disablePortal:u,keepMounted:d,modifiers:p,open:f,placement:h,popperOptions:m,popperRef:y,transition:g},k);return(0,Bt.jsx)(nr,(0,ve.A)({as:a,direction:null==n?void 0:n.direction,slots:{root:w},slotProps:null!=v?v:c},_,{ref:t}))}));function ir(e){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(e)}function ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(r),!0).forEach((function(t){cr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ar(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cr(e,t,r){return(t=ur(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ur(n.key),n)}}function ur(e){var t=function(e){if("object"!=ir(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ir(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ir(t)?t:t+""}function dr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(dr=function(){return!!e})()}function pr(e){return pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pr(e)}function fr(e,t){return fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fr(e,t)}var hr=V().requireLib("boot"),mr=hr.PydioContextConsumer,yr=hr.PromptValidators,gr=a(6146),br=gr.Paper,vr=gr.FlatButton,kr=V().requireLib("hoc").ModernTextField,wr=function(e){function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=(t=function(e,t,r){return t=pr(t),function(e,t){if(t&&("object"==ir(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,dr()?Reflect.construct(t,r||[],pr(e).constructor):t.apply(e,r))}(this,r,[e])).props.node;return t.errorChecks=[yr.Empty,yr.NoSlash,yr.MustDifferFrom(n.getLabel()),yr.MustDifferSiblings()],t.warningChecks=[yr.WarnSpace],t.state={value:n.getLabel()},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fr(e,t)}(r,e),n=r,o=[{key:"setValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.setState({value:e,errorString:null,warningString:null});var r=V().getMessages(),n=yr.ApplyChecks(this.errorChecks,this.warningChecks,e),o=n.error,i=n.warning;o?this.setState({errorString:r[o]},t):i?this.setState({warningString:r[i]},t):t&&t()}},{key:"submit",value:function(){var e=this.state,t=e.value;e.errorString||(this.props.callback(t),this.props.onClose())}},{key:"catchClicks",value:function(e){e.stopPropagation()}},{key:"onKeyDown",value:function(e){e.stopPropagation(),"Enter"===e.key?this.submit():"Escape"===e.key&&this.props.onClose()}},{key:"render",value:function(){var e=this,r=V().getMessages(),n=this.props,o=n.node,i=n.onClose,a=n.anchor,s=n.muiTheme,c=n.editorStyle,l=void 0===c?{}:c,u=this.state,d=u.value,p=u.errorString,f=u.warningString;return t().createElement(or,{id:"rename-popper:"+o.getPath(),open:!0,anchorEl:a,placement:"bottom-start"},t().createElement(br,{style:sr({width:320,padding:8,fontWeight:"initial",background:s.palette.mui3?s.palette.mui3["surface-2"]:"white"},l),zDepth:2},t().createElement(kr,{value:d,onChange:function(t,r){return e.setValue(r)},onClick:function(t){return e.catchClicks(t)},onDoubleClick:function(t){return e.catchClicks(t)},tabIndex:"0",onKeyDown:function(t){return e.onKeyDown(t)},selectBaseOnMount:!0,hintText:r[6],variant:"v2",fullWidth:!0}),p&&t().createElement("div",{style:{color:"var(--md-sys-color-error)",fontSize:13,padding:"0 6px"}},p),f&&t().createElement("div",{style:{fontSize:13,padding:"0 6px",opacity:.73}},f),t().createElement("div",{style:{textAlign:"right",paddingTop:8}},t().createElement(vr,{style:{height:32,lineHeight:"32px"},label:r[54],onClick:i}),t().createElement(vr,{style:{height:32,lineHeight:"32px"},label:r[48],onClick:function(){e.setValue(d,(function(){return e.submit()}))}}))))}}],o&&lr(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(t().Component);function _r(e){return _r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_r(e)}function Sr(){return Sr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sr.apply(null,arguments)}function Or(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tr(n.key),n)}}function Er(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Er=function(){return!!e})()}function Cr(e){return Cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cr(e)}function Pr(e,t){return Pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pr(e,t)}function Tr(e){var t=function(e){if("object"!=_r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=_r(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_r(t)?t:t+""}wr=mr((0,Q.muiThemeable)()(wr));var xr=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=function(o){function i(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=function(e,t,r){return t=Cr(t),function(e,t){if(t&&("object"==_r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Er()?Reflect.construct(t,r||[],Cr(e).constructor):t.apply(e,r))}(this,i,[].concat(a)),t=e,n={edit:!1},(r=Tr(r="state"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pr(e,t)}(i,o),a=i,(s=[{key:"attach",value:function(e){var t=this;this._nodeListener=function(){t.forceUpdate()},this._actionListener=function(e){return e&&"prompt-rename"===e.type&&e.callback&&t.setState({edit:!0,callback:e.callback}),!0},e.observe("node_replaced",this._nodeListener),e.observe("node_action",this._actionListener)}},{key:"detach",value:function(e){this._nodeListener&&(e.stopObserving("node_replaced",this._nodeListener),e.stopObserving("node_action",this._actionListener))}},{key:"getNode",value:function(){return n?n(this.props):this.props.node}},{key:"componentDidMount",value:function(){this.attach(this.getNode())}},{key:"componentWillUnmount",value:function(){this.detach(this.getNode())}},{key:"render",value:function(){var n=this,o=this.getNode(),i=this.state,a=i.edit,s=i.editorStyle,c=i.callback,l=i.anchor;return t().createElement(e.Fragment,null,t().createElement(r,Sr({},this.props,{setInlineEditionAnchor:function(e,t){n.setState({anchor:e,editorStyle:t})}})),a&&l&&t().createElement(wr,{node:o,anchor:l,onClose:function(){return n.setState({edit:!1})},callback:c,editorStyle:s}))}}])&&Or(a.prototype,s),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,s}(t().Component);return o};function jr(){return jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jr.apply(null,arguments)}var Ar=V().requireLib("boot").moment;const zr=xr((function(r){var n=r.node,o=r.renderActions,i=r.tableKeys,a=(0,e.useRef)(null);(0,e.useEffect)((function(){var e=r.setInlineEditionAnchor;e&&a.current&&e(a.current,{marginLeft:44})}),[n,i]);var s=r.actions;o&&(s=o(n));var c=[],l=!0,u=n.getMetadata();return Object.keys(i).forEach((function(e){var r,o,s=i[e],d=s.width?{width:s.width}:null;if(s.renderCell)s.name=e,r=s.renderCell(n,s);else if("ajxp_modiftime"===e){var p=Ar(1e3*parseFloat(u.get("ajxp_modiftime"))),f=p.calendar();f.indexOf("/")>-1&&(f=p.fromNow()),r=f}else r="bytesize"===e?parseInt(u.get(e))?be().roundFileSize(parseInt(u.get(e))):"-":u.get(e);o=u.get(e);var h=null;l&&(h=a),c.push(t().createElement("span",{key:e,className:"cell cell-"+e,title:o,style:d,"data-label":s.label,ref:h},r)),l=!1})),t().createElement(ye,jr({},r,{iconCell:null,firstLine:c,actions:s}))}));function Ir(e){return Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ir(e)}function Rr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mr(e,t,r){return(t=function(e){var t=function(e){if("object"!=Ir(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ir(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ir(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Dr={pydioActionsToItems:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=[],n=!1,o=V().getMessages();return t.map(function(t){if(t.separator){if(n)return;return r.push(t),void(n=!0)}var i;n=!1,i=t.label_id&&o[t.label_id]?o[t.label_id]:t.raw_name?t.raw_name:t.name;var a=t.icon_class;if(t.subMenu){var s=t.subMenuBeforeShow?e(t.subMenuBeforeShow()):t.subMenu;r.push({text:i,iconClassName:a,subItems:s})}else r.push({text:i,iconClassName:a,payload:t.callback})}.bind(this)),n&&(r=r.slice(0,r.length-1)),r.length&&r[0]&&r[0].separator&&r.shift(),r},itemsToMenu:function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(r),!0).forEach((function(t){Mr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({display:"normal",width:216,desktop:!0,autoWidth:!1},o);var i=t.map((function(t,n){if(t.separator)return React.createElement(k.Divider,{key:"divider"+n});if(t.subHeader)return React.createElement(k.Subheader,{style:{marginTop:-10,marginBottom:-6}},t.subHeader);var i,a,s,c;t.subItems?i=e(t.subItems,r,!0):t.payload&&(a=function(){t.payload(),r()});var l=t.iconClassName,u=!1;return"__INSET__"===l&&(l="",u=!0),"normal"===o.display?s=l?React.createElement(k.FontIcon,{className:t.iconClassName+" menu-icons",style:{fontSize:16,padding:5}}):null:"right"===o.display&&(c=l?React.createElement(k.FontIcon,{className:t.iconClassName+" menu-icons",style:{fontSize:16,padding:5}}):null),c=i&&i.length?React.createElement(k.FontIcon,{className:"mdi mdi-menu-right menu-icons"}):c,React.createElement(k.MenuItem,{key:t.text,primaryText:t.text,insetChildren:u,leftIcon:s,rightIcon:c,onClick:a,menuItems:i})}));return n?i:React.createElement(k.Menu,o,i)}},Nr=require("lodash");function Lr(e){return Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lr(e)}function Ur(){return Ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ur.apply(null,arguments)}function Br(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fr(n.key),n)}}function Fr(e){var t=function(e){if("object"!=Lr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Lr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Lr(t)?t:t+""}function qr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qr=function(){return!!e})()}function Wr(e){return Wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wr(e)}function Hr(e,t){return Hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hr(e,t)}var Vr=a(2015),Jr=a(9825),Gr=a(3216);const Kr=function(e){var t=function(t){function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=function(e,t,r){return t=Wr(t),function(e,t){if(t&&("object"==Lr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qr()?Reflect.construct(t,r||[],Wr(e).constructor):t.apply(e,r))}(this,r,[e,t])).state={menuItems:n.props.menuItems||[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hr(e,t)}(r,t),n=r,(o=[{key:"componentDidMount",value:function(){var e=this;this.props.controller&&!this.props.menuItems&&(this._observer=(0,Nr.debounce)((function(){var t=e.props.controller.getContextActions("genericContext",null,e.props.toolbars),r=Dr.pydioActionsToItems(t);e.setState({menuItems:r})}),50),this.props.controller===this.props.pydio.Controller?this.props.pydio.observe("actions_refreshed",this._observer):this.props.controller.observe("actions_refreshed",this._observer),this._observer())}},{key:"componentWillUnmount",value:function(){this._observer&&(this.props.controller===this.props.pydio.Controller?this.props.pydio.stopObserving("actions_refreshed",this._observer):this.props.controller.stopObserving("actions_refreshed",this._observer))}},{key:"componentWillReceiveProps",value:function(e){e.menuItems&&e.menuItems!==this.props.menuItems&&this.setState({menuItems:e.menuItems})}},{key:"render",value:function(){return Vr.createElement(e,Ur({},this.props,{menuItems:this.state.menuItems}))}}])&&Br(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(Vr.Component);return t.propTypes={menuItems:Jr.array,toolbars:Jr.array,controller:Jr.instanceOf(Gr),pydio:Jr.instanceOf(Pydio)},t};function $r(e){return $r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$r(e)}function Xr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yr(n.key),n)}}function Yr(e){var t=function(e){if("object"!=$r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=$r(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$r(t)?t:t+""}function Qr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Qr=function(){return!!e})()}function Zr(e){return Zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zr(e)}function en(e,t){return en=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},en(e,t)}var tn=a(9825),rn=a(2015),nn=V().requireLib("hoc").ThemedContainers,on=nn.Popover,an=nn.IconButton,sn=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,r){return t=Zr(t),function(e,t){if(t&&("object"==$r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Qr()?Reflect.construct(t,r||[],Zr(e).constructor):t.apply(e,r))}(this,t,[e,r])).state={showMenu:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&en(e,t)}(t,e),r=t,(n=[{key:"showMenu",value:function(e){this.setState({showMenu:!0,anchor:e.currentTarget})}},{key:"closeMenu",value:function(e,t,r){this.setState({showMenu:!1})}},{key:"render",value:function(){var e=this,t=this.props,r=t.menuItems,n=t.className,o=t.buttonTitle,i=t.buttonClassName,a=t.containerStyle,s=t.style,c=t.buttonStyle,l=t.popoverDirection,u=t.popoverTargetPosition,d=t.menuProps;return r.length?rn.createElement("span",{className:"toolbars-button-menu "+(n||""),style:a},rn.createElement(an,{ref:"menuButton",tooltip:o,iconClassName:i,onClick:this.showMenu.bind(this),iconStyle:c,style:s}),rn.createElement(on,{open:this.state.showMenu,anchorEl:this.state.anchor,anchorOrigin:{horizontal:l||"right",vertical:u||"bottom"},targetOrigin:{horizontal:l||"right",vertical:"top"},onRequestClose:function(){e.setState({showMenu:!1})},useLayerForClickAway:!1},Dr.itemsToMenu(r,this.closeMenu.bind(this),!1,d||void 0))):null}}])&&Xr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(rn.Component);sn.propTypes={buttonTitle:tn.string.isRequired,buttonClassName:tn.string.isRequired,className:tn.string,popoverDirection:tn.oneOf(["right","left"]),popoverPosition:tn.oneOf(["top","bottom"]),menuProps:tn.object,menuItems:tn.array.isRequired};const cn=Kr(sn);function ln(e){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(e)}function un(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?un(Object(r),!0).forEach((function(t){pn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):un(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pn(e,t,r){return(t=hn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hn(n.key),n)}}function hn(e){var t=function(e){if("object"!=ln(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ln(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ln(t)?t:t+""}function mn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mn=function(){return!!e})()}function yn(e){return yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yn(e)}function gn(e,t){return gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gn(e,t)}var bn=V().requireLib("boot").PydioContextConsumer,vn=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=function(e,t,r){return t=yn(t),function(e,t){if(t&&("object"==ln(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mn()?Reflect.construct(t,r||[],yn(e).constructor):t.apply(e,r))}(this,r,[e])).state={expandMore:!1},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gn(e,t)}(r,e),n=r,o=[{key:"onMenuClicked",value:function(e){this.props.columnClicked(e.payload)}},{key:"onHeaderClick",value:function(e,t){var r=this.props.tableKeys[e];r&&r.sortType&&this.props.columnClicked&&(r.name=e,this.props.columnClicked(r,t))}},{key:"getColumnsItems",value:function(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=function(){n&&n.notify("actions_refreshed")},i=this.props,a=i.pydio,s=i.tableKeys,c=i.sortingInfo,l=this.state.expandMore,u=function(e,t){var r,n,o="cell header_cell cell-"+e;return t.sortType&&(o+=" sortable",c&&(c.attribute===e||c.remote&&t.remoteSortAttribute&&c.attribute===t.remoteSortAttribute)&&(r="number"===t.sortType?"asc"===c.direction?"mdi mdi-sort-numeric-ascending":"mdi mdi-sort-numeric-descending":"asc"===c.direction?"mdi mdi-sort-alphabetical-ascending":"mdi mdi-sort-alphabetical-descending",o+=" active-sort-"+c.direction,n=!0)),{icon:r,className:o,isActive:n}},d=[],p=dn({},s);"menu_data"!==e||l||Object.keys(p).filter((function(e){return 0===e.indexOf("usermeta-")})).forEach((function(e){d.push(dn(dn({},p[e]),{},{name:e})),delete p[e]}));var f=Object.keys(p).map((function(n){var i=p[n],a=i.width?{width:i.width}:null,s=u(n,i),c=s.icon,l=s.className,d=s.isActive;return"menu"===e?(i.name=n,{payload:i,text:i.label,iconClassName:c}):"menu_data"===e?{name:t().createElement("span",{style:{display:"flex"}},t().createElement("span",{style:{flex:1,fontWeight:d?500:"inherit"}},i.label),d&&t().createElement("span",{className:"mdi mdi-checkbox-marked-circle-outline"})),callback:function(){r.onHeaderClick(n,o)},icon_class:c||"mdi mdi-sort"}:t().createElement("span",{key:n,className:l,style:a,onClick:function(){r.onHeaderClick(n,o)}},i.label)}));return d.length&&f.push({name:a.MessageHash["ajax_gui.sorter.metas.more"],icon_class:"mdi mdi-tag-multiple-outline",subMenu:d.map((function(e){var n=u(e.name,e),i=n.icon,a=(n.className,n.isActive);return{text:t().createElement("span",{style:{display:"flex"}},t().createElement("span",{style:{flex:1,fontWeight:a?500:"inherit"}},e.label),a&&t().createElement("span",{className:"mdi mdi-checkbox-marked-circle-outline"})),iconClassName:i||"mdi mdi-tag-outline",payload:function(){r.onHeaderClick(e.name,o)}}}))}),f}},{key:"buildSortingMenuItems",value:function(e){return this.getColumnsItems("menu_data",e)}},{key:"componentDidMount",value:function(){var e=new Action({name:"sort_action",icon_class:"mdi mdi-sort-descending",text_id:450,title_id:450,text:this.props.getMessage(450),title:this.props.getMessage(450),hasAccessKey:!1,subMenu:!0,subMenuUpdateImage:!0,weight:50},{selection:!1,dir:!0,actionBar:!0,actionBarGroup:"display_toolbar",contextMenu:!1,infoPanel:!1},{},{},{dynamicBuilder:this.buildSortingMenuItems.bind(this)}),t=new Map;t.set("sort_action",e),this.props.pydio.getController().updateGuiActions(t)}},{key:"componentWillUnmount",value:function(){this.props.pydio.getController().deleteFromGuiActions("sort_action")}},{key:"render",value:function(){var e=this;return"hidden"===this.props.displayMode?null:"menu"===this.props.displayMode?t().createElement(cn,{buttonTitle:"Sort by...",buttonClassName:"mdi mdi-sort-descending",menuItems:this.getColumnsItems("menu",this.props.pydio.getController()),onMenuClicked:function(t){return e.onMenuClicked(t)}}):t().createElement("div",{className:"mui-toolbar-group mui-left"},this.getColumnsItems("header",this.props.pydio.getController()))}}],o&&fn(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(t().Component);function kn(e){return kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(e)}function wn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(r),!0).forEach((function(t){Sn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sn(e,t,r){return(t=En(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function On(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,En(n.key),n)}}function En(e){var t=function(e){if("object"!=kn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=kn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==kn(t)?t:t+""}function Cn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Cn=function(){return!!e})()}function Pn(e){return Pn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pn(e)}function Tn(e,t){return Tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tn(e,t)}vn=bn(vn);var xn=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=function(e,t,r){return t=Pn(t),function(e,t){if(t&&("object"==kn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Cn()?Reflect.construct(t,r||[],Pn(e).constructor):t.apply(e,r))}(this,r,[e])).state={node:t.props.node},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tn(e,t)}(r,e),n=r,(o=[{key:"componentDidMount",value:function(){var e=this;if(!this.props.node){var t=this.props.dataModel;this._dmObserver=function(){e.setState({node:t.getContextNode()})},t.observe("context_changed",this._dmObserver),this.setState({node:t.getContextNode()})}}},{key:"componentWillUnmount",value:function(){this._dmObserver&&this.props.dataModel.stopObserving("context_changed",this._dmObserver)}},{key:"changePage",value:function(e){this.state.node.getMetadata().get("paginationData").set("new_page",e.currentTarget.getAttribute("data-page")),this.props.dataModel.requireContextChange(this.state.node)}},{key:"onMenuChange",value:function(e,t,r){this.state.node.getMetadata().get("paginationData").set("new_page",r),this.props.dataModel.requireContextChange(this.state.node)}},{key:"render",value:function(){var e=this,r=this.state.node,n=this.props,o=n.toolbarDisplay,i=n.toolbarColor,a=n.smallDisplay,s=n.style,c=n.menuStyle,l=n.id;if(!r||!r.getMetadata().get("paginationData"))return null;var u,d,p,f,h,m=r.getMetadata().get("paginationData"),y=parseInt(m.get("current")),g=parseInt(m.get("total")),b=g>0,v=[],w=V().getMessages()[331];if(b){for(var _=1;_<=g;_++)v.push(t().createElement(k.MenuItem,{value:_,primaryText:w+" "+_+(_===y?" / "+g:"")}));if(v.length<=1)return null}return o&&(i&&(p={color:i}),a&&(f={fontSize:13},h={fontSize:20})),d=t().createElement(k.IconButton,{onClick:function(){e.onMenuChange(null,0,y-1)},iconClassName:"mdi mdi-chevron-left",disabled:1===y,iconStyle:_n(_n({},p),h),style:a?{marginRight:-10,marginTop:-2,width:40,height:40}:null}),u=t().createElement(k.IconButton,{onClick:function(){e.onMenuChange(null,0,y+1)},iconClassName:"mdi mdi-chevron-right",disabled:g>-1&&y===g,style:a?{marginLeft:-40,marginTop:-2,width:40,height:40}:{marginLeft:-20},iconStyle:_n(_n({},p),h)}),t().createElement("div",{id:l,style:_n({display:"flex",alignItems:"center"},s)},d,b&&t().createElement(k.DropDownMenu,{style:{width:150,marginTop:-6},onChange:this.onMenuChange.bind(this),value:y,underlineStyle:{display:"none"},labelStyle:_n(_n({},p),f),menuStyle:c},v),!b&&t().createElement("div",{style:{width:100,paddingLeft:10}},w+" "+y),u)}}])&&On(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(t().Component);function jn(e){return jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jn(e)}function An(){return An=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},An.apply(null,arguments)}function zn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,In(n.key),n)}}function In(e){var t=function(e){if("object"!=jn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=jn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jn(t)?t:t+""}function Rn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Rn=function(){return!!e})()}function Mn(e){return Mn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mn(e)}function Dn(e,t){return Dn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dn(e,t)}var Nn=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,r){return t=Mn(t),function(e,t){if(t&&("object"==jn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Rn()?Reflect.construct(t,r||[],Mn(e).constructor):t.apply(e,r))}(this,r,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dn(e,t)}(r,e),n=r,(o=[{key:"render",value:function(){var e;return this.props.node.getMetadata().get("paginationData")&&this.props.node.getMetadata().get("paginationData").get("total")>1&&(e=t().createElement(xn,{dataModel:this.props.dm,node:this.props.node})),t().createElement("div",{className:"mui-toolbar toolbarTableHeader"},t().createElement(vn,An({displayMode:"tableHeader"},this.props,{columnClicked:this.props.onHeaderClick})),t().createElement("div",{className:"mui-toolbar-group mui-right"},e,t().createElement(k.FontIcon,{key:1,title:V().getMessages[149],className:"mdi mdi-refresh"+(this.props.loading?" rotating":""),onClick:this.props.reload,style:{padding:16,display:"block",cursor:"pointer",fontSize:24,color:"#9E9E9E"}}),this.props.additionalActions))}}])&&zn(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(t().Component),Ln=a(2081),Un=a.n(Ln);const Bn=require("pydio/model/node");var Fn=a.n(Bn);function qn(e){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qn(e)}function Wn(){return Wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wn.apply(null,arguments)}function Hn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vn(n.key),n)}}function Vn(e){var t=function(e){if("object"!=qn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qn(t)?t:t+""}function Jn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Jn=function(){return!!e})()}function Gn(e){return Gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gn(e)}function Kn(e,t){return Kn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kn(e,t)}var $n=V().requireLib("hoc").NativeFileDropProvider,Xn=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,r){return t=Gn(t),function(e,t){if(t&&("object"==qn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Jn()?Reflect.construct(t,r||[],Gn(e).constructor):t.apply(e,r))}(this,r,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kn(e,t)}(r,e),n=r,o=[{key:"render",value:function(){var e,r,n,o=this.props,i=o.secondLine,a=o.thirdLine,s=o.style,c=void 0===s?{}:s,l=o.actions,u=this.props,d=u.renderIcon,p=u.node,f=u.renderFirstLine,h=u.renderSecondLine,m=u.renderThirdLine,y=u.renderActions,g=u.isOver;if(d)e=d(p,this.props);else{var b=p.getMetadata().get("icon_class")?p.getMetadata().get("icon_class"):p.isLeaf()?"mdi mdi-file":"mdi mdi-folder";e=t().createElement(k.FontIcon,{className:b})}if(r=f?f(this.props.node):p.getLabel(),h&&(i=h(p)),m&&(a=m(p)),y&&(l=y(p)),p.isLeaf()&&p.getMetadata().has("mime")&&V().getInstance().getController().getActionByName("download")){var v=p.getMetadata().get("mime");n=function(e){try{Un().getClient().buildPresignedGetUrl(p).then((function(t){e.dataTransfer.setData("DownloadURL",v+":"+p.getLabel()+":"+t)}))}catch(e){console.error("Cannot set dataTransfer",e)}}}return t().createElement(ye,Wn({},this.props,{iconCell:e,firstLine:r,secondLine:i,thirdLine:a,actions:l,style:c,nativeIsOver:g,onDragStart:n}))}}],o&&Hn(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(t().Component);Xn.propTypes={node:W().instanceOf(Fn()),renderIcon:W().func,renderFirstLine:W().func,renderSecondLine:W().func,renderThirdLine:W().func,renderActions:W().func,style:W().object};var Yn=$n(Xn=xr(Xn),(function(e,t,r){var n=a.g,o=n.pydio,i=n.UploaderModel,s=r.node;if("true"!==s.getMetadata().get("node_readonly")&&"true"!==s.getMetadata().get("level_readonly")){var c=i.Store.getInstance();c.handleDropEventResults(e,t,s),c.getAutoStart()&&!o.Parameters.get("MINISITE")||o.getController().fireAction("upload")}else o.UI.displayMessage("ERROR","You are not allowed to upload files here")}));function Qn(e){return Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qn(e)}function Zn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,no(n.key),n)}}function eo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(eo=function(){return!!e})()}function to(e){return to=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},to(e)}function ro(e,t){return ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ro(e,t)}function no(e){var t=function(e){if("object"!=Qn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qn(t)?t:t+""}var oo,io,ao,so=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,r){return t=to(t),function(e,t){if(t&&("object"==Qn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,eo()?Reflect.construct(t,r||[],to(e).constructor):t.apply(e,r))}(this,r,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ro(e,t)}(r,e),n=r,o=[{key:"clickAction",value:function(e){var t=V().getInstance(),r=e.currentTarget.getAttribute("data-action"),n=this.props,o=n.dataModel,i=n.node;o.setSelectedNodes([i]);var a=t.Controller.getActionByName(r);a.fireContextChange(o,!0,t.user),a.apply([o]),e.stopPropagation(),e.preventDefault()}},{key:"render",value:function(){var e=this.props.actions.map(function(e){var r=this;return t().createElement("div",{key:e.options.name,className:e.options.icon_class+" material-list-action-inline"||0,title:e.options.title,"data-action":e.options.name,onClick:function(e){return r.clickAction(e)}})}.bind(this));return t().createElement("span",null,e)}}],o&&Zn(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(t().Component);function co(e){return co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},co(e)}function lo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lo(Object(r),!0).forEach((function(t){po(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function po(e,t,r){return(t=ho(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ho(n.key),n)}}function ho(e){var t=function(e){if("object"!=co(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=co(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==co(t)?t:t+""}function mo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mo=function(){return!!e})()}function yo(e){return yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yo(e)}function go(e,t){return go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},go(e,t)}oo=so,io="propTypes",ao={dataModel:W().instanceOf(o.PydioDataModel).isRequired,node:W().instanceOf(Bn.Node).isRequired,actions:W().array},(io=no(io))in oo?Object.defineProperty(oo,io,{value:ao,enumerable:!0,configurable:!0,writable:!0}):oo[io]=ao;var bo=a(2015).Component,vo=a(6146),ko=vo.FlatButton,wo=vo.FontIcon,_o=a(509).muiThemeable,So=a(4823),Oo=a(9825),Eo=a(4217),Co=Eo.requireLib("boot").PydioContextConsumer,Po=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=yo(t),function(e,t){if(t&&("object"==co(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mo()?Reflect.construct(t,r||[],yo(e).constructor):t.apply(e,r))}(this,t,[e,r])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&go(e,t)}(t,e),function(e,t){return t&&fo(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this.props,t=e.style,r=e.iconClassName,n=e.primaryTextId,o=e.secondaryTextId,i=e.actionLabelId,a=e.actionCallback,s=e.actionStyle,c=e.actionIconClassName,l=e.getMessage,u=e.iconStyle,d=e.legendStyle,p=e.buttonContainerStyle,f=e.muiTheme,h=So(f.palette.mui3.outline||"#aaa"),m={container:uo({display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",flex:1,backgroundColor:h.lightness(97).rgb().toString()},t),centered:{maxWidth:280,textAlign:"center",color:h.toString()},icon:uo({fontSize:100},u),primaryText:uo({fontSize:16,fontWeight:500},d),secondaryText:{marginTop:20,fontSize:13},buttonContainer:uo({marginTop:100,textAlign:"center"},p),buttonStyle:{color:f.palette.mui3.primary}},y=c?React.createElement(wo,{className:c}):null;return React.createElement("div",{style:m.container},React.createElement("div",{style:m.centered},React.createElement("div",{className:r,style:m.icon}),React.createElement("div",{style:m.primaryText},l(n)),o&&React.createElement("div",{style:m.secondaryText},l(o)),i&&a&&React.createElement("div",{style:uo(uo({},m.buttonContainer),s)},React.createElement(ko,{style:m.buttonStyle,label:l(i),onClick:a,icon:y}))))}}])}(bo);Po.propTypes={pydio:Oo.instanceOf(Eo).isRequired,iconClassName:Oo.string.isRequired,primaryTextId:Oo.string.isRequired,secondaryTextId:Oo.string,actionLabelId:Oo.string,actionCallback:Oo.func,actionStyle:Oo.object,style:Oo.object,iconStyle:Oo.object,legendStyle:Oo.object,getMessage:Oo.func},Po=Co(Po),Po=_o()(Po);var To=V().requireLib("hoc"),xo=To.PlaceHolder,jo=To.PhRoundShape,Ao=To.PhTextRow;function zo(e){var r,n=e.displayMode,o=e.elementHeight,i=e.tableKeys,a=[];if("grid"===n){var s=Math.max(40,o);r=t().createElement("div",{style:{width:s,height:s,display:"flex",flexDirection:"column",alignItems:"center",margin:2}},t().createElement("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"}},t().createElement(jo,{style:{width:40,height:40,borderRadius:6}})),t().createElement(Ao,{style:{fontSize:20}}));for(var c=0;c<10;c++)a.push(r);a=t().createElement("div",{style:{display:"flex",flexWrap:"wrap"}},a)}else if(i){r=t().createElement("div",{style:{width:"100%",display:"flex",alignItems:"baseline",height:42,borderBottom:"1px solid rgba(0,0,0,.03)"}},Object.keys(i).map((function(e){return"ajxp_label"===e?t().createElement("span",{className:"cell cell-"+e,style:{display:"flex",fontSize:16,paddingTop:6,marginBottom:2,paddingLeft:16,paddingRight:10}},t().createElement(Ao,{style:{display:"inline-block",width:16,marginRight:16}}),t().createElement(Ao,{style:{flex:1}})):t().createElement("span",{className:"cell cell-"+e,style:{display:"inline-block",paddingTop:6,marginBottom:2,paddingLeft:10,paddingRight:10}},t().createElement(Ao,null))})));for(var l=0;l<5;l++)a.push(r)}else{r=t().createElement("div",{style:{display:"flex",padding:"0 16px",alignItems:"center",height:o,borderBottom:"1px solid rgba(0,0,0,.03)"}},t().createElement(jo,{style:{width:40,height:40,marginRight:20,borderRadius:6}}),t().createElement("div",{style:{flex:1}},t().createElement(Ao,{style:{fontSize:16,width:"80%",marginTop:0}}),t().createElement(Ao,{style:{fontSize:13,width:"70%"}})));for(var u=0;u<5;u++)a.push(r)}return t().createElement(xo,{showLoadingAnimation:!0,customPlaceholder:a})}function Io(e,t){if(e.getMetadata().has("local:pinSort")&&!t.getMetadata().has("local:pinSort"))return-1;if(t.getMetadata().has("local:pinSort")&&!e.getMetadata().has("local:pinSort"))return 1;if(e.isRecycle())return 1;if(t.isRecycle())return-1;var r=e.isLeaf(),n=t.isLeaf(),o=r&&!n?1:!r&&n?-1:0;return 0===o?e.getLabel().localeCompare(t.getLabel(),void 0,{numeric:!0}):o}function Ro(e,t,r){return function(n,o){if(n.getMetadata().has("local:pinSort")&&!o.getMetadata().has("local:pinSort"))return-1;if(o.getMetadata().has("local:pinSort")&&!n.getMetadata().has("local:pinSort"))return 1;var i;if("number"===t){var a=n.getMetadata().get(e)||0,s=o.getMetadata().get(e)||0;a=parseFloat(a),s=parseFloat(s),i="asc"===r?a-s:s-a}else if("string"===t){var c=n.getMetadata().get(e)||"",l=o.getMetadata().get(e)||"";i="asc"===r?c.localeCompare(l):l.localeCompare(c)}if(0===i){var u=n.getLabel().localeCompare(o.getLabel(),void 0,{numeric:!0});i="asc"===r?u:-u}return i}}var Mo=function(){},Do="undefined"!=typeof window;const No=Do?e.useLayoutEffect:e.useEffect;var Lo={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};const Uo=Do&&void 0!==window.ResizeObserver?function(){var t=(0,e.useState)(null),r=t[0],n=t[1],o=(0,e.useState)(Lo),i=o[0],a=o[1],s=(0,e.useMemo)((function(){return new window.ResizeObserver((function(e){if(e[0]){var t=e[0].contentRect,r=t.x,n=t.y,o=t.width,i=t.height,s=t.top,c=t.left,l=t.bottom,u=t.right;a({x:r,y:n,width:o,height:i,top:s,left:c,bottom:l,right:u})}}))}),[]);return No((function(){if(r)return s.observe(r),function(){s.disconnect()}}),[r]),[n,i]}:function(){return[Mo,Lo]};function Bo(e){return Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bo(e)}function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fo.apply(null,arguments)}function qo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qo(Object(r),!0).forEach((function(t){Ho(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ho(e,t,r){return(t=function(e){var t=function(e){if("object"!=Bo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Bo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Bo(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vo(e,t){if(e){if("string"==typeof e)return Jo(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jo(e,t):void 0}}function Jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Go=a(3528),Ko=a(3049),$o=function(e){var r=e.className,n=e.children,o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||Vo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Uo(),2),i=o[0],a=o[1].height;return t().createElement("div",{ref:i,className:r},n(a))},Xo=F()({displayName:"SimpleList",propTypes:{filterNodes:W().func,customToolbar:W().object,tableKeys:W().object,autoRefresh:W().number,reloadAtCursor:W().bool,clearSelectionOnReload:W().bool,observeNodeReload:W().bool,defaultGroupBy:W().string,groupByLabel:W().string,groupByValueFunc:W().func,skipParentNavigation:W().bool,skipInternalDataModel:W().bool,delayInitialLoad:W().number,entryEnableSelector:W().func,renderCustomEntry:W().func,entryRenderIcon:W().func,entryRenderActions:W().func,entryRenderFirstLine:W().func,entryRenderSecondLine:W().func,entryRenderThirdLine:W().func,entryHandleClicks:W().func,hideToolbar:W().bool,computeActionsForNode:W().bool,multipleActions:W().array,openEditor:W().func,openCollection:W().func,elementStyle:W().object,passScrollingStateToChildren:W().bool,elementHeight:W().oneOfType([W().number,W().object]).isRequired},statics:{HEIGHT_ONE_LINE:50,HEIGHT_TWO_LINES:71,CLICK_TYPE_SIMPLE:"simple",CLICK_TYPE_DOUBLE:"double",PARENT_FOLDER_ICON:"mdi mdi-chevron-left"},getDefaultProps:function(){return{clearSelectionOnReload:!0}},getMessage:function(e){return V().getMessages()[e]||e},clickRow:function(e,t){var r;if(r=e.props?e.props.data.node:e,this.props.entryHandleClicks)this.props.entryHandleClicks(r,Xo.CLICK_TYPE_SIMPLE,t);else if(r.isLeaf()&&this.props.openEditor){if(!1===this.props.openEditor(r))return;var n=new Map;n.set(r,!0),this.setState({selection:n},this.rebuildLoadedElements)}else r.isLeaf()||(this.props.openCollection?this.props.openCollection(r):this.props.dataModel.setSelectedNodes([r]))},doubleClickRow:function(e,t){var r;r=e.props?e.props.data.node:e,this.props.entryHandleClicks&&this.props.entryHandleClicks(r,Xo.CLICK_TYPE_DOUBLE,t)},onColumnSort:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.props,a=i.node,s=i.pydio,c=i.defaultSortingInfo,l=i.sortingPreferenceKey,u=s.user,d=a.getMetadata(),p=d.get("paginationData");if(e.remoteSortAttribute&&p&&p.get("total")>1){var f=d.get("remoteOrder")||new Map,h="asc"===f.get("order_direction")?"desc":"asc";if(f.get("order_column")===e.remoteSortAttribute&&("asc"===h&&n||o))d.delete("remoteOrder"),this.setState({sortingInfo:null},(function(){return t.sortingInfoChange({})}));else{var m=new Map;m.set("order_column",e.remoteSortAttribute),m.set("order_direction",h),d.set("remoteOrder",m)}this.props.dataModel.requireContextChange(a,!0)}else{d.has("remoteOrder")&&d.delete("remoteOrder");var y,g=e.sortAttribute?e.sortAttribute:e.name,b=this.state.sortingInfo,v=b.attribute,k=b.direction;y=v===g&&k?o||"desc"===k&&n?c||{}:{attribute:g,sortType:e.sortType,direction:"asc"===k?"desc":"asc"}:{attribute:g,sortType:e.sortType,direction:"asc"},this.setState({sortingInfo:y},(function(){t.rebuildLoadedElements(),null!==r&&r instanceof Function&&r(),l&&u.setLayoutPreference(l,y),t.sortingInfoChange(y)}))}},computeSelectionFromCurrentPlusTargetNode:function(e,t){var r,n,o=!1;if(!this.indexedElements)return[];for(var i=e[0],a=e[e.length-1],s=[],c=0;c<this.indexedElements.length;c++){if(void 0!==r&&s.push(this.indexedElements[c].node),this.indexedElements[c].node===t){if(void 0!==r&&void 0===n){n=c;break}r=c,o=!0,s.push(this.indexedElements[c].node)}if(this.indexedElements[c].node===i&&void 0===r&&(r=c,s.push(this.indexedElements[c].node)),this.indexedElements[c].node===a&&o){n=c;break}}return s},onKeyDown:function(e){var t,r,n=this.dm,o=this.props.elementsPerLine||1,i=e.shiftKey,a=e.key;if(!n.isEmpty()&&this.indexedElements){var s=n.getSelectedNodes(),c=s[0],l=s[s.length-1];if("Enter"!==a){if("Delete"!==a||!V().getInstance().Controller.fireActionByKey("key_delete")){for(var u=0;u<this.indexedElements.length;u++)if(this.indexedElements[u].node===c&&(t=u),this.indexedElements[u].node===l){r=u;break}var d,p=this.indexedElements.length-1,f="PageDown"===a||"PageUp"===a?10:1;if("ArrowDown"===a||"PageDown"===a?d=Math.min(r+o*f,p):"ArrowUp"===a||"PageUp"===a?d=Math.max(t-o*f,0):"Home"===a?d=0:"End"===a&&(d=p),o>1&&("ArrowRight"===a?d=r+1:"ArrowLeft"===a&&(d=t-1)),i&&void 0!==d){var h=Math.min(t,r,d),m=Math.max(t,r,d);if(h!==m){for(var y=[],g=h;g<m+1;g++)this.indexedElements[g]&&y.push(this.indexedElements[g].node);n.setSelectedNodes(y)}}else this.indexedElements[d]&&this.indexedElements[d].node&&n.setSelectedNodes([this.indexedElements[d].node])}}else this.doubleClickRow(c)}},getInitialState:function(){this.actionsCache={multiple:new Map};var e=this.props,t=e.skipInternalDataModel,r=e.dataModel,n=e.node,o=e.defaultSortingInfo,i=e.pydio,a=e.sortingPreferenceKey;t?this.dm=r:(this.dm=new Go,this.dm.setRootNode(r.getContextNode()),this.dm.setContextNode(r.getContextNode()));var s=o||null;a&&(s=i.user.getLayoutPreference(a,s));var c={loaded:n.isLoaded(),loading:!n.isLoaded(),showSelector:!1,elements:n.isLoaded()?this.buildElements():[],sortingInfo:s,infiniteLoadBeginBottomOffset:200};return this.sortingInfoChange(s),c},componentWillReceiveProps:function(e){this.indexedElements=null;var t=e.defaultSortingInfo,r=e.node,n=e.sortingPreferenceKey,o=e.pydio,i=e.autoRefresh,a=e.elementsPerLine,s=this.state.sortingInfo,c=void 0===s?t:s,l=this.remoteSortingInfo(r,c);-1===l?c={}:l instanceof Object?c=l:r!==this.props.node&&n&&(c=o.user.getLayoutPreference(n,c)),this.sortingInfoChange(c),this.setState({loaded:r.isLoaded(),loading:!r.isLoaded(),showSelector:!1,elements:r.isLoaded()?this.buildElements(r,e):[],infiniteLoadBeginBottomOffset:200,sortingInfo:c}),!i&&this.refreshInterval?(window.clearInterval(this.refreshInterval),this.refreshInterval=null):i&&!this.refreshInterval&&(this.refreshInterval=window.setInterval(this.reload,i)),this.patchInfiniteGrid(a),this.props.node&&r!==this.props.node&&this.observeNodeChildren(this.props.node,!0),this._manualScrollPe&&(this._manualScrollPe.stop(),this._manualScrollPe=null)},sortingInfoChange:function(e){var t=this,r=this.props,n=r.defaultSortingInfo,o=r.onSortingInfoChange;o&&(e!==n&&e.attribute?o(Wo(Wo({},e),{},{toggle:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.props.sortKeys,o=e.remote?{remoteSortAttribute:e.attribute}:n[e.attribute];t.onColumnSort(o,null,!1,r)}})):o({}))},observeNodeChildren:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&!this._childrenObserver||(this._childrenObserver||(this._childrenObserver=function(){this.indexedElements=null,this.rebuildLoadedElements()}.bind(this)),t?(e.stopObserving("child_added",this._childrenObserver),e.stopObserving("child_removed",this._childrenObserver),e.stopObserving("child_replaced",this._childrenObserver)):(e.observe("child_added",this._childrenObserver),e.observe("child_removed",this._childrenObserver),e.observe("child_replaced",this._childrenObserver)))},_loadNodeIfNotLoaded:function(){var e=this.props.node;e.isLoaded()?this.observeNodeChildren(e):(e.observeOnce("loaded",function(){this.props.node===e&&(this.observeNodeChildren(e),this.setState({loaded:!0,loading:!1,elements:this.buildElements()}))}.bind(this)),e.load())},_loadingListener:function(){this.observeNodeChildren(this.props.node,!0),this.setState({loaded:!1,loading:!0}),this.indexedElements=null},_loadedListener:function(){this.setState({loading:!1,elements:this.buildElements()}),this.observeNodeChildren(this.props.node)},reload:function(){this.props.reloadAtCursor&&this._currentCursor?this.loadStartingAtCursor():(this.props.clearSelectionOnReload&&this.props.dataModel.setSelectedNodes([]),this._loadingListener(),this.props.node.observeOnce("loaded",this._loadedListener),this.props.node.reload())},loadStartingAtCursor:function(){this._loadingListener();var e=this.props.node,t=e.getChildren(),r=[];e.observeOnce("loaded",function(){var n=new Map;r.map((function(e){n.set(e.getPath(),e)})),t.forEach((function(e){n.set(e.getPath(),e)})),e._children=n,this._loadedListener()}.bind(this)),e.setLoaded(!1),e.observe("child_added",(function(t){r.push(e._children.get(t))})),this.props.node.load(null,{cursor:this._currentCursor})},wireReloadListeners:function(){this.wrappedLoading=this._loadingListener,this.wrappedLoaded=this._loadedListener,this.props.node.observe("loading",this.wrappedLoading),this.props.node.observe("loaded",this.wrappedLoaded)},stopReloadListeners:function(){this.props.node.stopObserving("loading",this.wrappedLoading),this.props.node.stopObserving("loaded",this.wrappedLoaded)},toggleSelector:function(){this.setState({showSelector:!this.state.showSelector,selection:new Map,bulkSelectorChecked:!1},this.rebuildLoadedElements)},toggleSelection:function(e){var t=this.state.selection||new Map;t.get(e)?t.delete(e):t.set(e,!0),this.setState({selection:t,bulkSelectorChecked:!1},this.rebuildLoadedElements)},selectAll:function(e){if(e){var t=new Map;this.props.node.getChildren().forEach(function(e){this.props.filterNodes&&!this.props.filterNodes(e)||this.props.entryEnableSelector&&!this.props.entryEnableSelector(e)||e.isLeaf()&&t.set(e,!0)}.bind(this)),this.setState({selection:t,bulkSelectorChecked:!0},this.rebuildLoadedElements)}else this.setState({selection:new Map,bulkSelectorChecked:!1},this.rebuildLoadedElements)},applyMultipleAction:function(e){if(this.state.selection&&this.state.selection.size){var t=e.currentTarget.getAttribute("data-action"),r=this.dm||new Go;r.setContextNode(this.props.node);var n=[];this.state.selection.forEach((function(e,t){n.push(t)})),r.setSelectedNodes(n);var o=this.props.pydio.Controller.getActionByName(t);o.fireContextChange(r,!0,this.props.pydio.user),o.apply([r]),e.stopPropagation(),e.preventDefault()}},getActionsForNode:function(e,t){var r=this.props,n=r.computeActionsForNode,o=r.pydio;if(!n)return[];var i=t.isLeaf()?"file-"+t.getAjxpMime():"folder",a=t.isLeaf()?"file":"dir",s=[];return this.actionsCache[i]?s=this.actionsCache[i]:(e.setSelectedNodes([t]),o.Controller.actions.forEach(function(r){r.fireContextChange(e,!0,o.user),!(r.context.selection&&r.context.actionBar&&r.selectionContext[a]&&!r.deny&&r.options.icon_class)||this.props.actionBarGroups&&-1===this.props.actionBarGroups.indexOf(r.context.actionBarGroup)||r.selectionContext.allowedMimes.length&&-1===r.selectionContext.allowedMimes.indexOf(t.getAjxpMime())||(s.push(r),t.isLeaf()&&!1===r.selectionContext.unique&&this.actionsCache.multiple.set(r.options.name,r))}.bind(this)),this.actionsCache[i]=s),s},patchInfiniteGrid:function(e){this.infinite.current&&e>1&&(this.infinite.current.state.infiniteComputer.__proto__.getDisplayIndexStart=function(t){return e*Math.floor(t/this.heightData/e)},this.infinite.current.state.infiniteComputer.__proto__.getDisplayIndexEnd=function(t){return e*Math.ceil(t/this.heightData/e)})},componentWillMount:function(){this.infinite=(0,e.createRef)()},componentDidMount:function(){var e=this,t=this.props,r=t.pydio,n=t.sortingPreferenceKey,o=t.delayInitialLoad,i=t.elementsPerLine,a=t.autoRefresh,s=t.observeNodeReload,c=t.dataModel;n&&(this._prefObserver=function(){var t=r.user.getLayoutPreference(n);void 0!==t&&e.setState({sortingInfo:t})},r.observe("reload_layout_preferences",this._prefObserver)),o?setTimeout((function(){e._loadNodeIfNotLoaded()}),o):this._loadNodeIfNotLoaded(),this.patchInfiniteGrid(i),a&&(this.refreshInterval=window.setInterval(this.reload,a)),s&&this.wireReloadListeners(),c.observe("root_node_changed",(function(t){e.rootNodeChangedFlag=!0})),c.observe("selection_changed",function(){var e=this;if(this.isMounted()){var t=new Map,r=c.getSelectedNodes();r.map((function(e){t.set(e,!0)})),this.setState({selection:t},(function(){e.rebuildLoadedElements(),1===r.length&&e.scrollToView(r[0])}))}}.bind(this));var l=new Map,u=c.getSelectedNodes();u.length&&(u.map((function(e){l.set(e,!0)})),this.setState({selection:l},(function(){setTimeout((function(){e.scrollToView(u[0])}),500)})))},componentWillUnmount:function(){var e=this.props,t=e.pydio,r=e.node,n=e.observeNodeReload;this.refreshInterval&&window.clearInterval(this.refreshInterval),n&&this.stopReloadListeners(),r&&this.observeNodeChildren(r,!0),this._prefObserver&&t.stopObserving("reload_layout_preferences",this._prefObserver)},componentDidUpdate:function(e,t){!this.rootNodeChangedFlag&&e.node&&this.props.node&&e.node.getPath()===this.props.node.getPath()||(this._loadNodeIfNotLoaded(),this.rootNodeChangedFlag=!1)},onScroll:function(e){if(this.props.onScroll&&this.props.onScroll(e),this.props.passScrollingStateToChildren){this.state.scrollTimeout&&clearTimeout(this.state.scrollTimeout);var t=this,r=setTimeout((function(){t.setState({isScrolling:!1,scrollTimeout:void 0})}),150);this.setState({isScrolling:!0,scrollTimeout:r})}},scrollToLast:function(){this.indexedElements&&this.indexedElements[this.indexedElements.length-1].node&&this.scrollToView(this.indexedElements[this.indexedElements.length-1].node)},scrollToView:function(e){var t=this;if(this.indexedElements&&this.infinite.current&&this.infinite.current.scrollable){var r=n().findDOMNode(this.infinite.current),o=this.infinite.current.scrollable,i=o.scrollTop+this.props.elementHeight/2,a=o.scrollTop+r.clientHeight-this.props.elementHeight/2,s=this.indexedElements.length*this.props.elementHeight-r.clientHeight,c=-1;if(this.indexedElements.forEach((function(t,r){t.node&&t.node===e&&(c=r)})),-1!==c){var l=this.props.elementHeight,u=c*l;u>i&&u<a||(u>=a&&(u-=r.clientHeight-2*l),u=Math.min(u,s),o.scrollTop=u,this._manualScrollPe&&this._manualScrollPe.stop(),o.scrollHeight<u&&(this._manualScrollPe=new Ko((function(){o.scrollTop=u,o.scrollHeight>=u&&(t._manualScrollPe.stop(),t._manualScrollPe=null)}),.25)))}}},buildElementsFromNodeEntries:function(e,r){var n=[],o=e.length,i=this.props,a=i.entriesProps,s=i.elementStyle,c=i.tableKeys,l=i.passScrollingStateToChildren;return a=Wo(Wo({},a),{},{style:s}),l&&(a.parentIsScrolling=this.state.isScrolling),e.forEach(function(e,i){var s;if(e.parent)s=Wo({node:e.node,key:i+":"+e.node.getPath(),id:e.node.getPath(),mainIcon:Xo.PARENT_FOLDER_ICON,firstLine:"..",className:"list-parent-node",secondLine:this.getMessage("react.1"),onClick:this.clickRow.bind(this),onDoubleClick:this.doubleClickRow.bind(this),showSelector:!1,selectorDisabled:!0,noHover:!1},a),this.props.entryRenderParentIcon&&!this.props.tableKeys?s.iconCell=this.props.entryRenderParentIcon(e.node,e):s.mainIcon=Xo.PARENT_FOLDER_ICON,c&&(s.onClick=s.onDoubleClick),n.push(t().createElement(he,s));else if(e.groupHeader){var l=e.groupHeader,u=e.groupHeaderLabel;this.props.entryRenderGroupHeader&&(u=this.props.entryRenderGroupHeader(l,u)),s=Wo({node:null,key:i+":"+l,id:l,mainIcon:null,firstLine:u,className:"list-group-header",onClick:null,showSelector:!1,selectorDisabled:!0,noHover:!0},a),e.groupFill&&(s.style=Wo(Wo({},s.style),{},{visibility:"hidden"})),n.push(t().createElement(he,s))}else(s=Wo({node:e.node,onClick:this.clickRow.bind(this),onDoubleClick:this.doubleClickRow.bind(this),onSelect:this.toggleSelection.bind(this),key:i+":"+e.node.getPath(),id:e.node.getPath(),renderIcon:this.props.entryRenderIcon,renderFirstLine:this.props.entryRenderFirstLine,renderSecondLine:this.props.entryRenderSecondLine,renderThirdLine:this.props.entryRenderThirdLine,renderActions:this.props.entryRenderActions,showSelector:r,selected:!(!this.state||!this.state.selection)&&this.state.selection.get(e.node),actions:t().createElement(so,{node:e.node,actions:e.actions,dataModel:this.dm}),selectorDisabled:!(this.props.entryEnableSelector?this.props.entryEnableSelector(e.node):e.node.isLeaf())},a)).isFirst=0===i,s.isLast=i===o-1,i++,this.props.renderCustomEntry?n.push(this.props.renderCustomEntry(s)):c?(this.props.defaultGroupBy?(s.tableKeys=Wo({},c),delete s.tableKeys[this.props.defaultGroupBy]):s.tableKeys=c,n.push(t().createElement(zr,s))):!e.node.isLeaf()||e.node.getMetadata().has("local:dropFunc")?n.push(t().createElement(Yn,s)):n.push(t().createElement(Xn,s))}.bind(this)),n},prepareSortFunction:function(){var e=(this.state||{}).sortingInfo;if(!e)return null;var t,r=e.attribute,n=e.direction,o=e.sortType;return t="file-natural"===o?Io:Ro(r,o,n),function(e,r){return e.parent?-1:r.parent?1:t(e.node,r.node)}},buildElements:function(){var e,t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)||this.props.node,o=r||this.props,i=this.prepareSortFunction();if(!this.indexedElements||this.indexedElements.length!==n.getChildren().size){this.indexedElements=[];var a,s,c,l,u=o.defaultGroupBy,d=o.groupByLabel,p=void 0!==d&&d;u&&(a={},s=[],c={}),o.skipParentNavigation||!n.getParent()||o.dataModel.getContextNode()===n&&!o.skipInternalDataModel||(t=!0,this.indexedElements.push({node:n.getParent(),parent:!0,actions:null})),n.getChildren().forEach(function(e){if(e.getMetadata().has("cursor")){var t=parseInt(e.getMetadata().get("cursor"));this._currentCursor=Math.max(this._currentCursor?this._currentCursor:0,t)}if(!o.filterNodes||o.filterNodes(e)){var r,n=this.getActionsForNode(this.dm,e);u?(r=o.groupByValueFunc?o.groupByValueFunc(e.getMetadata().get(u))||"N/A":e.getMetadata().get(u)||"N/A",a[r]||(a[r]=[],s.push(r)),p&&e.getMetadata().has(p)&&!c[r]&&(c[r]=e.getMetadata().get(p)),a[r].push({node:e,parent:!1,actions:n})):this.indexedElements.push({node:e,parent:!1,actions:n})}}.bind(this)),u&&(o.groupSkipUnique&&1===s.length?(l=this.indexedElements).push.apply(l,function(e){return function(e){if(Array.isArray(e))return Jo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a[s[0]])):(e=!0,(s=s.sort()).map(function(e,r){var n=e;if(c[e]?n=c[e]:o.renderGroupLabels&&(n=o.renderGroupLabels(u,e)),this.indexedElements.push({node:null,groupHeader:e,groupHeaderLabel:n,parent:!1,actions:null}),i&&a[e].sort(i),this.indexedElements=this.indexedElements.concat(a[e]),o.elementsPerLine>1){var s=o.elementsPerLine-a[e].length%o.elementsPerLine-1;0===r&&t&&(s-=1);for(var l=0;l<s;l++)this.indexedElements.push({node:null,groupHeader:Math.random(),groupFill:!0,parent:!1,actions:null})}}.bind(this))))}return!e&&i&&this.indexedElements.sort(i),this.indexedElements},rebuildLoadedElements:function(){this.state.elements,this.setState({elements:this.buildElements()})},remoteSortingInfo:function(e){if(!e)return null;var t=e.getMetadata();if(!0===t.get("search_root"))return-1;var r=t.get("paginationData")||new Map,n=t.get("remoteOrder")||new Map;return r.get("total")>1?n.has("order_column")&&n.has("order_direction")?{remote:!0,attribute:n.get("order_column"),direction:n.get("order_direction")}:-1:0},renderToolbar:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.state.sortingInfo;if(r)return this.props.sortKeys?t().createElement(vn,{displayMode:"hidden",tableKeys:this.props.sortKeys,columnClicked:this.onColumnSort,sortingInfo:n}):null;var o,i,a=[t().createElement(k.FontIcon,{key:1,tooltip:"Reload",className:"mdi mdi-reload"+(this.state.loading?" rotating":""),onClick:this.reload})],s=2;if(this.props.sortKeys&&(a.push(t().createElement(vn,{key:s,displayMode:"menu",tableKeys:this.props.sortKeys,columnClicked:this.onColumnSort,sortingInfo:n})),s++),this.props.additionalActions&&a.push(this.props.additionalActions),this.props.node.getMetadata().get("paginationData")&&this.props.node.getMetadata().get("paginationData").get("total")>1&&(i=t().createElement(xn,{dataModel:this.dm,node:this.props.node})),this.props.listTitle&&(o=t().createElement(k.ToolbarGroup,{key:0,float:"left"},t().createElement("div",{className:"list-title"},this.props.listTitle))),this.props.searchResultData)o=t().createElement(k.ToolbarGroup,{key:0,float:"left"},t().createElement("div",{style:{fontSize:14,fontWeight:500,color:"#9e9e9e"}},this.getMessage("searchengine.topbar.title")+" "+this.props.searchResultData.term)),a=t().createElement(k.RaisedButton,{key:1,label:this.getMessage("86"),primary:!0,onClick:this.props.searchResultData.toggleState,buttonStyle:{borderRadius:20,height:30,lineHeight:"30px"},labelStyle:{textTransform:"capitalize"},style:{boxShadow:"none",marginRight:-10}});else if(this.actionsCache.multiple.size||this.props.multipleActions){var c=this.getMessage("react.2"),l={transform:"translateX(-80px)"},u=Wo({width:24},l),d=Wo({},l),p=this.state,f=p.showSelector,h=p.selection,m=p.bulkSelectorChecked;f&&(u={width:24,transform:"translateX(-12px)"},d={transform:"translateX(-40px)"}),h&&f&&(c+=" ("+h.size+")"),o=t().createElement(k.ToolbarGroup,{key:0,float:"left",className:"hide-on-vertical-layout"},t().createElement(k.Checkbox,{checked:m,onCheck:function(t,r){return e.selectAll(r)},style:u}),t().createElement(k.FlatButton,{label:c,onClick:function(){return e.toggleSelector()},style:Wo(Wo({},d),{},{borderRadius:20}),buttonStyle:{height:30,lineHeight:"30px"},labelStyle:{textTransform:"capitalize",opacity:.5}})),f&&(a=[],(this.props.multipleActions||this.actionsCache.multiple).forEach(function(e){a.push(t().createElement(k.RaisedButton,{key:0,label:e.options.text,"data-action":e.options.name,onClick:this.applyMultipleAction,primary:!0,disabled:!h||!h.size,buttonStyle:{borderRadius:20},labelStyle:{textTransform:"capitalize",height:30,lineHeight:"30px"},style:{marginLeft:5,boxShadow:"none"}}))}.bind(this)),a=t().createElement("span",null,a))}return t().createElement(k.Toolbar,{style:this.props.toolbarStyle},o,t().createElement(k.ToolbarGroup,{key:1,float:"right"},i,a))},render:function(){var e,r,n,o=this,i="material-list vertical-layout layout-fill",a=this.props,s=a.className,c=a.showSelector,l=a.tableKeys,u=a.defaultGroupBy,d=a.dataModel,p=a.node,f=a.additionalActions,h=a.customToolbar,m=a.hideToolbar,y=a.emptyStateProps,g=a.errorStateProps,b=a.entryHandleClicks;if(s&&(i+=" "+s),c&&(i+=" list-show-selectors"),l&&(i+=" table-mode"),l){var v;u?delete(v=Wo({},l))[u]:v=this.props.tableKeys;var k=this.state,w=k.sortingInfo,_=k.loading;e=t().createElement(Nn,{tableKeys:v,loading:_,reload:this.reload,ref:"loading_indicator",dm:d,node:p,additionalActions:f,onHeaderClick:this.onColumnSort,sortingInfo:w})}else e=h||(m?null:this.renderToolbar()),(m||h)&&(r=this.renderToolbar(!0));if(y&&p.isLoaded()&&!p.isLoading()&&(!this.state.elements.length||1===this.state.elements.length&&this.state.elements[0].parent)){var S={};if(1===this.state.elements.length&&this.state.elements[0].parent){var O=this.state.elements[0].node;S={actionLabelId:"react.1",actionIconClassName:Xo.PARENT_FOLDER_ICON,actionCallback:function(e){b&&b(O,Xo.CLICK_TYPE_DOUBLE,e)}}}n=t().createElement(Po,Fo({},y,S))}else y&&y.checkEmptyState&&y.checkEmptyState(p)?n=t().createElement(Po,y):g&&!p.isLoading()&&p.getLoadError()&&(n=t().createElement(Po,Fo({},g,{secondaryTextId:p.getLoadError().message,actionCallback:function(){return o.reload()}})));var E,C,P=this.buildElementsFromNodeEntries(this.state.elements,this.state.showSelector),T=this.props,x=T.verticalScroller,j=T.usePlaceHolder,A=P;if(!P.length&&j&&(A=t().createElement(zo,this.props)),n)A=n;else if(x)E=function(e){return t().createElement($(),{speed:.8,horizontalScroll:!1,style:{height:e},verticalScrollbarStyle:{borderRadius:10,width:6},verticalContainerStyle:{width:8}},t().createElement("div",null,A))};else{if(l)return t().createElement("div",{className:i,tabIndex:"0",onKeyDown:this.onKeyDown,style:Wo(Wo({},this.props.style),{},{overflowX:"auto"})},r,t().createElement("div",{style:{display:"flex",flexDirection:"column",flex:1,height:"100%",width:"100%",minWidth:"fit-content"}},e,t().createElement($o,{className:n?"layout-fill vertical_layout":"layout-fill"},(function(e){return t().createElement(G(),{elementHeight:o.state.elementHeight?o.state.elementHeight:o.props.elementHeight,containerHeight:e||1,handleScroll:o.onScroll,ref:o.infinite},A)}))));C=function(e){return t().createElement(G(),{elementHeight:o.state.elementHeight?o.state.elementHeight:o.props.elementHeight,containerHeight:e||1,handleScroll:o.onScroll,ref:o.infinite},E?E(e):A)}}return t().createElement("div",{className:i,tabIndex:"0",onKeyDown:this.onKeyDown,style:this.props.style},e,r,t().createElement($o,{className:n?"layout-fill vertical_layout":"layout-fill"},C||function(){return A}))}});function Yo(e){return Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(e)}function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qo.apply(null,arguments)}function Zo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ei(n.key),n)}}function ei(e){var t=function(e){if("object"!=Yo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Yo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yo(t)?t:t+""}function ti(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ti=function(){return!!e})()}function ri(e){return ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ri(e)}function ni(e,t){return ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ni(e,t)}var oi=function(e){function r(e){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=(t=function(e,t,r){return t=ri(t),function(e,t){if(t&&("object"==Yo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ti()?Reflect.construct(t,r||[],ri(e).constructor):t.apply(e,r))}(this,r,[e])).props.presetDataModel?t.props.presetDataModel:PydioDataModel.RemoteDataModelFactory(t.props.nodeProviderProperties);var o=t.props.presetRootNode||n.getRootNode();return t.props.nodeClicked&&(t.openEditor=function(e){return this.props.nodeClicked(e),!1}.bind(t),t._selObserver=function(e){var r=e.memo.getSelectedNodes();r.length&&(t.props.nodeClicked(r[0]),e.memo.setSelectedNodes([]))},n.observe("selection_changed",t._selObserver)),t.props.reloadOnServerMessage&&t.props.pydio&&(t._smObs=function(e){XMLUtils.XPathSelectSingleNode(e,this.props.reloadOnServerMessage)&&this.reload()}.bind(t),t.props.pydio.observe("server_message",t._smObs),t.props.pydio.observe("server_message:"+t.props.reloadOnServerMessage,t.reload)),t.state={node:o,dataModel:n},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ni(e,t)}(r,e),function(e,t){return t&&Zo(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"reload",value:function(){this.refs.list&&this.isMounted()&&this.refs.list.reload()}},{key:"componentWillUnmount",value:function(){this._smObs&&(this.props.pydio.stopObserving("server_message",this._smObs),this.props.pydio.stopObserving("server_message:"+this.props.reloadOnServerMessage,this.reload)),this._selObserver&&this.state.dataModel.stopObserving("selection_changed",this._selObserver)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.nodeProviderProperties&&this.props.nodeProviderProperties!==e.nodeProviderProperties){var t=this.state,r=t.dataModel,n=t.node,o=new RemoteNodeProvider(e.nodeProviderProperties);r.setAjxpNodeProvider(o),n.updateProvider(o),this.setState({dataModel:r,node:n})}else this.props.presetDataModel!==e.presetDataModel&&this.setState({dataModel:e.presetDataModel,node:e.presetRootNode||e.presetDataModel.getRootNode()})}},{key:"render",value:function(){return t().createElement("div",{className:this.props.heightAutoWithMax?"":"layout-fill vertical-layout",style:this.props.containerStyle},t().createElement(Xo,Qo({},this.props,{openEditor:this.openEditor,ref:"list",style:Object.assign({height:"100%"},this.props.style||{}),node:this.state.node,dataModel:this.state.dataModel,actionBarGroups:this.props.actionBarGroups,skipParentNavigation:!0,observeNodeReload:!0,hideToolbar:!0})))}}])}(t().Component);function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ii.apply(null,arguments)}function ai(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ai=function(){return!!e})()}function si(e){return si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},si(e)}function ci(e,t){return ci=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ci(e,t)}function li(e){return li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},li(e)}function ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function di(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?di(Object(r),!0).forEach((function(t){fi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):di(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fi(e,t,r){return(t=gi(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gi(n.key),n)}}function yi(e,t,r){return t&&mi(e.prototype,t),r&&mi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gi(e){var t=function(e){if("object"!=li(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=li(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==li(t)?t:t+""}var bi=V().requireLib("boot").moment,vi=V().requireLib("hoc").ThemedModernStyles,ki=function(){return yi((function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;hi(this,e),this.state=pi({},t),!t.sortCol&&n&&(this.state.sortCol=n,this.state.sortDir=o||"asc"),this.onSort=r}),[{key:"renderHeader",value:function(e,r){var n=this,o=this.state,i=o.sortCol,a=o.sortDir,s={cursor:"pointer",position:"relative"},c={left:-17,position:"absolute"};if(i!==e||""===a)return t().createElement("span",{onClick:function(){n.onSort(e,"asc")},style:s},r);var l=r;return"asc"===a?l=t().createElement("span",{onClick:function(){n.onSort(e,"desc")},style:s},r," ",t().createElement("span",{style:c,className:"mdi mdi-arrow-up"})):"desc"===a&&(l=t().createElement("span",{onClick:function(){n.onSort(e,"")},style:s},r," ",t().createElement("span",{style:c,className:"mdi mdi-arrow-down"}))),l}},{key:"setData",value:function(e,t){this.columns=e,this.data=t}},{key:"sorted",value:function(){var e=this.state,t=e.sortCol,r=e.sortDir;if(!t||!r)return this.data;var n=function(e){return function(e){if(Array.isArray(e))return ui(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ui(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ui(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.data),o=this.columns.filter((function(e){return e.name===t}))[0],i=o.sorter;return i?(n.sort((function(e,n){var a,s;return i.value?(a=i.value(e),s=i.value(n)):o.renderCell?(a=o.renderCell(e),s=o.renderCell(n)):(a=e[t],s=n[t]),"string"===i.type?(a||(a=""),s||(s=""),a=a.toLowerCase(),s=s.toLowerCase()):"number"===i.type&&(a=parseInt(a),s=parseInt(s)),"asc"===r?a>s?1:a<s?-1:0:a<s?1:a>s?-1:0})),n):this.data}}])}(),wi=function(e){function r(e){var t;return hi(this,r),(t=function(e,t,r){return t=si(t),function(e,t){if(t&&("object"==li(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ai()?Reflect.construct(t,r||[],si(e).constructor):t.apply(e,r))}(this,r,[e])).state={},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ci(e,t)}(r,e),yi(r,[{key:"onRowSelection",value:function(e){var t=this.props,r=t.data,n=t.onSelectRows;if(n)if("none"===e)n([]);else if("all"===e)n(r);else{var o=r,i=this.computeSorter();i&&(o=i.sorted());var a=this.computePagination();a.use&&(o=o.slice(a.sliceStart,a.sliceEnd));var s=[];e.map((function(e){var t=o.slice(0,e).filter((function(e){return e.expandedRow})).length;t&&(e-=t),s.push(o[e])})),n(s)}}},{key:"loadStoredValue",value:function(){var e=this.props,t=e.storageKey,r=e.columns;if(!t)return null;if(!localStorage.getItem(t+".sort"))return null;try{var n=JSON.parse(localStorage.getItem(t+".sort")),o=n.col,i=n.dir;return 0===r.filter((function(e){return e.name===o})).length||-1===["asc","desc",""].indexOf(i)?null:{col:o,dir:i}}catch(e){return null}}},{key:"computeSorter",value:function(){var e,t=this,r=this.props,n=r.columns,o=r.data,i=r.storageKey,a=n.filter((function(e){return e.sorter}));if(a.length){var s,c=a[0].name,l=a.filter((function(e){return e.sorter.default})),u=this.loadStoredValue();u?(c=u.col,s=u.dir):l.length&&(c=l[0].name,l[0].sorter.defaultDir&&(s=l[0].sorter.defaultDir)),(e=new ki(this.state,(function(e,r){t.setState({sortCol:e,sortDir:r}),i&&localStorage.setItem(i+".sort",JSON.stringify({col:e,dir:r}))}),c,s)).setData(n,o)}return e}},{key:"computePagination",value:function(){var e=this.props,t=e.data,r=e.paginate,n=e.defaultPageSize,o=e.pagination;if(o)return pi(pi({},o),{},{use:!0});if(!r||!t||!t.length)return{use:!1};var i=this.state.pageSize||n||r[0];if(t.length<=i)return{use:!1};for(var a=this.state.page,s=void 0===a?1:a,c=Math.ceil(t.length/i),l=(s-1)*i,u=Math.min(s*i,t.length),d=[],p=1;p<=c;p++)d.push(p);return{use:!0,sliceStart:l,sliceEnd:u,pages:d,page:s,pageSize:i,pageSizes:r}}},{key:"renderPagination",value:function(e){var r=this,n=this.props,o=n.data,i=n.muiTheme,a=e.page,s=e.pageSize,c=e.pages,l=e.pageSizes,u=e.sliceStart,d=e.sliceEnd,p=e.nextDisabled,f=e.prevDisabled,h=e.onPageNext,m=e.onPagePrev,y=e.onPageSizeChange;return t().createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",color:"#757575"}},l.length>1&&t().createElement("div",{style:{paddingRight:10}},V().getMessages()["material.paginator.rows"]," :"),l.length>1&&t().createElement("div",{style:{width:90}},t().createElement(k.SelectField,ii({},vi(i).selectField,{fullWidth:!0,value:s,onChange:function(e,t,n){y?y(n):r.setState({page:1,pageSize:n})}}),l.map((function(e){return t().createElement(k.MenuItem,{value:e,primaryText:e})})))),m&&t().createElement(k.IconButton,{iconClassName:"mdi mdi-chevron-left",disabled:f,onClick:function(){return m()}}),!m&&t().createElement(k.IconButton,{iconClassName:"mdi mdi-chevron-left",disabled:1===a,onClick:function(){return r.setState({page:a-1})}}),(u||d)&&t().createElement("div",null,u+1,"-",d," ",V().getMessages()["material.paginator.of"]," ",o.length),h&&t().createElement(k.IconButton,{iconClassName:"mdi mdi-chevron-right",disabled:p,onClick:function(){return h()}}),!h&&t().createElement(k.IconButton,{iconClassName:"mdi mdi-chevron-right",disabled:a===c.length,onClick:function(){return r.setState({page:a+1})}}))}},{key:"render",value:function(){var e=this.props,r=e.columns,n=e.deselectOnClickAway,o=e.emptyStateString,i=e.masterStyles,a=void 0===i?{}:i,s=e.emptyStateStyle,c=e.onSelectRows,l=e.computeRowStyle,u=e.rowSelected,d=this.props,p=d.actions,f=d.hideHeaders,h=this.props,m=h.data,y=h.showCheckboxes,g=a.actionsColor||"rgba(0,0,0,.33)",b=this.computeSorter();b&&(m=b.sorted());var v,w=this.computePagination();w.use&&(m=m.slice(w.sliceStart,w.sliceEnd),v=this.renderPagination(w));var _,S=0;p&&p.length&&(_=!0,S=1);var O=[];m.map((function(e){var n;if(l&&(n=l(e)),e.Subheader){var o=pi({fontSize:12,color:"#616161",backgroundColor:"#FAFAFA",fontWeight:500},e.style);O.push(t().createElement(k.TableRow,{className:"media-small-hide",style:pi({},a.row)},t().createElement(k.TableRowColumn,{colSpan:r.length+S,style:o},e.Subheader)))}else if(e.colSpan)O.push(t().createElement(k.TableRow,{style:pi(pi({},e.rowStyle),a.row)},t().createElement(k.TableRowColumn,{colSpan:r.length+S,style:pi({height:"auto",paddingLeft:0,paddingRight:0,backgroundColor:"transparent"},e.cellStyle)},e.element)));else{var i=pi(pi({},n),a.row);e.expandedRow&&(i=pi(pi({},i),a.expanderRow)),O.push(t().createElement(k.TableRow,{selectable:void 0!==c,style:i,selected:u&&u(e)},r.map((function(r){var n=e[r.name],o=n;return r.useMoment&&n?o=n=bi(new Date(1e3*parseInt(n))).fromNow():r.renderCell&&(n=r.renderCell(e))&&"object"===li(n)&&n.element&&n.text&&(o=n.text,n=n.element),t().createElement(k.TableRowColumn,{style:r.style||{},title:"object"===li(o)?null:o,className:r.hideSmall?"media-small-hide":null},n)})),_&&t().createElement(k.TableRowColumn,{style:{overflow:"visible",textOverflow:"none",width:48*p.length+32}},p.map((function(r){var n=!!r.disable&&r.disable(e);return t().createElement(k.IconButton,{style:{padding:14,opacity:n?.5:null},iconStyle:{fontSize:20,color:g},onClick:function(t){t.stopPropagation(),r.onClick(e)},iconClassName:r.iconClassName,tooltip:r.tooltip,disabled:n})}))))),e.expandedRow&&O.push(t().createElement(k.TableRow,{selectable:!1,style:pi(pi({},a.row),a.expandedRow)},t().createElement(k.TableRowColumn,{colSpan:r.length+S,style:pi({height:"auto",paddingLeft:0,paddingRight:0,backgroundColor:"transparent"},e.cellStyle)},e.expandedRow)))}}));var E=r.map((function(e){var r=e.label;return b&&e.sorter&&(r=b.renderHeader(e.name,e.label)),t().createElement(k.TableHeaderColumn,{style:pi(pi({},e.headerStyle),{},{height:48,backgroundColor:"#F5F5F5",fontWeight:500},a.head),className:e.hideSmall?"media-small-hide":null},r)}));return _&&E.push(t().createElement(k.TableHeaderColumn,{style:pi({width:48*p.length+32,height:48,backgroundColor:"#F5F5F5"},a.head)})),o&&!O.length&&(y=!1,O=[t().createElement(k.TableRow,null,t().createElement(k.TableRowColumn,{colSpan:r.length,style:s},o))]),(m.length&&m[0].Subheader||o&&!O.length)&&O.unshift(t().createElement(k.TableRow,{style:pi({borderBottom:"none",height:0},a.row)},r.map((function(e){var r=e.style||{};return t().createElement(k.TableRowColumn,{style:pi(pi({},r),{},{height:0}),className:e.hideSmall?"media-small-hide":null})})))),t().createElement(k.Table,{onRowSelection:this.onRowSelection.bind(this),multiSelectable:y},!f&&t().createElement(k.TableHeader,{displaySelectAll:y,adjustForCheckbox:y,enableSelectAll:y},t().createElement(k.TableRow,{style:a.row},E)),t().createElement(k.TableBody,{deselectOnClickaway:n,displayRowCheckbox:y},O),v&&t().createElement(k.TableFooter,null,t().createElement(k.TableRow,{style:{backgroundColor:"#fafafa"}},t().createElement(k.TableRowColumn,{colSpan:r.length},v))))}}])}(t().Component);(wi=(0,Q.muiThemeable)()(wi)).PropTypes={data:W().array,columns:W().array,onSelectRows:W().func,emptyStateString:W().string};const _i=t()["undefined"!=typeof document&&void 0!==document.createElement?"useLayoutEffect":"useEffect"],Si=function(t,r,n,o){var i=e.useRef(n),a=e.useRef(o);e.useEffect((function(){i.current=n,a.current=o})),e.useEffect((function(){var e=t&&"current"in t?t.current:t;if(e){var n=0;e.addEventListener(r,s);var o=a.current;return function(){n=1,e.removeEventListener(r,s),o&&o()}}function s(){if(!n){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.current.apply(this,t)}}}),[t,r])};function Oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Ei(e){return Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ei(e)}var Ci="undefined",Pi=("undefined"==typeof window?"undefined":Ei(window))!==Ci?window:{},Ti=("undefined"==typeof performance?"undefined":Ei(performance))!==Ci?performance:Date,xi=function(){return Ti.now()},ji="AnimationFrame",Ai="cancel"+ji,zi="request"+ji,Ii=Pi[zi]&&Pi[zi].bind(Pi),Ri=Pi[Ai]&&Pi[Ai].bind(Pi);if(!Ii||!Ri){var Mi=0;Ii=function(e){var t=xi(),r=Math.max(Mi+1e3/60,t);return setTimeout((function(){e(Mi=r)}),r-t)},Ri=function(e){return clearTimeout(e)}}const Di=function(t){var r=e.useRef(t);return e.useEffect((function(){r.current=t})),r};var Ni="undefined"!=typeof performance?performance:Date;function Li(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Di(t),i=1e3/r,a=e.useRef(0),s=e.useRef(),c=function(){return s.current&&clearTimeout(s.current)},l=[r,n,o];function u(){a.current=0,c()}return e.useEffect((function(){return u}),l),e.useCallback((function(){var e=arguments,t=Ni.now(),r=function(){a.current=t,c(),o.current.apply(null,e)},l=a.current;if(n&&0===l)return r();if(t-l>i){if(l>0)return r();a.current=t}c(),s.current=setTimeout((function(){r(),a.current=0}),i)}),l)}function Ui(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bi(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Fi(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.offset,o=void 0===n?0:n,i=r.fps,a=void 0===i?12:i,s=t&&"current"in t?t.current:t,c=function(){return s?"scrollTop"in s?s.scrollTop:s.pageYOffset||s.scrollY:0},l=function(t,r){var n=e.useState(t);return[n[0],Li(n[1],r,void 0)]}(c,a),u=Ui(l,2),d=u[0],p=u[1],f=Ui(e.useState(!1),2),h=f[0],m=f[1];function y(){m(!1)}return _i((function(){if(s){var e,t=!1,r=function(){return e&&void Ri(e.v||-1)},n=function(){var n,o,i,s,l;t||(p(c()),m(!0),r(),n=y,o=1e3/a,i=xi(),l=function(){xi()-i>=o?n.call(null):s.v=Ii(l)},(s={}).v=Ii(l),e=s)};return s.addEventListener("scroll",n),function(){s.removeEventListener("scroll",n),r(),t=!0}}}),[s,a]),{scrollTop:Math.max(0,d-o),isScrolling:h}}var qi={low:0,max:0,high:0,C:2,P:void 0,R:void 0,L:void 0,list:void 0};function Wi(e){var t=e.high;e.L===qi&&e.R===qi?e.max=t:e.L===qi?e.max=Math.max(e.R.max,t):e.R===qi?e.max=Math.max(e.L.max,t):e.max=Math.max(Math.max(e.L.max,e.R.max),t)}function Hi(e){for(var t=e;t.P!==qi;)Wi(t.P),t=t.P}function Vi(e,t){if(t.R!==qi){var r=t.R;t.R=r.L,r.L!==qi&&(r.L.P=t),r.P=t.P,t.P===qi?e.root=r:t===t.P.L?t.P.L=r:t.P.R=r,r.L=t,t.P=r,Wi(t),Wi(r)}}function Ji(e,t){if(t.L!==qi){var r=t.L;t.L=r.R,r.R!==qi&&(r.R.P=t),r.P=t.P,t.P===qi?e.root=r:t===t.P.R?t.P.R=r:t.P.L=r,r.R=t,t.P=r,Wi(t),Wi(r)}}function Gi(e,t,r){t.P===qi?e.root=r:t===t.P.L?t.P.L=r:t.P.R=r,r.P=t.P}function Ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}qi.P=qi,qi.L=qi,qi.R=qi;var $i,Xi,Yi=function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=r);for(var o=function(){var e={root:qi,size:0},t={};return{insert:function(r,n,o){for(var i=e.root,a=qi;i!==qi&&r!==(a=i).low;)i=r<i.low?i.L:i.R;if(r===a.low&&a!==qi){if(!function(e,t,r){for(var n,o=e.list;o;){if(o.index===r)return!1;if(t>o.high)break;n=o,o=o.next}return n||(e.list={index:r,high:t,next:o}),n&&(n.next={index:r,high:t,next:n.next}),!0}(a,n,o))return;return a.high=Math.max(a.high,n),Wi(a),Hi(a),t[o]=a,void e.size++}var s={low:r,high:n,max:n,C:0,P:a,L:qi,R:qi,list:{index:o,high:n,next:null}};a===qi?e.root=s:(s.low<a.low?a.L=s:a.R=s,Hi(s)),function(e,t){for(var r;0===t.P.C;)t.P===t.P.P.L?0===(r=t.P.P.R).C?(t.P.C=1,r.C=1,t.P.P.C=0,t=t.P.P):(t===t.P.R&&Vi(e,t=t.P),t.P.C=1,t.P.P.C=0,Ji(e,t.P.P)):0===(r=t.P.P.L).C?(t.P.C=1,r.C=1,t.P.P.C=0,t=t.P.P):(t===t.P.L&&Ji(e,t=t.P),t.P.C=1,t.P.P.C=0,Vi(e,t.P.P));e.root.C=1}(e,s),t[o]=s,e.size++},remove:function(r){var n=t[r];if(void 0!==n){delete t[r];var o=function(e,t){var r=e.list;if(r.index===t)return null===r.next?0:(e.list=r.next,1);var n=r;for(r=r.next;null!==r;){if(r.index===t)return n.next=r.next,1;n=r,r=r.next}}(n,r);if(void 0!==o){if(1===o)return n.high=n.list.high,Wi(n),Hi(n),void e.size--;var i,a=n,s=a.C;n.L===qi?(i=n.R,Gi(e,n,n.R)):n.R===qi?(i=n.L,Gi(e,n,n.L)):(a=function(e){for(;e.L!==qi;)e=e.L;return e}(n.R),s=a.C,i=a.R,a.P===n?i.P=a:(Gi(e,a,a.R),a.R=n.R,a.R.P=a),Gi(e,n,a),a.L=n.L,a.L.P=a,a.C=n.C),Wi(i),Hi(i),1===s&&function(e,t){for(var r;t!==qi&&1===t.C;)t===t.P.L?(0===(r=t.P.R).C&&(r.C=1,t.P.C=0,Vi(e,t.P),r=t.P.R),1===r.L.C&&1===r.R.C?(r.C=0,t=t.P):(1===r.R.C&&(r.L.C=1,r.C=0,Ji(e,r),r=t.P.R),r.C=t.P.C,t.P.C=1,r.R.C=1,Vi(e,t.P),t=e.root)):(0===(r=t.P.L).C&&(r.C=1,t.P.C=0,Ji(e,t.P),r=t.P.L),1===r.R.C&&1===r.L.C?(r.C=0,t=t.P):(1===r.L.C&&(r.R.C=1,r.C=0,Vi(e,r),r=t.P.L),r.C=t.P.C,t.P.C=1,r.L.C=1,Ji(e,t.P),t=e.root));t.C=1}(e,i),e.size--}}},search:function(t,r,n){for(var o=[e.root];0!==o.length;){var i=o.pop();if(!(i===qi||t>i.max)&&(i.L!==qi&&o.push(i.L),i.R!==qi&&o.push(i.R),i.low<=r&&i.high>=t))for(var a=i.list;null!==a;)a.high>=t&&n(a.index,i.low),a=a.next}},get size(){return e.size}}}(),i=new Array(e),a=[],s=new Array(e),c=0;c<e;c++)i[c]=0,s[c]=[];return{columnCount:e,columnWidth:t,set:function(e,c){void 0===c&&(c=0);for(var l=0,u=1;u<i.length;u++)i[u]<i[l]&&(l=u);var d=i[l]||0;i[l]=d+c+n,s[l].push(e),a[e]={left:l*(t+r),top:d,height:c,column:l},o.insert(d,d+c,e)},get:function(e){return a[e]},update:function(t){for(var r=new Array(e),c=0,l=0;c<t.length-1;c++){var u=t[c],d=a[u];d.height=t[++c],o.remove(u),o.insert(d.top,d.top+d.height,u),r[d.column]=void 0===r[d.column]?u:Math.min(u,r[d.column])}for(c=0;c<r.length;c++)if(void 0!==r[c]){var p=s[c],f=Qi(p,r[c]),h=s[c][f],m=a[h];for(i[c]=m.top+m.height+n,l=f+1;l<p.length;l++){var y=p[l],g=a[y];g.top=i[c],i[c]=g.top+g.height+n,o.remove(y),o.insert(g.top,g.top+g.height,y)}}},range:function(e,t,r){return o.search(e,t,(function(e,t){return r(e,a[e].left,t)}))},estimateHeight:function(t,r){var n=Math.max(0,Math.max.apply(null,i));return t===o.size?n:n+Math.ceil((t-o.size)/e)*r},shortestColumn:function(){return i.length>1?Math.min.apply(null,i):i[0]||0},size:function(){return o.size},all:function(){return a}}},Qi=function(e,t){for(var r=0,n=e.length-1;r<=n;){var o=r+n>>>1,i=e[o];if(i===t)return o;i<=t?r=o+1:n=o-1}return-1},Zi=[],ea=[],ta="ResizeObserver loop completed with undelivered notifications.";(Xi=$i||($i={})).BORDER_BOX="border-box",Xi.CONTENT_BOX="content-box",Xi.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box";var ra,na=function(e){return Object.freeze(e)},oa=function(e,t){this.inlineSize=e,this.blockSize=t,na(this)},ia=function(){function e(e,t,r,n){return this.x=e,this.y=t,this.width=r,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,na(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),aa=function(e){return e instanceof SVGElement&&"getBBox"in e},sa=function(e){if(aa(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var o=e,i=o.offsetWidth,a=o.offsetHeight;return!(i||a||e.getClientRects().length)},ca=function(e){var t;if(e instanceof Element)return!0;var r=null===(t=null==e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},la="undefined"!=typeof window?window:{},ua=new WeakMap,da=/auto|scroll/,pa=/^tb|vertical/,fa=/msie|trident/i.test(la.navigator&&la.navigator.userAgent),ha=function(e){return parseFloat(e||"0")},ma=function(e,t,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=!1),new oa((r?t:e)||0,(r?e:t)||0)},ya=na({devicePixelContentBoxSize:ma(),borderBoxSize:ma(),contentBoxSize:ma(),contentRect:new ia(0,0,0,0)}),ga=function(e,t){if(void 0===t&&(t=!1),ua.has(e)&&!t)return ua.get(e);if(sa(e))return ua.set(e,ya),ya;var r=getComputedStyle(e),n=aa(e)&&e.ownerSVGElement&&e.getBBox(),o=!fa&&"border-box"===r.boxSizing,i=pa.test(r.writingMode||""),a=!n&&da.test(r.overflowY||""),s=!n&&da.test(r.overflowX||""),c=n?0:ha(r.paddingTop),l=n?0:ha(r.paddingRight),u=n?0:ha(r.paddingBottom),d=n?0:ha(r.paddingLeft),p=n?0:ha(r.borderTopWidth),f=n?0:ha(r.borderRightWidth),h=n?0:ha(r.borderBottomWidth),m=d+l,y=c+u,g=(n?0:ha(r.borderLeftWidth))+f,b=p+h,v=s?e.offsetHeight-b-e.clientHeight:0,k=a?e.offsetWidth-g-e.clientWidth:0,w=o?m+g:0,_=o?y+b:0,S=n?n.width:ha(r.width)-w-k,O=n?n.height:ha(r.height)-_-v,E=S+m+k+g,C=O+y+v+b,P=na({devicePixelContentBoxSize:ma(Math.round(S*devicePixelRatio),Math.round(O*devicePixelRatio),i),borderBoxSize:ma(E,C,i),contentBoxSize:ma(S,O,i),contentRect:new ia(d,c,S,O)});return ua.set(e,P),P},ba=function(e,t,r){var n=ga(e,r),o=n.borderBoxSize,i=n.contentBoxSize,a=n.devicePixelContentBoxSize;switch(t){case $i.DEVICE_PIXEL_CONTENT_BOX:return a;case $i.BORDER_BOX:return o;default:return i}},va=function(e){var t=ga(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=na([t.borderBoxSize]),this.contentBoxSize=na([t.contentBoxSize]),this.devicePixelContentBoxSize=na([t.devicePixelContentBoxSize])},ka=function(e){if(sa(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t},wa=function(){var e=1/0,t=[];ea.forEach((function(r){if(0!==r.activeTargets.length){var n=[];r.activeTargets.forEach((function(t){var r=new va(t.target),o=ka(t.target);n.push(r),t.lastReportedSize=ba(t.target,t.observedBox),o<e&&(e=o)})),t.push((function(){r.callback.call(r.observer,n,r.observer)})),r.activeTargets.splice(0,r.activeTargets.length)}}));for(var r=0,n=t;r<n.length;r++)(0,n[r])();return e},_a=function(e){ea.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(r){r.isActive()&&(ka(r.target)>e?t.activeTargets.push(r):t.skippedTargets.push(r))}))}))},Sa=[],Oa=0,Ea={attributes:!0,characterData:!0,childList:!0,subtree:!0},Ca=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Pa=function(e){return void 0===e&&(e=0),Date.now()+e},Ta=!1,xa=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!Ta){Ta=!0;var r,n=Pa(e);r=function(){var r=!1;try{r=function(){var e,t=0;for(_a(t);ea.some((function(e){return e.activeTargets.length>0}));)t=wa(),_a(t);return ea.some((function(e){return e.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:ta}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=ta),window.dispatchEvent(e)),t>0}()}finally{if(Ta=!1,e=n-Pa(),!Oa)return;r?t.run(1e3):e>0?t.run(e):t.start()}},function(e){if(!ra){var t=0,r=document.createTextNode("");new MutationObserver((function(){return Sa.splice(0).forEach((function(e){return e()}))})).observe(r,{characterData:!0}),ra=function(){r.textContent="".concat(t?t--:t++)}}Sa.push(e),ra()}((function(){requestAnimationFrame(r)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,Ea)};document.body?t():la.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Ca.forEach((function(t){return la.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Ca.forEach((function(t){return la.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),ja=function(e){!Oa&&e>0&&xa.start(),!(Oa+=e)&&xa.stop()},Aa=function(){function e(e,t){this.target=e,this.observedBox=t||$i.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=ba(this.target,this.observedBox,!0);return e=this.target,aa(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),za=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},Ia=new WeakMap,Ra=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},Ma=function(){function e(){}return e.connect=function(e,t){var r=new za(e,t);Ia.set(e,r)},e.observe=function(e,t,r){var n=Ia.get(e),o=0===n.observationTargets.length;Ra(n.observationTargets,t)<0&&(o&&ea.push(n),n.observationTargets.push(new Aa(t,r&&r.box)),ja(1),xa.schedule())},e.unobserve=function(e,t){var r=Ia.get(e),n=Ra(r.observationTargets,t),o=1===r.observationTargets.length;n>=0&&(o&&ea.splice(ea.indexOf(r),1),r.observationTargets.splice(n,1),ja(-1))},e.disconnect=function(e){var t=this,r=Ia.get(e);r.observationTargets.slice().forEach((function(r){return t.unobserve(e,r.target)})),r.activeTargets.splice(0,r.activeTargets.length)},e}(),Da=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Ma.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!ca(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Ma.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!ca(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Ma.unobserve(this,e)},e.prototype.disconnect=function(){Ma.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const Na=function(e){var t=[],r=null,n=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];t=o,r||(r=requestAnimationFrame((function(){r=null,e.apply(void 0,t)})))};return n.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},n};var La=function(e){try{return new e}catch(e){var t={};return{set:function(e,r){t[e]=r},get:function(e){return t[e]}}}};const Ua=function(e,t){var r,n,o,i,a,s,c,l,u,d=(c=(n=e).length,l=La(n[0]),u=1===c,c<3?{g:function(e){return void 0===(o=l.get(e[0]))||u?o:o.get(e[1])},s:function(e,t){return u?l.set(e[0],t):void 0===(o=l.get(e[0]))?((i=La(n[1])).set(e[1],t),l.set(e[0],i)):o.set(e[1],t),t}}:{g:function(e){for(s=l,a=0;a<c;a++)if(void 0===(s=s.get(e[a])))return;return s},s:function(e,t){for(s=l,a=0;a<c-1;a++)void 0===(i=s.get(e[a]))?(i=La(n[a+1]),s.set(e[a],i),s=i):s=i;return s.set(e[c-1],t),t}}),p=d.g,f=d.s;return function(){return void 0===(r=p(arguments))?f(arguments,t.apply(null,arguments)):r}};var Ba=new WeakMap;function Fa(){var t=e.useState(qa)[1];return e.useRef((function(){return t({})})).current}var qa={},Wa="undefined"!=typeof window&&"ResizeObserver"in window?window.ResizeObserver:Da;function Ha(e){e.cancel()}var Va=Ua([WeakMap],(function(e,t){var r=[],n=Na((function(){r.length>0&&(e.update(r),t(r)),r.length=0})),o=function(t){var o=t.offsetHeight;if(o>0){var i=Ba.get(t);if(void 0!==i){var a=e.get(i);void 0!==a&&o!==a.height&&r.push(i,o)}}n()},i=new Map,a=new Wa((function(e){for(var t=0;t<e.length;t++){var r=e[t],n=Ba.get(r.target);if(void 0!==n){var a=i.get(n);a||(a=Na(o),i.set(n,a)),a(r.target)}}})),s=a.disconnect.bind(a);return a.disconnect=function(){s(),i.forEach(Ha)},a}));const Ja=function(e,t){var r,n,o=t||Ga;return function(){return r&&o(arguments,r)?n:n=e.apply(null,r=arguments)}};var Ga=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]};function Ka(e){return Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ka(e)}function $a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ya(n.key),n)}}function Xa(e,t,r){return t&&$a(e.prototype,t),r&&$a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ya(e){var t=function(e){if("object"!=Ka(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ka(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ka(t)?t:t+""}const Qa=Xa((function e(){var t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.set=void 0,this.get=void 0,this.get=function(e){return e===t?r:void 0},this.set=function(e,n){t=e,r=n}}));function Za(e){return Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(e)}var es=e.createElement,ts="0",rs=Ua([Qa,{},WeakMap,Qa],(function(e,t,r,n){return es(e,{index:t,data:r,width:n})})),ns=Ja((function(e,t){return{position:"relative",width:"100%",maxWidth:"100%",height:Math.ceil(t),maxHeight:Math.ceil(t),willChange:e?"contents":void 0,pointerEvents:e?"none":void 0}})),os=function(e,t){return e[0]===t[0]&&e[1]===t[1]},is=Ja((function(e,t){return Object.assign({},e,t)}),os);function as(e,t){return t}var ss=Ja((function(e){return{width:e,zIndex:-1e3,visibility:"hidden",position:"absolute",writingMode:"horizontal-tb"}}),(function(e,t){return e[0]===t[0]})),cs=Ja((function(e,t){return function(r){return function(n){null!==n&&(t&&(t.observe(n),Ba.set(n,r)),void 0===e.get(r)&&e.set(r,n.offsetHeight))}}}),os);function ls(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return us(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?us(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function us(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ds=function(t,r){var n=ls((0,e.useState)(t.getSelectedNodes().indexOf(r)>-1),2),o=n[0],i=n[1];return(0,e.useEffect)((function(){var e=function(){i(t.getSelectedNodes().indexOf(r)>-1)};return t.observe("selection_changed",e),function(){t.stopObserving("selection_changed",e)}}),[o,r]),o},ps=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return[]},n=ls((0,e.useState)(r(t.getContextNode())),2),o=n[0],i=n[1],a=ls((0,e.useState)(t.getContextNode()),2),s=a[0],c=a[1];return(0,e.useEffect)((function(){var e=function(){var e=t.getContextNode();c(e),e.isLoaded()||e.observeOnce("loaded",(function(){c(e)}))};return t.observe("context_changed",e),function(){t.stopObserving("context_changed",e)}}),[t]),(0,e.useEffect)((function(){if(s){s.isLoaded()?i(r(s,!0)):(s.observeOnce("loaded",(function(){i(r(s,!0))})),s.load()),i(r(t.getContextNode()));var e=function(){i(r(s,!1))},n=function(){i(r(s,!0))};return s.observe("child_added",n),s.observe("child_removed",n),s.observe("child_replaced",e),function(){s.stopObserving("child_added",n),s.stopObserving("child_removed",n),s.stopObserving("child_replaced",e)}}}),[s]),{node:s,items:o}};function fs(e){return fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fs(e)}function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hs.apply(null,arguments)}function ms(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ms(Object(r),!0).forEach((function(t){gs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ms(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gs(e,t,r){return(t=function(e){var t=function(e){if("object"!=fs(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=fs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fs(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vs(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ks=V().requireLib("hoc").useImagePreview,ws={2:{scaleX:-1,scaleY:1},3:{rotate:"180deg"},4:{rotate:"180deg",scaleX:-1,scaleY:1},5:{rotate:"90deg",scaleX:1,scaleY:-1,tX:-1,tY:1},6:{rotate:"90deg",tX:-1,tY:-1},7:{rotate:"270deg",scaleX:1,scaleY:-1,tX:1,tY:-1},8:{rotate:"270deg",tX:1,tY:1}};function _s(e){var t=[];return e.rotate&&t.push("rotate(".concat(e.rotate,")")),e.scaleX&&t.push("scale(".concat(e.scaleX,", ").concat(e.scaleY,")")),e.translateX&&t.push("translate(".concat(e.translateX,"px,").concat(e.translateY,"px)")),t.join(" ")}var Ss=(0,Nr.debounce)((function(){window.dispatchEvent(new Event("resize"))}),500),Os=xr((function(r){var n=r.width,o=r.data,i=o.node,a=o.parent,s=o.dataModel,c=o.entryProps,l=r.setInlineEditionAnchor,u=function(e){var t=.5;if(e.getMetadata().has("ImageDimensions")){var r=e.getMetadata().get("ImageDimensions");t=r.Height/r.Width}return{ratio:t,src:ks(e).src}}(i),d=u.ratio,p=u.src,f=bs((0,e.useState)(!1),2),h=f[0],m=f[1],y=ds(s,i),g=c.handleClicks,b=c.renderIcon,v=c.renderActions,k=V().getMessages()["react.1"],w={};if(p&&d&&i.getMetadata().get("image_exif_orientation")){var _=parseInt(i.getMetadata().get("image_exif_orientation"));if(ws[_]){var S=ys({},ws[_]);if(_<5)w={transform:_s(S)};else{var O=n*(d=1/d),E=(n-O)/2;S.translateX=E*S.tX,S.translateY=E*S.tY,w={transform:_s(S),width:O}}}}var C=["masonry-card"];h&&C.push("hover"),y&&C.push("selected"),p&&C.push("has-src");var P=(0,e.useRef)(null);return(0,e.useEffect)((function(){l&&P.current&&l(P.current)}),[i]),t().createElement(me,{node:i,style:{width:n,height:n*d,position:"relative"},className:C.join(" "),onClick:function(e){return g(i,a?Xo.CLICK_TYPE_DOUBLE:Xo.CLICK_TYPE_SIMPLE,e)},onDoubleClick:function(e){return g(i,Xo.CLICK_TYPE_DOUBLE,e)},onMouseOver:function(){return m(!0)},onMouseOut:function(){return m(!1)}},p&&t().createElement(Es,{className:"masonry-image",src:p,alt:i.getPath(),style:ys({width:n},w)}),a&&t().createElement("div",{className:"mimefont-container"},t().createElement("div",{className:"mimefont mdi mdi-chevron-left"})),!a&&!p&&b(i),!a&&t().createElement("div",{style:{position:"absolute",top:0,left:0}},v(i)),p&&t().createElement("div",{className:"masonry-label-overlay",style:{position:"absolute",bottom:0,left:0,right:0,height:50}}),t().createElement("div",{className:"masonry-label",ref:P,style:ys({display:h||y||!p?"block":"none"},{position:"absolute",bottom:0,left:0,right:0,height:32,padding:"6px 10px",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",borderRadius:"0 0 2px 2px"})},a?k:i.getLabel()))}),(function(e){return e.data.node})),Es=function(r){var n=r.src,o=r.alt,i=r.style,a=r.className,s=(0,e.useRef)(),c=function(t){var r=bs((0,e.useState)(!1),2),n=r[0],o=r[1];return(0,e.useEffect)((function(){var e=new IntersectionObserver((function(e){var t,r,n=bs(e,1)[0];if(!(n.target&&!n.rootBounds&&(t=n.target,r=t.getBoundingClientRect(),r.top>=0&&r.left>=0&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&r.right<=(window.innerWidth||document.documentElement.clientWidth))))return n.isIntersecting?o(n.isIntersecting):void 0;o(!0)}),{threshold:.1,root:null});return e.observe(t.current),function(){e.disconnect()}}),[t]),n}(s),l=ys({},i);return l.transition="opacity 550ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",c||(l.opacity=0),t().createElement("img",{ref:s,alt:o,src:c?n:null,style:l,className:a})};const Cs=t().memo((function(r){var n=r.className,o=r.dataModel,i=r.entryProps,a=r.emptyStateProps,s=r.errorStateProps,c=r.containerStyle,l=void 0===c?{}:c,u=r.columnWidth,d=void 0===u?220:u,p=r.onScroll,f={dataModel:o,entryProps:i},h=ps(o,(function(e,t){return function(e,t){var r=[];return e.getChildren().forEach((function(e,n){r.push(ys({id:"item-"+n,node:e},t))})),r.sort((function(e,t){return Io(e.node,t.node)})),e.getParent()&&r.unshift(ys({id:"item-parent",parent:!0,node:e.getParent()},t)),r}(e,f)})),m=h.node,y=h.items;(0,e.useEffect)((function(){window.dispatchEvent(new Event("resize")),Ss()}),[y]);var g,b,v,k,w,_,S=(0,e.useRef)(null),O=(g=S,b=function(){var e=g.current;if(e){var t=getComputedStyle(e),r=parseFloat;return{width:e.clientWidth-r(t.paddingTop)-r(t.paddingBottom),height:e.clientHeight-r(t.paddingLeft)-r(t.paddingRight)}}return{width:0,height:0}},v=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Oi(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.useState(b),2),k=v[0],w=v[1],_=function(){return w(b())},Si("undefined"!=typeof window?window:null,"resize",_),Si("undefined"!=typeof window?window:null,"orientationchange",_),_i((function(){w(b())}),[]),k),E=O.width,C=O.height,P=Fi(S),T=P.scrollTop,x=P.isScrolling;(0,e.useEffect)((function(){Ss()}),[l.marginLeft]),p&&(0,e.useEffect)((function(){p({scrollTop:T})}),[T]);var j,A=function(t,r){var n=t.width,o=t.columnWidth,i=void 0===o?200:o,a=t.columnGutter,s=void 0===a?0:a,c=t.rowGutter,l=t.columnCount,u=t.maxColumnCount;void 0===r&&(r=Zi);var d=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ki(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ki(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function(e,t,r,n,o){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=8),n=n||Math.min(Math.floor((e+r)/(t+r)),o||1/0)||1,[Math.floor((e-r*(n-1))/n),n]}(n,i,s,l,u),2),t=e[0],r=e[1];return Yi(r,t,s,null!=c?c:s)},p=e.useRef();void 0===p.current&&(p.current=d());var f=e.useRef(r),h=[n,i,s,c,l,u],m=e.useRef(h),y=!h.every((function(e,t){return m.current[t]===e}));if(y||!r.every((function(e,t){return f.current[t]===e}))){var g=p.current,b=d();if(f.current=r,m.current=h,y)for(var v=g.size(),k=0;k<v;k++){var w=g.get(k);b.set(k,void 0!==w?w.height:0)}p.current=b}return p.current}({width:E,columnWidth:d,columnGutter:8},[y,d]),z=function(t){var r=Fa(),n=Va(t,r);function o(){return n.disconnect()}return e.useEffect((function(){return o}),[n]),n}(A),I=function(t){var r,n=t.positioner,o=t.resizeObserver,i=t.items,a=t.as,s=void 0===a?"div":a,c=t.id,l=t.className,u=t.style,d=t.role,p=void 0===d?"grid":d,f=t.tabIndex,h=void 0===f?0:f,m=t.containerRef,y=t.itemAs,g=void 0===y?"div":y,b=t.itemStyle,v=t.itemHeightEstimate,k=void 0===v?300:v,w=t.itemKey,_=void 0===w?as:w,S=t.overscanBy,O=void 0===S?2:S,E=t.scrollTop,C=t.isScrolling,P=t.height,T=t.render,x=t.onRender,j=0,A=Fa(),z=cs(n,o),I=i.length,R=n.columnWidth,M=n.columnCount,D=n.range,N=n.estimateHeight,L=n.size,U=n.shortestColumn,B=L(),F=U(),q=[],W="list"===p?"listitem":"grid"===p?"gridcell":void 0,H=Di(x),V=E+(O*=P),J=F<V&&B<I;if(D(Math.max(0,E-O/2),V,(function(e,t,n){var o=i[e],a=_(o,e),s={top:n,left:t,width:R,writingMode:"horizontal-tb",position:"absolute"};q.push(es(g,{key:a,ref:z(e),role:W,style:"object"===Za(b)&&null!==b?Object.assign({},s,b):s},rs(T,e,o,R))),void 0===r?(j=e,r=e):(j=Math.min(j,e),r=Math.max(r,e))})),J)for(var G=Math.min(I-B,Math.ceil((E+O-F)/k*M)),K=B,$=ss(R);K<B+G;K++){var X=i[K],Y=_(X,K);q.push(es(g,{key:Y,ref:z(K),role:W,style:"object"===Za(b)?Object.assign({},$,b):$},rs(T,K,X,R)))}e.useEffect((function(){"function"==typeof H.current&&void 0!==r&&H.current(j,r,i),ts="1"}),[j,r,i,H]),e.useEffect((function(){J&&A()}),[J,n]);var Q=ns(C,N(I,k));return es(s,{ref:m,key:ts,id:c,role:p,className:l,tabIndex:h,style:"object"===Za(u)?is(Q,u):Q,children:q})}({positioner:A,resizeObserver:z,items:y,height:C,scrollTop:T,isScrolling:x,overscanBy:6,render:Os});return s&&m.getLoadError()?j=ys(ys({},s),{},{secondaryTextId:m.getLoadError().message}):!a||m.isLoading()||y&&y.length||(j=a),t().createElement("div",{style:ys({flex:1,overflowY:"auto"},l),className:n,ref:S,onKeyDown:function(e){"Enter"===e.key&&o.getUniqueNode()?i.handleClicks(o.getUniqueNode(),Xo.CLICK_TYPE_DOUBLE,e):"Delete"===e.key&&V().getInstance().Controller.fireActionByKey("key_delete")}},j&&t().createElement(Po,hs({pydio:V().getInstance()},j)),!j&&I)}));function Ps(e){return Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(e)}function Ts(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,As(n.key),n)}}function js(e,t,r){return t&&xs(e.prototype,t),r&&xs(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function As(e){var t=function(e){if("object"!=Ps(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ps(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ps(t)?t:t+""}function zs(e,t,r){return t=Rs(t),function(e,t){if(t&&("object"==Ps(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Is()?Reflect.construct(t,r||[],Rs(e).constructor):t.apply(e,r))}function Is(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Is=function(){return!!e})()}function Rs(e){return Rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rs(e)}function Ms(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ds(e,t)}function Ds(e,t){return Ds=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ds(e,t)}var Ns=function(r){function n(t){var r;return Ts(this,n),(r=zs(this,n,[t])).root=(0,e.createRef)(),r}return Ms(n,r),js(n,[{key:"componentDidMount",value:function(){this.props.selected&&this.root.current&&this.root.current.scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var r=this.props,n=r.item,o=r.prev,i=r.next,a=r.itemUuid,s=r.itemMoment,c=r.itemDesc,l=r.itemAnnotations,u=r.itemActions,d=r.itemClassName,p=r.selected,f=r.onSelect,h=r.color,m=s(n),y="tl-block";d&&(y+=" "+d(n));var g="sep-date",b=!1;if(o){var v=s(o);m.format("L")===v.format("L")?(y+=" similar",b=!0):(y+=" newday",g+=" newday")}var k,w=l(n,o,i),_=u(n,o,i);f&&(k=function(){f(a(n))}),p&&(y+=" tl-selected");var S={fontWeight:500,color:h,cursor:"pointer",display:"inline-block",marginLeft:6};return t().createElement(e.Fragment,null,!b&&t().createElement("div",{className:g},t().createElement("div",{className:"daymonth"},m.format("DD")),t().createElement("div",{className:"dayweek"},m.format("ddd"))),t().createElement("div",{className:y,ref:this.root},t().createElement("div",{className:"tl-date"},t().createElement("div",{className:"daymonth"},m.format("DD")),t().createElement("div",{className:"dayweek"},m.format("ddd"))),t().createElement("div",{className:"tl-dot"}),t().createElement("div",{className:"tl-card"+(k?" tl-selectable":""),onClick:k},t().createElement("div",{className:"tl-desc"},t().createElement("div",{className:"desc-date"},m.format(b?"LT":"llll")),c(n,o,i)),t().createElement("div",{className:"tl-actions"},w,p&&_&&t().createElement("div",null,_.map((function(e){return t().createElement("a",{onClick:e.onClick,style:S},e.label)})))))))}}])}(e.Component),Ls=function(e){function r(e){var t;return Ts(this,r),(t=zs(this,r,[e])).state={},t}return Ms(r,e),js(r,[{key:"makeStyle",value:function(e){var r=e.palette.mui3["on-surface"],n=e.palette.mui3.tertiary,o=e.palette.mui3["outline-variant"],i=e.palette.mui3.surface,a="0px 1px 3px "+e.palette.mui3["outline-variant"],s="\n        .timeline{\n            color: ".concat(r,";\n        }\n        .timeline .tl-line {\n            border-right: 3px dashed ").concat(o,"; \n        }\n        .timeline .tl-timeline .tl-block .tl-dot{\n            background-color: ").concat(n,";\n            box-shadow: ").concat(n," 0px 0px 4px;\n        }\n        .timeline .tl-timeline .tl-block .tl-dot:before{\n            border-color: ").concat(n,"\n        }\n        .timeline .tl-timeline .tl-block .tl-card.tl-selectable:hover, \n        .timeline .tl-timeline .tl-block.tl-selected .tl-card {\n            box-shadow: ").concat(a,"\n        }\n        .timeline .tl-timeline .daymonth{\n            color: ").concat(n,"\n        }\n        .timeline .tl-card{\n            background-color: ").concat(i,";\n        }\n        ");return t().createElement("style",{type:"text/css"},s)}},{key:"render",value:function(){var e,r=this,n=this.props.muiTheme,o=this.props,i=o.items,a=o.className,s=void 0===a?"":a,c=o.useSelection,l=void 0!==c&&c,u=o.preSelection,d=this.props,p=d.itemUuid,f=d.itemMoment,h=d.itemActions,m=d.itemAnnotations,y=d.itemClassName,g=d.itemDesc,b=d.onItemSelect,v=this.props,k=v.loadMoreAction,w=v.loadMoreLabel,_=v.loadMoreDisabled,S=this.state.selection,O=void 0===S?u:S;return n.palette.mui3.tertiary,b?e=b:l&&(e=function(e){r.setState({selection:e})}),t().createElement("div",{className:"timeline "+s},t().createElement("div",{className:"tl-line"}),t().createElement("div",{className:"tl-timeline"},i.map((function(r,o){return t().createElement(Ns,{item:r,prev:o>0?i[o-1]:null,next:o<i.length-1?i[o+1]:null,selected:!!l&&p(r)===O,onSelect:e,itemUuid:p,itemMoment:f,itemActions:h,itemAnnotations:m,itemClassName:y,itemDesc:g,color:n.palette.mui3.primary})})),k&&t().createElement("div",{className:"tl-block tl-more"},t().createElement("div",{className:"tl-date"}),t().createElement("div",{className:"tl-dot"}),t().createElement("div",{className:"tl-card tl-selectable",style:{color:n.palette.mui3.primary},onClick:_?null:k},w))),this.makeStyle(n))}}])}(e.Component);const Us=Ls=(0,Q.muiThemeable)()(Ls);var Bs,Fs;function qs(e){return qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(e)}function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ws.apply(null,arguments)}function Hs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tc(n.key),n)}}function Js(e,t,r){return t&&Vs(e.prototype,t),r&&Vs(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gs(e,t,r){return t=$s(t),function(e,t){if(t&&("object"==qs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ks()?Reflect.construct(t,r||[],$s(e).constructor):t.apply(e,r))}function Ks(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ks=function(){return!!e})()}function $s(e){return $s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$s(e)}function Xs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ys(e,t)}function Ys(e,t){return Ys=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ys(e,t)}function Qs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qs(Object(r),!0).forEach((function(t){ec(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ec(e,t,r){return(t=tc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tc(e){var t=function(e){if("object"!=qs(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=qs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qs(t)?t:t+""}var rc=V().requireLib("hoc").withContextMenu,nc=function(e){return t().createElement("div",e)};nc=rc(nc);var oc=F()({displayName:"SimpleTreeNode",propTypes:{collapse:W().bool,forceExpand:W().bool,childrenOnly:W().bool,depth:W().number,onNodeSelect:W().func,node:W().instanceOf(AjxpNode),dataModel:W().instanceOf(PydioDataModel),forceLabel:W().string,nodeIsSelected:W().func,showLoader:W().bool,checkboxes:W().array,checkboxesValues:W().object,checkboxesComputeStatus:W().func,onCheckboxCheck:W().func,paddingOffset:W().number,offsetSize:W().number},getDefaultProps:function(){return{collapse:!1,childrenOnly:!1,depth:0,paddingOffset:0,offsetSize:20,onNodeSelect:function(e){}}},listenToNode:function(e){this._childrenListener=function(){this.isMounted()&&this.setState({children:this._nodeToChildren(e)})}.bind(this),this._nodeListener=function(){this.isMounted()&&this.forceUpdate()}.bind(this),e.observe("child_added",this._childrenListener),e.observe("child_removed",this._childrenListener),e.observe("loaded",this._childrenListener),e.observe("loading",this._nodeListener),e.observe("node_replaced",this._nodeListener)},stopListening:function(e){e.stopObserving("child_added",this._childrenListener),e.stopObserving("child_removed",this._childrenListener),e.stopObserving("loaded",this._childrenListener),e.stopObserving("loading",this._nodeListener),e.stopObserving("node_replaced",this._nodeListener)},componentDidMount:function(){this.listenToNode(this.props.node)},componentWillUnmount:function(){this.stopListening(this.props.node)},componentWillReceiveProps:function(e){var t=this.props.node,r=e.node;if(r===t&&r.getMetadata().get("paginationData")){var n=this.state.children.map((function(e){return e.setParent(r),e})),o=this.state.children.map((function(e){return e.getPath()}));this._nodeToChildren(r).forEach((function(e){-1===o.indexOf(e.getPath())&&n.push(e)})),this.setState({children:n})}else this.setState({children:this._nodeToChildren(r)});r!==t&&(this.stopListening(t),this.listenToNode(r))},getInitialState:function(){return{showChildren:!this.props.collapse||this.props.forceExpand,children:this._nodeToChildren(this.props.node)}},_nodeToChildren:function(){var e=[];return this.props.node.getChildren().forEach((function(t){t.isLeaf()&&"ajxp_browsable_archive"!==t.getAjxpMime()||e.push(t)})),e.sort((function(e,t){return e.isRecycle()?1:t.isRecycle()?-1:e.getLabel().localeCompare(t.getLabel(),void 0,{numeric:!0})})),e},onNodeSelect:function(e){this.props.onNodeSelect&&this.props.onNodeSelect(this.props.node),e.preventDefault(),e.stopPropagation()},onChildDisplayToggle:function(e){this.props.node.getChildren().size&&this.setState({showChildren:!this.state.showChildren}),e.preventDefault(),e.stopPropagation()},nodeIsSelected:function(e){return this.props.nodeIsSelected?this.props.nodeIsSelected(e):-1!==this.props.dataModel.getSelectedNodes().indexOf(e)},render:function(){var e,r=this.props,o=r.node,i=r.dataModel,a=r.childrenOnly,s=r.canDrop,c=r.isOverCurrent,l=r.checkboxes,u=r.checkboxesComputeStatus,d=r.checkboxesValues,p=r.onCheckboxCheck,f=r.depth,h=r.paddingOffset,m=r.offsetSize,y=r.forceExpand,g=r.selectedItemStyle,b=r.getItemStyle,v=r.getRightIcon,w=r.forceLabel,S=r.showLoader,O=r.noPaginator;if(this.state.children.length)e=t().createElement("span",{onClick:this.onChildDisplayToggle},this.state.showChildren||y?t().createElement("span",{className:"tree-icon mdi mdi-menu-down"}):t().createElement("span",{className:"tree-icon mdi mdi-menu-right"}));else{var E="tree-icon mdi mdi-menu-right";o.isLoaded()&&(E+=" no-folder-children"),e=t().createElement("span",{className:E})}var C,P=this.nodeIsSelected(o)?"mui-menu-item mui-is-selected":"mui-menu-item";if(!a){var T;if(s&&c&&(P+=" droppable-active"),l){var x={},j=!1,A={},z="";if(u){var I=u(o);x=I.VALUES,j=I.INHERITED,A=I.DISABLED,I.CLASSNAME&&(z=" "+I.CLASSNAME)}else d&&d[o.getPath()]&&(x=d[o.getPath()]);var R=[];T=l.map(function(e){var r=void 0!==x[e]&&x[e],n=function(t,r){p(o,e,r)}.bind(this);return r&&R.push(e),t().createElement(k.Checkbox,{name:e,key:e+"-"+(r?"true":"false"),checked:r,onCheck:n,disabled:A[e],className:"cbox-"+e,style:{width:44}})}.bind(this)),P+=j?" inherited ":"",P+=R.length?" checkbox-values-"+R.join("-"):" checkbox-values-empty",T=t().createElement("div",{style:{display:"flex",alignItems:"center"},className:"tree-checkboxes"+z},T)}var M,D={paddingLeft:h+f*m};this.nodeIsSelected(o)&&g&&(D=Zs(Zs({},D),g)),b&&(D=Zs(Zs({},D),b(o))),v&&(M=v(o));var N,L="mdi mdi-folder",U=o.getAjxpMime();"ajxp_browsable_archive"===U?L="mdi mdi-archive":"ajxp_recycle"===U&&(L="mdi mdi-delete"),S&&o.isLoading()&&(N=t().createElement(k.CircularProgress,{size:14,style:{marginLeft:7},thickness:1})),C=t().createElement(nc,{node:o,className:"tree-item "+P+(T?" has-checkboxes":""),style:D},t().createElement("div",{className:"tree-item-label",style:{display:"flex",alignItems:"center"},onClick:this.onNodeSelect,title:o.getLabel(),"data-id":o.getPath()},e,t().createElement("span",{className:"tree-icon "+L}),t().createElement("span",{style:{flex:1}},w||o.getLabel()),N,M),T)}var B=[],F=function(e){return e},q=!1;if(_()&&this.props.connectDropTarget&&this.props.connectDragSource){var W=this.props.connectDragSource,H=this.props.connectDropTarget;F=function(e){W(n().findDOMNode(e)),H(n().findDOMNode(e))},q=!0}return(this.state.showChildren||y)&&(B=this.state.children.map(function(e){var r=Zs(Zs({},this.props),{},{forceLabel:null,childrenOnly:!1,key:e.getPath(),node:e,depth:f+1});return t().createElement(q?ic:oc,r)}.bind(this))),t().createElement("li",{ref:F,className:"treenode"+o.getPath().replace(/\//g,"_")},C,t().createElement("ul",null,!O&&o.getMetadata().has("paginationData")&&parseInt(o.getMetadata().get("paginationData").get("total"))>1&&t().createElement(ac,{node:o,dataModel:i,depth:f+1,offsetSize:m,paddingOffset:h}),B))}}),ic=oc;_()&&(ic=_().flow(_().DragSource(f.NODE_PROVIDER,b,h),_().DropTarget(f.NODE_PROVIDER,v,m))(oc));var ac=function(e){function r(){return Hs(this,r),Gs(this,r,arguments)}return Xs(r,e),Js(r,[{key:"goTo",value:function(e){var t=this.props,r=t.dataModel,n=t.node;n.getMetadata().get("paginationData").set("new_page",e),r.requireContextChange(n)}},{key:"render",value:function(){var e=this,r=this.props,n=r.node,o=r.depth,i=r.paddingOffset,a=r.offsetSize,s={style:{width:24,height:24,padding:0}},c=n.getMetadata().get("paginationData"),l=c.get("current"),u=c.get("total"),d=V().getMessages()[331]+" "+l+" / "+u;return t().createElement("li",null,t().createElement("div",{style:{paddingLeft:i+o*a+5,paddingTop:5,paddingBottom:5,display:"flex",alignItems:"center"}},t().createElement("div",{style:{paddingLeft:14,paddingRight:6},className:"mdi mdi-format-list-bulleted"}),t().createElement("div",{style:{display:"flex",alignItems:"center",borderRadius:3,marginRight:10}},t().createElement(k.IconButton,Ws({iconClassName:"mdi mdi-chevron-left",onClick:function(){e.goTo(l-1)},disabled:1===l},s)),t().createElement("div",{style:{padding:"0 20px",flex:1,textAlign:"center",fontSize:13}},d),t().createElement(k.IconButton,Ws({iconClassName:"mdi mdi-chevron-right",onClick:function(){e.goTo(l+1)},disabled:l===u},s)))))}}])}(t().Component);ac=(0,Q.muiThemeable)()(ac);var sc=function(e){function r(){var e;Hs(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return ec(e=Gs(this,r,[].concat(n)),"onNodeSelect",(function(t){e.props.onNodeSelect?e.props.onNodeSelect(t):e.props.dataModel.setSelectedNodes([t])})),e}return Xs(r,e),Js(r,[{key:"render",value:function(){return t().createElement("ul",{className:this.props.className},t().createElement(ic,{childrenOnly:!this.props.showRoot,forceExpand:this.props.forceExpand,node:this.props.node?this.props.node:this.props.dataModel.getRootNode(),dataModel:this.props.dataModel,onNodeSelect:this.onNodeSelect,nodeIsSelected:this.props.nodeIsSelected,forceLabel:this.props.rootLabel,checkboxes:this.props.checkboxes,checkboxesValues:this.props.checkboxesValues,checkboxesComputeStatus:this.props.checkboxesComputeStatus,onCheckboxCheck:this.props.onCheckboxCheck,selectedItemStyle:this.props.selectedItemStyle,getItemStyle:this.props.getItemStyle,getRightIcon:this.props.getRightIcon,paddingOffset:this.props.paddingOffset,offsetSize:this.props.offsetSize,noPaginator:this.props.noPaginator,showLoader:this.props.showLoader}))}}])}(t().Component);Bs=sc,ec(sc,"propTypes",{showRoot:W().bool,rootLabel:W().string,onNodeSelect:W().func,node:W().instanceOf(AjxpNode).isRequired,dataModel:W().instanceOf(PydioDataModel).isRequired,selectable:W().bool,selectableMultiple:W().bool,initialSelectionModel:W().array,onSelectionChange:W().func,forceExpand:W().bool,nodeIsSelected:W().func,showLoader:W().bool,checkboxes:W().array,checkboxesValues:W().object,checkboxesComputeStatus:W().func,onCheckboxCheck:W().func,paddingOffset:W().number,offsetSize:W().number}),ec(sc,"defaultProps",{showRoot:!0,onNodeSelect:Bs.onNodeSelect});var cc=function(e){function r(){var e;Hs(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return ec(e=Gs(this,r,[].concat(n)),"onNodeSelect",(function(t){e.props.onNodeSelect?e.props.onNodeSelect(t):e.props.dataModel.setSelectedNodes([t])})),e}return Xs(r,e),Js(r,[{key:"render",value:function(){return t().createElement("ul",{className:this.props.className},t().createElement(oc,{childrenOnly:!this.props.showRoot,forceExpand:this.props.forceExpand,node:this.props.node?this.props.node:this.props.dataModel.getRootNode(),dataModel:this.props.dataModel,onNodeSelect:this.onNodeSelect,nodeIsSelected:this.props.nodeIsSelected,forceLabel:this.props.rootLabel,checkboxes:this.props.checkboxes,checkboxesValues:this.props.checkboxesValues,checkboxesComputeStatus:this.props.checkboxesComputeStatus,onCheckboxCheck:this.props.onCheckboxCheck,selectedItemStyle:this.props.selectedItemStyle,getItemStyle:this.props.getItemStyle,getRightIcon:this.props.getRightIcon,paddingOffset:this.props.paddingOffset,offsetSize:this.props.offsetSize,showLoader:this.props.showLoader}))}}])}(t().Component);Fs=cc,ec(cc,"propTypes",{showRoot:W().bool,rootLabel:W().string,onNodeSelect:W().func,node:W().instanceOf(AjxpNode).isRequired,dataModel:W().instanceOf(PydioDataModel).isRequired,selectable:W().bool,selectableMultiple:W().bool,initialSelectionModel:W().array,onSelectionChange:W().func,forceExpand:W().bool,nodeIsSelected:W().func,showLoader:W().bool,checkboxes:W().array,checkboxesValues:W().object,checkboxesComputeStatus:W().func,onCheckboxCheck:W().func,paddingOffset:W().number,offsetSize:W().number}),ec(cc,"defaultProps",{showRoot:!0,onNodeSelect:Fs.onNodeSelect});var lc=function(e){function r(){var e;Hs(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return ec(e=Gs(this,r,[].concat(n)),"nodeObserver",(function(){var t=e.props.dataModel.getRootNode();t.isLoaded()?e.forceUpdate():t.observeOnce("loaded",function(){this.forceUpdate()}.bind(e))})),ec(e,"treeNodeSelected",(function(t){e.props.onNodeSelected?e.props.onNodeSelected(t):e.props.dataModel.requireContextChange(t)})),ec(e,"nodeIsSelected",(function(t){return t===e.props.dataModel.getContextNode()})),e}return Xs(r,e),Js(r,[{key:"componentDidMount",value:function(){var e=this.props.dataModel;this._dmObs=this.nodeObserver,e.observe("context_changed",this._dmObs),e.observe("root_node_changed",this._dmObs),this.nodeObserver()}},{key:"componentWillUnmount",value:function(){if(this._dmObs){var e=this.props.dataModel;e.stopObserving("context_changed",this._dmObs),e.stopObserving("root_node_changed",this._dmObs)}}},{key:"render",value:function(){return this.props.draggable?t().createElement(sc,{onNodeSelect:this.treeNodeSelected,nodeIsSelected:this.nodeIsSelected,dataModel:this.props.dataModel,node:this.props.rootNode||this.props.dataModel.getRootNode(),showRoot:!!this.props.showRoot,selectedItemStyle:this.props.selectedItemStyle,getItemStyle:this.props.getItemStyle,getRightIcon:this.props.getRightIcon,rootLabel:this.props.rootLabel,noPaginator:this.props.noPaginator,paddingOffset:this.props.paddingOffset,offsetSize:this.props.offsetSize,className:"folders-tree"+(this.props.className?" "+this.props.className:"")}):t().createElement(cc,{onNodeSelect:this.treeNodeSelected,nodeIsSelected:this.nodeIsSelected,dataModel:this.props.dataModel,node:this.props.rootNode||this.props.dataModel.getRootNode(),selectedItemStyle:this.props.selectedItemStyle,getItemStyle:this.props.getItemStyle,getRightIcon:this.props.getRightIcon,showRoot:!!this.props.showRoot,rootLabel:this.props.rootLabel,noPaginator:this.props.noPaginator,paddingOffset:this.props.paddingOffset,offsetSize:this.props.offsetSize,className:"folders-tree"+(this.props.className?" "+this.props.className:"")})}}])}(t().Component);function uc(e){return uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(e)}function dc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dc(Object(r),!0).forEach((function(t){fc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fc(e,t,r){return(t=mc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mc(n.key),n)}}function mc(e){var t=function(e){if("object"!=uc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=uc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==uc(t)?t:t+""}function yc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(yc=function(){return!!e})()}function gc(e){return gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gc(e)}function bc(e,t){return bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bc(e,t)}ec(lc,"propTypes",{pydio:W().instanceOf(V()).isRequired,dataModel:W().instanceOf(PydioDataModel).isRequired,className:W().string,onNodeSelected:W().func,draggable:W().bool,rootLabel:W().string});var vc=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=function(e,t,r){return t=gc(t),function(e,t){if(t&&("object"==uc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yc()?Reflect.construct(t,r||[],gc(e).constructor):t.apply(e,r))}(this,r,[e])).state={show:!1},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bc(e,t)}(r,e),function(e,t){return t&&hc(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"show",value:function(){this.setState({show:!0})}},{key:"hide",value:function(){this.setState({show:!1})}},{key:"render",value:function(){if(this.props.tooltip){var e,r={};this.props.label||this.props.labelElement?this.state.show&&(r={bottom:-10,top:"inherit"}):r={position:"relative"},this.props.label?e=t().createElement("span",{className:"ellipsis-label"},this.props.label):this.props.labelElement&&(e=this.props.labelElement);var n=this.props.style||{position:"relative"};return t().createElement("span",{onMouseEnter:this.show.bind(this),onMouseLeave:this.hide.bind(this),style:n,className:this.props.className},e,this.props.children,t().createElement("div",{label:this.props.tooltip,style:pc(pc({},r),{},{display:this.state.show?"block":"none"}),className:this.props.tooltipClassName}))}return this.props.label?t().createElement("span",null,this.props.label):this.props.labelElement?this.props.labelElement:t().createElement("span",null,this.props.children)}}])}(t().Component);function kc(e){return kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(e)}function wc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wc(Object(r),!0).forEach((function(t){Sc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sc(e,t,r){return(t=Ec(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ec(n.key),n)}}function Ec(e){var t=function(e){if("object"!=kc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=kc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==kc(t)?t:t+""}function Cc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Cc=function(){return!!e})()}function Pc(e){return Pc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pc(e)}function Tc(e,t){return Tc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tc(e,t)}var xc=function(e){function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,r){return t=Pc(t),function(e,t){if(t&&("object"==kc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Cc()?Reflect.construct(t,r||[],Pc(e).constructor):t.apply(e,r))}(this,r,[_c({colorIndicator:""},e)])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tc(e,t)}(r,e),function(e,t){return t&&Oc(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"render",value:function(){return t().createElement(k.Paper,{style:{display:"inline-block",marginLeft:16}},t().createElement("div",{className:"figure-badge",style:this.props.colorIndicator?{borderLeftColor:this.props.colorIndicator}:{}},t().createElement("div",{className:"figure"},this.props.figure),t().createElement("div",{className:"legend"},this.props.legend)))}}])}(t().Component);const jc=require("clipboard");var Ac=a.n(jc);function zc(e){return zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(e)}function Ic(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rc(e,t,r){return(t=Dc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dc(n.key),n)}}function Dc(e){var t=function(e){if("object"!=zc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=zc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==zc(t)?t:t+""}function Nc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Nc=function(){return!!e})()}function Lc(e){return Lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lc(e)}function Uc(e,t){return Uc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Uc(e,t)}var Bc=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=function(e,t,r){return t=Lc(t),function(e,t){if(t&&("object"==zc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Nc()?Reflect.construct(t,r||[],Lc(e).constructor):t.apply(e,r))}(this,r,[e])).state={copyMessage:null},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uc(e,t)}(r,e),function(e,t){return t&&Mc(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"componentDidMount",value:function(){this.attachClipboard()}},{key:"componentDidUpdate",value:function(){this.attachClipboard()}},{key:"attachClipboard",value:function(){this._clip&&this._clip.destroy(),this.refs["copy-button"]&&(this._clip=new(Ac())(this.refs["copy-button"],{text:function(e){return this.props.inputValue}.bind(this)}),this._clip.on("success",function(){this.setState({copyMessage:this.props.getMessage(this.props.inputCopyMessage||"192")},this.clearCopyMessage.bind(this))}.bind(this)),this._clip.on("error",function(){var e;e=0===a.g.navigator.platform.indexOf("Mac")?this.props.getMessage("144"):this.props.getMessage("143"),this.refs.input.focus(),this.setState({copyMessage:e},this.clearCopyMessage.bind(this))}.bind(this)))}},{key:"clearCopyMessage",value:function(){a.g.setTimeout(function(){this.setState({copyMessage:""})}.bind(this),3e3)}},{key:"render",value:function(){var e=null;if(this.state.copyMessage){var r=function(){return{__html:this.state.copyMessage}}.bind(this);e=t().createElement("div",{style:{color:"rgba(0,0,0,0.23)"},className:"copy-message",dangerouslySetInnerHTML:r()})}var n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ic(Object(r),!0).forEach((function(t){Rc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ic(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({position:"absolute",right:-8,bottom:13,fontSize:15,color:this.props.buttonColor||"rgba(0, 150, 136, 0.52)",height:26,width:26,lineHeight:"28px",textAlign:"center",cursor:"pointer",borderRadius:"50%"},this.props.buttonStyle);return t().createElement("div",null,t().createElement("div",{style:{position:"relative"}},t().createElement(k.TextField,{fullWidth:!0,ref:"input",floatingLabelText:this.props.floatingLabelText,floatingLabelStyle:{whiteSpace:"nowrap"},underlineShow:this.props.underlineShow,defaultValue:this.props.inputValue,className:this.props.inputClassName,multiLine:this.props.multiLine,rows:this.props.rows,rowsMax:this.props.rowsMax,readOnly:!0,onClick:function(e){e.currentTarget.select()},style:{marginTop:-10,width:"92%",fontSize:14}}),t().createElement("span",{ref:"copy-button",style:n,title:this.props.getMessage("191"),className:"copy-button mdi mdi-content-copy"})),e)}}])}(t().Component),Fc=a(418),qc=a(6925),Wc=e.createContext(),Hc=a(5943),Vc=a(1006);var Jc=(0,Hc.A)();const Gc=function(){return function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=e.useContext(Vc.T);return n&&(t=n,0!==Object.keys(t).length)?n:r}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jc)};var Kc=a(6619),$c=a(1094);function Xc(){var e=Gc(Kc.A);return e[$c.A]||e}var Yc=a(2084);function Qc(e,t){return Qc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qc(e,t)}const Zc=t().createContext(null);var el="unmounted",tl="exited",rl="entering",nl="entered",ol="exiting",il=function(e){function r(t,r){var n;n=e.call(this,t,r)||this;var o,i=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?i?(o=tl,n.appearStatus=rl):o=nl:o=t.unmountOnExit||t.mountOnEnter?el:tl,n.state={status:o},n.nextCallback=null,n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Qc(e,t)}(r,e),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===el?{status:tl}:null};var o=r.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==rl&&r!==nl&&(t=rl):r!==rl&&r!==nl||(t=ol)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===rl){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:n().findDOMNode(this);r&&function(e){e.scrollTop}(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===tl&&this.setState({status:el})},o.performEnter=function(e){var t=this,r=this.props.enter,o=this.context?this.context.isMounting:e,i=this.props.nodeRef?[o]:[n().findDOMNode(this),o],a=i[0],s=i[1],c=this.getTimeouts(),l=o?c.appear:c.enter;e||r?(this.props.onEnter(a,s),this.safeSetState({status:rl},(function(){t.props.onEntering(a,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:nl},(function(){t.props.onEntered(a,s)}))}))}))):this.safeSetState({status:nl},(function(){t.props.onEntered(a)}))},o.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),o=this.props.nodeRef?void 0:n().findDOMNode(this);t?(this.props.onExit(o),this.safeSetState({status:ol},(function(){e.props.onExiting(o),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:tl},(function(){e.props.onExited(o)}))}))}))):this.safeSetState({status:tl},(function(){e.props.onExited(o)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:n().findDOMNode(this),o=null==e&&!this.props.addEndListener;if(r&&!o){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],a=i[0],s=i[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===el)return null;var r=this.props,n=r.children,o=(r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef,(0,ke.A)(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t().createElement(Zc.Provider,{value:null},"function"==typeof n?n(e,o):t().cloneElement(t().Children.only(n),o))},r}(t().Component);function al(){}il.contextType=Zc,il.propTypes={},il.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:al,onEntering:al,onEntered:al,onExit:al,onExiting:al,onExited:al},il.UNMOUNTED=el,il.EXITED=tl,il.ENTERING=rl,il.ENTERED=nl,il.EXITING=ol;const sl=il;function cl(e){return cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(e)}function ll(e,t){var r,n,o=e.timeout,i=e.easing,a=e.style,s=void 0===a?{}:a;return{duration:null!=(r=s.transitionDuration)?r:"number"==typeof o?o:o[t.mode]||0,easing:null!=(n=s.transitionTimingFunction)?n:"object"===cl(i)?i[t.mode]:i,delay:s.transitionDelay}}var ul=a(2026),dl=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function pl(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var fl={entering:{opacity:1,transform:pl(1)},entered:{opacity:1,transform:"none"}},hl="undefined"!=typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),ml=e.forwardRef((function(t,r){var n=t.addEndListener,o=t.appear,i=void 0===o||o,a=t.children,s=t.easing,c=t.in,l=t.onEnter,u=t.onEntered,d=t.onEntering,p=t.onExit,f=t.onExited,h=t.onExiting,m=t.style,y=t.timeout,g=void 0===y?"auto":y,b=t.TransitionComponent,v=void 0===b?sl:b,k=(0,ke.A)(t,dl),w=(0,Fc.A)(),_=e.useRef(),S=Xc(),O=e.useRef(null),E=(0,ul.A)(O,a.ref,r),C=function(e){return function(t){if(e){var r=O.current;void 0===t?e(r):e(r,t)}}},P=C(d),T=C((function(e,t){!function(e){e.scrollTop}(e);var r,n=ll({style:m,timeout:g,easing:s},{mode:"enter"}),o=n.duration,i=n.delay,a=n.easing;"auto"===g?(r=S.transitions.getAutoHeightDuration(e.clientHeight),_.current=r):r=o,e.style.transition=[S.transitions.create("opacity",{duration:r,delay:i}),S.transitions.create("transform",{duration:hl?r:.666*r,delay:i,easing:a})].join(","),l&&l(e,t)})),x=C(u),j=C(h),A=C((function(e){var t,r=ll({style:m,timeout:g,easing:s},{mode:"exit"}),n=r.duration,o=r.delay,i=r.easing;"auto"===g?(t=S.transitions.getAutoHeightDuration(e.clientHeight),_.current=t):t=n,e.style.transition=[S.transitions.create("opacity",{duration:t,delay:o}),S.transitions.create("transform",{duration:hl?t:.666*t,delay:hl?o:o||.333*t,easing:i})].join(","),e.style.opacity=0,e.style.transform=pl(.75),p&&p(e)})),z=C(f);return(0,Bt.jsx)(v,(0,ve.A)({appear:i,in:c,nodeRef:O,onEnter:T,onEntered:x,onEntering:P,onExit:A,onExited:z,onExiting:j,addEndListener:function(e){"auto"===g&&w.start(_.current||0,e),n&&n(O.current,e)},timeout:"auto"===g?null:g},k,{children:function(t,r){return e.cloneElement(a,(0,ve.A)({style:(0,ve.A)({opacity:0,transform:pl(.75),visibility:"exited"!==t||c?void 0:"hidden"},fl[t],m,a.props.style),ref:E},r))}}))}));ml.muiSupportAuto=!0;const yl=ml;var gl=a(1824),bl=a(8846),vl=a(2909),kl=a(533);function wl(e){return(0,Ht.Ay)("MuiTooltip",e)}const _l=(0,Wt.A)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function Sl(e){return Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(e)}function Ol(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return El(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?El(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function El(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Cl(e,t,r){return(t=function(e){var t=function(e){if("object"!=Sl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Sl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Sl(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pl=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"],Tl=(0,er.Ay)(or,{name:"MuiTooltip",slot:"Popper",overridesResolver:function(e,t){var r=e.ownerState;return[t.popper,!r.disableInteractive&&t.popperInteractive,r.arrow&&t.popperArrow,!r.open&&t.popperClose]}})((function(e){var t=e.theme,r=e.ownerState,n=e.open;return(0,ve.A)({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!r.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},r.arrow&&Cl(Cl(Cl(Cl({},'&[data-popper-placement*="bottom"] .'.concat(_l.arrow),{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}}),'&[data-popper-placement*="top"] .'.concat(_l.arrow),{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}}),'&[data-popper-placement*="right"] .'.concat(_l.arrow),(0,ve.A)({},r.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}})),'&[data-popper-placement*="left"] .'.concat(_l.arrow),(0,ve.A)({},r.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})))})),xl=(0,er.Ay)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:function(e,t){var r=e.ownerState;return[t.tooltip,r.touch&&t.touch,r.arrow&&t.tooltipArrow,t["tooltipPlacement".concat((0,Yc.A)(r.placement.split("-")[0]))]]}})((function(e){var t,r=e.theme,n=e.ownerState;return(0,ve.A)({backgroundColor:r.vars?r.vars.palette.Tooltip.bg:(0,qc.X4)(r.palette.grey[700],.92),borderRadius:(r.vars||r).shape.borderRadius,color:(r.vars||r).palette.common.white,fontFamily:r.typography.fontFamily,padding:"4px 8px",fontSize:r.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:r.typography.fontWeightMedium},n.arrow&&{position:"relative",margin:0},n.touch&&{padding:"8px 16px",fontSize:r.typography.pxToRem(14),lineHeight:"".concat((t=16/14,Math.round(1e5*t)/1e5),"em"),fontWeight:r.typography.fontWeightRegular},Cl(Cl(Cl(Cl({},".".concat(_l.popper,'[data-popper-placement*="left"] &'),(0,ve.A)({transformOrigin:"right center"},n.isRtl?(0,ve.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}):(0,ve.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"}))),".".concat(_l.popper,'[data-popper-placement*="right"] &'),(0,ve.A)({transformOrigin:"left center"},n.isRtl?(0,ve.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"}):(0,ve.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}))),".".concat(_l.popper,'[data-popper-placement*="top"] &'),(0,ve.A)({transformOrigin:"center bottom",marginBottom:"14px"},n.touch&&{marginBottom:"24px"})),".".concat(_l.popper,'[data-popper-placement*="bottom"] &'),(0,ve.A)({transformOrigin:"center top",marginTop:"14px"},n.touch&&{marginTop:"24px"})))})),jl=(0,er.Ay)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:function(e,t){return t.arrow}})((function(e){var t=e.theme;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,qc.X4)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}})),Al=!1,zl=new Fc.E,Il={x:0,y:0};function Rl(e,t){return function(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];t&&t.apply(void 0,[r].concat(o)),e.apply(void 0,[r].concat(o))}}const Ml=e.forwardRef((function(t,r){var n,o,i,a,s,c,l,u,d,p,f,h,m,y,g,b,v,k,w,_,S=(0,tr.b)({props:t,name:"MuiTooltip"}),O=S.arrow,E=void 0!==O&&O,C=S.children,P=S.components,T=void 0===P?{}:P,x=S.componentsProps,j=void 0===x?{}:x,A=S.describeChild,z=void 0!==A&&A,I=S.disableFocusListener,R=void 0!==I&&I,M=S.disableHoverListener,D=void 0!==M&&M,N=S.disableInteractive,L=void 0!==N&&N,U=S.disableTouchListener,B=void 0!==U&&U,F=S.enterDelay,q=void 0===F?100:F,W=S.enterNextDelay,H=void 0===W?0:W,V=S.enterTouchDelay,J=void 0===V?700:V,G=S.followCursor,K=void 0!==G&&G,$=S.id,X=S.leaveDelay,Y=void 0===X?0:X,Q=S.leaveTouchDelay,Z=void 0===Q?1500:Q,ee=S.onClose,te=S.onOpen,re=S.open,ne=S.placement,oe=void 0===ne?"bottom":ne,ie=S.PopperComponent,ae=S.PopperProps,se=void 0===ae?{}:ae,ce=S.slotProps,le=void 0===ce?{}:ce,ue=S.slots,de=void 0===ue?{}:ue,pe=S.title,fe=S.TransitionComponent,he=void 0===fe?yl:fe,me=S.TransitionProps,ye=(0,ke.A)(S,Pl),ge=e.isValidElement(C)?C:(0,Bt.jsx)("span",{children:C}),be=Xc(),we=null!=(_=e.useContext(Wc))&&_,_e=Ol(e.useState(),2),Se=_e[0],Oe=_e[1],Ee=Ol(e.useState(null),2),Ce=Ee[0],Pe=Ee[1],Te=e.useRef(!1),xe=L||K,je=(0,Fc.A)(),Ae=(0,Fc.A)(),ze=(0,Fc.A)(),Ie=(0,Fc.A)(),Re=Ol((0,kl.A)({controlled:re,default:!1,name:"Tooltip",state:"open"}),2),Me=Re[0],De=Re[1],Ne=Me,Le=(0,bl.A)($),Ue=e.useRef(),Be=(0,gl.A)((function(){void 0!==Ue.current&&(document.body.style.WebkitUserSelect=Ue.current,Ue.current=void 0),Ie.clear()}));e.useEffect((function(){return Be}),[Be]);var Fe=function(e){zl.clear(),Al=!0,De(!0),te&&!Ne&&te(e)},qe=(0,gl.A)((function(e){zl.start(800+Y,(function(){Al=!1})),De(!1),ee&&Ne&&ee(e),je.start(be.transitions.duration.shortest,(function(){Te.current=!1}))})),We=function(e){Te.current&&"touchstart"!==e.type||(Se&&Se.removeAttribute("title"),Ae.clear(),ze.clear(),q||Al&&H?Ae.start(Al?H:q,(function(){Fe(e)})):Fe(e))},He=function(e){Ae.clear(),ze.start(Y,(function(){qe(e)}))},Ve=(0,vl.A)(),Je=Ve.isFocusVisibleRef,Ge=Ve.onBlur,Ke=Ve.onFocus,$e=Ve.ref,Xe=Ol(e.useState(!1),2)[1],Ye=function(e){Ge(e),!1===Je.current&&(Xe(!1),He(e))},Qe=function(e){Se||Oe(e.currentTarget),Ke(e),!0===Je.current&&(Xe(!0),We(e))},Ze=function(e){Te.current=!0;var t=ge.props;t.onTouchStart&&t.onTouchStart(e)};e.useEffect((function(){if(Ne)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||qe(e)}}),[qe,Ne]);var et=(0,ul.A)(ge.ref,$e,Oe,r);pe||0===pe||(Ne=!1);var tt=e.useRef(),rt={},nt="string"==typeof pe;z?(rt.title=Ne||!nt||D?null:pe,rt["aria-describedby"]=Ne?Le:null):(rt["aria-label"]=nt?pe:null,rt["aria-labelledby"]=Ne&&!nt?Le:null);var ot=(0,ve.A)({},rt,ye,ge.props,{className:(0,Mt.A)(ye.className,ge.props.className),onTouchStart:Ze,ref:et},K?{onMouseMove:function(e){var t=ge.props;t.onMouseMove&&t.onMouseMove(e),Il={x:e.clientX,y:e.clientY},tt.current&&tt.current.update()}}:{}),it={};B||(ot.onTouchStart=function(e){Ze(e),ze.clear(),je.clear(),Be(),Ue.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ie.start(J,(function(){document.body.style.WebkitUserSelect=Ue.current,We(e)}))},ot.onTouchEnd=function(e){ge.props.onTouchEnd&&ge.props.onTouchEnd(e),Be(),ze.start(Z,(function(){qe(e)}))}),D||(ot.onMouseOver=Rl(We,ot.onMouseOver),ot.onMouseLeave=Rl(He,ot.onMouseLeave),xe||(it.onMouseOver=We,it.onMouseLeave=He)),R||(ot.onFocus=Rl(Qe,ot.onFocus),ot.onBlur=Rl(Ye,ot.onBlur),xe||(it.onFocus=Qe,it.onBlur=Ye));var at=e.useMemo((function(){var e,t=[{name:"arrow",enabled:Boolean(Ce),options:{element:Ce,padding:4}}];return null!=(e=se.popperOptions)&&e.modifiers&&(t=t.concat(se.popperOptions.modifiers)),(0,ve.A)({},se.popperOptions,{modifiers:t})}),[Ce,se]),st=(0,ve.A)({},S,{isRtl:we,arrow:E,disableInteractive:xe,placement:oe,PopperComponentProp:ie,touch:Te.current}),ct=function(e){var t=e.classes,r=e.disableInteractive,n=e.arrow,o=e.touch,i=e.placement,a={popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",o&&"touch","tooltipPlacement".concat((0,Yc.A)(i.split("-")[0]))],arrow:["arrow"]};return(0,It.A)(a,wl,t)}(st),lt=null!=(n=null!=(o=de.popper)?o:T.Popper)?n:Tl,ut=null!=(i=null!=(a=null!=(s=de.transition)?s:T.Transition)?a:he)?i:yl,dt=null!=(c=null!=(l=de.tooltip)?l:T.Tooltip)?c:xl,pt=null!=(u=null!=(d=de.arrow)?d:T.Arrow)?u:jl,ft=Rt(lt,(0,ve.A)({},se,null!=(p=le.popper)?p:j.popper,{className:(0,Mt.A)(ct.popper,null==se?void 0:se.className,null==(f=null!=(h=le.popper)?h:j.popper)?void 0:f.className)}),st),ht=Rt(ut,(0,ve.A)({},me,null!=(m=le.transition)?m:j.transition),st),mt=Rt(dt,(0,ve.A)({},null!=(y=le.tooltip)?y:j.tooltip,{className:(0,Mt.A)(ct.tooltip,null==(g=null!=(b=le.tooltip)?b:j.tooltip)?void 0:g.className)}),st),yt=Rt(pt,(0,ve.A)({},null!=(v=le.arrow)?v:j.arrow,{className:(0,Mt.A)(ct.arrow,null==(k=null!=(w=le.arrow)?w:j.arrow)?void 0:k.className)}),st);return(0,Bt.jsxs)(e.Fragment,{children:[e.cloneElement(ge,ot),(0,Bt.jsx)(lt,(0,ve.A)({as:null!=ie?ie:or,placement:oe,anchorEl:K?{getBoundingClientRect:function(){return{top:Il.y,left:Il.x,right:Il.x,bottom:Il.y,width:0,height:0}}}:Se,popperRef:tt,open:!!Se&&Ne,id:Le,transition:!0},it,ft,{popperOptions:at,children:function(e){var t=e.TransitionProps;return(0,Bt.jsx)(ut,(0,ve.A)({timeout:be.transitions.duration.shorter},t,ht,{children:(0,Bt.jsxs)(dt,(0,ve.A)({},mt,{children:[pe,E?(0,Bt.jsx)(pt,(0,ve.A)({},yt,{ref:Pe})):null]}))}))}}))]})}));function Dl(e){return Dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(e)}function Nl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ll(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kl(n.key),n)}}function Ul(e,t,r){return t&&Ll(e.prototype,t),r&&Ll(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bl(e,t,r){return t=ql(t),function(e,t){if(t&&("object"==Dl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Fl()?Reflect.construct(t,r||[],ql(e).constructor):t.apply(e,r))}function Fl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Fl=function(){return!!e})()}function ql(e){return ql=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ql(e)}function Wl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hl(e,t)}function Hl(e,t){return Hl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hl(e,t)}function Vl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vl(Object(r),!0).forEach((function(t){Gl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gl(e,t,r){return(t=Kl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kl(e){var t=function(e){if("object"!=Dl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Dl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Dl(t)?t:t+""}var $l=V().requireLib("hoc"),Xl=$l.PlaceHolder,Yl=$l.PhRoundShape,Ql=$l.PhTextRow,Zl=($l.AdditionalIcons,64),eu=(0,Q.muiThemeable)()((function(e){var r=e.legend,n=e.data,o=e.legendStyle,i=e.dataStyle,a=(e.placeHolder,e.placeHolderReady,e.muiTheme),s={legend:Jl({fontSize:14,color:a.palette.mui3["on-surface"],fontWeight:500},o),data:Jl({fontSize:12,color:a.palette.mui3["on-surface-variant"],paddingRight:6,overflow:"hidden",textOverflow:"ellipsis"},i)};return t().createElement("div",{style:{marginBottom:20}},t().createElement("div",{style:s.legend},r),t().createElement("div",{style:s.data},n))})),tu=function(e){function r(){return Nl(this,r),Bl(this,r,arguments)}return Wl(r,e),Ul(r,[{key:"render",value:function(){var e=this.props,r=e.iconClassName,n=e.legend,o=e.data,i=e.dataStyle,a=e.legendStyle,s=e.iconStyle,c=e.placeHolder,l=e.placeHolderReady,u=e.muiTheme,d={icon:Jl({margin:"16px 20px 0"},s),legend:Jl({fontSize:12,color:u.palette.mui3["on-surface"],fontWeight:500},a),data:Jl({fontSize:14,paddingRight:6,overflow:"hidden",textOverflow:"ellipsis"},i)},p=t().createElement("div",{style:Jl({display:"flex",marginBottom:8,overflow:"hidden"},this.props.style)},t().createElement("div",{style:{width:Zl}},t().createElement(k.FontIcon,{color:u.palette.mui3.secondary||"#aaaaaa",className:r,style:d.icon})),t().createElement("div",{style:{flex:1}},t().createElement("div",{style:d.legend},n),t().createElement("div",{style:d.data},o)));if(c){var f=t().createElement("div",{style:Jl({display:"flex",marginBottom:16,overflow:"hidden"},this.props.style)},t().createElement("div",{style:{width:Zl}},t().createElement(Yl,{style:{width:35,height:35,margin:"10px 15px 0"}})),t().createElement("div",{style:{flex:1}},t().createElement("div",{style:Jl(Jl({},d.legend),{},{maxWidth:100})},t().createElement(Ql,null)),t().createElement("div",{style:Jl(Jl({},d.data),{},{marginRight:24})},t().createElement(Ql,{style:{height:"1.3em",marginTop:"0.4em"}}))));return t().createElement(Xl,{ready:l,showLoadingAnimation:!0,customPlaceholder:f},p)}return p}}])}(t().Component);tu=(0,Q.muiThemeable)()(tu);var ru=function(e){function r(){return Nl(this,r),Bl(this,r,arguments)}return Wl(r,e),Ul(r,[{key:"render",value:function(){var e=this.props,r=e.title,n=e.onDismissAction,o=e.onEditAction,i=e.onDeleteAction,a=e.otherActions,s=e.moreMenuItems,c=e.children,l=e.muiTheme,u=e.style,d=e.headerSmall,p=e.smallActionsBottom,f=e.genericFlex,h=e.editTooltip,m=e.deleteTooltip,y=e.mui3,g=void 0!==y&&y,b=e.topLeftAvatar,v=l.palette.mui3["secondary-container"],w=l.palette.mui3["on-secondary-container"],_=l.palette.mui3.primary,S={headerHeight:"auto",buttonBarHeight:60,headerBg:v,headerColor:w,buttonBar:{display:"flex",height:60},fabTop:80,button:{style:{height:40,width:40,padding:8},iconStyle:{color:_}},title:{paddingLeft:o?Zl:20,fontSize:20,lineHeight:"26px",paddingBottom:16}};g&&(S.headerBg="transparent",S.childrenContainer={padding:"0 20px"},S.buttonBar={padding:20,display:"flex",alignItems:"center"},S.title={fontSize:22,lineHeight:"26px",padding:"0px 20px 16px"}),d&&(S={headerHeight:"auto",headerBg:v,headerColor:w,buttonBar:{display:"flex",alignItems:"center",height:42,padding:"0 7px 0 16px"},fabTop:60,button:{style:{width:38,height:38,padding:9},iconStyle:{color:_,fontSize:18}}}),f&&(S.mainContainer={height:"100%",display:"flex",flexDirection:"column"},S.childrenContainer={flex:1});var O=[],E={padding:"0 4px"};return o&&O.push(t().createElement(Ml,{title:t().createElement("span",{style:E},h),placement:p?"top-end":"bottom-end"},t().createElement("span",null,t().createElement(k.IconButton,{style:S.button.style,iconStyle:S.button.iconStyle,iconClassName:"mdi mdi-pencil",onClick:o})))),i&&O.push(t().createElement(Ml,{title:t().createElement("span",{style:E},m),placement:p?"top-end":"bottom-end"},t().createElement("span",null,t().createElement(k.IconButton,{style:Jl(Jl({},S.button.style),{},{padding:7}),iconClassName:"mdi mdi-delete-outline",iconStyle:S.button.iconStyle,onClick:i})))),t().createElement("div",{style:Jl(Jl({width:"100%",position:"relative",overflowX:"hidden"},S.mainContainer),u)},t().createElement(k.Paper,{zDepth:0,style:{backgroundColor:S.headerBg,color:S.headerColor,height:S.headerHeight,borderRadius:"2px 2px 0 0"}},t().createElement("div",{style:S.buttonBar},b,d&&t().createElement("span",{style:{flex:1,fontSize:14,fontWeight:500}},r),!d&&t().createElement("span",{style:{flex:1}}),a,d&&!p&&O,s&&s.length>0&&t().createElement(k.IconMenu,{anchorOrigin:{vertical:"top",horizontal:d?"right":"left"},targetOrigin:{vertical:"top",horizontal:d?"right":"left"},iconButtonElement:t().createElement(k.IconButton,{style:S.button.style,iconStyle:S.button.iconStyle,iconClassName:"mdi mdi-dots-vertical"})},s),n&&t().createElement(k.IconButton,{style:Jl(Jl({},S.button.style),{},{backgroundColor:l.palette.mui3["surface-variant"],borderRadius:"50%"}),iconStyle:S.button.iconStyle,iconClassName:"mdi mdi-close",onClick:n})),!d&&t().createElement("div",{style:S.title},r)),t().createElement("div",{style:Jl({paddingTop:12,paddingBottom:8,position:"relative"},S.childrenContainer)},!g&&o&&!d&&t().createElement(k.FloatingActionButton,{onClick:o,backgroundColor:l.palette.mui3.tertiary,mini:!0,style:{position:"absolute",top:-20,left:10}},t().createElement(k.FontIcon,{className:"mdi mdi-pencil",style:{color:l.palette.mui3["on-tertiary"]}})),c),d&&p&&t().createElement("div",{style:{display:"flex",borderTop:"1px solid "+l.palette.mui3["outline-variant"]}},t().createElement("span",{style:{flex:1}}),O),(o||i)&&!d&&g&&t().createElement("div",{style:{padding:"12px 0",margin:"0 20px",display:"flex",borderTop:"1px solid "+l.palette.mui3["outline-variant"]}},t().createElement("span",{style:{flex:1}}),i&&t().createElement(k.FlatButton,{label:m,onClick:function(){return i()}}),o&&t().createElement(k.RaisedButton,{style:{marginLeft:5},label:h,onClick:function(){return o()}})))}}])}(t().Component);function nu(e){return nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(e)}function ou(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iu(n.key),n)}}function iu(e){var t=function(e){if("object"!=nu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=nu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nu(t)?t:t+""}function au(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(au=function(){return!!e})()}function su(e){return su=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},su(e)}function cu(e,t){return cu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cu(e,t)}ru=(0,Q.muiThemeable)()(ru);var lu=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,r){return t=su(t),function(e,t){if(t&&("object"==nu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,au()?Reflect.construct(t,r||[],su(e).constructor):t.apply(e,r))}(this,r,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cu(e,t)}(r,e),function(e,t){return t&&ou(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"render",value:function(){var e=this.props,r=e.node,n=e.mui3,o=parseInt(r.getMetadata().get("ws_quota_usage")),i=parseInt(r.getMetadata().get("ws_quota"));o=Math.min(o,i);var a=Math.round(o/i*100),s="#4caf50";a>90?s="#e53935":a>60&&(s="#ff9800");var c=V().getMessages()["workspace.quota-usage"]+" ("+be().roundFileSize(i)+")",l=t().createElement("div",{style:{display:"flex",maxWidth:200,alignItems:"center",marginTop:5}},t().createElement("div",{style:{flex:1,paddingRight:12}},t().createElement(k.LinearProgress,{mode:"determinate",min:0,max:i,value:o,color:s})),t().createElement("div",{style:{color:"#bdbdbd",fontWeight:500,fontSize:15}},a,"%"));return n?t().createElement(eu,{legend:c,data:l}):t().createElement(tu,{iconClassName:"mdi mdi-gauge",legend:c,data:l,iconStyle:{marginTop:30}})}}])}(t().Component);function uu(e){return uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(e)}var du=["style","titleStyle","iconStyleRight","iconStyleLeft"];function pu(){return pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pu.apply(null,arguments)}function fu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fu(Object(r),!0).forEach((function(t){mu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mu(e,t,r){return(t=function(e){var t=function(e){if("object"!=uu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=uu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==uu(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yu(e){return yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(e)}function gu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bu(n.key),n)}}function bu(e){var t=function(e){if("object"!=yu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=yu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==yu(t)?t:t+""}function vu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vu=function(){return!!e})()}function ku(e){return ku=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ku(e)}function wu(e,t){return wu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wu(e,t)}var _u={node:W().instanceOf(AjxpNode).isRequired,registry:W().instanceOf(Registry).isRequired,editorData:W().object.isRequired,icon:W().bool},Su=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=function(e,t,r){return t=ku(t),function(e,t){if(t&&("object"==yu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vu()?Reflect.construct(t,r||[],ku(e).constructor):t.apply(e,r))}(this,r,[e])).state={ready:!1},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wu(e,t)}(r,e),function(e,t){return t&&gu(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.editorData;t.registry.loadEditorResources(r.resourcesManager,(function(){return e.setState({ready:!0})}))}},{key:"render",value:function(){var e,r=this.props.editorData;return this.state.ready?(e=FuncUtils.getFunctionByName(r.editorClass,window))?t().createElement(e.Editor,this.props):t().createElement("div",null,"Cannot find editor component ("+r.editorClass+")!"):null}}])}(t().Component);Su.propTypes=_u,Su.defaultProps={icon:!1};const Ou=Su;var Eu=a(9298),Cu=a.n(Eu),Pu=a(5840),Tu=a.n(Pu);function xu(e){return xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(e)}function ju(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Au(n.key),n)}}function Au(e){var t=function(e){if("object"!=xu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=xu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xu(t)?t:t+""}function zu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(zu=function(){return!!e})()}function Iu(e){return Iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Iu(e)}function Ru(e,t){return Ru=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ru(e,t)}var Mu=function(){function e(t,r,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(o=function(e,t,r){return t=Iu(t),function(e,t){if(t&&("object"==xu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zu()?Reflect.construct(t,r||[],Iu(e).constructor):t.apply(e,r))}(this,e))._namespace=t,o._pydio=n,o._cards=o.getUserPreference("Cards"),o._cards||(o._cards=r),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ru(e,t)}(e,Observable),function(e,t){return t&&ju(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,[{key:"getUserPreference",value:function(e){return this._pydio.user.getLayoutPreference(this._namespace+e,null)}},{key:"saveUserPreference",value:function(e,t){this._pydio.user.setLayoutPreference(this._namespace+e,t)}},{key:"saveCards",value:function(e){this.saveUserPreference("Cards",e)}},{key:"resetCards",value:function(){this.saveUserPreference("Cards",null)}},{key:"setCards",value:function(e){this._cards=e,this.notify("cards",this._cards),this.saveCards(e)}},{key:"getCards",value:function(){return this._cards}},{key:"removeCard",value:function(e){var t,r=-1,n=this.getCards();n.map((function(t,n){t.id==e&&(r=n)})),-1!=r?(t=0==r?n.slice(1):r==n.length-1?n.slice(0,-1):n.slice(0,r).concat(n.slice(r+1)),this.setCards(t)):console.warn("Card ID not found, this is strange.",e)}},{key:"createCardId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=LangUtils.computeStringSlug(e.title);t&&(r+="-"+Math.round(100*Math.random()+10));var n=!1;return this._cards.map(function(e){e.id==r&&(n=!0)}.bind(this)),n&&(r=this.createCardId(e,!0)),r}},{key:"addCard",value:function(e){e.id=this.createCardId(e),this.setCards(this._cards.concat([e]))}}])}();function Du(e){return Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(e)}function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nu.apply(null,arguments)}function Lu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Uu(n.key),n)}}function Uu(e){var t=function(e){if("object"!=Du(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Du(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Du(t)?t:t+""}function Bu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Bu=function(){return!!e})()}function Fu(e){return Fu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fu(e)}function qu(e,t){return qu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qu(e,t)}var Wu=a(2015),Hu=a(4217).requireLib("boot"),Vu=Hu.PydioContextConsumer,Ju=Hu.AsyncComponent,Gu=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t,r){return t=Fu(t),function(e,t){if(t&&("object"==Du(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Bu()?Reflect.construct(t,r||[],Fu(e).constructor):t.apply(e,r))}(this,t,[e])).state={selectedIndex:0,availableWidgets:r.listAvailableWidgets()},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qu(e,t)}(t,e),function(e,t){return t&&Lu(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"listAvailableWidgets",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[],r=[];return this.props.namespaces.map((function(e){if(a.g[e]){for(var n in a.g[e])if(a.g[e].hasOwnProperty(n)){var o=a.g[e][n];o.hasBuilderFields&&o.hasBuilderFields()&&t.push({reactClass:o,fullName:e+"."+o.displayName})}}else r.push(e)})),r.length&&!e&&ResourcesManager.loadClassesAndApply(r,function(){this.setState({availableWidgets:this.listAvailableWidgets(!0)})}.bind(this)),t}},{key:"onDropDownChange",value:function(e,t,r){var n={};0!=t&&r.payload.reactClass.getBuilderFields().map((function(e){e.default&&(n[e.name]=e.default)})),this.props.onEditStatusChange&&this.props.onEditStatusChange(0!=t),this.setState({selectedIndex:t,selectedWidget:r.payload,currentFormValues:n})}},{key:"cancel",value:function(){this.props.onEditStatusChange&&this.props.onEditStatusChange(!1),this.setState({selectedIndex:0})}},{key:"onFormValueChange",value:function(e){this.setState({currentFormValues:e})}},{key:"onFormSubmit",value:function(){var e=this.state.currentFormValues,t=this.state.selectedWidget,r=e.title?e.title:e.legend;r||(r=this.state.selectedWidget.reactClass.builderDisplayName),this.props.onCreateCard({componentClass:t.fullName,title:r,props:e}),this.cancel()}},{key:"resetLayout",value:function(){window.confirm(this.props.getMessage("home.51"))&&this.props.onResetLayout()}},{key:"render",value:function(){var e,t,r=this.props.getMessage,n=([{payload:0,text:r("home.50")}].concat(this.state.availableWidgets.map((function(e,t){return{payload:e,text:e.reactClass.builderDisplayName}}))),Wu.createElement("div",null,"DropDownMenu (to be re-implemented)"));if(0!==this.state.selectedIndex){var o=this.state.selectedWidget.reactClass.getBuilderFields(),i={};o.map((function(e){e.default&&(i[e.name]=e.default)})),this.state.currentFormValues&&(i=LangUtils.mergeObjectsRecursive(i,this.state.currentFormValues)),e=Wu.createElement(Ju,{namespace:"PydioForm",componentName:"FormPanel",parameters:o,depth:-1,values:i,onChange:this.onFormValueChange}),t=Wu.createElement("div",{style:{textAlign:"center",paddingBottom:100}},Wu.createElement(k.RaisedButton,{label:r("home.52"),onClick:this.onFormSubmit})," ",Wu.createElement(k.RaisedButton,{label:r("54",""),onClick:this.cancel}))}return Wu.createElement(k.Paper,Nu({},this.props,{zDepth:3}),Wu.createElement("h3",null,r("home.53")),Wu.createElement("div",{className:"legend"},r("home.54"),Wu.createElement("br",null),r("home.55")),n,e,t,Wu.createElement("div",{style:{position:"absolute",bottom:30,left:10}},Wu.createElement(k.FlatButton,{disabled:0!=this.state.selectedIndex,label:r("home.56"),secondary:!0,onClick:this.resetLayout})))}}])}(Wu.Component);function Ku(e){return Ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(e)}function $u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$u(Object(r),!0).forEach((function(t){Yu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yu(e,t,r){return(t=td(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,td(n.key),n)}}function ed(e,t,r){return t&&Zu(e.prototype,t),r&&Zu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function td(e){var t=function(e){if("object"!=Ku(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ku(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ku(t)?t:t+""}function rd(e,t,r){return t=od(t),function(e,t){if(t&&("object"==Ku(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nd()?Reflect.construct(t,r||[],od(e).constructor):t.apply(e,r))}function nd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nd=function(){return!!e})()}function od(e){return od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},od(e)}function id(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ad(e,t)}function ad(e,t){return ad=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ad(e,t)}Gu=Vu(Gu);var sd=a(2015),cd=a(4217).requireLib("boot").PydioContextConsumer,ld=function(t){function r(e,t){var n;return Qu(this,r),(n=rd(this,r,[e,t]))._storeObserver=function(t){var r=this;this._forceUpdate=!0,this.setState({cards:e.store.getCards()},(function(){r._forceUpdate=!1}))}.bind(n),e.store.observe("cards",n._storeObserver),n.state={cards:e.store.getCards()},n.requests=[],n.throttle=Un().getThrottler({concurrent:6}),n.restClient=Un().getRestClient({silent:!0,plugins:[n.throttle.plugin(),function(e){return n.requests.push(e),e}]}),a.e(634).then(a.t.bind(a,898,23)).then((function(e){n.setState({rgl:e.default})})),n}return id(r,t),ed(r,[{key:"saveFullLayouts",value:function(e){var t={};Object.keys(e).forEach((function(r){t[r]=e[r].map((function(e){return{i:e.i,h:e.h,w:e.w,x:e.x,y:e.y}}))}));var r=this.props.store.getUserPreference("Layout");Tu()(r,t)||this.props.store.saveUserPreference("Layout",t)}},{key:"onLayoutChange",value:function(e,t){this._blockLayoutSave||this.saveFullLayouts(t)}},{key:"componentWillUnmount",value:function(){this.props.store.stopObserving("cards",this._storeObserver),this.throttle.options({active:!1}),this.requests.filter((function(e){return e.xhr})).map((function(e){return e.xhr.abort()}))}},{key:"componentWillReceiveProps",value:function(e){this.props&&e.editMode!==this.props.editMode&&Object.keys(this.refs).forEach(function(t){this.refs[t].toggleEditMode(e.editMode)}.bind(this))}},{key:"shouldComponentUpdate",value:function(e,t){return this._forceUpdate||t.rgl!==this.state.rgl||!1}},{key:"removeCard",value:function(e){this.props.removeCard(e)}},{key:"buildCards",value:function(e){var t=this,r=0,n={lg:[],md:[],sm:[],xs:[],xxs:[]},o=[],i=[],s=(Math.random(),this.props.store.getUserPreference("Layout")),c=function(e,t,r,n,o){var i=e.getGridLayout(n,o);return i.handle="h4",r.gridHandle&&(i.handle=r.gridHandle),i.i=t,i};return e.map((function(e){var l,u=e.componentClass.split("."),d=u[0],p=u[1];if(a.g[d]&&a.g[d][p]){l=a.g[d][p];var f=Xu({},e.props),h=f.key=e.id||"item_"+r;f.ref=h,f.restClient=t.restClient,f.pydio=t.props.pydio,f.onCloseAction=function(){t.removeCard(h)},f.preferencesProvider=t.props.store;var m=0,y=0;e.defaultPosition&&(m=e.defaultPosition.x,y=e.defaultPosition.y);var g=c(l,h,e,m,y);for(var b in n)if(n.hasOwnProperty(b)){var v,k=n[b];if(s&&s[b]&&s[b].map((function(e){e.i===h&&e.h===g.h&&(v=e)})),v)k.push(v);else if(e.defaultLayouts&&e.defaultLayouts[b]){var w=c(l,h,e,e.defaultLayouts[b].x,e.defaultLayouts[b].y);k.push(w)}else k.push(g)}r++,o.push(sd.createElement(l,f))}else a.g[d]||i.push(d)})),i.length&&(this._blockLayoutSave=!0,Cu().loadClassesAndApply(i,function(){this.setState({additionalNamespacesLoaded:i},function(){this._blockLayoutSave=!1}.bind(this))}.bind(this))),{cards:o,layouts:n}}},{key:"render",value:function(){var t=this.state.rgl;if(!t)return null;var r=this.buildCards(this.state.cards),n=r.cards,o=r.layouts,i=t.Responsive,a=(0,t.WidthProvider)(i);return sd.createElement(e.Fragment,null,sd.createElement(a,{className:"dashboard-layout",cols:this.props.cols||{lg:10,md:8,sm:8,xs:4,xxs:2},layouts:o,rowHeight:5,onLayoutChange:this.onLayoutChange.bind(this),isDraggable:!this.props.disableDrag,style:this.props.style,autoSize:!1},n),sd.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:"\n            .react-grid-item.react-grid-placeholder{\n                pointer-events:none;\n            }\n            "}}))}}])}(sd.Component),ud=function(e){function t(e){var r;Qu(this,t),r=rd(this,t,[e]);var n=new Mu(e.storeNamespace,e.defaultCards,e.pydio);return r.state={editMode:!1,store:n},r}return id(t,e),ed(t,[{key:"removeCard",value:function(e){this.state.store.removeCard(e)}},{key:"addCard",value:function(e){this.state.store.addCard(e)}},{key:"resetCardsAndLayout",value:function(){this.state.store.saveUserPreference("Layout",null),this.state.store.setCards(this.props.defaultCards)}},{key:"toggleEditMode",value:function(){this.setState({editMode:!this.state.editMode})}},{key:"render",value:function(){var e,t=this,r=function(e){this.setState({widgetEditing:e})}.bind(this);this.props.builderNamespaces&&this.state.editMode&&(e=sd.createElement(Gu,{className:"admin-helper-panel",namespaces:this.props.builderNamespaces,onCreateCard:this.addCard.bind(this),onResetLayout:this.resetCardsAndLayout.bind(this),onEditStatusChange:r,getMessage:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ajxp_admin";return t.props.getMessage(e,r)}}));var n=this.props.rglStyle||{};return sd.createElement("div",{style:Xu(Xu({},this.props.style),{},{width:"100%",flex:"1"}),className:this.state.editMode?"builder-open":""},!this.props.disableEdit&&sd.createElement("div",{style:{position:"absolute",bottom:30,right:18,zIndex:11}},sd.createElement(k.FloatingActionButton,{tooltip:this.props.getMessage("home.49"),onClick:this.toggleEditMode.bind(this),iconClassName:this.state.editMode?"mdi mdi-check":"mdi mdi-pencil",mini:this.state.editMode,disabled:this.state.editMode&&this.state.widgetEditing})),e,sd.createElement("div",{className:"home-dashboard",style:{height:"100%"}},sd.createElement(ld,{disableDrag:this.props.disableDrag,cols:this.props.cols,store:this.state.store,style:n,pydio:this.props.pydio,editMode:this.state.editMode,removeCard:this.removeCard.bind(this)})))}}])}(sd.Component);function dd(e){return dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(e)}function pd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pd(Object(r),!0).forEach((function(t){hd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hd(e,t,r){return(t=function(e){var t=function(e){if("object"!=dd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=dd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==dd(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ud=cd(ud);const md={propTypes:{showCloseAction:W().bool,onCloseAction:W().func},focusItem:function(){this.setState({focus:!0})},blurItem:function(){this.setState({focus:!1})},mergeStyleWithFocus:function(){return fd(fd({},this.props.style),{},{zIndex:this.state.focus?1:null})},getInitialSate:function(){return{focus:!1,showCloseAction:!1}},toggleEditMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;void 0===e?this.setState({showCloseAction:!(this.state&&this.state.showCloseAction)}):this.setState({showCloseAction:e})},getCloseButton:function(){if(this.state&&this.state.showCloseAction){var e=this.props.onCloseAction||function(){};return React.createElement("div",{style:{position:"absolute",backgroundColor:"rgba(0,0,0,0.53)",zIndex:10,top:0,left:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center"}},React.createElement(k.FlatButton,{label:V().getInstance().MessageHash["ajxp_admin.home.48"],className:"card-close-button",onClick:e,style:{color:"white"}}))}return null},statics:{getGridLayout:function(e,t){return{x:e||0,y:t||0,w:this.gridWidth||4,h:this.gridHeight||12,isResizable:!1}},hasBuilderFields:function(){return!!this.builderFields},getBuilderFields:function(){return this.builderFields}}};function yd(e){return yd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(e)}function gd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gd(Object(r),!0).forEach((function(t){vd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vd(e,t,r){return(t=wd(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wd(n.key),n)}}function wd(e){var t=function(e){if("object"!=yd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=yd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==yd(t)?t:t+""}function _d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_d=function(){return!!e})()}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sd(e)}function Od(e,t){return Od=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Od(e,t)}var Ed=a(9825),Cd=a(2015).Component,Pd=a(6146).FlatButton,Td=a(509).muiThemeable;function xd(e){return xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(e)}function jd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Ad(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ad(Object(r),!0).forEach((function(t){Id(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ad(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Id(e,t,r){return(t=Md(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Md(n.key),n)}}function Md(e){var t=function(e){if("object"!=xd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=xd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xd(t)?t:t+""}function Dd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Dd=function(){return!!e})()}function Nd(e){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nd(e)}function Ld(e,t){return Ld=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ld(e,t)}var Ud=V().requireLib("boot").PydioContextConsumer,Bd=V().requireLib("hoc").ModernSelectField,Fd=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,r){return t=Nd(t),function(e,t){if(t&&("object"==xd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Dd()?Reflect.construct(t,r||[],Nd(e).constructor):t.apply(e,r))}(this,r,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ld(e,t)}(r,e),function(e,t){return t&&Rd(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"render",value:function(){var e,r,n=this.props,o=n.item,i=n.paginatorCallback,a=n.paginatorType,s=n.style,c=n.getMessage,l=n.paginatorLabel,u=n.muiTheme,d=(0,Q.getMuiTheme)(zd(zd({},u),{},{zIndex:{layer:3e3,popover:3001}}));if(o.pagination){for(var p=o.pagination,f=p.start,h=p.max,m=p.interval,y=Math.ceil(h/m),g=Math.ceil(f/m),b=[],v=0;v<y;v++)b.push(v);e=t().createElement(k.MuiThemeProvider,{muiTheme:d},t().createElement(Bd,{floatingLabelText:c(331),style:{width:60},dropDownMenuProps:{anchorOrigin:{vertical:"center",horizontal:"right"}},fullWidth:!0,value:g,onChange:function(e,t,r){i(r*m+"-"+(r+1)*m)}},b.map((function(e){return t().createElement(k.MenuItem,{value:e,key:e,primaryText:e+1})}))))}if("alpha"===a){var w="abcdefghijklmnopqrstuvwxyz0123456789".split("");w=[-1].concat(function(e){return function(e){if(Array.isArray(e))return jd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return jd(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jd(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(w));var _=o.currentParams&&o.currentParams.alpha_pages&&o.currentParams.value||-1;r=t().createElement(k.MuiThemeProvider,{muiTheme:d},t().createElement(Bd,{floatingLabelText:c(625),style:{width:60,marginLeft:8},dropDownMenuProps:{anchorOrigin:{vertical:"center",horizontal:"right"}},fullWidth:!0,value:_,onChange:function(e,t,r){i(r)}},w.map((function(e){return t().createElement(k.MenuItem,{value:e,key:e,primaryText:-1===e?c(597,""):e})}))))}return t().createElement("div",{style:zd(zd({},s),{},{display:"flex",paddingRight:8,alignItems:"center"})},t().createElement("div",{style:{flex:1,height:20}},l||c(249,"")),e,r)}}])}(e.Component);Fd.propTypes={item:W().object,paginatorCallback:W().func.isRequired,pydio:W().instanceOf(V()),mode:W().oneOf(["book","selector","popover"]).isRequired},Fd=Ud(Fd),Fd=(0,Q.muiThemeable)()(Fd);var qd=a(9862),Wd=a.n(qd);function Hd(e){return Hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(e)}function Vd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vd(Object(r),!0).forEach((function(t){Yd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qd(n.key),n)}}function Kd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Kd=function(){return!!e})()}function $d(e){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$d(e)}function Xd(e,t){return Xd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xd(e,t)}function Yd(e,t,r){return(t=Qd(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qd(e){var t=function(e){if("object"!=Hd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Hd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Hd(t)?t:t+""}var Zd=function(e){function t(e,r){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yd(n=function(e,t,r){return t=$d(t),function(e,t){if(t&&("object"==Hd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Kd()?Reflect.construct(t,r||[],$d(e).constructor):t.apply(e,r))}(this,t,[e,r]),"state",{});var o=e.onSearch;return e.setSearchTerm||(n.state={value:""},n.search=Wd()((function(){o(n.state.value)}),300)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xd(e,t)}(t,e),function(e,t){return t&&Gd(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"onChange",value:function(e,t){var r=this.props.setSearchTerm;r?r(t):(this.setState({value:t}),this.search())}},{key:"render",value:function(){var e=this,t=this.props,r=t.underlineShow,n=t.searchLabel,o=t.style,i=t.inputStyle,a=t.underlineStyle,s=t.underlineFocusStyle,c=t.hintStyle,l=t.searchTerm,u=this.state.value;return React.createElement("div",{style:Jd({minWidth:320},o)},React.createElement(k.TextField,{fullWidth:!0,value:u||l,onChange:function(t,r){return e.onChange(t,r)},hintText:n,inputStyle:i,hintStyle:c,underlineStyle:a,underlineFocusStyle:s,underlineShow:void 0===r||r}))}}])}(e.Component);Zd.propTypes={searchLabel:W().string.isRequired,onSearch:W().func.isRequired,style:W().object,underlineShow:W().bool};const ep=require("pydio/model/idm-object-helper");var tp=a.n(ep);const rp=require("pydio/model/cell");var np=a.n(rp);function op(e){return op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(e)}function ip(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ap(n.key),n)}}function ap(e){var t=function(e){if("object"!=op(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=op(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==op(t)?t:t+""}var sp=function(){return function(e,t){return t&&ip(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props={pydio:t,cellModel:r,acl:n,addressBookItem:o}}),[{key:"createCell",value:function(){var e,t=this.props,r=t.addressBookItem,n=t.pydio,o=n.MessageHash;r.IdmUser?e=r.IdmUser:r.IdmRole&&(e=r.IdmRole),e&&n.user.getIdmUser().then((function(t){var i=tp().extractLabelFromIdmObject(t),a=tp().extractLabelFromIdmObject(r.IdmUser||r.IdmRole),s=new(np());s.setLabel(i+", "+a),s.setDescription("Created by "+i),s.addUser(e),s.save().then((function(e){n.UI.displayMessage("SUCCESS",o[643].replace("%s",a))})).catch((function(e){n.UI.displayMessage("ERROR",o[644].replace("%s",e.message))}))}))}},{key:"addToCell",value:function(){var e,t=this.props,r=t.addressBookItem,n=t.cellModel;r.IdmUser?e=r.IdmUser:r.IdmRole&&(e=r.IdmRole),e&&(n.addUser(e),n.save())}},{key:"removeFromCell",value:function(){var e=this.props,t=e.acl,r=e.cellModel;r.removeUser(t.RoleId),r.save()}},{key:"renderItems",value:function(){var e,t,r,n=this.props,o=n.pydio,i=n.cellModel,a=n.acl,s=n.addressBookItem,c=o.MessageHash,l=[];if(a?a.User&&a.User.Login===o.user.id:"user"===t&&o.user.id===e)return l;if(s&&(e=s.id,"group"===(t=s.type)&&s.IdmRole&&(e=s.IdmRole.Uuid,t="team")),r=a?tp().extractLabel(o,a):s.label,!0===i)return o.getPluginConfigs("auth").get("USER_CREATE_CELLS")?[React.createElement(k.MenuItem,{primaryText:c[640].replace("%s",r),onClick:this.createCell.bind(this)})]:[];var u,d=i.isEditable(),p=i.getAcls();return Object.keys(p).map((function(r){var n=p[r];(a?a.RoleId===n.RoleId:"user"===t&&n.User&&n.User.Login===e||"group"===t&&n.Group&&n.Group.Uuid===e||"team"===t&&n.Role&&n.Role.Uuid===e)&&(u=!0)})),u?l.push(React.createElement(k.MenuItem,{primaryText:c[641],disabled:!d,onClick:this.removeFromCell.bind(this)})):l.push(React.createElement(k.MenuItem,{primaryText:c[642],disabled:!d,onClick:this.addToCell.bind(this)})),o.getPluginConfigs("auth").get("USER_CREATE_CELLS")&&l.push(React.createElement(k.Divider,null),React.createElement(k.MenuItem,{primaryText:c[640].replace("%s",r),onClick:this.createCell.bind(this)})),l}}])}();const cp=sp,lp={list:{},listItem:{style:{fontSize:13},innerDivStyle:{padding:"10px 56px 10px 62px"}},avatar:{avatarSize:26,style:{top:5}},iconMenu:{style:{top:4,right:8}},iconButton:{style:{width:26,height:26,padding:5,right:8},iconStyle:{color:"rgba(0,0,0,.33)",fontSize:20}},divider:{style:{marginLeft:62}},className:"compact"},up=require("pydio/lang/observable");var dp=a.n(up);function pp(e){return pp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(e)}function fp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fp(Object(r),!0).forEach((function(t){mp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mp(e,t,r){return(t=vp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gp(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function bp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vp(n.key),n)}}function vp(e){var t=function(e){if("object"!=pp(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=pp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pp(t)?t:t+""}var kp=Un().getRestClient().getIdmApi(),wp=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,r){return r&&bp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,0,[{key:"childrenAsPromise",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.childrenLoader,n=e.itemsLoader,o=e.leafLoaded,i=e.collectionsLoaded,a=e.leafs,s=e.collections,c=t?n:r,l=t?o:i;return new Promise((function(r,n){!l&&c?c(e,(function(n){t?(e.leafs=n,e.leafLoaded=!0):(e.collections=n,e.collectionsLoaded=!0),r(n)})):r((t?a:s)||[])}))}},{key:"computePagination",value:function(e){var t;return e.Users?t=e.Users.length:e.Groups?t=e.Groups.length:e.Teams&&(t=e.Teams.length),e.Total>t?{start:e.Offset,end:e.Offset+e.Limit,max:e.Total,interval:e.Limit}:null}},{key:"prepareIdmUser",value:function(e){var t;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var r=[];r.push(V().getMessages()[e.Attributes&&"shared"===e.Attributes.profile?"589":"590"]),"/"!==e.GroupPath&&r.push(e.GroupPath),t=r.join(" - ")}return{id:e.Login,label:e.Attributes&&e.Attributes.displayName?e.Attributes.displayName:e.Login,avatar:e.Attributes&&e.Attributes.avatar?e.Attributes.avatar:void 0,type:"user",IdmUser:e,secondaryText:t}}},{key:"prepareIdmGroup",value:function(e){var t;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(t=e.GroupPath+e.GroupLabel),{id:e.Uuid,label:e.Attributes&&e.Attributes.displayName?e.Attributes.displayName:e.GroupLabel,type:"group",icon:"mdi mdi-account-multiple",secondaryText:t,IdmUser:e}}},{key:"prepareTeam",value:function(t){var r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(r=V().getMessages()[603]),{id:t.Uuid,label:t.Label,type:"team",icon:"mdi mdi-account-multiple-outline",itemsLoader:e.loadTeamUsers,_notSelectable:!0,secondaryText:r,IdmRole:t}}},{key:"loadTeams",value:function(t,r){var n=0,o=50;if(t.range){var i=yp(t.range.split("-"),2),a=i[0],s=i[1];n=parseInt(a),o=(s=parseInt(s))-n}var c={};V().getInstance().getController().actions.has("user_team_create")&&(c={type:"team",remove:"574",multiple:!0}),kp.listTeams("",n,o).then((function(n){t.pagination=e.computePagination(n);var o=n.Teams.map((function(r){return hp(hp({_parent:t},e.prepareTeam(r)),{},{actions:c})}));r(o)}))}},{key:"loadGroups",value:function(t,r){var n="/",o="";t.IdmUser&&(n=Y().trimRight(t.IdmUser.GroupPath,"/")+"/"+t.IdmUser.GroupLabel),t.currentParams&&t.currentParams.has_search&&(o=t.currentParams.value),kp.listGroups(n,o,!1,0,1e3).then((function(n){var o=n.Groups.map((function(r){return hp(hp({_parent:t},e.prepareIdmGroup(r)),{},{childrenLoader:t.childrenLoader?e.loadGroups:null,itemsLoader:t.itemsLoader?e.loadGroupUsers:null,currentParams:t.currentParams&&t.currentParams.alpha_pages?hp({},t.currentParams):{}})}));r(o)}))}},{key:"loadExternalUsers",value:function(t,r){var n="",o=0,i=50,a=!1;if(t.currentParams&&t.currentParams.alpha_pages&&(n=t.currentParams.value,a=!0),t.range){var s=yp(t.range.split("-"),2),c=s[0],l=s[1];o=parseInt(c),i=(l=parseInt(l))-o}var u=Un().getClient().getPydioObject();kp.listUsers("/",n,!0,o,i,"shared",a).then((function(n){t.pagination=e.computePagination(n);var o=n.Users.filter((function(e){return e.Login!==u.user.id})).map((function(r){return hp(hp({_parent:t},e.prepareIdmUser(r)),{},{external:!0})}));r(o)}))}},{key:"loadGroupUsers",value:function(t,r){var n="/",o="",i=0,a=50,s=!1;if(t.IdmUser&&(n=Y().trimRight(t.IdmUser.GroupPath,"/")+"/"+t.IdmUser.GroupLabel),t.currentParams&&(t.currentParams.alpha_pages||t.currentParams.has_search)&&(o=t.currentParams.value,t.currentParams.alpha_pages&&(s=!0)),t.range){var c=yp(t.range.split("-"),2),l=c[0],u=c[1];i=parseInt(l),a=(u=parseInt(u))-i}var d=Un().getClient().getPydioObject();kp.listUsers(n,o,!1,i,a,"!shared",s).then((function(n){t.pagination=e.computePagination(n);var o=n.Users.filter((function(e){return e.Login!==d.user.id&&"pydio.anon.user"!==e.Login})).map((function(r){return hp({_parent:t},e.prepareIdmUser(r))}));r(o)}))}},{key:"loadTeamUsers",value:function(t,r){var n=0,o=50,i="",a=!1;if(t.range){var s=yp(t.range.split("-"),2),c=s[0],l=s[1];n=parseInt(c),o=(l=parseInt(l))-n}t.currentParams&&(t.currentParams.alpha_pages||t.currentParams.has_search)&&(i=t.currentParams.value,t.currentParams.alpha_pages&&(a=!0)),kp.listUsersWithRole(t.IdmRole.Uuid,n,o,i,a).then((function(n){t.pagination=e.computePagination(n);var o=n.Users.map((function(r){return hp({_parent:t},e.prepareIdmUser(r))}));r(o)}))}},{key:"globalSearch",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];t="*"+t;var c=Un().getClient().getPydioObject(),l=[];if(i||a){var u=i?a?"":"shared":"!shared",d=kp.listUsers("/",t,!0,n,o,u).then((function(t){return t.Users.filter((function(e){return e.Login!==c.user.id&&"pydio.anon.user"!==e.Login})).map((function(t){return hp(hp({},e.prepareIdmUser(t,!0)),{},{external:t.Attributes&&"shared"===t.Attributes.profile})}))})).then((function(e){return{users:e}}));l.push(d);var p=kp.listGroups("/",t,!0,n,o).then((function(t){return t.Groups.map((function(t){return hp(hp({},e.prepareIdmGroup(t,!0)),{},{childrenLoader:e.loadGroups,itemsLoader:e.loadGroupUsers})}))})).then((function(e){return{groups:e}}));l.push(p)}if(s){var f=kp.listTeams(t,n,o).then((function(t){return t.Teams.map((function(t){return hp({},e.prepareTeam(t,!0))}))})).then((function(e){return{teams:e}}));l.push(f)}return Promise.all(l).then((function(e){var t=e.reduce((function(e,t){return hp(hp({},e),t)}),{});return r(t),t}))}}])}(),_p=a(2040);function Sp(e){return Sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(e)}function Op(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ep(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Op(Object(r),!0).forEach((function(t){zp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Op(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cp(e){return function(e){if(Array.isArray(e))return Pp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Pp(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pp(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Tp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ip(n.key),n)}}function xp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xp=function(){return!!e})()}function jp(e){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jp(e)}function Ap(e,t){return Ap=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ap(e,t)}function zp(e,t,r){return(t=Ip(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ip(e){var t=function(e){if("object"!=Sp(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Sp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Sp(t)?t:t+""}var Rp=(0,Nr.debounce)(wp.globalSearch,350),Mp=function(e){function t(e,r){var n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"local",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zp(n=function(e,t,r){return t=jp(t),function(e,t){if(t&&("object"==Sp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xp()?Reflect.construct(t,r||[],jp(e).constructor):t.apply(e,r))}(this,t),"pydio",null),zp(n,"mode","book"),zp(n,"teamsOnly",!1),zp(n,"usersOnly",!1),zp(n,"usersFrom","local"),zp(n,"loading",!1),zp(n,"root",null),zp(n,"selectedItem",null),zp(n,"rightPanelItem",null),zp(n,"onItemSelected",null),zp(n,"pendingCreateItem",null),zp(n,"searchTerm",""),zp(n,"searchMode",!1),zp(n,"searchItem",null),zp(n,"selectionMode",!1),zp(n,"multipleSelection",[]),zp(n,"reloadCurrentAtPage",(function(e){var t=n.selectedItem;t.leafLoaded=!1,t.collectionsLoaded=!1,-1===e?t.currentParams=null:-1!==e.indexOf("-")?t.range=e:(t.range=null,t.currentParams={alpha_pages:"true",value:e}),n.setContext(t)})),zp(n,"reloadCurrentWithSearch",(function(e){if(e){var t=n.selectedItem;t.leafLoaded=!1,t.collectionsLoaded=!1,t.currentParams={has_search:!0,value:e,existing_only:!0},n.setContext(t)}else n.reloadCurrentAtPage(-1)})),zp(n,"deleteItems",(function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||confirm(n.m(278)))switch(e.actions.type){case"users":Promise.all(t.map((function(e){return n.rightPanelItem===e&&(n.rightPanelItem=null),Un().getRestClient().getIdmApi().deleteIdmUser(e.IdmUser)}))).then((function(){n.reloadContext()}));break;case"teams":Promise.all(t.map((function(e){return n.rightPanelItem===e&&(n.rightPanelItem=null),Un().getRestClient().getIdmApi().deleteRole(e.IdmRole.Uuid)}))).then((function(){n.reloadContext()}));break;case"team":Promise.all(t.map((function(t){return Un().getRestClient().getIdmApi().removeUserFromTeam(e.IdmRole.Uuid,t.IdmUser.Login)}))).then((function(){n.reloadContext()}))}})),n.pydio=e,n.mode=r,n.teamsOnly=a,n.usersOnly=o,n.usersFrom=i,n.onItemSelected=s;var c=n.pydio.getPluginConfigs("core.auth");return n._teamsEditable=n.pydio.getController().actions.has("user_team_create"),n._externalsAllowed=c.get("USER_CREATE_USERS"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ap(e,t)}(t,e),function(e,t){return t&&Tp(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"getRoot",value:function(){return this.searchMode&&this.searchItem?this.searchItem:this.root}},{key:"contextItem",value:function(){return this.selectedItem}},{key:"setContext",value:function(e,t){var r=this;return"selector"===this.mode&&e.IdmRole&&e.IdmRole.IsTeam?(this.leafItemClicked(e),Promise.resolve()):(this.loading=!0,this.notify("update"),wp.childrenAsPromise(e,!1).then((function(){wp.childrenAsPromise(e,!0).then((function(){r.selectedItem=e,r.loading=!1,r.notify("update")})).then((function(){t&&t()}))})))}},{key:"contextIsGroup",value:function(){return this.selectedItem&&(this.selectedItem.IdmUser&&this.selectedItem.IdmUser.IsGroup||"PYDIO_GRP_/"===this.selectedItem.id)}},{key:"contextIsTeam",value:function(){return this.selectedItem&&this.selectedItem.IdmRole&&this.selectedItem.IdmRole.IsTeam}},{key:"reloadContext",value:function(){var e=this;return this.selectedItem?(this.selectedItem.leafLoaded=!1,this.selectedItem.collectionsLoaded=!1,this.setContext(this.selectedItem,(function(){if(e.rightPanelItem){var t=e.rightPanelItem.id,r=null,n=e.selectedItem.leafs||[],o=e.selectedItem.collections||[];[].concat(Cp(n),Cp(o)).forEach((function(e){e.id===t&&(r=e)})),e.rightPanelItem=r,e.notify("update")}}))):Promise.resolve}},{key:"setGlobalSearch",value:function(e,t){var r=this;e!==this.searchMode&&(e?(this.searchItem||(this.searchItem={id:"search",label:this.m("583"),type:"root"}),this.savedContext=this.contextItem(),this.searchItem.collections=[],this.setContext(this.searchItem)):(this.searchItem.collections=[],this.setContext(this.savedContext))),this.searchMode=e,this.searchTerm=t,this.searchTerm&&Rp(t,(function(e){r.searchItem.collections=[];var t,n,o=r.prepareTopFolders(r.searchItem);e.users&&(t=e.users.filter((function(e){return e.external})),n=e.users.filter((function(e){return!e.external}))),void 0!==t&&r.searchItem.collections.push(Ep(Ep({},o.shared),{},{leafs:t})),e.teams&&r.searchItem.collections.push(Ep(Ep({},o.teams),{},{collections:e.teams})),(void 0!==n||e.groups)&&(n&&n.length,e.groups&&e.groups.length,r.searchItem.collections.push(Ep(Ep({},o.directory),{},{collections:e.groups,leafs:n})));var i=Ep({},o.results);r.searchItem.collections.forEach((function(e){var t,r;(t=i.collections).push.apply(t,Cp(e.collections.map((function(t){return t._parent=e,Ep(Ep({},t),{},{_parent:i})})))),(r=i.leafs).push.apply(r,Cp(e.leafs.map((function(t){return t._parent=e,Ep(Ep({},t),{},{_parent:i})})))),e.notExpandable=!0,e.label+=" (".concat(e.collections.length+e.leafs.length,")")})),i.label+=" (".concat(i.collections.length+i.leafs.length,")"),r.searchItem.collections.unshift(i),r.setContext(i),r.notify("update")}),0,50,this._externalsAllowed),this.notify("update")}},{key:"getSearchStatus",value:function(){return{searchMode:this.searchMode,searchTerm:this.searchTerm}}},{key:"rightItem",value:function(){return this.rightPanelItem}},{key:"leafItemClicked",value:function(e){if(this.onItemSelected){var t=new _p.User(e.id,e.label,e.type,e.group,e.avatar,e.temporary,e.external);return e.trusted_server_id&&(t.trustedServerId=e.trusted_server_id,t.trustedServerLabel=e.trusted_server_label),t._uuid=e.uuid,e.IdmUser&&(t.IdmUser=e.IdmUser),e.IdmRole&&(t.IdmRole=e.IdmRole),void this.onItemSelected(t)}this.rightPanelItem=e,this.notify("update")}},{key:"clearRightItem",value:function(){this.rightPanelItem=null,this.notify("update")}},{key:"teamsEditable",value:function(){return this._teamsEditable}},{key:"deleteMultipleSelection",value:function(){this.selectionMode=!1,this.deleteItems(this.selectedItem,this.multipleSelection)}},{key:"setCreateItem",value:function(){this.pendingCreateItem=this.selectedItem,this.notify("update")}},{key:"clearCreateItem",value:function(){this.pendingCreateItem=null,this.notify("update")}},{key:"createItem",value:function(){return this.pendingCreateItem}},{key:"setSelectionMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.selectionMode=void 0===e?!this.selectionMode:e,this.multipleSelection=[],this.notify("update")}},{key:"getSelectionMode",value:function(){return this.selectionMode}},{key:"setMultipleSelection",value:function(e){this.multipleSelection=e,this.notify("update")}},{key:"getMultipleSelection",value:function(){return this.multipleSelection}},{key:"initTree",value:function(){var e={};if(this._teamsEditable&&(e={type:"teams",create:"+ "+this.m(569),remove:this.m(570),multiple:!0}),this.teamsOnly)return this.root=Ep(Ep({},this.prepareTopFolders(null).teams),{},{childrenLoader:wp.loadTeams,actions:e}),void(this.selectedItem=this.root);this.root={id:"root",label:this.m(592),type:"root",collections:[]};var t=this.prepareTopFolders(this.root);"remote"!==this.usersFrom&&(this._externalsAllowed&&this.root.collections.push(Ep(Ep({},t.shared),{},{itemsLoader:wp.loadExternalUsers,actions:{type:"users",create:"+ "+this.m(484),remove:this.m(582),multiple:!0}})),this.usersOnly||this.root.collections.push(Ep(Ep({},t.teams),{},{childrenLoader:wp.loadTeams,actions:e})),this.root.collections.push(Ep(Ep({},t.directory),{},{childrenLoader:wp.loadGroups,itemsLoader:wp.loadGroupUsers}))),this.selectedItem="selector"===this.mode?this.root:this.root.collections[0]}},{key:"prepareTopFolders",value:function(e){return{shared:{id:"ext",label:this.m(593),icon:"mdi mdi-account-network",_parent:e,_notSelectable:!0,collections:[],leafs:[]},teams:{id:"teams",label:this.m(568),icon:"mdi mdi-account-multiple",_parent:e,_notSelectable:!0,collections:[],leafs:[]},directory:{id:"PYDIO_GRP_/",label:this.m(584),icon:"mdi mdi-account-box",_parent:e,_notSelectable:!0,collections:[],leafs:[]},results:{id:"results",label:this.m("599-a"),icon:"mdi mdi-magnify",_parent:e,notExpandable:!0,collections:[],leafs:[]}}}},{key:"m",value:function(e){return this.pydio.MessageHash[e]||e}}])}(dp());const Dp=Mp;function Np(e){return Np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(e)}function Lp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Up(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lp(Object(r),!0).forEach((function(t){Bp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bp(e,t,r){return(t=Vp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fp(e){return function(e){if(Array.isArray(e))return qp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return qp(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qp(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Wp(){return Wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wp.apply(null,arguments)}function Hp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vp(n.key),n)}}function Vp(e){var t=function(e){if("object"!=Np(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Np(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Np(t)?t:t+""}function Jp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Jp=function(){return!!e})()}function Gp(e){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gp(e)}function Kp(e,t){return Kp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kp(e,t)}var $p=a(4217).requireLib("boot"),Xp=$p.Loader,Yp=$p.PydioContextConsumer,Qp=function(e){function r(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,r){return t=Gp(t),function(e,t){if(t&&("object"==Np(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Jp()?Reflect.construct(t,r||[],Gp(e).constructor):t.apply(e,r))}(this,r,[e,t])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kp(e,t)}(r,e),function(e,t){return t&&Hp(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"render",value:function(){var e=this.props,r=e.pydio,n=e.item,o=e.mode,i=e.loading,a=e.showAllParents,s=e.enableSearch,c=e.searchLabel,l=e.onSearch,u=e.getMessage,d=e.bookColumn,p=e.toolbar,f=e.style,h=this.props.model;h||(h=new Dp(r,"inner"));var m=h.getMultipleSelection(),y=h.getSelectionMode(),g=this.props.listStyles,b=void 0===g?{}:g;"selector"!==o&&"inner"!==o||(b=lp);var v,w,_,S=b.className,O=b.avatar?b.avatar.avatarSize:36,E=n.collections||[],C=n.leafs||[],P=[],T=[],x={};"teams"===n.id?(x={paginatorFolder:n.pagination?"numeric":null,paginatorLabel:n.label,paginatorCallback:function(e){return h.reloadCurrentAtPage(e)}},h.teamsEditable()?(v=u(571,""),w=u(572,"")):(v=u("571.readonly",""),w=u("572.readonly",""))):"ext"===n.id?(v=u(585,""),w=u(586,""),n.pagination&&(_=!0,x={paginatorType:"alpha",paginatorCallback:function(e){return h.reloadCurrentAtPage(e)}})):(h.contextIsGroup()||h.contextIsTeam())&&(_=!0,x={paginatorType:!(n.currentParams&&n.currentParams.has_search)&&"alpha",paginatorCallback:function(e){return h.reloadCurrentAtPage(e)}}),x.paginatorFolder?P.push({subheader:t().createElement(Fd,Wp({},this.props,x,{style:{lineHeight:"20px",padding:"14px 0"}}))}):E.length&&(C.length||_)&&P.push({subheader:u("532")}),x.paginatorType?T.push({subheader:t().createElement(Fd,Wp({},this.props,x,{style:{lineHeight:"20px",padding:"14px 0"}}))}):_&&T.push({subheader:u("249")});var j,A=[].concat(P,Fp(E),T,Fp(C)),z=A.length,I=[];if("book"===o&&n._parent&&(n._parent._parent&&"teams"!==n._parent.id||a)&&(I.push(t().createElement(k.ListItem,Wp({key:"__parent__",primaryText:"..",onClick:function(e){e.stopPropagation(),h.setContext(n._parent)},leftAvatar:t().createElement(k.Avatar,{icon:t().createElement(k.FontIcon,{className:"mdi mdi-arrow-up"}),size:O})},b.listItem))),z&&I.push(t().createElement(k.Divider,{inset:!0,key:"parent-divider"}))),A.forEach(function(e,n){var i=this;if(e.subheader)I.push(t().createElement(k.Subheader,{key:e.subheader},e.subheader));else{var a,s=t().createElement(qf,{avatarSize:O,pydio:this.props.pydio||r,userId:e.id,userLabel:e.label,avatar:e.avatar,icon:e.icon,idmUser:e.IdmUser,userType:e.type||"group",avatarOnly:!0,useDefaultAvatar:!0,style:b.avatar?b.avatar.style:{}}),c=function(t){t.stopPropagation(),i.props.onItemClicked(e)};if(E.indexOf(e)>-1?(c=function(t){t.stopPropagation(),h.setContext(e)},"selector"!==o||e._notSelectable||this.props.usersOnly||(a=t().createElement(k.IconButton,Wp({iconClassName:"mdi mdi-account-multiple-plus",tooltip:u("addressbook.pick.group"),tooltipPosition:"top-left",iconStyle:{color:"rgba(0,0,0,0.33)"},onClick:function(){i.props.onItemClicked(e)}},b.iconButton)))):"inner"===o&&this.props.onDeleteAction&&(a=t().createElement(k.IconButton,Wp({iconClassName:"mdi mdi-delete",tooltip:u(257),tooltipPosition:"top-left",iconStyle:{color:"rgba(0,0,0,0.13)",hoverColor:"rgba(0,0,0,0.53)"},onClick:function(){i.props.onDeleteAction(i.props.item,[e])}},b.iconButton))),d&&this.props.actionsForCell&&e.type){var l=new cp(r,this.props.actionsForCell,null,e).renderItems();a=l.length?t().createElement(k.IconMenu,Wp({},b.iconMenu,{iconButtonElement:t().createElement(k.IconButton,Wp({iconClassName:"mdi mdi-dots-vertical",iconStyle:{color:"rgba(0,0,0,.33)"}},b.iconButton)),targetOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"top"},desktop:!0}),l):null}var p,f={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};e.secondaryText&&(f.fontWeight=500,p=t().createElement("span",{style:{fontSize:13,color:"var(--md-sys-color-on-surface-variant)"}},e.secondaryText)),I.push(t().createElement(k.ListItem,Wp({key:e.id,primaryText:t().createElement("div",{style:f},e.label),secondaryText:p,onClick:c,disabled:"inner"===o,leftAvatar:!y&&s,rightIconButton:a,leftCheckbox:y&&t().createElement(k.Checkbox,{checked:m.indexOf(e)>-1,onCheck:function(t,r){if(r)h.setMultipleSelection([].concat(Fp(m),[e]));else{var n=[].concat(Fp(m.slice(0,m.indexOf(e))),Fp(m.slice(m.indexOf(e)+1)));h.setMultipleSelection(n)}}})},b.listItem))),"inner"!==o&&n<z-1&&I.push(t().createElement(k.Divider,Wp({inset:!0,key:e.id+"-divider"},b.divider)))}}.bind(this)),!I.length){var R={style:{backgroundColor:"transparent",minHeight:300},iconClassName:"mdi mdi-account-off",primaryTextId:v||u(629),secondaryTextId:"book"===o&&w||null};"book"===o&&n.actions&&n.actions.create&&(R=Up(Up({},R),{},{actionLabelId:u(n.actions.create),actionCallback:function(){return h.setCreateItem()}})),"compact"===S&&(R=Up(Up({},R),{},{style:{backgroundColor:"transparent",minHeight:150},iconStyle:{fontSize:40},legendStyle:{fontSize:13}})),j=t().createElement(Po,R)}return t().createElement("div",{style:Up({flex:1,flexDirection:"column",display:"flex",width:"100%",overflowX:"hidden"},f),onClick:this.props.onClick,className:S},p,!j&&!i&&t().createElement(k.List,{style:{flex:1,overflowY:"inner"!==o?"auto":"initial"}},this.props.subHeader&&t().createElement(k.Subheader,null,this.props.subHeader),I),i&&t().createElement(Xp,{style:{flex:1}}),!i&&j,"selector"===o&&s&&d&&t().createElement(Zd,{searchLabel:c,onSearch:l,style:{padding:"0 20px",minWidth:null},underlineShow:!1}))}}])}(t().Component);function Zp(e){return Zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(e)}function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ef.apply(null,arguments)}function tf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rf(n.key),n)}}function rf(e){var t=function(e){if("object"!=Zp(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Zp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Zp(t)?t:t+""}function nf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nf=function(){return!!e})()}function of(e){return of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},of(e)}function af(e,t){return af=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},af(e,t)}Qp.propTypes={item:W().object,onDeleteAction:W().func,onItemClicked:W().func,onFolderClicked:W().func,onEditLabel:W().func,mode:W().oneOf(["book","selector","inner"]),bookColumn:W().bool},Qp=Yp(Qp),Qp=(0,Q.muiThemeable)()(Qp);var sf=a(2015).Component,cf=a(6146),lf=cf.Divider,uf=cf.Subheader,df=cf.List,pf=cf.ListItem,ff=cf.FontIcon,hf=cf.Avatar,mf=a(2081),yf=a(4217).requireLib("boot").PydioContextConsumer,gf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){return t=of(t),function(e,t){if(t&&("object"==Zp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nf()?Reflect.construct(t,r||[],of(e).constructor):t.apply(e,r))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&af(e,t)}(t,e),function(e,t){return t&&tf(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.graph,n=t.pydio,o=t.getMessage,i=t.muiTheme,a=t.reloadAction,s=n.getController().actions.has("user_team_create"),c=[];if(r.teams&&r.teams.length){var l=null;s&&(l=function(t,r){mf.getRestClient().getIdmApi().removeUserFromTeam(r[0].id,e.props.userId,(function(e){e&&e.message&&n.UI.displayMessage("SUCCESS",e.message),a()}))}),c.push(React.createElement("div",{key:"teams"},React.createElement(Qp,{subHeader:o(581).replace("%s",r.teams.length),onItemClicked:function(){},item:{leafs:r.teams},mode:"inner",onDeleteAction:l})))}if(r.cells){var u=Object.values(r.cells).filter((function(e){return"ROOM"===e.Scope})),d="mui3"===i.userTheme?i.palette.mui3.tertiary:"#009688",p="mui3"===i.userTheme?i.palette.mui3["on-tertiary"]:"#fff";u.length&&c.push(React.createElement("div",null,c.length?React.createElement(lf,null):null,React.createElement(uf,null,1===u.length?o("601"):o("602").replace("%1",u.length)),React.createElement(df,{style:{paddingTop:0}},u.map((function(e){return React.createElement(pf,ef({disabled:!0,leftAvatar:React.createElement(hf,{icon:React.createElement(ff,{className:"mdi mdi-share-variant",style:{color:p}}),backgroundColor:d,size:lp.avatar.avatarSize,style:lp.avatar.style}),primaryText:e.Label,rightIconButton:React.createElement(k.IconButton,ef({iconClassName:"mdi mdi-open-in-new",tooltip:"Go to Cell",tooltipPosition:"top-left",onClick:function(){n.triggerRepositoryChange(e.UUID)}},lp.iconButton))},lp.listItem))})))))}return React.createElement("div",null,c)}}])}(sf);function bf(e){return bf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(e)}gf=yf((0,Q.muiThemeable)()(gf));var vf=["style"],kf=["style"];function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wf.apply(null,arguments)}function _f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Sf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Of(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sf(Object(r),!0).forEach((function(t){Ef(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ef(e,t,r){return(t=Pf(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pf(n.key),n)}}function Pf(e){var t=function(e){if("object"!=bf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=bf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bf(t)?t:t+""}function Tf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Tf=function(){return!!e})()}function xf(e){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xf(e)}function jf(e,t){return jf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jf(e,t)}var Af=a(9862),zf=a(4823),If=a(6146),Rf=If.FontIcon,Mf=If.Paper,Df=If.Avatar,Nf=If.CardTitle,Lf=a(509).muiThemeable,Uf=a(9535),Bf=a(2040).UsersApi,Ff=V().requireLib("hoc").ThemedContainers.Popover,qf=function(e){function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=function(e,t,r){return t=xf(t),function(e,t){if(t&&("object"==bf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Tf()?Reflect.construct(t,r||[],xf(e).constructor):t.apply(e,r))}(this,r,[e,t])).state={user:null,avatar:null,graph:null,local:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jf(e,t)}(r,e),function(e,t){return t&&Cf(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"componentDidMount",value:function(){this.loadPublicData(this.props.userId,this.props.idmUser)}},{key:"componentWillReceiveProps",value:function(e){this.props.userId&&this.props.userId===e.userId&&e.graphRand===this.props.graphRand||(this.setState({label:e.userId}),this.loadPublicData(e.userId,e.idmUser))}},{key:"componentWillUnmount",value:function(){this._userLoggedObs&&this.props.pydio.stopObserving("user_logged",this._userLoggedObs)}},{key:"loadPublicData",value:function(e,t){var r=this,n=this.props,o=n.userType,i=n.richCard,a=n.pydio;"group"!==o&&"team"!==o&&Bf.getUserPromise(e,t).then((function(t){t.isLocal()&&!r._userLoggedObs&&(r._userLoggedObs=function(t){null!==t&&r.loadPublicData(e)},a.observe("user_logged",r._userLoggedObs)),r.setState({user:t,avatar:t.getAvatar(),local:t.isLocal()}),i&&!t.isNotFound()&&Un().getRestClient().getIdmApi().loadUserGraph(e).then((function(e){var t={cells:{},teams:[]};e.SharedCells&&e.SharedCells.forEach((function(r){t.cells=e.SharedCells})),e.BelongsToTeams&&e.BelongsToTeams.forEach((function(e){t.teams.push({id:e.Uuid,label:e.Label,type:"team",IdmRole:e})})),r.setState({graph:t})}))})).catch((function(e){r.setState({loadError:!0})}))}},{key:"render",value:function(){var e=this,n=this.state,o=n.user,i=n.avatar,a=n.graph,s=n.local,c=n.loadError,l=this.props,u=l.pydio,d=l.userId,p=l.userType,f=l.icon,h=l.style,m=l.labelStyle,y=l.avatarLetters,g=l.avatarStyle,b=l.avatarSize,v=l.cardStyle,k=l.cardTitleStyle,w=l.cardSubtitleStyle,_=l.className,S=l.labelMaxChars,O=l.labelClassName,E=l.avatarClassName,C=l.displayLabel,P=l.displayLocalLabel,T=l.displayLabelChevron,x=l.labelChevronStyle,j=l.displayAvatar,A=l.useDefaultAvatar,z=l.richCard,I=l.muiTheme,R=l.noActionsPanel;if(!d)return t().createElement("div",null,"ERROR : empty userId ! ");var M,D,N,L,U,B,F,q,W,H,V,J,G=this.state.label,K=c,$=!1;if(o?(G=o.getLabel(),K=o.isNotFound(),o.isPublic()&&(G=u.MessageHash.public_link_user,$=!0)):G||(G=this.props.userLabel||this.props.userId),s&&P&&(G=u.MessageHash[634]),S&&G&&G.length>S&&(G.split(" ").length>1?(M=G,G=G.split(" ").map((function(e){return e[0]})).join("")):G.split("@").length>1&&(M=G,G=G.split("@")[0].split(".").length>1?G.split("@")[0].split(".").map((function(e){return e[0]})).join(""):G.split("@")[0])),z&&(j=!0,A=!0,C=!0),j&&!i&&G&&(!C||A)){var X,Y=I.palette.avatarsColor;switch("group"!==p&&"team"!==p&&0!==d.indexOf("PYDIO_GRP_/")&&0!==d.indexOf("/USER_TEAM/")||(Y=zf(Y).darken(.2).toString()),p){case"group":X="mdi mdi-account-multiple",D="289",B="folder-avatar";break;case"team":X="mdi mdi-account-multiple-outline",D="603",B="folder-avatar";break;case"remote":X="mdi mdi-account-network",D="604",B="folder-avatar";break;default:X="mdi mdi-account",o?o.getExternal()?(D="589",o.isPublic()&&(D="589",G=u.MessageHash.public_link_user,X="mdi mdi-link")):D="590":D="288"}f&&(X=f),D&&(D=u.MessageHash[D]),z?(U=t().createElement(Rf,{className:X,style:{color:Y}}),L="#f5f5f5"):(L=Y,X&&!y?U=t().createElement(Rf,{className:X}):(N=G.split(" ").map((function(e){return e[0]})).join("").substring(0,2)).length<2&&(N=G.substring(0,2)))}if(z){j=!0,h=Of(Of({},h),{},{flexDirection:"column"}),void 0===b&&(b=50),g=Of({position:"absolute",right:16,top:12},g);var Q=function(){Uf.getInstance().deleteKey("user_public_data-graph",e.props.userId),e.loadPublicData(e.props.userId,e.props.idmUser)};F=function(){Q(),e.props.reloadAction&&e.props.reloadAction()},q=function(){Q(),e.props.onEditAction&&e.props.onEditAction()}}else if(s||K||$||!this.props.richOnHover){if(!s&&!K&&!$&&this.props.richOnClick){H=Af(H=function(){e.lockedBySubPopover||e.setState({showPopover:!1})},350),V=function(t){e.setState({showPopover:!0,popoverAnchor:t.currentTarget}),H.cancel()};var Z=function(t){e.setState({showPopover:!0}),H.cancel()},ee=this.props,te=(ee.style,_f(ee,kf));J=t().createElement(Ff,{open:this.state.showPopover,anchorEl:this.state.popoverAnchor,onRequestClose:function(t){"clickAway"===t&&e.lockedBySubPopover||e.setState({showPopover:!1})},anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},useLayerForClickAway:!1},t().createElement(Mf,{zDepth:2,style:{width:220,height:320,overflowY:"auto"},onMouseOver:Z,onMouseOut:H},t().createElement(r,wf({},te,{richCard:!0,richOnHover:!1,cardSize:220,lockOnSubPopoverOpen:function(t){e.lockedBySubPopover=t,Z()}}))))}}else{H=Af(H=function(){e.lockedBySubPopover||e.setState({showPopover:!1})},350),W=function(t){e.setState({showPopover:!0,popoverAnchor:t.currentTarget}),H.cancel()};var re=function(t){e.setState({showPopover:!0}),H.cancel()},ne=this.props,oe=(ne.style,_f(ne,vf));J=t().createElement(Ff,{open:this.state.showPopover,anchorEl:this.state.popoverAnchor,onRequestClose:function(t){"clickAway"===t&&e.lockedBySubPopover||e.setState({showPopover:!1})},anchorOrigin:{horizontal:"left",vertical:"center"},targetOrigin:{horizontal:"right",vertical:"center"},useLayerForClickAway:!1},t().createElement(Mf,{zDepth:2,style:{width:220,height:320,overflowY:"auto"},onMouseOver:re,onMouseOut:H},t().createElement(r,wf({},oe,{richCard:!0,richOnHover:!1,cardSize:220,lockOnSubPopoverOpen:function(t){e.lockedBySubPopover=t,re()}}))))}if(i){var ie=i;ie.indexOf("?")>=0?ie+="&dim="+b:ie+="?dim="+b,U=t().createElement(Rf,{style:{backgroundImage:"url("+ie+")",backgroundSize:"cover",margin:0,width:"100%",height:"100%",borderRadius:"50%",backgroundPosition:"center"}})}var ae,se=t().createElement(Df,{icon:U,size:b,style:this.props.avatarOnly?this.props.style:g,backgroundColor:L,className:B||E},N);return this.props.avatarOnly?se:(z?se=t().createElement("div",{style:{textAlign:"center"}},se):K&&(G=u.MessageHash["user.unknown"]),C&&T&&(ae=t().createElement("span",{className:"mdi mdi-chevron-down",style:Of(Of({},x),{},{marginLeft:4,fontSize:"0.8em"})})),t().createElement("div",{className:_,style:h,onMouseOver:W,onMouseOut:H,onClick:V},j&&(i||N||U)&&se,C&&!z&&t().createElement("div",{title:M,className:O,style:m},G),ae,C&&z&&t().createElement(Nf,{style:Of({textAlign:"center"},v),title:G,subtitle:D,titleStyle:Of({},k),subtitleStyle:Of({},w)}),z&&o&&this.props.actionsPanel,z&&a&&!R&&t().createElement(gf,wf({graph:a},this.props,{userLabel:G,reloadAction:F,onEditAction:q})),this.props.children,J))}}])}(t().Component);qf.propTypes={userId:W().string.isRequired,pydio:W().instanceOf(V()),userLabel:W().string,userType:W().oneOf(["user","group","remote","team"]),icon:W().string,richCard:W().bool,richOnHover:W().bool,richOnClick:W().bool,userEditable:W().bool,onEditAction:W().func,onDeleteAction:W().func,reloadAction:W().func,displayLabel:W().bool,displayLocalLabel:W().bool,displayAvatar:W().bool,avatarOnly:W().bool,useDefaultAvatar:W().bool,avatarSize:W().number,avatarLetters:W().bool,noActionsPanel:W().bool,className:W().string,labelClassName:W().string,avatarClassName:W().string,style:W().object,labelStyle:W().object,avatarStyle:W().object},qf.defaultProps={displayLabel:!0,displayAvatar:!0,avatarSize:40,userType:"user",className:"user-avatar-widget",labelClassName:"user-label"},qf=Lf()(qf);var Wf=a(5117),Hf=a.n(Wf);const Vf=require("pydio/util/pass");var Jf=a.n(Vf);const Gf=require("pydio/http/policies");var Kf=a.n(Gf);const $f=require("cells-sdk");function Xf(e){return Xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(e)}function Yf(e){return function(e){if(Array.isArray(e))return Qf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Qf(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qf(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Zf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zf(Object(r),!0).forEach((function(t){th(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function th(e,t,r){return(t=nh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nh(n.key),n)}}function nh(e){var t=function(e){if("object"!=Xf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Xf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Xf(t)?t:t+""}function oh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(oh=function(){return!!e})()}function ih(e){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ih(e)}function ah(e,t){return ah=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ah(e,t)}var sh=function(e){function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=eh({},e);return e.subjectsDisabled||(n.subjectsDisabled={READ:{},WRITE:{}}),e.cellAcls&&Object.keys(e.cellAcls).map((function(t){e.cellAcls[t].RoleId&&(n.subjectsDisabled.READ["role:"+e.cellAcls[t].RoleId]=!0)})),(t=function(e,t,r){return t=ih(t),function(e,t){if(t&&("object"==Xf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,oh()?Reflect.construct(t,r||[],ih(e).constructor):t.apply(e,r))}(this,r,[n])).state={edit:!1,loading:!0,policies:[],diffPolicies:{add:{},remove:{}},hideGroups:!0===V().getInstance().getPluginConfigs("action.advanced_settings").get("DISABLE_SHARE_GROUPS")},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ah(e,t)}(r,e),function(e,t){return t&&rh(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.reload()}},{key:"reload",value:function(){var e=this,t=this.props,r=t.resourceType,n=t.resourceId,o=pydio.user,i=[Kf().loadPolicies(r,n),o.getIdmUser()];"team"!==r&&i.push(Un().getRestClient().getIdmApi().listTeams()),Promise.all(i).then((function(t){var n=t[0],o=n[0].Resource,i=t[1],a=[];"team"!==r&&t[2]&&(a=t[2].Teams),e.setState({policies:n,idmUser:i,userTeams:a,loading:!1,resourceUuid:o})})).catch((function(t){e.setState({error:t.message,loading:!1})}))}},{key:"revert",value:function(){this.setState({dirtyPolicies:null,diffPolicies:{add:{},remove:{}}})}},{key:"save",value:function(){var e=this,t=this.state,r=t.dirtyPolicies,n=t.diffPolicies,o=this.props,i=o.resourceType,a=o.resourceId,s=o.onSavePolicies;Kf().savePolicies(i,a,r).then((function(t){e.setState({policies:t,dirtyPolicies:null,diffPolicies:{add:{},remove:{}}}),s&&s(n)})).catch((function(t){e.setState({error:t.message})}))}},{key:"removePolicy",value:function(e,t){var r=this.state,n=r.policies,o=r.dirtyPolicies,i=r.diffPolicies;o&&(n=o);var a=[];n.map((function(r){r.Action===e&&r.Subject===t||a.push(r)})),i.remove[e+"///"+t]=!0,i.add[e+"///"+t]&&delete i.add[e+"///"+t],this.setState({dirtyPolicies:a,diffPolicies:i})}},{key:"addPolicy",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.state,o=n.policies,i=n.dirtyPolicies,a=n.resourceUuid,s=n.diffPolicies,c=Yf(i||o),l=new $f.ServiceResourcePolicy;l.Resource=a,l.Effect="allow",l.Subject=t,l.Action=e,c.push(l),s.add[e+"///"+t]=!0,s.remove[e+"///"+t]&&delete s.remove[e+"///"+t],r?this.setState({dirtyPolicies:c,diffPolicies:s,pickedUser:null,pickedLabel:null}):this.setState({dirtyPolicies:c,diffPolicies:s})}},{key:"hasOneWrite",value:function(e){var t=this.state.idmUser,r=t.Roles.map((function(e){return"role:"+e.Uuid}));r.push("user:"+t.Login);for(var n=0;n<r.length;n++)for(var o=0;o<e.length;o++)if(e[o].Subject===r[n]&&"WRITE"===e[o].Action)return!0;return!1}},{key:"findCrtUserSubject",value:function(e){var t=this.state.idmUser,r=["user:"+t.Login,"role:"+t.Uuid],n=e.filter((function(e){return r.indexOf(e.Subject)>-1}));return n.length?n[0].Subject:r[0]}},{key:"listUserRoles",value:function(e){var t=this.state,r=t.hideGroups,n=t.idmUser,o=this.findCrtUserSubject(e),i=this.hasOneWrite(e),a={};n.Roles.map((function(e){e.GroupRole&&!r&&(a["role:"+e.Uuid]=e.Label)})),(a=eh(eh({},this.listOtherUsersSubjects(e,o)),a))[o]="You";for(var s=Object.keys(a),c=[],l=s.length-1;l>=0;l--){var u=s[l],d=a[u];c.push(this.renderLine(u,d,e,!i||u===o))}return{groupBlocks:c,hasWrite:i}}},{key:"listUserTeams",value:function(e,t,r){var n=this;return e.map((function(e){return n.renderLine("role:"+e.Uuid,e.Label,t,r)}))}},{key:"listOtherUsersSubjects",value:function(e,t){var r=this.props,n=r.resourceId,o=r.cellAcls,i=this.state.hideGroups,a={};return e.map((function(e){if(0===e.Subject.indexOf("user:")&&e.Subject!==t&&e.Subject!=="user:"+n&&(a[e.Subject]=e.Subject.substr(5)),o&&0===e.Subject.indexOf("role:")&&o[e.Subject.substr(5)]){var r=e.Subject.substr(5);if(o[r].User){var s=o[r].User;t!=="user:"+s.Login&&t!=="role:"+s.Uuid&&(a[e.Subject]=s.Attributes&&s.Attributes.displayName?s.Attributes.displayName:s.Login)}else if(o[r].Group&&!i){var c=o[r].Group;a[e.Subject]=c.Attributes&&c.Attributes.displayName?c.Attributes.displayName:c.GroupLabel}}})),a}},{key:"pickUser",value:function(e){var t,r;if(e.IdmUser){var n=e.IdmUser,o=n.Attributes||{};n.IsGroup?(t="role:"+n.Uuid,r=o.displayName||n.GroupLabel):(t="user:"+n.Login,r=o.displayName||n.Login)}else{var i=e.IdmRole;t="role:"+i.Uuid,r=i.Label}this.setState({pickedUser:t,pickedLabel:r})}},{key:"renderLine",value:function(e,r,n,o){var i=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this.props,c=s.subjectsDisabled,l=s.subjectsHidden,u=s.readonly;if(l&&l[e])return null;var d=!1,p=!1,f=function(){i.addPolicy("READ",e,a)},h=function(){i.addPolicy("WRITE",e,a)};n.map((function(t){t.Subject===e&&("WRITE"===t.Action?(p="WRITE"===t.Action,h=function(){i.removePolicy("WRITE",e)}):"READ"===t.Action&&(d="READ"===t.Action,f=function(){i.removePolicy("READ",e)}))}));var m=o,y=o;return u?(y=!0,m=!0):(c&&c.READ&&c.READ[e]&&(y=!0),c&&c.WRITE&&c.WRITE[e]&&(m=!0)),t().createElement("div",{style:{display:"flex",margin:10,marginRight:0}},t().createElement("div",{style:{flex:1}},r),t().createElement(k.Checkbox,{checked:d,disabled:y,style:{width:40},onCheck:f}),t().createElement(k.Checkbox,{checked:p,disabled:m,style:{width:40},onCheck:h}))}},{key:"render",value:function(){var e=this,r=this.props.muiTheme,n=r.appBar,o=r.palette.mui3,i=void 0===o?{}:o,a={title:{paddingLeft:10,backgroundColor:n.color,display:"flex",alignItems:"center",fontSize:16,color:n.textColor},subheader:{margin:10,fontWeight:500,color:i["on-surface-variant"],display:"flex"},subject:{margin:10},head:{display:"inline-block",width:40,textAlign:"center",fontSize:10}},s=this.state,c=s.edit,l=s.policies,u=s.dirtyPolicies,d=s.error,p=s.idmUser,f=s.userTeams,h=s.loading,m=s.pickedUser,y=s.pickedLabel,g=this.props,b=g.onDismiss,v=g.style,w=g.skipTitle,_=g.resourceId,S=g.pydio,O=g.userListExcludes,E=void 0===O?[]:O,C=g.readonly,P=g.description,T=[],x=S.MessageHash;if(!c)return t().createElement("div",{style:v},!w&&t().createElement("div",{style:eh(eh({},a.title),{},{height:48})},t().createElement("span",{style:{flex:1}},x["visibility.panel.title"]),b&&t().createElement(k.IconButton,{iconClassName:"mdi mdi-close",onClick:b,iconStyle:{color:n.textColor}})),t().createElement("div",{style:{padding:20,fontWeight:500,textAlign:"justify"}},t().createElement("div",{style:{paddingBottom:20}},P),t().createElement("div",{style:{textAlign:"center"}},t().createElement(k.RaisedButton,{label:x["visibility.panel.edit"],primary:!0,onClick:function(){e.setState({edit:!0})}}))));if(!h&&!d){var j=this.listUserRoles(u||l),A=j.groupBlocks,z=j.hasWrite,I=this.listUserTeams(f,u||l,!z),R=t().createElement("div",null,t().createElement("span",{style:a.head},x["visibility.panel.right-read"]),t().createElement("span",{style:a.head},x["visibility.panel.right-edit"]));if(A.length&&(T.push(t().createElement("div",{style:a.subheader},t().createElement("span",{style:{flex:1}},x["visibility.panel.list.users"]),R)),T.push(A),T.push(t().createElement(k.Divider,null))),I.length&&(T.push(t().createElement("div",{style:a.subheader},t().createElement("span",{style:{flex:1}},x["visibility.panel.list.teams"]),R)),T.push(I),T.push(t().createElement(k.Divider,null))),m)T.push(t().createElement("div",{style:a.subheader},x["visibility.panel.setvisible"])),T.push(this.renderLine(m,y,l,!1,!0)),T.push(t().createElement("div",{style:{textAlign:"right"}},t().createElement(k.FlatButton,{label:x[54],onClick:function(){e.setState({pickedUser:null,pickedLabel:null})}}))),T.push(t().createElement(k.Divider,null));else if(!C){var M="user:"+p.Login,D=this.listOtherUsersSubjects(u||l,M),N=[];Object.keys(D).map((function(e){N.push(D[e])})),T.push(t().createElement("div",{style:a.subheader},x["visibility.panel.setvisible"])),T.push(t().createElement("div",{style:{margin:"-10px 10px 0"}},t().createElement(Xb,{className:"share-form-users",fieldLabel:x["visibility.panel.pickuser"],renderSuggestion:function(e){return t().createElement("div",{style:{fontSize:13}},e.getExtendedLabel())},onValueSelected:this.pickUser.bind(this),usersOnly:!1,existingOnly:!0,excludes:[_].concat(Yf(E),N),pydio:S,showAddressBook:!1,usersFrom:"local"}))),T.push(t().createElement(k.Divider,null))}T.pop()}return t().createElement("div",{style:v},t().createElement("div",{style:a.title},t().createElement("span",{style:{flex:1}},w?"":x["visibility.panel.title"]),u&&t().createElement(k.IconButton,{iconClassName:"mdi mdi-undo-variant",tooltip:x["visibility.panel.revert"],onClick:this.revert.bind(this),iconStyle:{color:n.textColor}}),u&&t().createElement(k.IconButton,{iconClassName:"mdi mdi-content-save",tooltip:x["visibility.panel.save"],onClick:this.save.bind(this),iconStyle:{color:n.textColor}}),!u&&b&&t().createElement(k.IconButton,{iconClassName:"mdi mdi-close",onClick:b,iconStyle:{color:n.textColor}})),d&&t().createElement("div",null,x["visibility.panel.error"],": ",d),t().createElement("div",null,T))}}])}(t().Component);function ch(e){return ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(e)}function lh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lh(Object(r),!0).forEach((function(t){dh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dh(e,t,r){return(t=fh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ph(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fh(n.key),n)}}function fh(e){var t=function(e){if("object"!=ch(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ch(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ch(t)?t:t+""}function hh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(hh=function(){return!!e})()}function mh(e){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mh(e)}function yh(e,t){return yh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yh(e,t)}sh.PropTypes={pydio:W().instanceOf(V()),resourceType:W().string.isRequired,resourceId:W().string.isRequired,description:W().string.isRequired,onSavePolicies:W().func,userListExcludes:W().array,subjectsDisabled:W().array,subjectsHidden:W().object,readonly:W().bool,cellAcls:W().object,onDismiss:W().func,style:W().object,skipTitle:W().bool},sh=(0,Q.muiThemeable)()(sh);var gh=a(2015),bh=a(2081),vh=a(9298),kh=a(9535),wh=a(6146).IconButton,_h=a(509).muiThemeable,Sh=a(4217).requireLib("boot"),Oh=Sh.PydioContextConsumer,Eh=Sh.AsyncComponent,Ch=V().requireLib("hoc").ThemedContainers.Popover,Ph=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,r){return t=mh(t),function(e,t){if(t&&("object"==ch(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hh()?Reflect.construct(t,r||[],mh(e).constructor):t.apply(e,r))}(this,t,[e,r])).state={showPicker:!1,pickerAnchor:null,showMailer:!1,mailerAnchor:null,showPolicies:!1,policiesAnchor:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yh(e,t)}(t,e),function(e,t){return t&&ph(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"onTeamSelected",value:function(e){var t=this.props,r=t.userId,n=t.reloadAction;this.setState({showPicker:!1}),e.IdmRole&&e.IdmRole.IsTeam&&bh.getRestClient().getIdmApi().addUserToTeam(e.IdmRole.Uuid,r,(function(){kh.getInstance().deleteKey("user_public_data-graph",r),n()}))}},{key:"onUserSelected",value:function(e){var t=this.props,r=t.team,n=t.reloadAction;bh.getRestClient().getIdmApi().addUserToTeam(r.id,e.IdmUser.Login,n)}},{key:"openPicker",value:function(e){this.setState({showPicker:!0,pickerAnchor:e.currentTarget})}},{key:"openPolicies",value:function(e){this.setState({showPolicies:!0,policiesAnchor:e.currentTarget})}},{key:"openMailer",value:function(e){var t=this,r=e.currentTarget;vh.loadClassesAndApply(["PydioMailer"],(function(){t.setState({mailerLibLoaded:!0},(function(){t.setState({showMailer:!0,mailerAnchor:r})}))}))}},{key:"componentDidUpdate",value:function(e,t){this.props.lockOnSubPopoverOpen&&(!this.state.showPicker&&!this.state.showMailer||t.showPicker||t.showMailer?this.state.showPicker||this.state.showMailer||!t.showPicker&&!t.showMailer||this.props.lockOnSubPopoverOpen(!1):this.props.lockOnSubPopoverOpen(!0))}},{key:"render",value:function(){var e,t,r=this,n=this.props,o=n.pydio,i=n.getMessage,a=n.muiTheme,s=n.userEditable,c=n.userId,l=n.style,u=n.otherPopoverMouseOver,d=n.team,p=n.user,f=n.onEditAction,h=n.onDeleteAction,m=n.buttonStyle,y=n.iconStyle,g=o.getController().actions.has("user_team_create"),b="mui3"===a.userTheme?a.palette.mui3.primary:a.palette.accent2Color,v={button:uh({border:"0px solid "+b,backgroundColor:"mui3"===a.userTheme?a.palette.mui3["primary-container"]:"transparent",borderRadius:"50%",margin:"0 4px",width:36,height:36,padding:8},m),icon:uh({fontSize:20,color:b},y)},k={},w=[];return p&&p.IdmUser&&p.IdmUser.Attributes&&(p.IdmUser.Attributes.hasEmail||p.IdmUser.Attributes.email)&&(w.push({key:"message",label:i(598),icon:"email",callback:this.openMailer.bind(this)}),k[p.IdmUser.Login]=p.IdmUser),d?(e="team",t=d.id,g&&w.push({key:"users",label:i(599),icon:"account-multiple-plus",callback:this.openPicker.bind(this)})):(e="user",t=c,g&&w.push({key:"teams",label:i(573),icon:"account-multiple-plus",callback:this.openPicker.bind(this)})),!s||d&&!g||(f&&w.push({key:"edit",label:i(d?580:600),icon:"pencil",callback:f}),w.push({key:"policies",label:i("visibility.panel.title"),icon:"security",callback:this.openPolicies.bind(this)}),h&&w.push({key:"delete",label:i(d?570:582),icon:"delete",callback:h})),0===w.length?null:gh.createElement("div",{style:uh({},l)},w.map((function(e){return gh.createElement(wh,{key:e.key,style:v.button,iconStyle:v.icon,tooltip:e.label,iconClassName:"mdi mdi-"+e.icon,onClick:e.callback})})),gh.createElement(Ch,{open:this.state.showPicker,anchorEl:this.state.pickerAnchor,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},onRequestClose:function(){r.setState({showPicker:!1})},useLayerForClickAway:!1,style:{zIndex:2200}},gh.createElement("div",{style:{width:256,height:320}},gh.createElement(Db,{mode:"selector",pydio:o,loaderStyle:{width:320,height:320},onItemSelected:d?this.onUserSelected.bind(this):this.onTeamSelected.bind(this),teamsOnly:!d,usersOnly:!!d}))),gh.createElement(Ch,{open:this.state.showMailer,anchorEl:this.state.mailerAnchor,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},useLayerForClickAway:!1,style:{zIndex:2200}},gh.createElement("div",{style:{width:256,height:320}},this.state.mailerLibLoaded&&gh.createElement(Eh,{namespace:"PydioMailer",componentName:"Pane",pydio:o,zDepth:0,panelTitle:i(598),uniqueUserStyle:!0,users:k,templateId:"DM",templateData:{From:o.user.getPreference("displayName")||o.user.id},onDismiss:function(){r.setState({showMailer:!1})},onFieldFocus:u}))),gh.createElement(Ch,{open:this.state.showPolicies,anchorEl:this.state.policiesAnchor,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},useLayerForClickAway:!1,style:{zIndex:2e3}},gh.createElement("div",{style:{width:256,height:320}},gh.createElement(sh,{description:o.MessageHash["visibility.users.advanced"],pydio:o,resourceType:e,resourceId:t,onDismiss:function(){r.setState({showPolicies:!1})}}))))}}])}(gh.Component);function Th(e){return Th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(e)}Ph.propTypes={user:W().object,team:W().object,userEditable:W().bool,pydio:W().object,getMessage:W().func,userId:W().string,style:W().object,onEditAction:W().func,onDeleteAction:W().func,reloadAction:W().func},Ph=Oh(Ph),Ph=_h()(Ph);var xh=["style"];function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jh.apply(null,arguments)}function Ah(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ah(Object(r),!0).forEach((function(t){Ih(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ah(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ih(e,t,r){return(t=Mh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mh(n.key),n)}}function Mh(e){var t=function(e){if("object"!=Th(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Th(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Th(t)?t:t+""}function Dh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Dh=function(){return!!e})()}function Nh(e){return Nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nh(e)}function Lh(e,t){return Lh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lh(e,t)}var Uh=a(6146),Bh=Uh.TextField,Fh=Uh.FlatButton,qh=Uh.CardTitle,Wh=a(4217).requireLib("boot").PydioContextConsumer,Hh=function(e){function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=function(e,t,r){return t=Nh(t),function(e,t){if(t&&("object"==Th(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Dh()?Reflect.construct(t,r||[],Nh(e).constructor):t.apply(e,r))}(this,r,[e,t])).state={label:n.props.item.label},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lh(e,t)}(r,e),function(e,t){return t&&Rh(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"loadMembers",value:function(e){var t=this;this.setState({loading:!0}),wp.childrenAsPromise(e,!1).then((function(r){wp.childrenAsPromise(e,!0).then((function(r){t.setState({members:e.leafs,loading:!1})}))}))}},{key:"componentWillMount",value:function(){this.loadMembers(this.props.item)}},{key:"componentWillReceiveProps",value:function(e){this.loadMembers(e.item),this.setState({label:e.item.label})}},{key:"onLabelChange",value:function(e,t){this.setState({label:t})}},{key:"updateLabel",value:function(){var e=this;this.state.label!==this.props.item.label&&Un().getRestClient().getIdmApi().updateTeamLabel(this.props.item.IdmRole.Uuid,this.state.label,(function(){e.props.onUpdateAction(e.props.item)})),(0,this.props.setEdit)(!1)}},{key:"render",value:function(){var e,r=this,n=this.props,o=n.model,i=n.item,a=n.onDeleteAction,s=n.getMessage,c=n.edit,l=n.setEdit,u=n.muiTheme,d={team:i,userEditable:this.props.item.IdmRole.PoliciesContextEditable,onDeleteAction:function(){r.props.onDeleteAction(i._parent,[i])},onEditAction:function(){l(!0)},reloadAction:function(){r.props.onUpdateAction(i)}};e=c?t().createElement("div",{style:{display:"flex",alignItems:"center",padding:12}},t().createElement(Bh,{style:{flex:1,fontSize:24},fullWidth:!0,disabled:!1,underlineShow:!1,value:this.state.label,onChange:this.onLabelChange.bind(this)}),t().createElement(Fh,{secondary:!0,label:s(48),onClick:function(){r.updateLabel()}})):t().createElement(qh,{style:{padding:"12px 16px 4px"},title:this.state.label,subtitle:i.leafs&&i.leafs.length?s(576).replace("%s",i.leafs.length):s(577)});var p=this.props,f=(p.style,function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(p,xh)),h={};return"mui3"!==u.userTheme&&(h={borderTop:"1px solid #e0e0e0",borderBottom:"1px solid #e0e0e0"}),t().createElement("div",null,t().createElement("div",{style:{paddingBottom:4}},e,t().createElement(Ph,jh({},f,d,{style:zh({paddingLeft:8},h)}))),t().createElement(Qp,{model:o,subHeader:s(575),onItemClicked:function(){},item:i,mode:"inner",onDeleteAction:a}))}}])}(t().Component);function Vh(e){return Vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(e)}function Jh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jh(Object(r),!0).forEach((function(t){Kh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kh(e,t,r){return(t=Xh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xh(n.key),n)}}function Xh(e){var t=function(e){if("object"!=Vh(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Vh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Vh(t)?t:t+""}function Yh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Yh=function(){return!!e})()}function Qh(e){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qh(e)}function Zh(e,t){return Zh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zh(e,t)}Hh.propTypes={pydio:W().instanceOf(Pydio),item:W().object,style:W().object,onRequestClose:W().func,onDeleteAction:W().func,onUpdateAction:W().func},Hh=Wh((0,Q.muiThemeable)()(Hh));var em=V().requireLib("form"),tm=em.Manager,rm=em.FormPanel,nm=function(e){function r(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var o=(n=function(e,t,r){return t=Qh(t),function(e,t){if(t&&("object"==Vh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yh()?Reflect.construct(t,r||[],Qh(e).constructor):t.apply(e,r))}(this,r,[e,t])).props,i=o.pydio,a=o.newUserName,s=o.editMode,c=o.userData,l=i.getPluginConfigs("action.share").get("SHARED_USERS_TMP_PREFIX");l&&!a.startsWith(l)||(l="");var u={new_password:"",send_email:i.Parameters.get("validMailer")};if(s&&c&&c.IdmUser){var d=c.IdmUser;n.getParameters().forEach((function(e){var t,r=e.name,n=e.IdmUserField,o=e.scope,i=e.pluginId;n?t=d[n]:"user"===o&&d.Attributes?t=d.Attributes[r]:i&&d.Attributes["parameter:"+i+":"+r]&&(t=JSON.parse(d.Attributes["parameter:"+i+":"+r])),void 0!==t&&(u[r]=t)}))}else u.new_user_id=l+a,u.lang=i.currentLanguage;return n.state={values:u},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zh(e,t)}(r,e),function(e,t){return t&&$h(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"getCreateUserParameters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[],r=this.props.pydio,n=r.MessageHash,o=r.getPluginConfigs("action.share").get("SHARED_USERS_TMP_PREFIX");t.push({IdmUserField:"Login",description:n[533],readonly:e,expose:"true",label:n[522],name:e?"existing_user_id":"new_user_id",scope:"user",type:"valid-login",mandatory:!0,default:o||""},{IdmUserField:"Password",description:n[534],editable:"true",expose:"true",label:n[523],name:"new_password",scope:"user",type:"valid-password",mandatory:!0,direction:"column"});for(var i=r.getPluginConfigs("auth").get("NEWUSERS_EDIT_PARAMETERS").split(","),a=0;a<i.length;a++)i[a]="user/preferences/pref[@exposed]|//param[@name='"+i[a]+"']";var s=i.join("|");return tm.parseParameters(r.getXmlRegistry(),s).map((function(e){t.push(e)})),!e&&r.Parameters.get("validMailer")&&t.push({description:n[536],editable:"true",expose:"true",label:n[535],name:"send_email",scope:"user",type:"boolean",mandatory:!0}),t}},{key:"getDefaultProps",value:function(){return{editMode:!1}}},{key:"getParameters",value:function(){return this._parsedParameters||(this._parsedParameters=this.getCreateUserParameters(this.props.editMode)),this._parsedParameters}},{key:"getValuesForPost",value:function(e){return tm.getValuesForPOST(this.getParameters(),this.state.values,e)}},{key:"onValuesChange",value:function(e){this.setState({values:e})}},{key:"changeValidStatus",value:function(e){this.setState({valid:e})}},{key:"submitCreationForm",value:function(){var e,t=this,r=this.props,n=r.editMode,o=r.userData;n&&(e=o.IdmUser),Un().getRestClient().getIdmApi().putExternalUser(this.state.values,this.getParameters(),e).then((function(e){t.props.onUserCreated(_p.User.fromIdmUser(e))}))}},{key:"cancelCreationForm",value:function(){this.props.onCancel()}},{key:"render",value:function(){var e=this.props,r=e.pydio,n=e.editMode,o=e.formShowLegends,i=void 0===o||o,a=this.state.valid;return a||!n||this.state.values.new_password||(a=!0),t().createElement(k.Paper,{zDepth:void 0===this.props.zDepth?2:this.props.zDepth,style:Gh({minHeight:250,display:"flex",flexDirection:"column"},this.props.style)},t().createElement(rm,{className:"reset-pydio-forms",depth:-1,parameters:this.getParameters(),values:this.state.values,onChange:this.onValuesChange.bind(this),onValidStatusChange:this.changeValidStatus.bind(this),panelStyle:{overflowY:"auto",flex:1},variant:"v2",variantShowLegend:i}),t().createElement(k.Divider,{style:{flexShrink:0}}),t().createElement("div",{style:{padding:8,textAlign:"right"}},t().createElement(k.FlatButton,{label:r.MessageHash[54],onClick:this.cancelCreationForm.bind(this)}),t().createElement(k.FlatButton,{label:this.props.editMode?r.MessageHash[519]:r.MessageHash[484],primary:!0,onClick:this.submitCreationForm.bind(this),disabled:!a})))}}])}(t().Component);function om(e){return om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(e)}function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},im.apply(null,arguments)}function am(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?am(Object(r),!0).forEach((function(t){cm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):am(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cm(e,t,r){return(t=um(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,um(n.key),n)}}function um(e){var t=function(e){if("object"!=om(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=om(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==om(t)?t:t+""}function dm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(dm=function(){return!!e})()}function pm(e){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pm(e)}function fm(e,t){return fm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fm(e,t)}nm.propTypes={newUserName:W().string,onUserCreated:W().func.isRequired,onCancel:W().func.isRequired,editMode:W().bool,userData:W().object};var hm=function(e){function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=function(e,t,r){return t=pm(t),function(e,t){if(t&&("object"==om(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,dm()?Reflect.construct(t,r||[],pm(e).constructor):t.apply(e,r))}(this,r,[e,t])).state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fm(e,t)}(r,e),function(e,t){return t&&lm(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"render",value:function(){var e,r=this,n=this.props,o=n.pydio,i=n.item,a=n.model,s=n.onDeleteAction,c=n.onUpdateAction,l=n.edit,u=n.setEdit,d=n.muiTheme,p=this.state.graphRand,f={avatarStyle:{zIndex:1}},h=i._parent&&"ext"===i._parent.id,m={};"mui3"!==d.userTheme&&(m={borderTop:"1px solid #e0e0e0",borderBottom:"1px solid #e0e0e0"});var y=t().createElement(Ph,{pydio:o,model:a,user:i,userId:i.id,userEditable:h&&i.IdmUser.PoliciesContextEditable,onDeleteAction:function(){s(i._parent,[i])},onEditAction:function(){u(!0)},reloadAction:function(){c(i),r.setState({graphRand:Math.random()})},style:sm({padding:8,textAlign:"center"},m)});return l&&(e=t().createElement(nm,{pydio:o,zDepth:0,style:{flex:1,borderRadius:0,borderTop:"1px solid var(--md-sys-color-outline-variant-50)"},newUserName:i.id,editMode:!0,userData:i,onUserCreated:function(){c(i),u(!1)},onCancel:function(){u(!1)},formShowLegends:!0})),f=sm(sm({},f),{},{avatarSize:40,avatarStyle:{left:20,top:20,right:"inherit"},cardStyle:{textAlign:"left",padding:"20px 16px 24px 74px"},cardTitleStyle:{fontSize:14,fontWeight:500,lineHeight:"20px"},cardSubtitleStyle:{fontSize:13,fontWeight:400,lineHeight:"14px"}}),t().createElement("div",{style:l?{height:"100%",display:"flex",flexDirection:"column"}:{}},t().createElement(qf,im({userId:this.props.item.id,richCard:!0,pydio:this.props.pydio,cardSize:this.props.style.width,cardStyle:{textAlign:"left",padding:"12px 16px 4px"},actionsPanel:!l&&y,noActionsPanel:l,graphRand:p},f)),e)}}])}(t().Component);function mm(e){return mm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(e)}function ym(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ym(Object(r),!0).forEach((function(t){bm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ym(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bm(e,t,r){return(t=km(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,km(n.key),n)}}function km(e){var t=function(e){if("object"!=mm(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=mm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==mm(t)?t:t+""}function wm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wm=function(){return!!e})()}function _m(e){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_m(e)}function Sm(e,t){return Sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sm(e,t)}hm.propTypes={pydio:W().instanceOf(Pydio),item:W().object,style:W().object,onRequestClose:W().func,onDeleteAction:W().func,onUpdateAction:W().func},hm=(0,Q.muiThemeable)()(hm);var Om=a(9825),Em=a(2015),Cm=a(6146),Pm=Cm.Paper,Tm=Cm.IconButton,xm=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,r){return t=_m(t),function(e,t){if(t&&("object"==mm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wm()?Reflect.construct(t,r||[],_m(e).constructor):t.apply(e,r))}(this,t,[e,r])).state={edit:!1},n.props.model.observe("update",(function(){return n.forceUpdate()})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sm(e,t)}(t,e),function(e,t){return t&&vm(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentWillReceiveProps",value:function(e){e.item!==this.props.item&&this.setState({edit:!1})}},{key:"render",value:function(){var e,t=this,r=this.props,n=r.model,o=r.style,i=r.zDepth,a=void 0===i?2:i,s=this.state.edit,c=n.rightItem(),l=function(){n.clearRightItem()},u=gm(gm({},this.props),{},{item:c,onRequestClose:l,onDeleteAction:function(e,t,r){return n.deleteItems(e,t,r)},onCreateAction:function(e){n.setCreateItem(e)},onUpdateAction:function(e){var r=t.props.model;e._parent&&e._parent===r.contextItem()&&r.reloadContext()},edit:s,setEdit:function(e){return t.setState({edit:e})}});return c&&"user"===c.type?e=Em.createElement(hm,u):c&&c.IdmRole&&c.IdmRole.IsTeam&&(e=Em.createElement(Hh,u)),Em.createElement(Pm,{zDepth:a,style:gm({position:"relative",borderRadius:6},o)},Em.createElement(Tm,{iconClassName:"mdi mdi-close",style:{position:"absolute",top:12,right:12,zIndex:2},iconStyle:{color:"#e0e0e0"},onClick:l}),e)}}])}(Em.Component);function jm(e){return jm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(e)}function Am(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zm(n.key),n)}}function zm(e){var t=function(e){if("object"!=jm(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=jm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jm(t)?t:t+""}function Im(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Im=function(){return!!e})()}function Rm(e){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rm(e)}function Mm(e,t){return Mm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mm(e,t)}xm.propTypes={pydio:Om.instanceOf(Pydio),item:Om.object,style:Om.object,onRequestClose:Om.func,onDeleteAction:Om.func,onUpdateAction:Om.func};var Dm=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,r){return t=Rm(t),function(e,t){if(t&&("object"==jm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Im()?Reflect.construct(t,r||[],Rm(e).constructor):t.apply(e,r))}(this,r,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mm(e,t)}(r,e),function(e,t){return t&&Am(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"onClick",value:function(){this.props.onClick(this.props.entry)}},{key:"buildNestedItems",value:function(e){var n=this.props,o=n.style,i=n.innerDivStyle,a=n.avatarSize;return e.map(function(e){return t().createElement(r,{nestedLevel:this.props.nestedLevel+1,entry:e,onClick:this.props.onClick,selected:this.props.selected,showIcons:!0,style:o,innerDivStyle:i,avatarSize:a})}.bind(this))}},{key:"render",value:function(){var e,r=this.props,n=r.showIcons,o=r.entry,i=(r.selected,r.style),a=r.innerDivStyle,s=r.avatarSize,c=void 0===s?36:s,l=o.id,u=o.label,d=o.icon,p=o.collections||[],f=this.buildNestedItems(p);return d&&n&&(k.FontIcon,e=t().createElement(k.Avatar,{icon:t().createElement(k.FontIcon,{className:d}),size:c})),t().createElement(k.ListItem,{nestedLevel:this.props.nestedLevel,key:l,primaryText:u,onClick:this.onClick.bind(this),nestedItems:f,initiallyOpen:!0,leftAvatar:e,innerDivStyle:a,style:i})}}])}(e.Component);function Nm(e){return Nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(e)}function Lm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Um(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lm(Object(r),!0).forEach((function(t){Bm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bm(e,t,r){return(t=Wm(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fm.apply(null,arguments)}function qm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wm(n.key),n)}}function Wm(e){var t=function(e){if("object"!=Nm(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Nm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Nm(t)?t:t+""}function Hm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Hm=function(){return!!e})()}function Vm(e){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vm(e)}function Jm(e,t){return Jm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jm(e,t)}Dm.propTypes={nestedLevel:W().number,selected:W().string,onClick:W().func};var Gm=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=function(e,t,r){return t=Vm(t),function(e,t){if(t&&("object"==Nm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Hm()?Reflect.construct(t,r||[],Vm(e).constructor):t.apply(e,r))}(this,r,[e]),e.model.observe("update",(function(){return t.forceUpdate()})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jm(e,t)}(r,e),function(e,t){return t&&qm(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"render",value:function(){var e=this.props,r=e.listStyles,n=void 0===r?{}:r,o=e.rootStyle,i=void 0===o?{}:o,a=e.model,s=[],c=a.contextItem();return a.getRoot().collections.map(function(e){s.push(t().createElement(Dm,Fm({key:e.id,selected:c&&c.id,nestedLevel:0,entry:e,onClick:function(e,t){return a.setContext(e,t)}},n.listItem,{avatarSize:n.avatar?n.avatar.avatarSize:void 0,showIcons:!0}))),s.push(t().createElement(k.Divider,{key:e.id+"-divider"}))}.bind(this)),s.pop(),t().createElement("div",{style:Um(Um({},i),{},{zIndex:2})},t().createElement(k.List,null,s))}}])}(t().Component);function Km(e){return Km="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(e)}function $m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xm(n.key),n)}}function Xm(e){var t=function(e){if("object"!=Km(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Km(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Km(t)?t:t+""}function Ym(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ym=function(){return!!e})()}function Qm(e){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qm(e)}function Zm(e,t){return Zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zm(e,t)}var ey=V().requireLib("boot").PydioContextConsumer,ty=V().requireLib("hoc").ModernTextField,ry=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,r){return t=Qm(t),function(e,t){if(t&&("object"==Km(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ym()?Reflect.construct(t,r||[],Qm(e).constructor):t.apply(e,r))}(this,t,[e,r])).state={value:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zm(e,t)}(t,e),function(e,t){return t&&$m(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"onChange",value:function(e,t){this.setState({value:t})}},{key:"submitCreationForm",value:function(){var e=this.state.value;Un().getRestClient().getIdmApi().saveSelectionAsTeam(e,[],this.props.onTeamCreated)}},{key:"render",value:function(){var e=this,t=this.props.getMessage;return React.createElement("div",null,React.createElement("div",{style:{padding:20}},React.createElement("div",null,t(591)),React.createElement(ty,{focusOnMount:!0,floatingLabelText:t(578),value:this.state.value,onChange:this.onChange.bind(this),fullWidth:!0,onKeyPress:function(t){"Enter"===t.key&&e.submitCreationForm()},variant:"v2"})),React.createElement("div",null,React.createElement("div",{style:{textAlign:"right",padding:8}},React.createElement(k.FlatButton,{label:t(49),onClick:this.props.onCancel.bind(this)}),React.createElement(k.FlatButton,{label:t(579),primary:!0,onClick:this.submitCreationForm.bind(this)}))))}}])}(e.Component);function ny(e){return ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(e)}function oy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function iy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oy(Object(r),!0).forEach((function(t){ay(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ay(e,t,r){return(t=cy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cy(n.key),n)}}function cy(e){var t=function(e){if("object"!=ny(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ny(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ny(t)?t:t+""}function ly(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ly=function(){return!!e})()}function uy(e){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uy(e)}function dy(e,t){return dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dy(e,t)}ry.propTypes={onTeamCreated:W().func.isRequired,onCancel:W().func.isRequired},ry=ey(ry);var py=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=function(e,t,r){return t=uy(t),function(e,t){if(t&&("object"==ny(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ly()?Reflect.construct(t,r||[],uy(e).constructor):t.apply(e,r))}(this,r,[e]),e.model.observe("update",(function(){return t.forceUpdate()})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dy(e,t)}(r,e),function(e,t){return t&&sy(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"render",value:function(){var e,r,n,o=this.props,i=o.pydio,a=o.model,s=o.onCancel,c=o.afterSubmit,l=a.createItem();l&&("users"===l.actions.type?(n={display:"flex",flexDirection:"column",overflow:"hidden"},e=a.m(484,""),r=t().createElement(nm,{zDepth:0,style:{display:"flex",flexDirection:"column",flex:1,marginTop:-20},newUserName:"",onUserCreated:c,onCancel:s,pydio:i})):"teams"===l.actions.type?(e=a.m(569,""),r=t().createElement(ry,{onTeamCreated:c,onCancel:s})):"team"===l.actions.type&&(e=null,r=t().createElement(Db,{pydio:i,mode:"selector",usersOnly:!0,disableSearch:!0,onItemSelected:function(e){Un().getRestClient().getIdmApi().addUserToTeam(e.IdmRole.Uuid,e.IdmUser.Login).then((function(){a.reloadContext()}))}})));var u=this.props.muiTheme,d="mui3"===u.userTheme?{style:{background:u.dialog.containerBackground}}:void 0;return t().createElement(k.Dialog,{contentStyle:{width:420,minWidth:380,maxWidth:"100%",padding:0},bodyStyle:iy({padding:0},n),title:t().createElement("div",{style:{padding:20}},e),actions:null,modal:!1,open:!!l,paperProps:d,onRequestClose:function(){s()}},r)}}])}(t().Component);const fy=py=(0,Q.muiThemeable)()(py);function hy(e){return hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(e)}function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},my.apply(null,arguments)}function yy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yy(Object(r),!0).forEach((function(t){_y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function by(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sy(n.key),n)}}function vy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vy=function(){return!!e})()}function ky(e){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ky(e)}function wy(e,t){return wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wy(e,t)}function _y(e,t,r){return(t=Sy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sy(e){var t=function(e){if("object"!=hy(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=hy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==hy(t)?t:t+""}var Oy=function(r){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return _y(e=function(e,t,r){return t=ky(t),function(e,t){if(t&&("object"==hy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vy()?Reflect.construct(t,r||[],ky(e).constructor):t.apply(e,r))}(this,n,[].concat(r)),"state",{editLabel:!1}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wy(e,t)}(n,r),function(e,t){return t&&by(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"onLabelKeyEnter",value:function(e){"Enter"===e.key&&this.updateLabel()}},{key:"onLabelChange",value:function(e,t){this.setState({editValue:t})}},{key:"updateLabel",value:function(){var e=this.props.model,t=this.state.editValue;t!==e.contextItem().label&&Un().getRestClient().getIdmApi().updateTeamLabel(e.contextItem().IdmRole.Uuid,t,(function(){var t=e.contextItem()._parent;e.setContext(t,(function(){e.reloadContext().then((function(){}))}))})),this.setState({editLabel:!1})}},{key:"render",value:function(){var r=this,n=this.props,o=n.muiTheme,i=n.bookColumn,a=n.mode,s=n.getMessage,c=n.pydio,l=n.style,u=n.model,d=n.searchLabel,p=n.onSearch,f=n.searchTerm,h=n.setSearchTerm,m=n.searchMode,y=n.setSearchMode,g=n.enableSearch,b=u.contextItem(),v=u.getSelectionMode(),w=function(){return u.reloadContext()},_="mui3"===o.userTheme?o.palette.mui3.primary:o.palette.accent2Color,S={toolbarHeight:"book"===a?56:48,titleFontsize:"book"===a?20:16,titleFontWeight:400,titlePadding:10,button:{border:"1px solid "+_,backgroundColor:"transparent",borderRadius:"50%",margin:"0 4px",width:36,height:36,padding:6},icon:{fontSize:18,color:_}};i&&(S.titleFontsize=14,S.titleFontWeight=500,S.titlePadding="10px 6px 10px 16px",S.button.margin="0",S.button.border="0",S.icon.color=_);var O={searchLabel:d,onSearch:p,searchTerm:f,setSearchTerm:h,style:{flex:1,minWidth:110}};"selector"!==a&&(O.underlineShow=!1,O.style=gy(gy({},O.style),{},{borderRadius:o.borderRadius,background:o.palette.mui3["surface-2"],height:38,display:"flex",alignItems:"center",paddingLeft:16,marginRight:8}));var E,C,P="mdi mdi-account-plus";if(b.actions&&"teams"===b.actions.type&&(P="mdi mdi-account-multiple-plus"),("book"===a||i)&&u.contextIsTeam()&&u.teamsEditable()){var T=u.contextItem();C=!0,E=t().createElement(Ph,my({},this.props,{team:u.contextItem(),userEditable:!0,reloadAction:function(){u.reloadContext()},onDeleteAction:function(){if(confirm(r.props.getMessage(278))){var e=T._parent;u.setContext(e,(function(){u.deleteItems(e,[T],!0)}))}},style:{backgroundColor:"transparent",borderTop:0,borderBottom:0},buttonStyle:S.button,iconStyle:S.icon}))}var x=this.state,j=x.editLabel,A=x.editValue,z=b.label;C&&!v&&j&&(z=t().createElement("div",{style:{display:"flex",alignItems:"center",flex:1}},t().createElement(k.TextField,{style:{fontSize:20},value:A,onChange:this.onLabelChange.bind(this),onKeyDown:this.onLabelKeyEnter.bind(this),autoFocus:!0}),t().createElement(k.IconButton,{iconStyle:{color:o.palette.mui3.primary},secondary:!0,iconClassName:"mdi mdi-content-save",tooltip:s(48),onClick:function(){r.updateLabel()}})));var I="selector"===a&&b._parent,R="book"===a&&b.actions&&b.actions.multiple,M="book"===a,D=("book"===a||"selector"===a&&i)&&b.actions&&b.actions.create&&!v,N=i&&!b._parent&&c.user.getRepositoriesList().has("directory"),L="book"===a&&b.actions&&b.actions.remove&&v,U=g&&!i,B=w&&("book"===a||"selector"===a&&i),F=C&&!j&&!v;if("book"===a&&!i&&"xs"!==o.breakpoint&&"s"!==o.breakpoint){for(var q=[z],W=b;W._parent;)q.push(t().createElement("span",{className:"mdi mdi-chevron-right"}),t().createElement("span",null,W._parent.label)),W=W._parent;q.reverse(),z=t().createElement("div",{style:{display:"flex",alignItems:"center"}},q)}var H,V=gy({color:o.palette.mui3["on-surface"],padding:S.titlePadding,height:S.toolbarHeight,minHeight:S.toolbarHeight,borderRadius:"2px 2px 0 0",display:"flex",alignItems:"center"},l);return N&&(H="mui3"===o.userTheme?function(){c.triggerRepositoryChange("directory")}:function(){c.Controller.fireAction("open_address_book")}),t().createElement("div",{style:V},I&&t().createElement(k.IconButton,{style:{marginLeft:-10},iconStyle:{color:S.titleColor},iconClassName:"mdi mdi-chevron-left",onClick:function(){var e;e=b._parent,u.setContext(e,undefined)}}),M&&t().createElement(k.IconButton,{style:{marginLeft:-10},iconStyle:{color:S.titleColor},iconClassName:b.icon,onClick:function(){}}),t().createElement("div",{style:gy({flex:2,fontSize:S.titleFontsize,fontWeight:S.titleFontWeight},{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"})},z),U&&!v&&t().createElement(e.Fragment,null,t().createElement(Zd,O),m&&t().createElement(k.IconButton,{style:S.button,iconStyle:S.icon,iconClassName:"mdi mdi-close",tooltipPosition:"bottom-left",tooltip:c.MessageHash[86],onClick:function(){return y(!1)}})),N&&t().createElement(k.IconButton,{style:S.button,iconStyle:S.icon,iconClassName:"mdi mdi-account-box-outline",tooltipPosition:"bottom-left",tooltip:c.MessageHash[411],onClick:H}),D&&t().createElement(k.IconButton,{style:S.button,iconStyle:S.icon,iconClassName:P,tooltipPosition:"bottom-left",tooltip:s(b.actions.create),onClick:function(){return u.setCreateItem()}}),L&&t().createElement(k.RaisedButton,{secondary:!0,label:s(b.actions.remove),disabled:!u.getMultipleSelection().length,onClick:function(){return u.deleteMultipleSelection()}}),F&&t().createElement(k.IconButton,{style:S.button,iconStyle:S.icon,iconClassName:"mdi mdi-pencil",tooltipPosition:"bottom-left",tooltip:c.MessageHash[6],onClick:function(){r.setState({editLabel:!0,editValue:b.label})},disabled:u.loading}),!v&&E,R&&t().createElement(k.IconButton,{style:S.button,iconStyle:S.icon,iconClassName:"mdi mdi-checkbox-multiple"+(v?"-marked-outline":"-blank-outline"),tooltipPosition:"bottom-left",tooltip:c.MessageHash["addressbook.pick.multiple"],onClick:function(){u.setSelectionMode()}}),B&&!m&&t().createElement(k.IconButton,{style:S.button,iconStyle:S.icon,iconClassName:"mdi mdi-refresh",tooltipPosition:"bottom-left",tooltip:c.MessageHash[149],onClick:w,disabled:u.loading}))}}])}(t().Component);const Ey=Oy=(0,Q.muiThemeable)()(Oy);var Cy=a(1671),Py=a(5937),Ty=a(2021),xy=["className","component"],jy=a(5214),Ay=a(8920);const zy=(0,Wt.A)("MuiBox",["root"]);var Iy=(0,Ay.A)();const Ry=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.themeId,n=t.defaultTheme,o=t.defaultClassName,i=void 0===o?"MuiBox-root":o,a=t.generateClassName,s=(0,Cy.default)("div",{shouldForwardProp:function(e){return"theme"!==e&&"sx"!==e&&"as"!==e}})(Py.A);return e.forwardRef((function(e,t){var o=Gc(n),c=(0,Ty.A)(e),l=c.className,u=c.component,d=void 0===u?"div":u,p=(0,ke.A)(c,xy);return(0,Bt.jsx)(s,(0,ve.A)({as:d,ref:t,className:(0,Mt.A)(l,a?a(i):i),theme:r&&o[r]||o},p))}))}({themeId:$c.A,defaultTheme:Iy,defaultClassName:zy.root,generateClassName:jy.A.generate});function My(e){return My="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(e)}function Dy(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==My(e))if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Dy(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}const Ny=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Dy(e))&&(n&&(n+=" "),n+=t);return n};var Ly=a(3962);function Uy(e){return function(e){var t=e.props,r=e.name,n=e.defaultTheme,o=e.themeId,i=Gc(n);return o&&(i=i[o]||i),function(e){var t=e.theme,r=e.name,n=e.props;return t&&t.components&&t.components[r]&&t.components[r].defaultProps?(0,Ly.A)(t.components[r].defaultProps,n):n}({theme:i,name:r,props:t})}({props:e.props,name:e.name,defaultTheme:Kc.A,themeId:$c.A})}var By=a(9890);const Fy=e.createContext({});var qy=a(5004);function Wy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Hy(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Vy=["element"],Jy=e.createContext({}),Gy=function(){};function Ky(t){var r=t.children,n=t.id,o=Wy(e.useState([]),2),i=o[0],a=o[1],s=e.useCallback((function(e){var t=e.element,r=(0,ke.A)(e,Vy);a((function(e){var n;if(0===e.length)return[(0,ve.A)({},r,{element:t,index:0})];var o=function(e,t){for(var r=0,n=e.length-1;r<=n;){var o=Math.floor((r+n)/2);if(e[o].element===t)return o;e[o].element.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING?n=o-1:r=o+1}return r}(e,t);if(e[o]&&e[o].element===t)n=e;else{var i=(0,ve.A)({},r,{element:t,index:o});(n=e.slice()).splice(o,0,i)}return n.forEach((function(e,t){e.index=t})),n}))}),[]),c=e.useCallback((function(e){a((function(t){return t.filter((function(t){return e!==t.element}))}))}),[]),l=e.useMemo((function(){return{descendants:i,registerDescendant:s,unregisterDescendant:c,parentId:n}}),[i,s,c,n]);return(0,Bt.jsx)(Jy.Provider,{value:l,children:r})}function $y(e){return(0,Ht.Ay)("MuiTreeView",e)}function Xy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yy(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}(0,Wt.A)("MuiTreeView",["root"]);var Qy=["children","className","defaultCollapseIcon","defaultEndIcon","defaultExpanded","defaultExpandIcon","defaultParentIcon","defaultSelected","disabledItemsFocusable","disableSelection","expanded","id","multiSelect","onBlur","onFocus","onKeyDown","onNodeFocus","onNodeSelect","onNodeToggle","selected"],Zy=(0,er.Ay)("ul",{name:"MuiTreeView",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:0,margin:0,listStyle:"none",outline:0});function eg(e,t,r){for(var n=t;n<e.length;n+=1)if(r===e[n])return n;return-1}function tg(){return!1}var rg=[],ng=[];const og=e.forwardRef((function(t,r){var n=Uy({props:t,name:"MuiTreeView"}),o=n.children,i=n.className,a=n.defaultCollapseIcon,s=n.defaultEndIcon,c=n.defaultExpanded,l=void 0===c?rg:c,u=n.defaultExpandIcon,d=n.defaultParentIcon,p=n.defaultSelected,f=void 0===p?ng:p,h=n.disabledItemsFocusable,m=void 0!==h&&h,y=n.disableSelection,g=void 0!==y&&y,b=n.expanded,v=n.id,k=n.multiSelect,w=void 0!==k&&k,_=n.onBlur,S=n.onFocus,O=n.onKeyDown,E=n.onNodeFocus,C=n.onNodeSelect,P=n.onNodeToggle,T=n.selected,x=(0,ke.A)(n,Qy),j="rtl"===Xc().direction,A=(0,ve.A)({},n,{defaultExpanded:l,defaultSelected:f,disabledItemsFocusable:m,disableSelection:g,multiSelect:w}),z=function(e){var t=e.classes;return(0,It.A)({root:["root"]},$y,t)}(A),I=(0,bl.A)(v),R=e.useRef(null),M=(0,ul.A)(R,r),D=Xy(e.useState(null),2),N=D[0],L=D[1],U=e.useRef({}),B=e.useRef({}),F=Xy((0,kl.A)({controlled:b,default:l,name:"TreeView",state:"expanded"}),2),q=F[0],W=F[1],H=Xy((0,kl.A)({controlled:T,default:f,name:"TreeView",state:"selected"}),2),V=H[0],J=H[1],G=e.useCallback((function(e){return!!Array.isArray(q)&&-1!==q.indexOf(e)}),[q]),K=e.useCallback((function(e){return U.current[e]&&U.current[e].expandable}),[]),$=e.useCallback((function(e){return Array.isArray(V)?-1!==V.indexOf(e):V===e}),[V]),X=e.useCallback((function(e){var t=U.current[e];if(!t)return!1;if(t.disabled)return!0;for(;null!=t.parentId;)if((t=U.current[t.parentId]).disabled)return!0;return!1}),[]),Y=function(e){return Object.keys(U.current).map((function(e){return U.current[e]})).filter((function(t){return t.parentId===e})).sort((function(e,t){return e.index-t.index})).map((function(e){return e.id}))},Q=function(e){var t=Y(e);return m||(t=t.filter((function(e){return!X(e)}))),t},Z=function(e){if(G(e)&&Q(e).length>0)return Q(e)[0];for(var t=U.current[e];null!=t;){var r=Q(t.parentId),n=r[r.indexOf(t.id)+1];if(n)return n;t=U.current[t.parentId]}return null},ee=function(e){var t=U.current[e],r=Q(t.parentId),n=r.indexOf(e);if(0===n)return t.parentId;for(var o=r[n-1];G(o)&&Q(o).length>0;)o=Q(o).pop();return o},te=function(){for(var e=Q(null).pop();G(e);)e=Q(e).pop();return e},re=function(){return Q(null)[0]},ne=function(e,t){t&&(L(t),E&&E(e,t))},oe=function(e,t){return ne(e,Z(t))},ie=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N;t=-1!==q.indexOf(r)?q.filter((function(e){return e!==r})):[r].concat(q),P&&P(e,t),W(t)},ae=e.useRef(null),se=e.useRef(!1),ce=e.useRef([]),le=function(e,t){return!!t&&(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?function(e,t){var r;r=-1!==V.indexOf(t)?V.filter((function(e){return e!==t})):[t].concat(V),C&&C(e,r),J(r)}(e,t):function(e,t){var r=w?[t]:t;C&&C(e,r),J(r)}(e,t),ae.current=t,se.current=!1,ce.current=[],!0)},ue=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.start,o=void 0===n?ae.current:n,i=t.end,a=t.current;r?function(e,t){var r=V.slice(),n=t.start,o=t.next,i=t.current;o&&i&&(-1===ce.current.indexOf(i)&&(ce.current=[]),se.current?-1!==ce.current.indexOf(o)?(r=r.filter((function(e){return e===n||e!==i})),ce.current=ce.current.filter((function(e){return e===n||e!==i}))):(r.push(o),ce.current.push(o)):(r.push(o),ce.current.push(i,o)),C&&C(e,r),J(r))}(e,{start:o,next:i,current:a}):null!=o&&null!=i&&function(e,t){var r=V.slice(),n=t.start,o=t.end;se.current&&(r=r.filter((function(e){return-1===ce.current.indexOf(e)})));var i=function(e,t){for(var r=function(e,t){if(e===t)return[e,t];var r=U.current[e],n=U.current[t];if(r.parentId===n.id||n.parentId===r.id)return n.parentId===r.id?[r.id,n.id]:[n.id,r.id];for(var o=[r.id],i=[n.id],a=r.parentId,s=n.parentId,c=-1!==i.indexOf(a),l=-1!==o.indexOf(s),u=!0,d=!0;!l&&!c;)u&&(o.push(a),u=null!==a,!(c=-1!==i.indexOf(a))&&u&&(a=U.current[a].parentId)),d&&!c&&(i.push(s),d=null!==s,!(l=-1!==o.indexOf(s))&&d&&(s=U.current[s].parentId));var p=c?a:s,f=Y(p),h=o[o.indexOf(p)-1],m=i[i.indexOf(p)-1];return f.indexOf(h)<f.indexOf(m)?[e,t]:[t,e]}(e,t),n=Xy(r,2),o=n[0],i=n[1],a=[o],s=o;s!==i;)s=Z(s),a.push(s);return a}(n,o);i=i.filter((function(e){return!X(e)})),ce.current=i;var a=r.concat(i);a=a.filter((function(e,t){return a.indexOf(e)===t})),C&&C(e,a),J(a)}(e,{start:o,end:i}),se.current=!0},de=e.useCallback((function(e){var t=e.id,r=e.index,n=e.parentId,o=e.expandable,i=e.idAttribute,a=e.disabled;U.current[t]={id:t,index:r,parentId:n,expandable:o,idAttribute:i,disabled:a}}),[]),pe=e.useCallback((function(e){var t=(0,ve.A)({},U.current);delete t[e],U.current=t,L((function(t){return t===e&&R.current===(0,By.A)(R.current).activeElement?Y(null)[0]:t}))}),[]),fe=e.useCallback((function(e,t){B.current[e]=t}),[]),he=e.useCallback((function(e){var t=(0,ve.A)({},B.current);delete t[e],B.current=t}),[]),me=function(e){return K(N)&&(G(N)?oe(e,N):X(N)||ie(e)),!0},ye=function(e){if(G(N)&&!X(N))return ie(e,N),!0;var t,r=(t=N,U.current[t].parentId);return!!r&&(ne(e,r),!0)},ge=U.current[N]?U.current[N].idAttribute:null;return(0,Bt.jsx)(Fy.Provider,{value:{icons:{defaultCollapseIcon:a,defaultExpandIcon:u,defaultParentIcon:d,defaultEndIcon:s},focus:ne,toggleExpansion:ie,isExpanded:G,isExpandable:K,isFocused:function(e){return N===e},isSelected:$,isDisabled:X,selectNode:g?tg:le,selectRange:g?tg:ue,multiSelect:w,disabledItemsFocusable:m,mapFirstChar:fe,unMapFirstChar:he,registerNode:de,unregisterNode:pe,treeId:I},children:(0,Bt.jsx)(Ky,{children:(0,Bt.jsx)(Zy,(0,ve.A)({role:"tree",id:I,"aria-activedescendant":ge,"aria-multiselectable":w,className:Ny(z.root,i),ref:M,tabIndex:0,onKeyDown:function(e){var t=!1,r=e.key;if(!e.altKey&&e.currentTarget===e.target&&N){var n,o=e.ctrlKey||e.metaKey;switch(r){case" ":g||X(N)||(w&&e.shiftKey?(ue(e,{end:N}),t=!0):t=w?le(e,N,!0):le(e,N)),e.stopPropagation();break;case"Enter":X(N)||(K(N)?(ie(e),t=!0):t=w?le(e,N,!0):le(e,N)),e.stopPropagation();break;case"ArrowDown":w&&e.shiftKey&&!g&&function(e,t){X(Z(t))||ue(e,{end:Z(t),current:t},!0)}(e,N),oe(e,N),t=!0;break;case"ArrowUp":w&&e.shiftKey&&!g&&function(e,t){X(ee(t))||ue(e,{end:ee(t),current:t},!0)}(e,N),function(e,t){ne(e,ee(t))}(e,N),t=!0;break;case"ArrowRight":t=j?ye(e):me(e);break;case"ArrowLeft":t=j?me(e):ye(e);break;case"Home":w&&o&&e.shiftKey&&!g&&!X(N)&&function(e,t){ae.current||(ae.current=t);var r=se.current?ae.current:t;ue(e,{start:r,end:re()})}(e,N),function(e){ne(e,re())}(e),t=!0;break;case"End":w&&o&&e.shiftKey&&!g&&!X(N)&&function(e,t){ae.current||(ae.current=t);var r=se.current?ae.current:t;ue(e,{start:r,end:te()})}(e,N),function(e){ne(e,te())}(e),t=!0;break;default:"*"===r?(function(e,t){var r=U.current[t],n=Y(r.parentId).filter((function(e){return K(e)&&!G(e)})),o=q.concat(n);n.length>0&&(W(o),P&&P(e,o))}(e,N),t=!0):w&&o&&"a"===r.toLowerCase()&&!g?(function(e){ue(e,{start:re(),end:te()})}(e),t=!0):!o&&!e.shiftKey&&(n=r)&&1===n.length&&n.match(/\S/)&&(function(e,t,r){var n,o,i=r.toLowerCase(),a=[],s=[];Object.keys(B.current).forEach((function(e){var t=B.current[e],r=U.current[e],n=!r.parentId||G(r.parentId),o=!m&&X(e);n&&!o&&(a.push(e),s.push(t))})),(n=a.indexOf(t)+1)>=a.length&&(n=0),-1===(o=eg(s,n,i))&&(o=eg(s,0,i)),o>-1&&ne(e,a[o])}(e,N,r),t=!0)}t&&(e.preventDefault(),e.stopPropagation()),O&&O(e)}},onFocus:function(e){if(e.target===e.currentTarget){var t=Array.isArray(V)?V[0]:V;ne(e,t||Q(null)[0])}S&&S(e)},onBlur:function(e){L(null),_&&_(e)},ownerState:A},x,{children:o}))})})}));var ig=a(409);function ag(e){return(0,Ht.Ay)("MuiCollapse",e)}function sg(e){return sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(e)}function cg(e,t,r){return(t=function(e){var t=function(e){if("object"!=sg(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=sg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==sg(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,Wt.A)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);var lg=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],ug=(0,er.Ay)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t[r.orientation],"entered"===r.state&&t.entered,"exited"===r.state&&!r.in&&"0px"===r.collapsedSize&&t.hidden]}})((function(e){var t=e.theme,r=e.ownerState;return(0,ve.A)({height:0,overflow:"hidden",transition:t.transitions.create("height")},"horizontal"===r.orientation&&{height:"auto",width:0,transition:t.transitions.create("width")},"entered"===r.state&&(0,ve.A)({height:"auto",overflow:"visible"},"horizontal"===r.orientation&&{width:"auto"}),"exited"===r.state&&!r.in&&"0px"===r.collapsedSize&&{visibility:"hidden"})})),dg=(0,er.Ay)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:function(e,t){return t.wrapper}})((function(e){var t=e.ownerState;return(0,ve.A)({display:"flex",width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),pg=(0,er.Ay)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:function(e,t){return t.wrapperInner}})((function(e){var t=e.ownerState;return(0,ve.A)({width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),fg=e.forwardRef((function(t,r){var n=(0,tr.b)({props:t,name:"MuiCollapse"}),o=n.addEndListener,i=n.children,a=n.className,s=n.collapsedSize,c=void 0===s?"0px":s,l=n.component,u=n.easing,d=n.in,p=n.onEnter,f=n.onEntered,h=n.onEntering,m=n.onExit,y=n.onExited,g=n.onExiting,b=n.orientation,v=void 0===b?"vertical":b,k=n.style,w=n.timeout,_=void 0===w?ig.p0.standard:w,S=n.TransitionComponent,O=void 0===S?sl:S,E=(0,ke.A)(n,lg),C=(0,ve.A)({},n,{orientation:v,collapsedSize:c}),P=function(e){var t=e.orientation,r=e.classes,n={root:["root","".concat(t)],entered:["entered"],hidden:["hidden"],wrapper:["wrapper","".concat(t)],wrapperInner:["wrapperInner","".concat(t)]};return(0,It.A)(n,ag,r)}(C),T=Xc(),x=(0,Fc.A)(),j=e.useRef(null),A=e.useRef(),z="number"==typeof c?"".concat(c,"px"):c,I="horizontal"===v,R=I?"width":"height",M=e.useRef(null),D=(0,ul.A)(r,M),N=function(e){return function(t){if(e){var r=M.current;void 0===t?e(r):e(r,t)}}},L=function(){return j.current?j.current[I?"clientWidth":"clientHeight"]:0},U=N((function(e,t){j.current&&I&&(j.current.style.position="absolute"),e.style[R]=z,p&&p(e,t)})),B=N((function(e,t){var r=L();j.current&&I&&(j.current.style.position="");var n=ll({style:k,timeout:_,easing:u},{mode:"enter"}),o=n.duration,i=n.easing;if("auto"===_){var a=T.transitions.getAutoHeightDuration(r);e.style.transitionDuration="".concat(a,"ms"),A.current=a}else e.style.transitionDuration="string"==typeof o?o:"".concat(o,"ms");e.style[R]="".concat(r,"px"),e.style.transitionTimingFunction=i,h&&h(e,t)})),F=N((function(e,t){e.style[R]="auto",f&&f(e,t)})),q=N((function(e){e.style[R]="".concat(L(),"px"),m&&m(e)})),W=N(y),H=N((function(e){var t=L(),r=ll({style:k,timeout:_,easing:u},{mode:"exit"}),n=r.duration,o=r.easing;if("auto"===_){var i=T.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(i,"ms"),A.current=i}else e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms");e.style[R]=z,e.style.transitionTimingFunction=o,g&&g(e)}));return(0,Bt.jsx)(O,(0,ve.A)({in:d,onEnter:U,onEntered:F,onEntering:B,onExit:q,onExited:W,onExiting:H,addEndListener:function(e){"auto"===_&&x.start(A.current||0,e),o&&o(M.current,e)},nodeRef:M,timeout:"auto"===_?null:_},E,{children:function(e,t){return(0,Bt.jsx)(ug,(0,ve.A)({as:l,className:(0,Mt.A)(P.root,a,{entered:P.entered,exited:!d&&"0px"===z&&P.hidden}[e]),style:(0,ve.A)(cg({},I?"minWidth":"minHeight",z),k),ref:D},t,{ownerState:(0,ve.A)({},C,{state:e}),children:(0,Bt.jsx)(dg,{ownerState:(0,ve.A)({},C,{state:e}),className:P.wrapper,ref:j,children:(0,Bt.jsx)(pg,{ownerState:(0,ve.A)({},C,{state:e}),className:P.wrapperInner,children:i})})}))}}))}));fg.muiSupportAuto=!0;const hg=fg;var mg=a(7696),yg=a(6936);function gg(e){if(e.type)return e;if("#"===e.charAt(0))return gg(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),r=e.match(t);return r&&1===r[0].length&&(r=r.map((function(e){return e+e}))),r?"rgb".concat(4===r.length?"a":"","(").concat(r.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),r=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(r))throw new Error((0,mg.A)(9,e));var n,o=e.substring(t+1,e.length-1);if("color"===r){if(n=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(n))throw new Error((0,mg.A)(10,n))}else o=o.split(",");return{type:r,values:o=o.map((function(e){return parseFloat(e)})),colorSpace:n}}function bg(e,t){return e=gg(e),t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,yg.A)(e,t,r)}(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,function(e){var t=e.type,r=e.colorSpace,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),n=-1!==t.indexOf("color")?"".concat(r," ").concat(n.join(" ")):"".concat(n.join(", ")),"".concat(t,"(").concat(n,")")}(e)}var vg=["classes","className","displayIcon","expansionIcon","icon","label","nodeId","onClick","onMouseDown"];const kg=e.forwardRef((function(t,r){var n=t.classes,o=t.className,i=t.displayIcon,a=t.expansionIcon,s=t.icon,c=t.label,l=t.nodeId,u=t.onClick,d=t.onMouseDown,p=(0,ke.A)(t,vg),f=function(t){var r=e.useContext(Fy),n=r.focus,o=r.isExpanded,i=r.isExpandable,a=r.isFocused,s=r.isDisabled,c=r.isSelected,l=r.multiSelect,u=r.selectNode,d=r.selectRange,p=r.toggleExpansion,f=!!i&&i(t),h=!!o&&o(t),m=!!a&&a(t),y=!!s&&s(t),g=!!c&&c(t);return{disabled:y,expanded:h,selected:g,focused:m,handleExpansion:function(e){if(!y){m||n(e,t);var r=l&&(e.shiftKey||e.ctrlKey||e.metaKey);!f||r&&o(t)||p(e,t)}},handleSelection:function(e){y||(m||n(e,t),l&&(e.shiftKey||e.ctrlKey||e.metaKey)?e.shiftKey?d(e,{end:t}):u(e,t,!0):u(e,t))},preventSelection:function(e){(e.shiftKey||e.ctrlKey||e.metaKey||y)&&e.preventDefault()}}}(l),h=f.disabled,m=f.expanded,y=f.selected,g=f.focused,b=f.handleExpansion,v=f.handleSelection,k=f.preventSelection,w=s||a||i;return(0,Bt.jsxs)("div",(0,ve.A)({className:Ny(o,n.root,m&&n.expanded,y&&n.selected,g&&n.focused,h&&n.disabled),onClick:function(e){b(e),v(e),u&&u(e)},onMouseDown:function(e){k(e),d&&d(e)},ref:r},p,{children:[(0,Bt.jsx)("div",{className:n.iconContainer,children:w}),(0,Bt.jsx)("div",{className:n.label,children:c})]}))}));function wg(e){return(0,Ht.Ay)("MuiTreeItem",e)}const _g=(0,Wt.A)("MuiTreeItem",["root","group","content","expanded","selected","focused","disabled","iconContainer","label"]);function Sg(e){return Sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(e)}function Og(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Eg(e,t,r){return(t=function(e){var t=function(e){if("object"!=Sg(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Sg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Sg(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Cg=["children","className","collapseIcon","ContentComponent","ContentProps","endIcon","expandIcon","disabled","icon","id","label","nodeId","onClick","onMouseDown","TransitionComponent","TransitionProps"],Pg=(0,er.Ay)("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:function(e,t){return t.root}})({listStyle:"none",margin:0,padding:0,outline:0}),Tg=(0,er.Ay)(kg,{name:"MuiTreeItem",slot:"Content",overridesResolver:function(e,t){return[t.content,t.iconContainer&&Eg({},"& .".concat(_g.iconContainer),t.iconContainer),t.label&&Eg({},"& .".concat(_g.label),t.label)]}})((function(e){var t=e.theme;return Eg(Eg(Eg(Eg(Eg({padding:"0 8px",width:"100%",display:"flex",alignItems:"center",cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(_g.disabled),{opacity:(t.vars||t).palette.action.disabledOpacity,backgroundColor:"transparent"}),"&.".concat(_g.focused),{backgroundColor:(t.vars||t).palette.action.focus}),"&.".concat(_g.selected),Eg({backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):bg(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):bg(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):bg(t.palette.primary.main,t.palette.action.selectedOpacity)}}},"&.".concat(_g.focused),{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):bg(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)})),"& .".concat(_g.iconContainer),{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}}),"& .".concat(_g.label),(0,ve.A)({width:"100%",minWidth:0,paddingLeft:4,position:"relative"},t.typography.body1))})),xg=(0,er.Ay)(hg,{name:"MuiTreeItem",slot:"Group",overridesResolver:function(e,t){return t.group}})({margin:0,padding:0,marginLeft:17});const jg=e.forwardRef((function(t,r){var n=Uy({props:t,name:"MuiTreeItem"}),o=n.children,i=n.className,a=n.collapseIcon,s=n.ContentComponent,c=void 0===s?kg:s,l=n.ContentProps,u=n.endIcon,d=n.expandIcon,p=n.disabled,f=n.icon,h=n.id,m=n.label,y=n.nodeId,g=n.onClick,b=n.onMouseDown,v=n.TransitionComponent,k=void 0===v?hg:v,w=n.TransitionProps,_=(0,ke.A)(n,Cg),S=e.useContext(Fy),O=S.icons,E=void 0===O?{}:O,C=S.focus,P=S.isExpanded,T=S.isFocused,x=S.isSelected,j=S.isDisabled,A=S.multiSelect,z=S.disabledItemsFocusable,I=S.mapFirstChar,R=S.unMapFirstChar,M=S.registerNode,D=S.unregisterNode,N=S.treeId,L=null;null!=h?L=h:N&&y&&(L="".concat(N,"-").concat(y));var U,B,F,q=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Og(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Og(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.useState(null),2),W=q[0],H=q[1],V=e.useRef(null),J=(0,ul.A)(H,r),G=function(t){var r,n,o=Wy(e.useState(),2)[1],i=e.useContext(Jy),a=i.registerDescendant,s=void 0===a?Gy:a,c=i.unregisterDescendant,l=void 0===c?Gy:c,u=i.descendants,d=void 0===u?[]:u,p=i.parentId,f=void 0===p?null:p,h=function(e){for(var r=0;r<e.length;r+=1)if(e[r].element===t.element)return r;return-1}(d),m=(r=d,n=e.useRef(null),e.useEffect((function(){n.current=r}),[r]),n.current),y=d.some((function(e,t){return m&&m[t]&&m[t].element!==e.element}));return(0,qy.A)((function(){if(t.element)return s((0,ve.A)({},t,{index:h})),function(){l(t.element)};o({})}),[s,l,h,y,t]),{parentId:f,index:h}}(e.useMemo((function(){return{element:W,id:y}}),[y,W])),K=G.index,$=G.parentId,X=Boolean(Array.isArray(o)?o.length:o),Y=!!P&&P(y),Q=!!T&&T(y),Z=!!x&&x(y),ee=!!j&&j(y),te=(0,ve.A)({},n,{expanded:Y,focused:Q,selected:Z,disabled:ee}),re=function(e){var t=e.classes;return(0,It.A)({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],label:["label"],group:["group"]},wg,t)}(te);return X&&(B=Y?a||E.defaultCollapseIcon:d||E.defaultExpandIcon),U=X?E.defaultParentIcon:u||E.defaultEndIcon,e.useEffect((function(){if(M&&D&&-1!==K)return M({id:y,idAttribute:L,index:K,parentId:$,expandable:X,disabled:p}),function(){D(y)}}),[M,D,$,K,y,X,p,L]),e.useEffect((function(){if(I&&R&&m)return I(y,V.current.textContent.substring(0,1).toLowerCase()),function(){R(y)}}),[I,R,y,m]),A?F=Z:Z&&(F=!0),(0,Bt.jsxs)(Pg,(0,ve.A)({className:Ny(re.root,i),role:"treeitem","aria-expanded":X?Y:null,"aria-selected":F,"aria-disabled":ee||null,ref:J,id:L,tabIndex:-1},_,{ownerState:te,onFocus:function(e){e.target===e.currentTarget&&("function"==typeof e.target.getRootNode?e.target.getRootNode():(0,By.A)(e.target)).getElementById(N).focus({preventScroll:!0});var t=!z&&ee;Q||e.currentTarget!==e.target||t||C(e,y)},children:[(0,Bt.jsx)(Tg,(0,ve.A)({as:c,ref:V,classes:{root:re.content,expanded:re.expanded,selected:re.selected,focused:re.focused,disabled:re.disabled,iconContainer:re.iconContainer,label:re.label},label:m,nodeId:y,onClick:g,onMouseDown:b,icon:f,expansionIcon:B,displayIcon:U,ownerState:te},l)),o&&(0,Bt.jsx)(Ky,{id:y,children:(0,Bt.jsx)(xg,(0,ve.A)({as:k,unmountOnExit:!0,className:re.group,in:Y,component:"ul",role:"group"},w,{children:o}))})]}))}));var Ag=a(2232),zg=a(7911),Ig=["labelIcon","labelInfo","labelText"];function Rg(e){return Rg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(e)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(null,arguments)}function Dg(e,t,r){return(t=function(e){var t=function(e){if("object"!=Rg(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Rg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Rg(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ng=(0,er.Ay)(jg)((function(e){e.theme;var t=e.muiTheme;return Dg(Dg({color:t.palette.mui3.secondary},"& .".concat(_g.content),Dg({color:"inherit",borderRadius:20,paddingTop:8,paddingBottom:8,paddingRight:8,transition:"background-color 250ms cubic-bezier(0.23, 1, 0.32, 1) 0ms","&.Mui-expanded":{fontWeight:500},"&:hover":{backgroundColor:t.hoverBackgroundColor},"&.Mui-focused":{backgroundColor:"transparent"},"&.Mui-selected, &.Mui-selected.Mui-focused":{backgroundColor:t.palette.mui3["secondary-container"],color:t.palette.mui3["on-secondary-container"]}},"& .".concat(_g.label),{fontSize:13,fontWeight:500,color:"inherit"})),"& .".concat(_g.group),Dg({marginLeft:0},"& .".concat(_g.content),{paddingLeft:16}))}));function Lg(e){var r=e.labelIcon,n=e.labelInfo,o=e.labelText,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Ig);return t().createElement(Ng,Mg({label:t().createElement(Ry,{sx:{display:"flex",alignItems:"center",p:.5,pr:0}},r,t().createElement("span",{style:{flex:1,fontWeight:"inherit",flexGrow:1}},o),t().createElement("span",null,n)),style:{color:"inherit"}},i))}function Ug(e){e.pydio;var r=e.muiTheme,n=e.style,o=e.model,i={},a=function(e){return!e.collections||e.notExpandable?[]:e.collections.map((function(e){return i[e.id]=e,t().createElement(Lg,{muiTheme:r,nodeId:e.id,labelText:e.label,labelIcon:t().createElement("span",{style:{fontSize:16,marginRight:10},className:e.icon})},a(e))}))},s=a(o.getRoot());return t().createElement(og,{"aria-label":"gmail",defaultExpanded:["3"],defaultCollapseIcon:t().createElement(Ag.A,null),defaultExpandIcon:t().createElement(zg.A,null),defaultEndIcon:t().createElement("div",{style:{width:24}}),selected:o.contextItem().id,onNodeSelect:function(e,t){i[t]&&o.setContext(i[t])},style:n},s)}Lg.propTypes={labelIcon:W().object.isRequired,labelInfo:W().string,labelText:W().string.isRequired};var Bg,Fg=(Bg=function(e,t){return Bg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},Bg(e,t)},function(e,t){function r(){this.constructor=e}Bg(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),qg=function(){return qg=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},qg.apply(this,arguments)},Wg={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Hg={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Vg={width:"20px",height:"20px",position:"absolute"},Jg={top:qg(qg({},Wg),{top:"-5px"}),right:qg(qg({},Hg),{left:void 0,right:"-5px"}),bottom:qg(qg({},Wg),{top:void 0,bottom:"-5px"}),left:qg(qg({},Hg),{left:"-5px"}),topRight:qg(qg({},Vg),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:qg(qg({},Vg),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:qg(qg({},Vg),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:qg(qg({},Vg),{left:"-10px",top:"-10px",cursor:"nw-resize"})},Gg=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.onMouseDown=function(t){e.props.onResizeStart(t,e.props.direction)},e.onTouchStart=function(t){e.props.onResizeStart(t,e.props.direction)},e}return Fg(r,t),r.prototype.render=function(){return e.createElement("div",{className:this.props.className||"",style:qg(qg({position:"absolute",userSelect:"none"},Jg[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},r}(e.PureComponent),Kg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$g=function(){return $g=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$g.apply(this,arguments)},Xg={width:"auto",height:"auto"},Yg=function(e,t,r){return Math.max(Math.min(e,r),t)},Qg=function(e,t,r){var n=Math.round(e/t);return n*t+r*(n-1)},Zg=function(e,t){return new RegExp(e,"i").test(t)},eb=function(e){return Boolean(e.touches&&e.touches.length)},tb=function(e,t,r){void 0===r&&(r=0);var n=t.reduce((function(r,n,o){return Math.abs(n-e)<Math.abs(t[r]-e)?o:r}),0),o=Math.abs(t[n]-e);return 0===r||o<r?t[n]:e},rb=function(e){return"auto"===(e=e.toString())||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},nb=function(e,t,r,n){if(e&&"string"==typeof e){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%"))return t*(Number(e.replace("%",""))/100);if(e.endsWith("vw"))return r*(Number(e.replace("vw",""))/100);if(e.endsWith("vh"))return n*(Number(e.replace("vh",""))/100)}return e},ob=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],ib="__resizable_base__",ab=function(t){function n(e){var r,n,o,i,a=t.call(this,e)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.appendBase=function(){if(!a.resizable||!a.window)return null;var e=a.parentNode;if(!e)return null;var t=a.window.document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0 0 100%",t.classList?t.classList.add(ib):t.className+=ib,e.appendChild(t),t},a.removeBase=function(e){var t=a.parentNode;t&&t.removeChild(e)},a.state={isResizing:!1,width:null!==(n=null===(r=a.propsSize)||void 0===r?void 0:r.width)&&void 0!==n?n:"auto",height:null!==(i=null===(o=a.propsSize)||void 0===o?void 0:o.height)&&void 0!==i?i:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return Kg(n,t),Object.defineProperty(n.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||Xg},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var r=this.resizable.offsetWidth,n=this.resizable.offsetHeight,o=this.resizable.style.position;"relative"!==o&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:r,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:n,this.resizable.style.position=o}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,r=function(t){var r;if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&(null===(r=e.propsSize[t])||void 0===r?void 0:r.toString().endsWith("%"))){if(e.state[t].toString().endsWith("%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return rb(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?rb(t.width):r("width"),height:t&&void 0!==t.height&&!this.state.isResizing?rb(t.height):r("height")}},enumerable:!1,configurable:!0}),n.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,r=this.parentNode.style.flexWrap;"wrap"!==r&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var n={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=r),this.removeBase(e),n},n.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},n.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},n.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0})}},n.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},n.prototype.createSizeForCssProperty=function(e,t){var r=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==r&&"auto"!==r?e:"auto"},n.prototype.calculateNewMaxFromBoundary=function(e,t){var r,n,o=this.props.boundsByDirection,i=this.state.direction,a=o&&Zg("left",i),s=o&&Zg("top",i);if("parent"===this.props.bounds){var c=this.parentNode;c&&(r=a?this.resizableRight-this.parentLeft:c.offsetWidth+(this.parentLeft-this.resizableLeft),n=s?this.resizableBottom-this.parentTop:c.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(r=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,n=s?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(r=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),n=s?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return r&&Number.isFinite(r)&&(e=e&&e<r?e:r),n&&Number.isFinite(n)&&(t=t&&t<n?t:n),{maxWidth:e,maxHeight:t}},n.prototype.calculateNewSizeFromDirection=function(e,t){var r,n=this.props.scale||1,o=(r=this.props.resizeRatio||1,Array.isArray(r)?r:[r,r]),i=o[0],a=o[1],s=this.state,c=s.direction,l=s.original,u=this.props,d=u.lockAspectRatio,p=u.lockAspectRatioExtraHeight,f=u.lockAspectRatioExtraWidth,h=l.width,m=l.height,y=p||0,g=f||0;return Zg("right",c)&&(h=l.width+(e-l.x)*i/n,d&&(m=(h-g)/this.ratio+y)),Zg("left",c)&&(h=l.width-(e-l.x)*i/n,d&&(m=(h-g)/this.ratio+y)),Zg("bottom",c)&&(m=l.height+(t-l.y)*a/n,d&&(h=(m-y)*this.ratio+g)),Zg("top",c)&&(m=l.height-(t-l.y)*a/n,d&&(h=(m-y)*this.ratio+g)),{newWidth:h,newHeight:m}},n.prototype.calculateNewSizeFromAspectRatio=function(e,t,r,n){var o=this.props,i=o.lockAspectRatio,a=o.lockAspectRatioExtraHeight,s=o.lockAspectRatioExtraWidth,c=void 0===n.width?10:n.width,l=void 0===r.width||r.width<0?e:r.width,u=void 0===n.height?10:n.height,d=void 0===r.height||r.height<0?t:r.height,p=a||0,f=s||0;if(i){var h=(u-p)*this.ratio+f,m=(d-p)*this.ratio+f,y=(c-f)/this.ratio+p,g=(l-f)/this.ratio+p,b=Math.max(c,h),v=Math.min(l,m),k=Math.max(u,y),w=Math.min(d,g);e=Yg(e,b,v),t=Yg(t,k,w)}else e=Yg(e,c,l),t=Yg(t,u,d);return{newWidth:e,newHeight:t}},n.prototype.setBoundingClientRect=function(){var e=1/(this.props.scale||1);if("parent"===this.props.bounds){var t=this.parentNode;if(t){var r=t.getBoundingClientRect();this.parentLeft=r.left*e,this.parentTop=r.top*e}}if(this.props.bounds&&"string"!=typeof this.props.bounds){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left*e,this.targetTop=n.top*e}if(this.resizable){var o=this.resizable.getBoundingClientRect(),i=o.left,a=o.top,s=o.right,c=o.bottom;this.resizableLeft=i*e,this.resizableRight=s*e,this.resizableTop=a*e,this.resizableBottom=c*e}},n.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var r,n=0,o=0;if(e.nativeEvent&&function(e){return Boolean((e.clientX||0===e.clientX)&&(e.clientY||0===e.clientY))}(e.nativeEvent)?(n=e.nativeEvent.clientX,o=e.nativeEvent.clientY):e.nativeEvent&&eb(e.nativeEvent)&&(n=e.nativeEvent.touches[0].clientX,o=e.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable&&!1===this.props.onResizeStart(e,t,this.resizable))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var i=this.window.getComputedStyle(this.resizable);if("auto"!==i.flexBasis){var a=this.parentNode;if(a){var s=this.window.getComputedStyle(a).flexDirection;this.flexDir=s.startsWith("row")?"row":"column",r=i.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var c={original:{x:n,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:$g($g({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:r};this.setState(c)}},n.prototype.onMouseMove=function(e){var t=this;if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&eb(e))try{e.preventDefault(),e.stopPropagation()}catch(e){}var n=this.props,o=n.maxWidth,i=n.maxHeight,a=n.minWidth,s=n.minHeight,c=eb(e)?e.touches[0].clientX:e.clientX,l=eb(e)?e.touches[0].clientY:e.clientY,u=this.state,d=u.direction,p=u.original,f=u.width,h=u.height,m=this.getParentSize(),y=function(e,t,r,n,o,i,a){return n=nb(n,e.width,t,r),o=nb(o,e.height,t,r),i=nb(i,e.width,t,r),a=nb(a,e.height,t,r),{maxWidth:void 0===n?void 0:Number(n),maxHeight:void 0===o?void 0:Number(o),minWidth:void 0===i?void 0:Number(i),minHeight:void 0===a?void 0:Number(a)}}(m,this.window.innerWidth,this.window.innerHeight,o,i,a,s);o=y.maxWidth,i=y.maxHeight,a=y.minWidth,s=y.minHeight;var g=this.calculateNewSizeFromDirection(c,l),b=g.newHeight,v=g.newWidth,k=this.calculateNewMaxFromBoundary(o,i);this.props.snap&&this.props.snap.x&&(v=tb(v,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(b=tb(b,this.props.snap.y,this.props.snapGap));var w=this.calculateNewSizeFromAspectRatio(v,b,{width:k.maxWidth,height:k.maxHeight},{width:a,height:s});if(v=w.newWidth,b=w.newHeight,this.props.grid){var _=Qg(v,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),S=Qg(b,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),O=this.props.snapGap||0;v=0===O||Math.abs(_-v)<=O?_:v,b=0===O||Math.abs(S-b)<=O?S:b}var E={width:v-p.width,height:b-p.height};f&&"string"==typeof f&&(f.endsWith("%")?v=v/m.width*100+"%":f.endsWith("vw")?v=v/this.window.innerWidth*100+"vw":f.endsWith("vh")&&(v=v/this.window.innerHeight*100+"vh")),h&&"string"==typeof h&&(h.endsWith("%")?b=b/m.height*100+"%":h.endsWith("vw")?b=b/this.window.innerWidth*100+"vw":h.endsWith("vh")&&(b=b/this.window.innerHeight*100+"vh"));var C={width:this.createSizeForCssProperty(v,"width"),height:this.createSizeForCssProperty(b,"height")};"row"===this.flexDir?C.flexBasis=C.width:"column"===this.flexDir&&(C.flexBasis=C.height);var P=this.state.width!==C.width,T=this.state.height!==C.height,x=this.state.flexBasis!==C.flexBasis,j=P||T||x;j&&(0,r.flushSync)((function(){t.setState(C)})),this.props.onResize&&j&&this.props.onResize(e,d,this.resizable,E)}},n.prototype.onMouseUp=function(e){var t,r,n=this.state,o=n.isResizing,i=n.direction,a=n.original;if(o&&this.resizable){var s={width:this.size.width-a.width,height:this.size.height-a.height};this.props.onResizeStop&&this.props.onResizeStop(e,i,this.resizable,s),this.props.size&&this.setState({width:null!==(t=this.props.size.width)&&void 0!==t?t:"auto",height:null!==(r=this.props.size.height)&&void 0!==r?r:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:$g($g({},this.state.backgroundStyle),{cursor:"auto"})})}},n.prototype.updateSize=function(e){var t,r;this.setState({width:null!==(t=e.width)&&void 0!==t?t:"auto",height:null!==(r=e.height)&&void 0!==r?r:"auto"})},n.prototype.renderResizer=function(){var t=this,r=this.props,n=r.enable,o=r.handleStyles,i=r.handleClasses,a=r.handleWrapperStyle,s=r.handleWrapperClass,c=r.handleComponent;if(!n)return null;var l=Object.keys(n).map((function(r){return!1!==n[r]?e.createElement(Gg,{key:r,direction:r,onResizeStart:t.onResizeStart,replaceStyles:o&&o[r],className:i&&i[r]},c&&c[r]?c[r]:null):null}));return e.createElement("div",{className:s,style:a},l)},n.prototype.render=function(){var t=this,r=Object.keys(this.props).reduce((function(e,r){return-1!==ob.indexOf(r)||(e[r]=t.props[r]),e}),{}),n=$g($g($g({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(n.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return e.createElement(o,$g({style:n,className:this.props.className},r,{ref:function(e){e&&(t.resizable=e)}}),this.state.isResizing&&e.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},n.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},n}(e.PureComponent);const sb={list:{},listItem:{style:{fontSize:14},innerDivStyle:{padding:"14px 56px 14px 62px"}},avatar:{avatarSize:26,style:{top:9}},iconMenu:{style:{top:2,right:8}},iconButton:{style:{width:26,height:26,padding:5,right:8},iconStyle:{color:"rgba(0,0,0,.33)",fontSize:20}},divider:{style:{marginLeft:62}},className:"medium"};function cb(e){return cb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cb(e)}function lb(){return lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lb.apply(null,arguments)}function ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function db(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ub(Object(r),!0).forEach((function(t){yb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ub(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gb(n.key),n)}}function fb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fb=function(){return!!e})()}function hb(e){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hb(e)}function mb(e,t){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mb(e,t)}function yb(e,t,r){return(t=gb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gb(e){var t=function(e){if("object"!=cb(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=cb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==cb(t)?t:t+""}var bb=V().requireLib("boot").PydioContextConsumer,vb=function(e){function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=function(e,t,r){return t=hb(t),function(e,t){if(t&&("object"==cb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fb()?Reflect.construct(t,r||[],hb(e).constructor):t.apply(e,r))}(this,r,[e]);var n=e.pydio,o=e.mode,i=e.usersOnly,a=e.usersFrom,s=e.teamsOnly,c=e.onItemSelected,l=new Dp(n,o,i,a,s,c);return l.initTree(),l.observe("update",(function(){t.forceUpdate()})),t.state={model:l},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mb(e,t)}(r,e),function(e,t){return t&&pb(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"componentDidMount",value:function(){this.state.model.reloadContext()}},{key:"render",value:function(){var e=this,r=this.props,n=r.getMessage,o=r.pydio,i=r.style,a=r.muiTheme,s=this.state,c=s.model,l=s.rightPaneSize,u=void 0===l?256:l,d=c.rightItem(),p=c.contextItem(),f={width:"100%",height:"100%",overflowY:"auto",overflowX:"hidden"},h=db({enableSearch:!0,searchLabel:n(583,""),setSearchTerm:function(e){return c.setGlobalSearch(!!e,e)},setSearchMode:function(e){return c.setGlobalSearch(e,"")}},c.getSearchStatus()),m=a.palette.mui3,y="xs"===a.breakpoint||"s"===a.breakpoint,g=a.darkMode?"surface":"surface-variant",b=a.darkMode?"surface-variant":"surface";return t().createElement("div",{style:db({display:"flex",height:"100%",overflow:"hidden",flexDirection:"column",background:m[g]},i)},t().createElement("div",{style:{height:72,display:"flex",flexShrink:0,alignItems:"center"}},t().createElement(Ey,lb({pydio:o,model:c,mode:"book",getMessage:n,style:{width:"100%"}},h))),t().createElement("div",{style:{display:"flex",flex:1,overflow:"hidden",margin:12,marginTop:0}},!y&&t().createElement(ab,{defaultSize:{width:256},enable:{right:!0},style:{margin:0}},t().createElement(Ug,{pydio:o,model:c,listStyles:{},muiTheme:a,style:db(db({},f),{},{paddingRight:8,color:m["on-surface-variant"]})})),t().createElement(Qp,lb({pydio:o,model:c,item:p,mode:"book",showAllParents:y,onItemClicked:function(e){return c.leafItemClicked(e)},onFolderClicked:function(e,t){return c.setContext(e,t)},onClick:function(){return c.clearRightItem()},loading:c.loading,actionsForCell:this.props.actionsForCell,usersOnly:this.props.usersOnly,listStyles:sb,style:{borderRadius:a.borderRadius,backgroundColor:m[b]}},h)),t().createElement(ab,{size:{width:d?u:0},onResizeStop:function(t,r,n,o){e.setState({rightPaneSize:u+o.width})},enable:{left:!!d},style:{marginLeft:d?12:0,transition:"width 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms"}},t().createElement(xm,{pydio:o,model:c,zDepth:0,style:db(db({},f),{},{background:m[b],borderRadius:a.borderRadius})}))),t().createElement(fy,{pydio:o,model:c,onCancel:function(){c.clearCreateItem()},afterSubmit:function(){c.clearCreateItem(),c.reloadContext()}}),t().createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:(this.props.muiTheme.palette,"\n.folder-avatar::before {\n    content: \"\\F024B\";\n    font-family: 'Material Design Icons';\n    position: absolute;\n    color: rgb(54, 113, 143);\n    font-size: 40px;\n    top: 11px;\n    left: -2px;\n}\n.compact .folder-avatar::before {\n    font-size: 30px;\n    top: 5px;\n}\n\n.medium .folder-avatar::before {\n    font-size: 26px;\n    top: 5px;\n}\n\n.folder-avatar span.mdi {\n    font-size: 20px !important;\n    color: #fff !important;\n    height: 12.8px !important;\n    margin: 7.3px !important;\n}\n.compact .folder-avatar span.mdi {\n    font-size: 13px !important;\n}\n.medium .folder-avatar span.mdi {\n    font-size: 13px !important;\n}\n.folder-avatar {\n    background-color: transparent !important;\n}\n.medium .folder-avatar {\n    left: 18px;\n}\n")}}))}}])}(t().Component);function kb(e){return kb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kb(e)}function wb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wb(Object(r),!0).forEach((function(t){Tb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sb(){return Sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sb.apply(null,arguments)}function Ob(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xb(n.key),n)}}function Eb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Eb=function(){return!!e})()}function Cb(e){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cb(e)}function Pb(e,t){return Pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pb(e,t)}function Tb(e,t,r){return(t=xb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xb(e){var t=function(e){if("object"!=kb(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=kb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==kb(t)?t:t+""}yb(vb,"propTypes",{pydio:W().instanceOf(V()),onItemSelected:W().func,usersOnly:W().bool,usersFrom:W().oneOf(["local","remote","any"]),muiTheme:W().object}),yb(vb,"defaultProps",{mode:"book",usersOnly:!1,usersFrom:"any",teamsOnly:!1,disableSearch:!1}),vb=bb(vb),vb=(0,Q.muiThemeable)()(vb);var jb=V().requireLib("boot"),Ab=jb.PydioContextConsumer,zb=jb.PydioContextProvider,Ib=V().requireLib("hoc").ThemedContainers,Rb=Ib.Popover,Mb=Ib.IconButton,Db=function(e){function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Tb(t=function(e,t,r){return t=Cb(t),function(e,t){if(t&&("object"==kb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Eb()?Reflect.construct(t,r||[],Cb(e).constructor):t.apply(e,r))}(this,r,[e]),"openPopover",(function(e){t.setState({popoverOpen:!0,popoverAnchor:e.currentTarget})})),Tb(t,"closePopover",(function(){t.setState({popoverOpen:!1})}));var n=e.pydio,o=e.mode,i=e.usersOnly,a=e.usersFrom,s=e.teamsOnly,c=e.onItemSelected,l=new Dp(n,o,i,a,s,c);return l.initTree(),l.observe("update",(function(){t.forceUpdate()})),t.state={model:l},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pb(e,t)}(r,e),function(e,t){return t&&Ob(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"componentDidMount",value:function(){this.state.model.reloadContext()}},{key:"render",value:function(){var e=this.props,n=e.mode,o=e.getMessage,i=e.bookColumn,a=e.listStyles,s=e.pydio;if("popover"===n){var c=t().createElement(Mb,{style:{position:"absolute",padding:15,zIndex:100,right:0,bottom:0,display:this.state.loading?"none":"initial"},iconStyle:{fontSize:19},iconClassName:"mdi mdi-book-open-variant",onClick:this.openPopover}),l=zb(r,s,s.UI.themeBuilder);return t().createElement("span",null,c,t().createElement(Rb,{open:this.state.popoverOpen,anchorEl:this.state.popoverAnchor,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"left",vertical:"top"},onRequestClose:this.closePopover,style:{marginLeft:20},zDepth:2},t().createElement("div",{style:{width:320,height:420}},t().createElement(l,Sb({},this.props,{mode:"selector",style:{height:420}})))))}var u,d,p,f=this.state.model,h=f.rightItem(),m=f.contextItem(),y={width:256,overflowY:"auto",overflowX:"hidden"},g=this.props.muiTheme.palette.mui3,b=void 0===g?{}:g,v={};!this.props.disableSearch&&f.contextIsGroup()&&(v={enableSearch:!0,searchLabel:o(595,""),onSearch:function(e){return f.reloadCurrentWithSearch(e)}}),"inner"!==n&&(p=t().createElement(Ey,Sb({pydio:s,model:f,mode:n,bookColumn:i,getMessage:o},v))),u=t().createElement(Qp,Sb({model:f,item:m,mode:n,bookColumn:i,toolbar:p,onItemClicked:function(e){return f.leafItemClicked(e)},onFolderClicked:function(e,t){return f.setContext(e,t)},onClick:function(){return f.clearRightItem()},loading:f.loading,emptyStatePrimaryText:void 0,emptyStateSecondaryText:void 0,actionsForCell:this.props.actionsForCell,usersOnly:this.props.usersOnly,listStyles:a},v)),d=t().createElement(xm,{pydio:this.props.pydio,model:f,style:_b(_b({},y),{},{position:"absolute",transformOrigin:"right",background:b["surface-3"],width:"book"===n?320:280,right:10,bottom:10,top:120,zIndex:2,transform:h?null:"scale(0)"})});var k=this.props.style||{},w={background:b["surface-3"],color:b["on-surface-variant"],borderRight:"1px solid #e0e0e0"};return t().createElement("div",{style:_b({display:"flex",height:"selector"===n?320:450},k)},"book"===n&&t().createElement(Gm,{model:f,listStyles:a,rootStyle:_b(_b(_b({},y),w),{},{zIndex:2})}),u,d,t().createElement(fy,{pydio:s,model:f,onCancel:function(){f.clearCreateItem()},afterSubmit:function(){f.clearCreateItem(),f.reloadContext()}}),t().createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:(this.props.muiTheme.palette,"\n.folder-avatar::before {\n    content: \"\\F024B\";\n    font-family: 'Material Design Icons';\n    position: absolute;\n    color: rgb(54, 113, 143);\n    font-size: 40px;\n    top: 11px;\n    left: -2px;\n}\n.compact .folder-avatar::before {\n    font-size: 30px;\n    top: 5px;\n}\n\n.medium .folder-avatar::before {\n    font-size: 26px;\n    top: 5px;\n}\n\n.folder-avatar span.mdi {\n    font-size: 20px !important;\n    color: #fff !important;\n    height: 12.8px !important;\n    margin: 7.3px !important;\n}\n.compact .folder-avatar span.mdi {\n    font-size: 13px !important;\n}\n.medium .folder-avatar span.mdi {\n    font-size: 13px !important;\n}\n.folder-avatar {\n    background-color: transparent !important;\n}\n.medium .folder-avatar {\n    left: 18px;\n}\n")}}))}}])}(t().Component);function Nb(e){return Nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nb(e)}function Lb(e){return function(e){if(Array.isArray(e))return Bb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ub(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ub(e,t){if(e){if("string"==typeof e)return Bb(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bb(e,t):void 0}}function Bb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Fb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jb(n.key),n)}}function qb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qb=function(){return!!e})()}function Wb(e){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wb(e)}function Hb(e,t){return Hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hb(e,t)}function Vb(e,t,r){return(t=Jb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jb(e){var t=function(e){if("object"!=Nb(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Nb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Nb(t)?t:t+""}Tb(Db,"propTypes",{pydio:W().instanceOf(V()),mode:W().oneOf(["book","selector","popover"]).isRequired,bookColumn:W().bool,onItemSelected:W().func,usersOnly:W().bool,usersFrom:W().oneOf(["local","remote","any"]),disableSearch:W().bool,muiTheme:W().object,popoverStyle:W().object,popoverButton:W().object,popoverContainerStyle:W().object,popoverIconButtonStyle:W().object}),Tb(Db,"defaultProps",{mode:"book",usersOnly:!1,usersFrom:"any",teamsOnly:!1,disableSearch:!1}),Db=Ab(Db),Db=(0,Q.muiThemeable)()(Db);var Gb=V().requireLib("hoc"),Kb=Gb.ModernAutoComplete,$b=Gb.ThemedContainers.Popover,Xb=function(e){function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Vb(e=function(e,t,r){return t=Wb(t),function(e,t){if(t&&("object"==Nb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qb()?Reflect.construct(t,r||[],Wb(e).constructor):t.apply(e,r))}(this,r,[].concat(o)),"state",{dataSource:[],loading:!1,searchText:"",minChars:parseInt(V().getInstance().getPluginConfigs("core.auth").get("USERS_LIST_COMPLETE_MIN_CHARS")),hideGroups:!0===V().getInstance().getPluginConfigs("action.advanced_settings").get("DISABLE_SHARE_GROUPS")}),Vb(e,"suggestionLoader",(function(t,r){var n=e.props,o=n.excludes,i=n.usersOnly,a=e.state.hideGroups;e.setState({loading:e.state.loading+1});var s=Un().getRestClient().getIdmApi(),c=[];c.push(s.listUsers("/",t,!0,0,20)),a||i?c.push(Promise.resolve({Groups:[]})):c.push(s.listGroups("/",t,!0,0,20)),i?c.push(Promise.resolve({Teams:[]})):c.push(s.listTeams(t,0,20)),Promise.all(c).then((function(t){e.setState({loading:e.state.loading-1});var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||Ub(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,3),i=n[0],a=n[1],s=n[2];i=i.Users,a=a.Groups,s=s.Teams,o&&o.length&&(i=i.filter((function(e){return-1===o.indexOf(e.Login)})),a=a.filter((function(e){return-1===o.indexOf(e.GroupLabel)})),s=s.filter((function(e){return o.indexOf(-1===e.Label)}))),r([].concat(Lb(a.map((function(e){return{IdmUser:e}}))),Lb(s.map((function(e){return{IdmRole:e}}))),Lb(i.map((function(e){return{IdmUser:e}})))))}))})),Vb(e,"textFieldUpdate",(function(t){e.setState({searchText:t}),e.state.minChars&&t&&t.length<e.state.minChars||e.loadBuffered(t,350)})),Vb(e,"getPendingSearchText",(function(){return e.state.searchText||!1})),Vb(e,"loadBuffered",(function(r,n){if(r||!e._emptyValueList){var o=e.props,i=o.existingOnly,a=o.freeValueAllowed,s=o.excludes,c=o.allowCurrent,l=void 0!==c&&c;Hf().bufferCallback("remote_users_search",n,function(){this.setState({loading:!0});var e=["pydio.anon.user"];l||e.push(V().getInstance().user.id),this.suggestionLoader(r,function(n){var o=!1,c=n.filter((function(t){return!(t.IdmUser&&!t.IdmUser.IsGroup&&e.indexOf(t.IdmUser.Login)>-1)})).filter((function(e){return!s||(e.IdmUser&&e.IdmUser.IsGroup?0===s.filter((function(t){return t===e.IdmUser.Uuid})).length:e.IdmUser?0===s.filter((function(t){return t===e.IdmUser.Login})).length:0===s.filter((function(t){return t===e.IdmRole.Uuid})).length)})).map((function(e){var n,i,a;return e.IdmUser&&e.IdmUser.IsGroup?(n=e.IdmUser.GroupLabel,a=e.IdmUser.Attributes&&e.IdmUser.Attributes.displayName?e.IdmUser.Attributes.displayName:n,i="mdi mdi-folder-account"):e.IdmUser?(n=e.IdmUser.Login,a=e.IdmUser.Attributes&&e.IdmUser.Attributes.displayName?e.IdmUser.Attributes.displayName:n,i=e.IdmUser.Attributes&&"shared"===e.IdmUser.Attributes.profile?"mdi mdi-account":"mdi mdi-account-box-outline"):(n=e.IdmRole.Uuid,a=e.IdmRole.Label,i="mdi mdi-account-multiple-outline"),o|=a===r,{userObject:e,text:n,value:t().createElement(k.MenuItem,{primaryText:a,leftIcon:t().createElement(k.FontIcon,{className:i,style:{margin:"0 12px"}})})}}));if(r||(this._emptyValueList=c),r&&!o&&(!i||a)){r=this.slugLogin(r);var l=V().getMessages()[448]||"create",u=t().createElement(k.MenuItem,{primaryText:r+(a?"":" ("+l+")"),leftIcon:t().createElement(k.FontIcon,{className:"mdi mdi-account-plus",style:{margin:"0 12px"}})});c=[{text:r,value:u}].concat(Lb(c))}this.setState({dataSource:c,loading:!1})}.bind(this))}.bind(e))}else e.setState({dataSource:e._emptyValueList})})),Vb(e,"onCompleterRequest",(function(t,r){var n=e.props,o=n.freeValueAllowed,i=n.onValueSelected;if(-1===r&&(e.state.dataSource.map((function(e){e.text===t&&(t=e)})),t&&!t.userObject&&o))return i({FreeValue:t.text}),void e.setState({searchText:"",dataSource:[]});t&&(t.userObject?i(t.userObject):o?i({FreeValue:t.text}):e.setState({createUser:t.text}),e.setState({searchText:"",dataSource:[]}))})),Vb(e,"onUserCreated",(function(t){e.props.onValueSelected(t),e.setState({createUser:null})})),Vb(e,"onCreationCancelled",(function(){e.setState({createUser:null})})),Vb(e,"openAddressBook",(function(t){e.setState({addressBookOpen:!0,addressBookAnchor:t.currentTarget})})),Vb(e,"closeAddressBook",(function(){e.setState({addressBookOpen:!1})})),Vb(e,"onAddressBookItemSelected",(function(t){e.props.onValueSelected(t)})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hb(e,t)}(r,e),function(e,t){return t&&Fb(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"componentWillReceiveProps",value:function(){this._emptyValueList=null}},{key:"slugLogin",value:function(e){return e=e.toLowerCase(),""===Jf().isValidLogin(e)?e:Y().computeStringSlug(e)}},{key:"render",value:function(){var e=this,r=this.props,n=r.pydio,o=r.className,i=r.fieldLabel,a=r.underlineHide,s=r.showAddressBook,c=r.usersFrom,l=this.state,u=l.dataSource,d=l.createUser;return t().createElement("div",{style:{position:"relative",overflow:"visible"},ref:function(t){e._popoverAnchor=t}},t().createElement(Kb,{filter:k.AutoComplete.noFilter,dataSource:u,searchText:this.state.searchText,onUpdateInput:this.textFieldUpdate,className:o,openOnFocus:!0,floatingLabelText:i,floatingLabelFixed:!0,underlineShow:!a,fullWidth:!0,onNewRequest:this.onCompleterRequest,listStyle:{maxHeight:350,overflowY:"auto"},onFocus:function(){e.loadBuffered(e.state.searchText,100)},disabled:d,hintText:d?n.MessageHash[485]+" ("+d+")":null}),!d&&t().createElement("div",{style:{position:"absolute",right:s?44:10,bottom:14,height:20,width:20}},t().createElement(k.RefreshIndicator,{size:20,left:0,top:0,status:this.state.loading?"loading":"hide"})),!d&&s&&t().createElement(Db,{mode:"popover",pydio:n,loaderStyle:{width:320,height:420},onItemSelected:this.onAddressBookItemSelected,usersFrom:c,disableSearch:!0}),t().createElement($b,{open:d,anchorEl:this._popoverAnchor,anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},onRequestClose:this.onCreationCancelled,canAutoPosition:!1,style:this._popoverAnchor?{width:this._popoverAnchor.clientWidth}:{},zDepth:3},d&&t().createElement(nm,{onUserCreated:this.onUserCreated.bind(this),onCancel:this.onCreationCancelled.bind(this),style:{width:"100%",height:320},newUserName:d,pydio:n})))}}])}(t().Component);function Yb(e){return Yb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yb(e)}function Qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qb(Object(r),!0).forEach((function(t){ev(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ev(e,t,r){return(t=function(e){var t=function(e){if("object"!=Yb(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Yb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yb(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Vb(Xb,"propTypes",{renderSuggestion:W().func.isRequired,onValueSelected:W().func.isRequired,fieldLabel:W().string.isRequired,excludes:W().array.isRequired,usersOnly:W().bool,usersFrom:W().oneOf(["local","remote","any"]),existingOnly:W().bool,freeValueAllowed:W().bool,className:W().string});var tv=V().requireLib("boot").M3Tooltip;const rv=(0,Q.muiThemeable)()((function(e){var r,n=e.size,o=void 0===n?24:n,i=e.idmObject,a=e.type,s=e.muiTheme,c=e.tooltip,l=void 0!==c&&c,u=e.style,d=void 0===u?{}:u,p=s.palette.avatarsColor,f=Zb({borderRadius:"50%",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:17,height:o,width:o},d);if(r="group"===a?t().createElement("span",{className:"mdi mdi-account-multiple",style:Zb(Zb({},f),{},{backgroundColor:p})}):"team"===a?t().createElement("span",{className:"mdi mdi-account-multiple-outline",style:Zb(Zb({},f),{},{backgroundColor:p})}):"temporary"===a?t().createElement("span",{className:"mdi mdi-account-plus",style:Zb(Zb({},f),{},{backgroundColor:p})}):"remote_user"===a?t().createElement("span",{className:"mdi mdi-account-network",style:Zb(Zb({},f),{},{backgroundColor:p})}):"more"===a?t().createElement("span",{style:Zb(Zb({},f),{},{backgroundColor:p})},"+ ",i):t().createElement("div",{style:{zIndex:f.zIndex}},t().createElement(qf,{avatarSize:o,pydio:V().getInstance(),userId:i.Login,avatarOnly:!0,idmUser:i,userType:"user",useDefaultAvatar:!0,richOnClick:!1,richOnHover:!1,style:Zb({padding:0,lineHeight:"16px"},d)})),l){var h,m=V().getMessages();return h="more"===a?i>1?m["share_center.cell.participant.other.multiple"].replace("%d",i):m["share_center.cell.participant.other.single"]:tp().extractLabelFromIdmObject(i),t().createElement(tv,{PopperProps:{style:{zIndex:2200}},placement:"bottom",title:t().createElement("div",{style:{padding:"0 6px"}},h)},r)}return r}));function nv(e){return nv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nv(e)}function ov(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function iv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ov(Object(r),!0).forEach((function(t){av(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ov(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function av(e,t,r){return(t=function(e){var t=function(e){if("object"!=nv(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=nv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nv(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const sv=function(e){var r=e.acls,n=e.max,o=void 0===n?6:n,i=e.size,a=void 0===i?32:i,s=e.onlines,c=void 0===s?void 0:s,l={border:"2px solid var(--md-sys-color-surface-variant)"},u=Object.keys(r).map((function(e,t){var n,o,i,a,s=iv({},l),u=r[e];if(u.User)n="user",o=u.User,a="user-"+u.User.Login,void 0!==c&&(i=c&&c.indexOf&&c.indexOf(u.User.Login)>-1)&&(s.border="2px solid #4caf50");else if(u.Group)n="group",o=u.Group,a="group-"+u.Group.Uuid;else{if(!u.Role)return null;n="team",o=u.Role,a="group-"+u.Role.Uuid}return{type:n,object:o,style:s,online:i,key:a}})).filter((function(e){return null!==e}));if(void 0!==c&&u.sort((function(e,t){return e.online?-1:t.online?1:0})),(u=u.map((function(e,t){return t>0&&(e.style=iv(iv({},e.style),{},{marginLeft:-10,zIndex:2*t})),e}))).length>o){var d=u.length-o;(u=u.slice(0,o)).push({type:"more",object:d,style:iv(iv({},l),{},{marginLeft:-10,zIndex:16,fontWeight:500,fontSize:14})})}return t().createElement("div",{style:{display:"flex",height:a}},u.map((function(e){var r=e.type,n=e.object,o=e.style,i=e.key;return t().createElement(rv,{key:i,size:a,type:r,idmObject:n,style:o,tooltip:!0})})))};function cv(e){return cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cv(e)}function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lv.apply(null,arguments)}function uv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uv(Object(r),!0).forEach((function(t){yv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gv(n.key),n)}}function fv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fv=function(){return!!e})()}function hv(e){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hv(e)}function mv(e,t){return mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mv(e,t)}function yv(e,t,r){return(t=gv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gv(e){var t=function(e){if("object"!=cv(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=cv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==cv(t)?t:t+""}var bv=V().requireLib("hoc").ThemedContainers.Popover,vv=function(e){function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return yv(e=function(e,t,r){return t=hv(t),function(e,t){if(t&&("object"==cv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fv()?Reflect.construct(t,r||[],hv(e).constructor):t.apply(e,r))}(this,r,[].concat(n)),"state",{showMenu:!1}),yv(e,"showMenu",(function(t){var r;r=t?t.currentTarget:e._buttonDOM,e.setState({showMenu:!0,anchor:r})})),yv(e,"menuClicked",(function(t,r,n){e.setState({showMenu:!1})})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mv(e,t)}(r,e),function(e,t){return t&&pv(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"componentDidMount",value:function(){var e=this;this.props.openOnEvent&&this.props.pydio.observe(this.props.openOnEvent,(function(){e.showMenu()}))}},{key:"render",value:function(){var e,r=this,o=this.state,i=o.showMenu,a=o.anchor,s=t().createElement("span",{style:{whiteSpace:"nowrap"}},this.props.buttonTitle," ",t().createElement("span",{className:"mdi mdi-menu-down"})),c=this.props.buttonHoverColor||"rgba(255,255,255,0.2)",l={primary:this.props.primary,secondary:this.props.secondary,disabled:this.props.disabled,label:s,onClick:this.showMenu,labelStyle:dv({},this.props.buttonLabelStyle),style:this.props.buttonStyle,backgroundColor:i?c:this.props.buttonBackgroundColor,hoverColor:this.props.buttonHoverColor},u=this.props.menuItems;return u.length&&(e=this.props.raised?t().createElement(k.RaisedButton,lv({},l,{ref:function(e){r._buttonDOM=n().findDOMNode(e)}})):t().createElement(k.FlatButton,lv({},l,{ref:function(e){r._buttonDOM=n().findDOMNode(e)}}))),t().createElement("span",{id:this.props.id,className:this.props.className},e,t().createElement(bv,{className:"menuPopover",open:i,anchorEl:a,anchorOrigin:{horizontal:this.props.direction||"left",vertical:"bottom"},targetOrigin:{horizontal:this.props.direction||"left",vertical:"top"},onRequestClose:function(){r.setState({showMenu:!1})},style:{marginTop:1},useLayerForClickAway:!1},Dr.itemsToMenu(u,this.menuClicked)))}}])}(t().Component);yv(vv,"propTypes",{buttonTitle:W().oneOfType([W().string,W().object]).isRequired,menuItems:W().array.isRequired,className:W().string,raised:W().bool,direction:W().oneOf(["left","right"])});const kv=Kr(vv),wv=require("pydio/model/context-menu");var _v=a.n(wv);function Sv(e){return Sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(e)}function Ov(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ev(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ov(Object(r),!0).forEach((function(t){jv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ov(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Av(n.key),n)}}function Pv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Pv=function(){return!!e})()}function Tv(e){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tv(e)}function xv(e,t){return xv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xv(e,t)}function jv(e,t,r){return(t=Av(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Av(e){var t=function(e){if("object"!=Sv(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Sv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Sv(t)?t:t+""}var zv=a(9825),Iv=a(2326),Rv=V().requireLib("hoc").ThemedContainers.Paper,Mv=function(r){function n(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),jv(r=function(e,t,r){return t=Tv(t),function(e,t){if(t&&("object"==Sv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Pv()?Reflect.construct(t,r||[],Tv(e).constructor):t.apply(e,r))}(this,n,[t]),"showMenu",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r.setState({showMenu:!0,style:e,menuItems:t||r.state.menuItems})})),jv(r,"hideMenu",(function(e){if(!e)return r.setState({showMenu:!1}),void(r.props.onMenuClosed&&r.props.onMenuClosed());if(void 0===e||2!==e.button||"contextmenu"===e.type){var t=Iv.findDOMNode(r.menuRef.current);t&&t.contains(e.target)||t===e.target||(r.setState({showMenu:!1}),r.props.onMenuClosed&&r.props.onMenuClosed())}})),jv(r,"menuClicked",(function(e,t,n){r.hideMenu()})),r.menuRef=(0,e.createRef)(),r.state={showMenu:!1,menuItems:t.menuItems},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xv(e,t)}(n,r),function(e,t){return t&&Cv(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(n,[{key:"componentDidMount",value:function(){this._observer=this.hideMenu.bind(this)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this._observer,!1)}},{key:"componentWillReceiveProps",value:function(e){e.menuItems&&this.setState({menuItems:e.menuItems})}},{key:"componentDidUpdate",value:function(e,t){this.state.showMenu?document.addEventListener("click",this._observer,!1):document.removeEventListener("click",this._observer,!1)}},{key:"render",value:function(){var e=this.props,r=e.menuProps,n=e.paperStyle,o=e.zDepth,i=void 0===o?1:o,a=this.state,s=a.style,c=void 0===s?{}:s,l=a.menuItems,u=Ev(Ev(Ev({},n),c),{},{zIndex:1e3}),d=Dr.itemsToMenu(l,this.menuClicked.bind(this),!1,Ev({ref:this.menuRef,desktop:!0,display:"right",width:250},r));return this.state.showMenu?t().createElement(Rv,{zDepth:i||1,ref:"menuContainer",className:"menu-positioner",style:u},d):null}}])}(t().Component);function Dv(e){return Dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(e)}function Nv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lv(n.key),n)}}function Lv(e){var t=function(e){if("object"!=Dv(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Dv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Dv(t)?t:t+""}function Uv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Uv=function(){return!!e})()}function Bv(e){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bv(e)}function Fv(e,t){return Fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fv(e,t)}jv(Mv,"propTypes",{menuItems:zv.array.isRequired,onExternalClickCheckElements:zv.func,className:zv.string,style:zv.object,onMenuClosed:zv.func});var qv=a(2015),Wv=qv.Component,Hv=qv.createRef,Vv=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t,r){return t=Bv(t),function(e,t){if(t&&("object"==Dv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Uv()?Reflect.construct(t,r||[],Bv(e).constructor):t.apply(e,r))}(this,t,[e])).menu=Hv(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fv(e,t)}(t,e),function(e,t){return t&&Nv(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"modelOpen",value:function(e){var t=_v().getInstance().getPosition(),r=this.props.pydio;if(e){var n=r.getContextHolder();-1===n.getSelectedNodes().indexOf(e)?(r.observeOnce("actions_refreshed",function(e){this.openMenu("selectionContext",t)}.bind(this)),n.setSelectedNodes([e])):this.openMenu("selectionContext",t)}else this.openMenu("genericContext",t)}},{key:"openMenu",value:function(e,t){var r=this.computeMenuItems(e);this._items=r,this.props.pydio.UI.MOBILE_EXTENSIONS?this.menu.current.showMenu({bottom:0,left:0,right:0,height:200,zIndex:1e4,overflowY:"auto"},r):(t=this.computeVisiblePosition(t,r),this.menu.current.showMenu({top:t.y,left:t.x},r))}},{key:"computeMenuItems",value:function(e){var t=this.props.pydio.Controller.getContextActions(e,["inline","info_panel","info_panel_share"]);return Dr.pydioActionsToItems(t)}},{key:"computeVisiblePosition",value:function(e,t){var r=16;t.map((function(e){e.separator?r+=16:r+=32}));var n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),o=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return e.x+250>n?e.x=Math.max(e.x-250,10)-8:e.x+=8,e.y+r>o?e.y=Math.max(e.y-r,10)-8:e.y+=8,e}},{key:"componentDidMount",value:function(){this._modelOpen=this.modelOpen.bind(this),_v().getInstance().observe("open",this._modelOpen)}},{key:"componentWillUnmount",value:function(){_v().getInstance().stopObserving("open",this._modelOpen)}},{key:"render",value:function(){var e=this.props.pydio.UI.MOBILE_EXTENSIONS;return React.createElement(Mv,{ref:this.menu,menuItems:this._items||[],onMenuClosed:this.props.onMenuClosed,menuProps:e?{width:600,autoWidth:!1}:{},paperStyle:e?{borderBottomLeftRadius:0,borderBottomRightRadius:0}:null,zDepth:e?2:1})}}])}(Wv);function Jv(e){return Jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(e)}function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gv.apply(null,arguments)}function Kv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kv(Object(r),!0).forEach((function(t){ek(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tk(n.key),n)}}function Yv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Yv=function(){return!!e})()}function Qv(e){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qv(e)}function Zv(e,t){return Zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zv(e,t)}function ek(e,t,r){return(t=tk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tk(e){var t=function(e){if("object"!=Jv(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Jv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Jv(t)?t:t+""}var rk=V().requireLib("hoc").ThemedContainers.Popover,nk=function(e){function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return ek(e=function(e,t,r){return t=Qv(t),function(e,t){if(t&&("object"==Jv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yv()?Reflect.construct(t,r||[],Qv(e).constructor):t.apply(e,r))}(this,r,[].concat(n)),"state",{showMenu:!1}),ek(e,"showMenu",(function(t){var r;r=t?t.currentTarget:e._buttonDOM,e.setState({showMenu:!0,anchor:r})})),ek(e,"menuClicked",(function(t,r,n){e.setState({showMenu:!1})})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zv(e,t)}(r,e),function(e,t){return t&&Xv(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"componentDidMount",value:function(){var e=this;this.props.openOnEvent&&this.props.pydio.observe(this.props.openOnEvent,(function(){e.showMenu()}))}},{key:"render",value:function(){var e,r,o=this,i=this.props,a=i.id,s=i.masterAction,c=i.buttonTitle,l=i.primary,u=i.secondary,d=i.disabled,p=i.raised,f=i.menuItems,h=i.buttonStyle,m=i.buttonLabelStyle,y=i.className,g=i.direction,b=i.muiTheme,v=$v({},m),w=$v({},m);v.paddingRight?v.paddingRight/=Math.floor(3):v.paddingRight=8,w.paddingLeft?w.paddingLeft/=Math.floor(3):w.paddingLeft=8,w.paddingRight=w.paddingLeft;var _={primary:l,secondary:u,disabled:d,label:c,style:$v($v({},h),{},{minWidth:60,borderRadius:"".concat(b.borderRadius,"px 0 0 ").concat(b.borderRadius,"px")}),labelStyle:v,onClick:s},S={primary:l,secondary:u,disabled:d,label:t().createElement("span",{className:"mdi mdi-menu-down"}),style:$v($v({},h),{},{minWidth:16,borderRadius:"0 ".concat(b.borderRadius,"px ").concat(b.borderRadius,"px 0")}),labelStyle:w,onClick:this.showMenu},O=this.state,E=O.showMenu,C=O.anchor,P=O.over;f.length&&(p?(r=t().createElement(k.RaisedButton,Gv({},S,{ref:function(e){o._buttonDOM=n().findDOMNode(e)}})),e=t().createElement(k.RaisedButton,_)):(r=t().createElement(k.FlatButton,Gv({},S,{ref:function(e){o._buttonDOM=n().findDOMNode(e)}})),e=t().createElement(k.FlatButton,_)));var T={whiteSpace:"nowrap",borderRadius:b.borderRadius};return t().createElement("span",{id:a,className:y,onMouseOver:function(){o.setState({over:!0})},onMouseOut:function(){o.setState({over:!1})},style:P||E?$v({backgroundColor:"rgba(153, 153, 153, 0.2)"},T):T},e,r,t().createElement(rk,{className:"menuPopover",open:E,anchorEl:C,anchorOrigin:{horizontal:g||"left",vertical:"bottom"},targetOrigin:{horizontal:g||"left",vertical:"top"},onRequestClose:function(){o.setState({showMenu:!1})},style:{marginTop:1},useLayerForClickAway:!1},Dr.itemsToMenu(f,this.menuClicked)))}}])}(t().Component);ek(nk,"propTypes",{buttonTitle:W().oneOfType([W().string,W().object]).isRequired,masterAction:W().func.isRequired,menuItems:W().array.isRequired,className:W().string,raised:W().bool,direction:W().oneOf(["left","right"])});const ok=Kr((0,Q.muiThemeable)()(nk));function ik(e){return ik="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ik(e)}function ak(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sk(n.key),n)}}function sk(e){var t=function(e){if("object"!=ik(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ik(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ik(t)?t:t+""}function ck(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ck=function(){return!!e})()}function lk(e){return lk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lk(e)}function uk(e,t){return uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uk(e,t)}var dk=a(9825),pk=a(2015),fk=V().requireLib("hoc").ThemedContainers,hk=fk.Popover,mk=fk.IconButton,yk=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,r){return t=lk(t),function(e,t){if(t&&("object"==ik(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ck()?Reflect.construct(t,r||[],lk(e).constructor):t.apply(e,r))}(this,t,[e,r])).state={showPopover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uk(e,t)}(t,e),function(e,t){return t&&ak(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"showPopover",value:function(e){this.setState({showPopover:!0,anchor:e.currentTarget})}},{key:"render",value:function(){var e=this;return pk.createElement("span",{className:"toolbars-button-menu "+(this.props.className?this.props.className:"")},pk.createElement(mk,{ref:"menuButton",tooltip:this.props.buttonTitle,iconClassName:this.props.buttonClassName,onClick:this.showPopover.bind(this),iconStyle:this.props.buttonStyle}),pk.createElement(hk,{open:this.state.showPopover,anchorEl:this.state.anchor,anchorOrigin:{horizontal:this.props.direction||"right",vertical:"bottom"},targetOrigin:{horizontal:this.props.direction||"right",vertical:"top"},onRequestClose:function(){e.setState({showPopover:!1})},useLayerForClickAway:!1},this.props.popoverContent))}}])}(pk.Component);yk.propTypes={buttonTitle:dk.string.isRequired,buttonClassName:dk.string.isRequired,className:dk.string,direction:dk.oneOf(["right","left"]),popoverContent:dk.object.isRequired};const gk=yk;function bk(e){return bk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bk(e)}function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vk(Object(r),!0).forEach((function(t){wk(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wk(e,t,r){return(t=function(e){var t=function(e){if("object"!=bk(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=bk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bk(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _k(e){return function(e){if(Array.isArray(e))return Sk(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Sk(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sk(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ok=V().requireLib("hoc").ThemedContainers.IconButton;const Ek=F()({displayName:"Toolbar",propTypes:{toolbars:W().array,groupOtherList:W().array,renderingType:W().string,controller:W().instanceOf(Controller),toolbarStyle:W().object,buttonStyle:W().object,fabAction:W().string,buttonMenuNoLabel:W().bool},componentDidMount:function(){var e=function(){this.isMounted()&&this.setState({groups:this.props.controller.getToolbarsActions(this.props.toolbars,this.props.groupOtherList)})}.bind(this);this._observer=(0,Nr.debounce)(e,50),this.props.controller===pydio.Controller?pydio.observe("actions_refreshed",this._observer):this.props.controller.observe("actions_refreshed",this._observer)},componentWillUnmount:function(){this.props.controller===pydio.Controller?pydio.stopObserving("actions_refreshed",this._observer):this.props.controller.stopObserving("actions_refreshed",this._observer)},componentWillReceiveProps:function(e){e.toolbars!==this.props.toolbars&&this.setState({groups:this.props.controller.getToolbarsActions(e.toolbars,e.groupOtherList)})},getInitialState:function(){return{groups:this.props.controller.getToolbarsActions(this.props.toolbars,this.props.groupOtherList)}},getDefaultProps:function(){return{controller:a.g.pydio.Controller,renderingType:"button",groupOtherList:[]}},render:function(){var e=this.state.groups,r=[],n=this.props,o=n.toolbars,i=n.renderingType,a=n.groupOtherList,s=n.buttonStyle,c=n.mergeItemsAsOneMenu,l=n.tooltipPosition,u=n.controller,d=n.fabAction,p=n.fabButtonStyle,f=void 0===p?{}:p,h=n.toolbarStyle,m=n.buttonMenuNoLabel,y=n.buttonMenuPopoverDirection,g=n.flatButtonStyle,b=_k(o);a.length&&(b=b.concat(["MORE_ACTION"]));var v=!1,w=[];if(b.map((function(n){e.has(n)&&e.get(n).map((function(e){if(!e.deny){var o,a,p,h,b,_=e.options.name;if(p=pydio.MessageHash[e.options.text_id]||e.options.text,h=e.options.icon_class,"MORE_ACTION"===n){var S=e.subMenuItems.dynamicItems,O=[];S.map((function(e){e.separator?O.push(e):e.actionId&&!e.actionId.deny&&O.push(e.actionId.getMenuData())})),o=Dr.pydioActionsToItems(O),h="mdi mdi-dots-vertical"}else e.subMenuItems.staticItems?o=Dr.pydioActionsToItems(e.subMenuItems.staticItems):e.subMenuItems.dynamicBuilder?o=Dr.pydioActionsToItems(e.subMenuItems.dynamicBuilder(u)):e.subMenuItems.popoverContent&&(a=e.subMenuItems.popoverContent);if(o&&e.subMenuItems.masterAction){var E=u.getActionByName(e.subMenuItems.masterAction);E&&!E.deny&&(b=function(){E.apply()})}if(c&&void 0!==o)w=[].concat(_k(w),[{subHeader:p}],_k(o),[{separator:!0}]);else{var C="action-"+e.options.name;if("button-icon"===i&&(p=t().createElement("span",{className:"button-icon"},t().createElement("span",{className:"button-icon-icon "+h}),t().createElement("span",{className:"button-icon-label"},p))),o)"button"===i||"button-icon"===i?b?r.push(t().createElement(ok,{key:_,className:C,buttonTitle:p,menuItems:o,masterAction:b,buttonStyle:g,buttonLabelStyle:s,direction:y})):r.push(t().createElement(kv,{key:_,className:C,buttonTitle:m?"":p,menuItems:o,buttonStyle:g,buttonLabelStyle:s,direction:y})):r.push(t().createElement(cn,{key:_,className:C,onMenuClicked:function(e){e.payload()},buttonClassName:h,buttonTitle:p,menuItems:o,buttonStyle:s,style:g,popoverDirection:y}));else if(a)r.push(t().createElement(gk,{key:_,className:C,buttonClassName:h,buttonTitle:p,buttonStyle:s,popoverContent:a}));else{var P=function(){e.apply()};d&&d===_?(v=!0,r.push(t().createElement(k.FloatingActionButton,{key:_,onClick:P,iconClassName:h,mini:!0,backgroundColor:f.backgroundColor,iconStyle:f.color?{color:f.color}:null,style:{position:"absolute",top:-20,left:10}}))):"button-icon"===i||"button"===i?r.push(t().createElement(k.FlatButton,{key:_,className:C,onClick:P,label:p,labelStyle:s,style:g})):r.push(t().createElement(Ok,{key:_,iconClassName:h+" "+C,iconStyle:s,style:g,onClick:P,tooltip:p,tooltipPosition:l}))}}}}))})),c&&w.length){w.pop();var _=this.props,S=_.mergedMenuIcom,O=_.mergedMenuTitle;r.push(t().createElement(cn,{key:o.join("-"),className:"toolbar-"+o.join("-"),onMenuClicked:function(e){e.payload()},buttonClassName:S,buttonTitle:O,menuItems:w,buttonStyle:s,style:g,popoverDirection:y}))}var E=this.props.className?this.props.className:"";E+=" toolbar",r.length||(E+=" empty-toolbar");var C=kk({},h);return v&&(C=kk(kk({},h),{},{minHeight:41})),t().createElement("div",{className:E,style:C,id:this.props.id},r)}}),Ck=require("pydio/http/websocket");var Pk=a.n(Ck),Tk=a(4093),xk=a.n(Tk);function jk(e){return jk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jk(e)}function Ak(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function zk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dk(n.key),n)}}function Ik(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ik=function(){return!!e})()}function Rk(e){return Rk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rk(e)}function Mk(e,t){return Mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mk(e,t)}function Dk(e){var t=function(e){if("object"!=jk(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=jk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jk(t)?t:t+""}var Nk=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){(t=Dk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(r=function(e,t,r){return t=Rk(t),function(e,t){if(t&&("object"==jk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ik()?Reflect.construct(t,r||[],Rk(e).constructor):t.apply(e,r))}(this,t,[e]),"subscriptions",void 0),r.currentRepo=e.repositoryId,r.subscriptions={},r.rooms={},r.roomInfos={},r.open(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mk(e,t)}(t,e),function(e,t,r){return t&&zk(e.prototype,t),r&&zk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"getIdentifier",value:function(e,t){return e+":"+t}},{key:"getRoomInfoFromIdentifier",value:function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ak(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ak(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split(":"),2);return{roomType:t[0],objectId:t[1]}}},{key:"onRoomMessage",value:function(e){if(e){var t=e.Room,r=this.getIdentifier(t.Type,t.RoomTypeObject);this.roomInfos[r]=t}}},{key:"joinRoom",value:function(e,t,r,n){var o=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=this.getIdentifier(e,t);if(this.subscriptions[a]){var s=!1;return this.subscriptions[a].map((function(e){e.messageHandler===r&&(s=!0)})),s||this.subscriptions[a].push({messageHandler:r,roomUpdateHandler:n}),this.roomInfos[a]}if(this.connecting){if(i<3)return setTimeout((function(){o.joinRoom(e,t,r,n,i+1)}),1500),null}else if(!this.connOpen)return this.open(),setTimeout((function(){o.joinRoom(e,t,r,n,i+1)}),1500),null;this.subscriptions[e+":"+t]=[{messageHandler:r,roomUpdateHandler:n}];var c={"@type":"JOIN",Room:{Type:e,RoomTypeObject:t}};return this.ws.send(JSON.stringify(c)),this.roomInfos[a]}},{key:"loadHistory",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(this.connecting&&i<3)setTimeout((function(){r.loadHistory(e,t,n,o,i+1)}),1500);else{var a={"@type":"HISTORY",Room:{Type:e,RoomTypeObject:t},Message:{Message:JSON.stringify({Offset:n,Limit:o})}};this.ws.send(JSON.stringify(a))}}},{key:"leaveRoom",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=!1,i=this.getIdentifier(e,t);if(this.subscriptions[i]&&(n?(this.subscriptions[i]=this.subscriptions[i].filter((function(e){return e.messageHandler!==n})),this.subscriptions[i].length?o=!0:delete this.subscriptions[i]):delete this.subscriptions[i]),!o&&(Object.keys(this.rooms).map((function(e){r.rooms[e]===i&&delete r.rooms[e]})),this.connOpen)){var a={"@type":"LEAVE",Room:{Type:e,RoomTypeObject:t}};this.ws.send(JSON.stringify(a))}}},{key:"handleMessageReceived",value:function(e){var t=JSON.parse(e.data);if("ROOM_UPDATE"===t["@type"]){var r=this.getIdentifier(t.Room.Type,t.Room.RoomTypeObject);this.subscriptions[r]&&(this.rooms[t.Room.Uuid]||(this.rooms[t.Room.Uuid]=r),this.onRoomMessage(t),this.subscriptions[r].map((function(e){if(e.roomUpdateHandler)try{e.roomUpdateHandler(t)}catch(e){}})))}else{var n,o=!1;if("DELETE_MSG"===t["@type"]?(o=!0,n=t.Message):n=t,n.RoomUuid&&this.rooms[n.RoomUuid]){var i=this.subscriptions[this.rooms[n.RoomUuid]],a=i.filter((function(e){return e.roomUpdateHandler}));a.length&&(i=a),i.map((function(e){try{e.messageHandler(n,o)}catch(e){}}))}else console.log("Cannot find room "+n.RoomUuid,this.rooms)}}},{key:"send",value:function(e){this.ws.send(e)}},{key:"open",value:function(){var e=this;if(this.close(),this.currentRepo){var t=this.pydio.Parameters.get("ENDPOINT_WEBSOCKET").replace("/event","/chat");t&&"/"===t[0]&&(t=t.substr(1));var r=this.pydio.getFrontendUrl(),n="https:"===r.protocol?"wss":"ws",o="".concat(n,"://").concat(r.host,"/")+t;this.ws=new(xk())(o,[],{maxReconnectionDelay:6e4,reconnectionDelayGrowFactor:1.6,maxRetries:10}),this.connecting=!0,this.ws.addEventListener("open",(function(){Pk().subscribeJWT(e.ws).then((function(){e.connecting=!1,e.connOpen=!0})).catch((function(){e.connecting=!1,e.connOpen=!1}))})),this.ws.addEventListener("message",(function(t){e.handleMessageReceived(t)})),this.ws.addEventListener("close",(function(t){e.connOpen=!1,e.connecting=!1,Pk().logClose(t)})),this.ws.addEventListener("error",(function(e){"EHOSTDOWN"===e.code&&console.error("WebSocket maxRetries reached, host is down!")})),this.hbInterval=setInterval((function(){return e.heartbeat()}),15e3),window.onbeforeunload=function(){e.close()}}}},{key:"close",value:function(){var e=this;null!==this.ws&&(Object.keys(this.subscriptions).map((function(t){var r=e.getRoomInfoFromIdentifier(t),n=r.roomType,o=r.objectId;e.leaveRoom(n,o)})),this.ws.close(1e3,"Closing",{keepClosed:!0}),this.hbInterval&&clearInterval(this.hbInterval))}},{key:"heartbeat",value:function(){var e=this;Object.keys(this.subscriptions).map((function(t){var r=e.getRoomInfoFromIdentifier(t),n={"@type":"JOIN",Room:{Type:r.roomType,RoomTypeObject:r.objectId},Message:{Message:"PING"}};try{e.ws.send(JSON.stringify(n))}catch(e){}}))}}],[{key:"getInstance",value:function(e){return void 0!==t._instance||(t._instance=new t(e)),t._instance}}])}(Pk());const Lk=require("pydio/util/dom");var Uk=a.n(Lk);const Bk=require("react-markdown");var Fk=a.n(Bk),qk=a(323),Wk=a(4316),Hk=a(2372);function Vk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Jk(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jk(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}a(195),Wk();var Gk=String.fromCharCode(65039),Kk=new RegExp(Gk,"g");var $k=Object.entries(qk.lib).map((function(e){var t=Vk(e,2);return[t[0],t[1].char]})),Xk=new Map($k),Yk=(new Map($k.map((function(e){var t,r=Vk(e,2),n=r[0];return[(t=r[1],t.replace(Kk,"")),n]}))),[{description:"angry face",emoji:"😠",emoticons:[">:(",">:[",">:-(",">:-[",">=(",">=[",">=-(",">=-["],name:"angry",tags:["mad","annoyed"]},{description:"smiling face with smiling eyes",emoji:"😊",emoticons:[':")',':"]',':"D',':-")',':-"]',':-"D','=")','="]','="D','=-")','=-"]','=-"D'],name:"blush",tags:["proud"]},{description:"broken heart",emoji:"💔",emoticons:["<\\3","</3"],name:"broken_heart",tags:[]},{description:"confused face",emoji:"😕",emoticons:[":/",":\\",":-/",":-\\","=/","=\\","=-/","=-\\"],name:"confused",tags:[]},{description:"crying face",emoji:"😢",emoticons:[":,(",":,[",":,|",":,-(",":,-[",":,-|",":'(",":'[",":'|",":'-(",":'-[",":'-|","=,(","=,[","=,|","=,-(","=,-[","=,-|","='(","='[","='|","='-(","='-[","='-|","T-T"],name:"cry",tags:["sad","tear"]},{description:"frowning face with open mouth",emoji:"😦",emoticons:[":(",":[",":-(",":-[","=(","=[","=-(","=-["],name:"frowning",tags:[]},{description:"red heart",emoji:"❤️",emoticons:["<3"],name:"heart",tags:["love"]},{description:"angry face with horns",emoji:"👿",emoticons:["]:(","]:[","]:-(","]:-[","]=(","]=[","]=-(","]=-["],name:"imp",tags:["angry","devil","evil","horns"]},{description:"smiling face with halo",emoji:"😇",emoticons:["o:)","o:]","o:D","o:-)","o:-]","o:-D","o=)","o=]","o=D","o=-)","o=-]","o=-D","O:)","O:]","O:D","O:-)","O:-]","O:-D","O=)","O=]","O=D","O=-)","O=-]","O=-D","0:)","0:]","0:D","0:-)","0:-]","0:-D","0=)","0=]","0=D","0=-)","0=-]","0=-D"],name:"innocent",tags:["angel"]},{description:"face with tears of joy",emoji:"😂",emoticons:[":,)",":,]",":,D",":,-)",":,-]",":,-D",":')",":']",":'D",":'-)",":'-]",":'-D","=,)","=,]","=,D","=,-)","=,-]","=,-D","=')","=']","='D","='-)","='-]","='-D"],name:"joy",tags:["tears"]},{description:"kissing face",emoji:"😗",emoticons:[":*",":-*","=*","=-*"],name:"kissing",tags:[]},{description:"grinning squinting face",emoji:"😆",emoticons:["x)","x]","xD","x-)","x-]","x-D","X)","X]","X-)","X-]","X-D"],name:"laughing",tags:["happy","haha"]},{description:"man",emoji:"👨",emoticons:[":3",":-3","=3","=-3",";3",";-3","x3","x-3","X3","X-3"],name:"man",tags:["mustache","father","dad"]},{description:"neutral face",emoji:"😐",emoticons:[":|",":-|","=|","=-|"],name:"neutral_face",tags:["meh"]},{description:"face without mouth",emoji:"😶",emoticons:[":-"],name:"no_mouth",tags:["mute","silence"]},{description:"face with open mouth",emoji:"😮",emoticons:[":o",":O",":0",":-o",":-O",":-0","=o","=O","=0","=-o","=-O","=-0"],name:"open_mouth",tags:["surprise","impressed","wow"]},{description:"enraged face",emoji:"😡",emoticons:[":@",":-@","=@","=-@"],name:"rage",tags:["angry"]},{description:"grinning face with smiling eyes",emoji:"😄",emoticons:[":D",":-D","=D","=-D"],name:"smile",tags:["happy","joy","laugh","pleased"]},{description:"grinning face with big eyes",emoji:"😃",emoticons:[":)",":]",":-)",":-]","=)","=]","=-)","=-]"],name:"smiley",tags:["happy","joy","haha"]},{description:"smiling face with horns",emoji:"😈",emoticons:["]:)","]:]","]:D","]:-)","]:-]","]:-D","]=)","]=]","]=D","]=-)","]=-]","]=-D"],name:"smiling_imp",tags:["devil","evil","horns"]},{description:"loudly crying face",emoji:"😭",emoticons:[":,'(",":,'[",":,'-(",":,'-[",":',(",":',[",":',-(",":',-[","=,'(","=,'[","=,'-(","=,'-[","=',(","=',[","=',-(","=',-["],name:"sob",tags:["sad","cry","bawling"]},{description:"face with tongue",emoji:"😛",emoticons:[":p",":P",":d",":-p",":-P",":-d","=p","=P","=d","=-p","=-P","=-d"],name:"stuck_out_tongue",tags:[]},{description:"squinting face with tongue",emoji:"😝",emoticons:["xP","x-p","x-P","x-d","Xp","Xd","X-p","X-P","X-d"],name:"stuck_out_tongue_closed_eyes",tags:["prank"]},{description:"winking face with tongue",emoji:"😜",emoticons:[";p",";P",";d",";-p",";-P",";-d"],name:"stuck_out_tongue_winking_eye",tags:["prank","silly"]},{description:"smiling face with sunglasses",emoji:"😎",emoticons:["8)","8]","8D","8-)","8-]","8-D","B)","B]","B-)","B-]","B-D"],name:"sunglasses",tags:["cool"]},{description:"downcast face with sweat",emoji:"😓",emoticons:[",:(",",:[",",:-(",",:-[",",=(",",=[",",=-(",",=-[","':(","':[","':-(","':-[","'=(","'=[","'=-(","'=-["],name:"sweat",tags:[]},{description:"grinning face with sweat",emoji:"😅",emoticons:[",:)",",:]",",:D",",:-)",",:-]",",:-D",",=)",",=]",",=D",",=-)",",=-]",",=-D","':)","':]","':D","':-)","':-]","':-D","'=)","'=]","'=D","'=-)","'=-]","'=-D"],name:"sweat_smile",tags:["hot"]},{description:"unamused face",emoji:"😒",emoticons:[":$",":s",":z",":S",":Z",":-$",":-s",":-z",":-S",":-Z","=$","=s","=z","=S","=Z","=-$","=-s","=-z","=-S","=-Z"],name:"unamused",tags:["meh"]},{description:"winking face",emoji:"😉",emoticons:[";)",";]",";D",";-)",";-]",";-D"],name:"wink",tags:["flirt"]}]);function Qk(e){return Qk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qk(e)}var Zk=function(e){if(null==e)return tw;if("function"==typeof e)return ew(e);if("object"===Qk(e))return Array.isArray(e)?function(e){for(var t=[],r=-1;++r<e.length;)t[r]=Zk(e[r]);return ew((function(){for(var e=-1,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];for(;++e<t.length;)if(t[e].apply(this,n))return!0;return!1}))}(e):(r=t=e,ew((function(e){var n,o=e;for(n in t)if(o[n]!==r[n])return!1;return!0})));var t,r;if("string"==typeof e)return function(e){return ew((function(t){return t&&t.type===e}))}(e);throw new Error("Expected function, string, or object as test")};function ew(e){return function(t,r,n){return Boolean(function(e){return null!==e&&"object"===Qk(e)&&"type"in e}(t)&&e.call(this,t,"number"==typeof r?r:void 0,n||void 0))}}function tw(){return!0}function rw(e){return rw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rw(e)}var nw=[],ow=!1;function iw(e,t,r,n){var o;"function"==typeof t&&"function"!=typeof r?(n=r,r=t):o=t;var i=Zk(o),a=n?-1:1;!function e(o,s,c){var l=o&&"object"===rw(o)?o:{};if("string"==typeof l.type){var u="string"==typeof l.tagName?l.tagName:"string"==typeof l.name?l.name:void 0;Object.defineProperty(d,"name",{value:"node ("+o.type+(u?"<"+u+">":"")+")"})}return d;function d(){var l,u,d,p=nw;if((!t||i(o,s,c[c.length-1]||void 0))&&(p=function(e){return Array.isArray(e)?e:"number"==typeof e?[true,e]:null==e?nw:[e]}(r(o,c)),p[0]===ow))return p;if("children"in o&&o.children){var f=o;if(f.children&&"skip"!==p[0])for(u=(n?f.children.length:-1)+a,d=c.concat(f);u>-1&&u<f.children.length;){var h=f.children[u];if((l=e(h,u,d)())[0]===ow)return l;u="number"==typeof l[1]?l[1]:u+a}}return p}}(e,void 0,[])()}function aw(e){return function(e){if(Array.isArray(e))return sw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return sw(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sw(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function cw(e){return"function"==typeof e?e:function(){return e}}var lw=/:\+1:|:-1:|:[\w-]+:/g,uw=/[$@|*'",;.=:\-)([\]\\/<>038BOopPsSdDxXzZ]{2,5}/g,dw=/(?:_|-(?!1))/g,pw={padSpaceAfter:!1,emoticon:!1,accessible:!1};function fw(e){var t=Object.assign({},pw,e),r=!!t.padSpaceAfter,n=!!t.emoticon,o=!!t.accessible;function i(e,t){return{type:"text",meta:null,value:e,data:{hName:"span",hProperties:{role:"img",ariaLabel:t},hChildren:[{type:"text",value:e}]}}}var a=[[lw,function(e){var t,n,a=(t=e,Hk.assert.string(t),Xk.get(/:.+:/.test(n=t)?n.slice(1,-1):n));return void 0!==a&&(r&&(a+=" "),o?i(a,e.slice(1,-1).replace(dw," ")+" emoji"):a)}]];return n&&a.push([uw,function(e){var t=Yk.find((function(t){return t.emoticons.includes(e)})),n=Yk.find((function(t){return t.emoticons.includes(e.slice(0,-1))})),a=t||n;if(!a)return!1;var s=!t&&n?e.slice(-1):"",c=r?" ":"",l=a.emoji+c+s;return o?i(l,a.name+" emoticon"):l}]),function(e){!function(e,t,r){for(var n=Zk((r||{}).ignore||[]),o=function(e){var t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");for(var r,n=!e[0]||Array.isArray(e[0])?e:[e],o=-1;++o<n.length;){var i=n[o];t.push([(r=i[0],"string"==typeof r?new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(r),"g"):r),cw(i[1])])}return t}(t),i=-1;++i<o.length;)iw(e,"text",a);function a(e,t){for(var r,a=-1;++a<t.length;){var s=t[a],c=r?r.children:void 0;if(n(s,c?c.indexOf(s):void 0,r))return;r=s}if(r)return function(e,t){var r=t[t.length-1],n=o[i][0],a=o[i][1],s=0,c=r.children.indexOf(e),l=!1,u=[];n.lastIndex=0;for(var d,p=n.exec(e.value);p;){var f,h=p.index,m={index:p.index,input:p.input,stack:[].concat(aw(t),[e])},y=a.apply(void 0,aw(p).concat([m]));if("string"==typeof y&&(y=y.length>0?{type:"text",value:y}:void 0),!1===y?n.lastIndex=h+1:(s!==h&&u.push({type:"text",value:e.value.slice(s,h)}),Array.isArray(y)?(f=u).push.apply(f,aw(y)):y&&u.push(y),s=h+p[0].length,l=!0),!n.global)break;p=n.exec(e.value)}return l?(s<e.value.length&&u.push({type:"text",value:e.value.slice(s)}),(d=r.children).splice.apply(d,[c,1].concat(aw(u)))):u=[e],c+u.length}(e,t)}}(e,a)}}const hw=require("remark-gfm");var mw=a.n(hw);const yw=require("pydio/http/search-api");var gw=a.n(yw);function bw(e){return bw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bw(e)}function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vw(Object(r),!0).forEach((function(t){ww(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ww(e,t,r){return(t=function(e){var t=function(e){if("object"!=bw(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=bw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bw(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sw(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Ow=function(r){var n=r.href,o=r.children,i=V().getInstance(),a=i.user,s=_w((0,e.useState)(!1),2),c=s[0],l=s[1],u=_w((0,e.useState)(null),2),d=u[0],p=u[1],f=_w((0,e.useState)(null),2),h=f[0],m=f[1];(0,e.useEffect)((function(){Cu().loadClass("PydioWorkspaces").then((function(e){return m(e)}))}),[]);var y=function(e){return i.MessageHash["chat.link."+e]||e},g=function(e){l(!0),new(gw())(i).searchByUUID(e).then((function(e){var t=e.Results||[];if(0===t.length)return!1;var r=t.filter((function(e){return e.getMetadata().get("repository_id")===i.user.activeRepository}));return 1===r.length?r:(t.length>1&&t.sort((function(e,t){return e.getMetadata().get("repository_display").localeCompare(t.getMetadata().get("repository_display"))})),t)})).then((function(e){p(e)})).catch((function(){p(!1)})).then((function(){return l(!1)}))};(0,e.useEffect)((function(){if(n.startsWith("doc://")&&(k="mdi mdi-file-outline",n.indexOf("?preview")>-1)){var e=n.replace("doc://","").replace("?preview","");g(e)}}),[n]);var b={};if(n.startsWith("user://")){var v=n.replace("user://","");return t().createElement(qf,{userId:v,richOnClick:!1,displayAvatar:!1,style:kw(kw({},b),{},{display:"inline-block"}),pydio:i})}var k,w="",_=null,S=null;if(n.startsWith("doc://")){k="mdi mdi-file-outline";var O,E=n.indexOf("?preview")>-1,C=n.replace("doc://","").replace("?preview","");if(w=y(c?"doc.loading":"doc.goto"),null===d)S=function(){return g(C)};else if(1===d.length)O=d[0],w=y("doc.click-indicator").replace("%s",d[0].getPath()),_=function(){w=y("doc.opening"),i.goTo(d[0])};else if(d.length>1){O=d[0];var P={marginLeft:10,textDecoration:"underline",cursor:"pointer"};w=t().createElement(e.Fragment,null,t().createElement("div",null,y("doc.open-in")),t().createElement("ul",null,d.map((function(e){return t().createElement("li",{style:P,onClick:function(){i.goTo(e)}},e.getMetadata().get("repository_display"))}))))}else!1===d&&(k="mdi mdi-file-alert-outline",w=y("doc.not-found"));if(O){var T=O.getSvgSource()||(O.isLeaf()?"file":"folder");T&&!T.startsWith("icomoon")&&(T="mdi mdi-"+T),k="mimefont "+T}if(O&&h&&E){var x=h.FilePreview;return t().createElement("div",{className:"preview-container",onClick:function(){return i.goTo(O)},style:{cursor:"pointer"},title:o},t().createElement("div",{className:"preview-title"},t().createElement("span",{className:k,style:{marginRight:5}}),O.getLabel()),t().createElement(x,{node:O,style:{height:200,minHeight:200},mimeFontStyle:{fontSize:40},loadThumbnail:!0,richPreview:!0}))}}else{if(!n.startsWith("workspaces://"))return t().createElement("a",{href:n,target:"_blank"},o);w=y("ws.switch"),k="mdi mdi-folder";var j=n.replace("workspaces://","");a&&a.getRepositoriesList().has(j)&&("cell"===a.getRepositoriesList().get(j).getRepositoryType()&&(k="icomoon-cells"),_=function(){l(!0),i.triggerRepositoryChange(j).catch((function(){})).then((function(){return l(!1)}))}),c&&(w=y("ws.switching"))}w=t().createElement("div",{style:{padding:"8px 16px",fontSize:13}},w),(c||!1===d)&&(S=null,_=null,b.cursor="default",k=c?"mdi mdi-file-search-outline":"mdi mdi-file-alert-outline");var A=t().createElement("a",{style:b,onClick:_,onMouseEnter:S,className:"special-link"},k&&t().createElement("span",{className:k,style:{marginRight:5}}),o);return w?t().createElement(Ml,{title:w,arrow:!0,placement:"right-start"},A):A};function Ew(e){return Ew="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ew(e)}var Cw=void 0;function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pw(Object(r),!0).forEach((function(t){xw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xw(e,t,r){return(t=function(e){var t=function(e){if("object"!=Ew(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ew(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ew(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jw(e){return function(e){if(Array.isArray(e))return zw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Aw(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Aw(e,t){if(e){if("string"==typeof e)return zw(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zw(e,t):void 0}}function zw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Iw="VIDEO_CALL",Rw="MAY_HAVE_MORE",Mw="POST",Dw="TOKEN_SEQ",Nw="LIVE_STATUS",Lw=function(e,t){var r,n,o=e.currentTarget;return o.selectionEnd<t.length?(r=t.substr(0,o.selectionEnd)+"\n"+t.substr(o.selectionEnd),n=o.selectionEnd+1):n=(r=t+"\n").length,{cursor:n,newValue:r}},Uw=function(t){var r=t.pydio,n=t.roomType,o=t.roomObjectId,i=t.loadSize,a=t.setMessages,s=t.setVideoData,c=t.setHasMoreBefore,l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||Aw(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(null),2),u=l[0],d=l[1],p=Nk.getInstance(r),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(e["@type"]===Iw?s(e):e["@type"]===Rw?c((function(t){return!t.Timestamp||e.Timestamp<t.Timestamp?e:t})):a(t?function(t){return t.filter((function(t){return t.Uuid!==e.Uuid}))}:function(t){return function(e,t){if(!t.Info||!t.Info[Nw]){var r=t.Author||"--SYSTEM_STATUS--";e=e.filter((function(e){return!(e.Info&&e.Info[Nw]&&e.Author===r)}))}if(t.Info&&t.Info[Dw]){var n,o=t.Info[Dw],i=t.Info.TOKEN_POS,a=e.find((function(e){return e.TokenId===o}));if("FINAL"===i)return n=jw(e),a&&(n=n.filter((function(e){return e!==a}))),n.push(Tw({},t)),n.sort((function(e,t){return e.Timestamp-t.Timestamp})),n;var s={position:parseInt(i),token:t.Message};return a?(a.Tokens.push(s),a.Tokens.sort((function(e,t){return e.position-t.position})),0===a.Tokens[0].position&&(a.Message=a.Tokens.map((function(e){return e.token})).join("")),(n=e.filter((function(e){return e!==a}))).push(Tw({},a))):(t=Tw(Tw({},t),{},{Message:"",Tokens:[s],TokenId:o}),0===s.position&&(t.Message=s.token),n=[].concat(jw(e),[t])),n}var c=[].concat(jw(e.filter((function(e){return e.Uuid!==t.Uuid}))),[t]).filter((function(e){return!!e.Message}));return c.sort((function(e,t){return e.Timestamp-t.Timestamp})),c}(t,e)}))},h=function(e){e&&d(e.Room)};return(0,e.useEffect)((function(){if(!o)return function(){};var e=p.joinRoom(n,o,f,h);null!==e&&d(e),p.loadHistory(n,o,0,i);var t=n,r=o;return function(){p.leaveRoom(t,r,f),d(null),c({}),a([])}}),[n,o]),{room:u,postMessage:function(e){if(!e)return!1;if(!u||!u.Uuid)return console.error("Cannot find cell info"),!1;var t={"@type":Mw,Message:{RoomUuid:u.Uuid,Message:e}};return p.send(JSON.stringify(t)),!0},deleteMessage:function(e){if(u&&u.Uuid){var t={"@type":"DELETE_MSG",Message:e};p.send(JSON.stringify(t))}else console.error("Cannot find cell info")},editMessage:function(e){if(!u||!u.Uuid)return console.error("Cannot find cell info"),!1;var t={"@type":Mw,Message:e};return p.send(JSON.stringify(t)),!0},loadMore:function(e,t){p.loadHistory(n,o,e,t)}}};function Bw(e){return Bw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bw(e)}var Fw=["node","href","children"];function qw(){return qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qw.apply(null,arguments)}function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ww(Object(r),!0).forEach((function(t){Vw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vw(e,t,r){return(t=function(e){var t=function(e){if("object"!=Bw(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Bw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Bw(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gw(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Kw=V().requireLib("boot").moment,$w=V().requireLib("hoc").ModernTextField,Xw={a:function(e){e.node;var r=e.href,n=e.children;return function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}}(e,Fw),t().createElement(Ow,{href:r},n)}},Yw=function(r){var n=r.message,o=r.pydio,i=r.hideDate,a=r.sameAuthor,s=r.onDeleteMessage,c=r.edit,l=r.setEdit,u=r.onEditMessage,d=r.moreLoader,p=r.actionIconProps,f=r.muiTheme,h=Jw((0,e.useState)(!1),2),m=h[0],y=h[1],g=Kw(1e3*parseFloat(n.Timestamp)),b=Jw((0,e.useState)(n.Message),2),v=b[0],w=b[1],_=Jw((0,e.useState)(!1),2),S=_[0],O=_[1],E=Jw((0,e.useState)(-1),2),C=E[0],P=E[1],T=(0,e.useRef)(null),x=function(e){return o.MessageHash[e]||e};(0,e.useEffect)((function(){C>-1&&T.current&&(T.current.input.refs.input.setSelectionRange(C,C),P(-1))}),[v]);var j,A={date:{opacity:.53,textAlign:"center",display:"flex",margin:"5px 0"},dateLine:{flex:1,margin:"10px 20px",borderBottom:"1px solid",opacity:.3},loader:{paddingTop:8,opacity:.8,textAlign:"center"},comment:{padding:"6px 16px",display:"flex",alignItems:"flex-start",backgroundColor:m?"rgba(0,0,0,.04)":"transparent"},commentContent:{flex:"1",backgroundColor:"transparent",position:"relative",padding:"5px 10px",userSelect:"text",webkitUserSelect:"text"},commentTitle:{fontSize:16,fontWeight:500,marginTop:-2,padding:"0px 0px 2px"},commentDeleteBox:{position:"absolute",top:5,right:0,cursor:"pointer",fontSize:16,opacity:0,transition:Uk().getBeziersTransition()},actionBar:{position:"absolute",top:2,right:4,zIndex:2,cursor:"pointer",fontSize:16,opacity:m||c?1:0,display:"flex",alignItems:"center",color:f.palette.primary1Color,transition:Uk().getBeziersTransition()}},z=!1;o.user.id===n.Author&&(z=!0),n.Info&&n.Info.LIVE_STATUS&&(j=t().createElement("div",{className:"dot-flashing"}));var I=t().createElement("div",{style:a?{visibility:"hidden"}:{paddingTop:2}},t().createElement(qf,{avatarSize:30,pydio:o,userId:n.Author,displayLabel:!1,richOnHover:!1,avatarLetters:!0})),R=[],M=Hw({},A.commentContent),D={title:x("chat.msg.delete"),icon:"delete-outline",click:function(){return O(!0)}};!z||c||j||(u&&R.push({title:x("chat.msg.edit"),icon:"pencil-outline",click:function(){return l(!0)}}),R.push(D));var N,L=t().createElement(Fk(),{className:"chat-message-md"+(j?" has-status-indicator":""),skipHtml:!0,urlTransform:function(e){return e},components:Xw,remarkPlugins:[mw(),[fw,{emoticon:!0}]]},n.Message);if(c){var U=function(){v&&u(n,v)&&l(!1)},B=function(){w(n.Message),l(!1)};v?R.push({title:x("chat.msg.save"),icon:"content-save-outline",click:U}):R.push(D),R.push({title:x("chat.msg.revert"),icon:"undo-variant",click:B}),L=t().createElement($w,{value:v,onChange:function(e,t){return w(t)},inputStyle:{fontSize:14},multiLine:!0,underlineShow:!1,focusOnMount:!0,fullWidth:!0,onKeyDown:function(e){if("Escape"===e.key)B();else if("Enter"===e.key){if(e.metaKey||e.ctrlKey){var t=Lw(e,v),r=t.cursor,n=t.newValue;return P(r),void w(n)}v?U():O(!0)}}})}R.length&&(N=t().createElement("div",{style:A.actionBar},R.map((function(e){return t().createElement(k.IconButton,qw({},p,{iconClassName:"mdi mdi-"+e.icon,onClick:e.click,tooltip:e.title}))})))),L=t().createElement(e.Fragment,null,N,L,j);var F={};return a?(L=t().createElement("div",{style:M},L),F=Hw(Hw({},F),{},{marginTop:-16})):L=t().createElement("div",{style:M},t().createElement("div",null,t().createElement(qf,{labelStyle:A.commentTitle,pydio:o,displayLabel:!0,displayAvatar:!1,userId:n.Author})),t().createElement("div",null,L)),t().createElement("div",{style:F,onMouseOver:function(){y(!0)},onMouseOut:function(){y(!1)},onContextMenu:function(e){e.stopPropagation()}},z&&t().createElement(k.Dialog,{open:S,modal:!1,title:x("chat.msg.delete.confirm.title"),contentStyle:{background:f.dialog.containerBackground,borderRadius:f.borderRadius,width:420,minWidth:380,maxWidth:"100%"},actions:[t().createElement(k.FlatButton,{label:x("440"),onClick:s,keyboardFocused:!0}),t().createElement(k.FlatButton,{label:x("441"),onClick:function(){return O(!1)}})]},x("chat.msg.delete.confirm")),d&&t().createElement("div",{style:Hw({},A.loader)},t().createElement(k.FlatButton,{primary:!0,label:x("chat.load-older"),onClick:d})),!i&&t().createElement("div",{style:A.date},t().createElement("span",{style:A.dateLine}),t().createElement("span",{className:"date-from"},g.fromNow()),t().createElement("span",{style:A.dateLine})),t().createElement("div",{style:A.comment},I," ",L))};function Qw(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(r){if("default"!==r&&!(r in e)){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}))})),Object.freeze(e)}function Zw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}Yw=(0,Q.muiThemeable)()(Yw);var e_,t_,r_,n_={exports:{}};t_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r_=function(){var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function o(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(t,r){for(var o=0;o<n.length;o++){var i=n[o];this[i]=o<t?e:this.methodFactory(i,t,r)}this.log=this.debug}function s(e,r,n){return function(){typeof console!==t&&(a.call(this,r,n),this[e].apply(this,arguments))}}function c(n,a,c){return function(n){return"debug"===n&&(n="log"),typeof console!==t&&("trace"===n&&r?i:void 0!==console[n]?o(console,n):void 0!==console.log?o(console,"log"):e)}(n)||s.apply(this,arguments)}function l(e,r,o){var i,s=this;r=null==r?"WARN":r;var l="loglevel";function u(){var e;if(typeof window!==t&&l){try{e=window.localStorage[l]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(l)+"=");-1!==n&&(e=/^([^;]+)/.exec(r.slice(n))[1])}catch(e){}return void 0===s.levels[e]&&(e=void 0),e}}"string"==typeof e?l+=":"+e:"symbol"==typeof e&&(l=void 0),s.name=e,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=o||c,s.getLevel=function(){return i},s.setLevel=function(r,o){if("string"==typeof r&&void 0!==s.levels[r.toUpperCase()]&&(r=s.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(i=r,!1!==o&&function(e){var r=(n[e]||"silent").toUpperCase();if(typeof window!==t&&l){try{return void(window.localStorage[l]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"="+r+";"}catch(e){}}}(r),a.call(s,r,e),typeof console===t&&r<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(e){r=e,u()||s.setLevel(e,!1)},s.resetLevel=function(){s.setLevel(r,!1),function(){if(typeof window!==t&&l){try{return void window.localStorage.removeItem(l)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var d=u();null==d&&(d=r),s.setLevel(d,!1)}var u=new l,d={};u.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new l(e,u.getLevel(),u.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return u.noConflict=function(){return typeof window!==t&&window.log===u&&(window.log=p),u},u.getLoggers=function(){return d},u.default=u,u},(e_=n_).exports?e_.exports=r_():t_.log=r_();var o_,i_,a_,s_,c_=n_.exports;(i_=o_||(o_={}))[i_.trace=0]="trace",i_[i_.debug=1]="debug",i_[i_.info=2]="info",i_[i_.warn=3]="warn",i_[i_.error=4]="error",i_[i_.silent=5]="silent",(s_=a_||(a_={})).Default="livekit",s_.Room="livekit-room",s_.Participant="livekit-participant",s_.Track="livekit-track",s_.Publication="livekit-track-publication",s_.Engine="livekit-engine",s_.Signal="livekit-signal",s_.PCManager="livekit-pc-manager",s_.PCTransport="livekit-pc-transport",s_.E2EE="lk-e2ee";let l_=c_.getLogger("livekit");function u_(e){const t=c_.getLogger(e);return t.setDefaultLevel(l_.getLevel()),t}function d_(e,t){if(!e)throw new Error(t)}function p_(e){if("number"!=typeof e)throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw new Error("invalid int 32: "+e)}function f_(e){if("number"!=typeof e)throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw new Error("invalid uint 32: "+e)}function h_(e){if("number"!=typeof e)throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw new Error("invalid float 32: "+e)}l_.setDefaultLevel(o_.info),c_.getLogger("lk-e2ee");const m_=Symbol("@bufbuild/protobuf/enum-type");function y_(e,t,r,n){e[m_]=g_(t,r.map((t=>({no:t.no,name:t.name,localName:e[t.no]}))))}function g_(e,t,r){const n=Object.create(null),o=Object.create(null),i=[];for(const e of t){const t=b_(e);i.push(t),n[e.name]=t,o[e.no]=t}return{typeName:e,values:i,findName:e=>n[e],findNumber:e=>o[e]}}function b_(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class v_{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,t){const r=this.getType().runtime.bin,n=r.makeReadOptions(t);return r.readMessage(this,n.readerFactory(e),e.byteLength,n),this}fromJson(e,t){const r=this.getType(),n=r.runtime.json,o=n.makeReadOptions(t);return n.readMessage(r,e,o,this),this}fromJsonString(e,t){let r;try{r=JSON.parse(e)}catch(e){throw new Error("cannot decode ".concat(this.getType().typeName," from JSON: ").concat(e instanceof Error?e.message:String(e)))}return this.fromJson(r,t)}toBinary(e){const t=this.getType().runtime.bin,r=t.makeWriteOptions(e),n=r.writerFactory();return t.writeMessage(this,n,r),n.finish()}toJson(e){const t=this.getType().runtime.json,r=t.makeWriteOptions(e);return t.writeMessage(this,r)}toJsonString(e){var t;const r=this.toJson(e);return JSON.stringify(r,null,null!==(t=null==e?void 0:e.prettySpaces)&&void 0!==t?t:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}var k_,w_,__,S_;function O_(){let e=0,t=0;for(let r=0;r<28;r+=7){let n=this.buf[this.pos++];if(e|=(127&n)<<r,!(128&n))return this.assertBounds(),[e,t]}let r=this.buf[this.pos++];if(e|=(15&r)<<28,t=(112&r)>>4,!(128&r))return this.assertBounds(),[e,t];for(let r=3;r<=31;r+=7){let n=this.buf[this.pos++];if(t|=(127&n)<<r,!(128&n))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function E_(e,t,r){for(let n=0;n<28;n+=7){const o=e>>>n,i=!(o>>>7==0&&0==t),a=255&(i?128|o:o);if(r.push(a),!i)return}const n=e>>>28&15|(7&t)<<4,o=!!(t>>3);if(r.push(255&(o?128|n:n)),o){for(let e=3;e<31;e+=7){const n=t>>>e,o=!(n>>>7==0),i=255&(o?128|n:n);if(r.push(i),!o)return}r.push(t>>>31&1)}}(w_=k_||(k_={}))[w_.DOUBLE=1]="DOUBLE",w_[w_.FLOAT=2]="FLOAT",w_[w_.INT64=3]="INT64",w_[w_.UINT64=4]="UINT64",w_[w_.INT32=5]="INT32",w_[w_.FIXED64=6]="FIXED64",w_[w_.FIXED32=7]="FIXED32",w_[w_.BOOL=8]="BOOL",w_[w_.STRING=9]="STRING",w_[w_.BYTES=12]="BYTES",w_[w_.UINT32=13]="UINT32",w_[w_.SFIXED32=15]="SFIXED32",w_[w_.SFIXED64=16]="SFIXED64",w_[w_.SINT32=17]="SINT32",w_[w_.SINT64=18]="SINT64",(S_=__||(__={}))[S_.BIGINT=0]="BIGINT",S_[S_.STRING=1]="STRING";const C_=4294967296;function P_(e){const t="-"===e[0];t&&(e=e.slice(1));const r=1e6;let n=0,o=0;function i(t,i){const a=Number(e.slice(t,i));o*=r,n=n*r+a,n>=C_&&(o+=n/C_|0,n%=C_)}return i(-24,-18),i(-18,-12),i(-12,-6),i(-6),t?j_(n,o):x_(n,o)}function T_(e,t){if(({lo:e,hi:t}=function(e,t){return{lo:e>>>0,hi:t>>>0}}(e,t)),t<=2097151)return String(C_*t+e);const r=16777215&(e>>>24|t<<8),n=t>>16&65535;let o=(16777215&e)+6777216*r+6710656*n,i=r+8147497*n,a=2*n;const s=1e7;return o>=s&&(i+=Math.floor(o/s),o%=s),i>=s&&(a+=Math.floor(i/s),i%=s),a.toString()+A_(i)+A_(o)}function x_(e,t){return{lo:0|e,hi:0|t}}function j_(e,t){return t=~t,e?e=1+~e:t+=1,x_(e,t)}const A_=e=>{const t=String(e);return"0000000".slice(t.length)+t};function z_(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let r=0;r<9;r++)t.push(127&e|128),e>>=7;t.push(1)}}function I_(){let e=this.buf[this.pos++],t=127&e;if(!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,!(128&e))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let t=5;128&e&&t<10;t++)e=this.buf[this.pos++];if(128&e)throw new Error("invalid varint");return this.assertBounds(),t>>>0}const R_=function(){const e=new DataView(new ArrayBuffer(8));if("function"==typeof BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64&&("object"!=typeof process||"object"!=typeof process.env||"1"!==process.env.BUF_BIGINT_DISABLE)){const t=BigInt("-9223372036854775808"),r=BigInt("9223372036854775807"),n=BigInt("0"),o=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(e){const n="bigint"==typeof e?e:BigInt(e);if(n>r||n<t)throw new Error("int64 invalid: ".concat(e));return n},uParse(e){const t="bigint"==typeof e?e:BigInt(e);if(t>o||t<n)throw new Error("uint64 invalid: ".concat(e));return t},enc(t){return e.setBigInt64(0,this.parse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(t){return e.setBigInt64(0,this.uParse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:(t,r)=>(e.setInt32(0,t,!0),e.setInt32(4,r,!0),e.getBigInt64(0,!0)),uDec:(t,r)=>(e.setInt32(0,t,!0),e.setInt32(4,r,!0),e.getBigUint64(0,!0))}}const t=e=>d_(/^-?[0-9]+$/.test(e),"int64 invalid: ".concat(e)),r=e=>d_(/^[0-9]+$/.test(e),"uint64 invalid: ".concat(e));return{zero:"0",supported:!1,parse:e=>("string"!=typeof e&&(e=e.toString()),t(e),e),uParse:e=>("string"!=typeof e&&(e=e.toString()),r(e),e),enc:e=>("string"!=typeof e&&(e=e.toString()),t(e),P_(e)),uEnc:e=>("string"!=typeof e&&(e=e.toString()),r(e),P_(e)),dec:(e,t)=>function(e,t){let r=x_(e,t);const n=2147483648&r.hi;n&&(r=j_(r.lo,r.hi));const o=T_(r.lo,r.hi);return n?"-"+o:o}(e,t),uDec:(e,t)=>T_(e,t)}}();var M_,D_;(D_=M_||(M_={}))[D_.Varint=0]="Varint",D_[D_.Bit64=1]="Bit64",D_[D_.LengthDelimited=2]="LengthDelimited",D_[D_.StartGroup=3]="StartGroup",D_[D_.EndGroup=4]="EndGroup",D_[D_.Bit32=5]="Bit32";class N_{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),r=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],r),r+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(f_(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return p_(e),z_(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){h_(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){f_(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){p_(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return p_(e),z_(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),r=new DataView(t.buffer),n=R_.enc(e);return r.setInt32(0,n.lo,!0),r.setInt32(4,n.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),r=new DataView(t.buffer),n=R_.uEnc(e);return r.setInt32(0,n.lo,!0),r.setInt32(4,n.hi,!0),this.raw(t)}int64(e){let t=R_.enc(e);return E_(t.lo,t.hi,this.buf),this}sint64(e){let t=R_.enc(e),r=t.hi>>31;return E_(t.lo<<1^r,(t.hi<<1|t.lo>>>31)^r,this.buf),this}uint64(e){let t=R_.uEnc(e);return E_(t.lo,t.hi,this.buf),this}}class L_{constructor(e,t){this.varint64=O_,this.uint32=I_,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=t?t:new TextDecoder}tag(){let e=this.uint32(),t=e>>>3,r=7&e;if(t<=0||r<0||r>5)throw new Error("illegal tag: field no "+t+" wire type "+r);return[t,r]}skip(e){let t=this.pos;switch(e){case M_.Varint:for(;128&this.buf[this.pos++];);break;case M_.Bit64:this.pos+=4;case M_.Bit32:this.pos+=4;break;case M_.LengthDelimited:let t=this.uint32();this.pos+=t;break;case M_.StartGroup:let r;for(;(r=this.tag()[1])!==M_.EndGroup;)this.skip(r);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return R_.dec(...this.varint64())}uint64(){return R_.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),r=-(1&e);return e=(e>>>1|(1&t)<<31)^r,t=t>>>1^r,R_.dec(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return R_.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return R_.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}function U_(e,t){return t instanceof v_||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}function B_(e,t,r){if(t===r)return!0;if(e==k_.BYTES){if(!(t instanceof Uint8Array&&r instanceof Uint8Array))return!1;if(t.length!==r.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==r[e])return!1;return!0}switch(e){case k_.UINT64:case k_.FIXED64:case k_.INT64:case k_.SFIXED64:case k_.SINT64:return t==r}return!1}function F_(e,t){switch(e){case k_.BOOL:return!1;case k_.UINT64:case k_.FIXED64:case k_.INT64:case k_.SFIXED64:case k_.SINT64:return 0==t?R_.zero:"0";case k_.DOUBLE:case k_.FLOAT:return 0;case k_.BYTES:return new Uint8Array(0);case k_.STRING:return"";default:return 0}}function q_(e,t){const r=void 0===t;let n=M_.Varint,o=0===t;switch(e){case k_.STRING:o=r||!t.length,n=M_.LengthDelimited;break;case k_.BOOL:o=!1===t;break;case k_.DOUBLE:n=M_.Bit64;break;case k_.FLOAT:n=M_.Bit32;break;case k_.INT64:case k_.UINT64:o=r||0==t;break;case k_.FIXED64:o=r||0==t,n=M_.Bit64;break;case k_.BYTES:o=r||!t.byteLength,n=M_.LengthDelimited;break;case k_.FIXED32:case k_.SFIXED32:n=M_.Bit32;break;case k_.SFIXED64:o=r||0==t,n=M_.Bit64;break;case k_.SINT64:o=r||0==t}return[n,k_[e].toLowerCase(),r||o]}k_.DOUBLE,k_.FLOAT,k_.INT64,k_.UINT64,k_.INT32,k_.UINT32,k_.BOOL,k_.STRING,k_.BYTES;const W_=Symbol("@bufbuild/protobuf/unknown-fields"),H_={readUnknownFields:!0,readerFactory:e=>new L_(e)},V_={writeUnknownFields:!0,writerFactory:()=>new N_};function J_(e,t,r){return t.getType().runtime.bin.readMessage(t,e,e.uint32(),r),t}function G_(e,t,r){const n=t.uint32(),o=t.pos+n;let i,a;for(;t.pos<o;){let[n]=t.tag();switch(n){case 1:i=$_(t,e.K);break;case 2:switch(e.V.kind){case"scalar":a=$_(t,e.V.T);break;case"enum":a=t.int32();break;case"message":a=J_(t,new e.V.T,r)}}}if(void 0===i){let t=F_(e.K,__.BIGINT);i=e.K==k_.BOOL?t.toString():t}if("string"!=typeof i&&"number"!=typeof i&&(i=i.toString()),void 0===a)switch(e.V.kind){case"scalar":a=F_(e.V.T,__.BIGINT);break;case"enum":a=0;break;case"message":a=new e.V.T}return[i,a]}function K_(e,t){const r=$_(e,t);return"bigint"==typeof r?r.toString():r}function $_(e,t){switch(t){case k_.STRING:return e.string();case k_.BOOL:return e.bool();case k_.DOUBLE:return e.double();case k_.FLOAT:return e.float();case k_.INT32:return e.int32();case k_.INT64:return e.int64();case k_.UINT64:return e.uint64();case k_.FIXED64:return e.fixed64();case k_.BYTES:return e.bytes();case k_.FIXED32:return e.fixed32();case k_.SFIXED32:return e.sfixed32();case k_.SFIXED64:return e.sfixed64();case k_.SINT64:return e.sint64();case k_.UINT32:return e.uint32();case k_.SINT32:return e.sint32()}}function X_(e,t,r,n,o){e.tag(r.no,M_.LengthDelimited),e.fork();let i=n;switch(r.K){case k_.INT32:case k_.FIXED32:case k_.UINT32:case k_.SFIXED32:case k_.SINT32:i=Number.parseInt(n);break;case k_.BOOL:d_("true"==n||"false"==n),i="true"==n}switch(Q_(e,r.K,1,i,!0),r.V.kind){case"scalar":Q_(e,r.V.T,2,o,!0);break;case"enum":Q_(e,k_.INT32,2,o,!0);break;case"message":Y_(e,t,r.V.T,2,o)}e.join()}function Y_(e,t,r,n,o){if(void 0!==o){const i=U_(r,o);e.tag(n,M_.LengthDelimited).bytes(i.toBinary(t))}}function Q_(e,t,r,n,o){let[i,a,s]=q_(t,n);s&&!o||e.tag(r,i)[a](n)}function Z_(e,t,r,n){if(!n.length)return;e.tag(r,M_.LengthDelimited).fork();let[,o]=q_(t);for(let t=0;t<n.length;t++)e[o](n[t]);e.join()}let eS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),tS=[];for(let e=0;e<eS.length;e++)tS[eS[e].charCodeAt(0)]=e;tS["-".charCodeAt(0)]=eS.indexOf("+"),tS["_".charCodeAt(0)]=eS.indexOf("/");const rS={dec(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let r,n=new Uint8Array(t),o=0,i=0,a=0;for(let t=0;t<e.length;t++){if(r=tS[e.charCodeAt(t)],void 0===r)switch(e[t]){case"=":i=0;case"\n":case"\r":case"\t":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:a=r,i=1;break;case 1:n[o++]=a<<2|(48&r)>>4,a=r,i=2;break;case 2:n[o++]=(15&a)<<4|(60&r)>>2,a=r,i=3;break;case 3:n[o++]=(3&a)<<6|r,i=0}}if(1==i)throw Error("invalid base64 string.");return n.subarray(0,o)},enc(e){let t,r="",n=0,o=0;for(let i=0;i<e.length;i++)switch(t=e[i],n){case 0:r+=eS[t>>2],o=(3&t)<<4,n=1;break;case 1:r+=eS[o|t>>4],o=(15&t)<<2,n=2;break;case 2:r+=eS[o|t>>6],r+=eS[63&t],n=0}return n&&(r+=eS[o],r+="=",1==n&&(r+="=")),r}},nS={ignoreUnknownFields:!1},oS={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function iS(e){return e?Object.assign(Object.assign({},nS),e):nS}function aS(e){return e?Object.assign(Object.assign({},oS),e):oS}function sS(e){if(null===e)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":'"'.concat(e.split('"').join('\\"'),'"');default:return String(e)}}function cS(e,t,r){switch(e){case k_.DOUBLE:case k_.FLOAT:if(null===t)return 0;if("NaN"===t)return Number.NaN;if("Infinity"===t)return Number.POSITIVE_INFINITY;if("-Infinity"===t)return Number.NEGATIVE_INFINITY;if(""===t)break;if("string"==typeof t&&t.trim().length!==t.length)break;if("string"!=typeof t&&"number"!=typeof t)break;const n=Number(t);if(Number.isNaN(n))break;if(!Number.isFinite(n))break;return e==k_.FLOAT&&h_(n),n;case k_.INT32:case k_.FIXED32:case k_.SFIXED32:case k_.SINT32:case k_.UINT32:if(null===t)return 0;let o;if("number"==typeof t?o=t:"string"==typeof t&&t.length>0&&t.trim().length===t.length&&(o=Number(t)),void 0===o)break;return e==k_.UINT32?f_(o):p_(o),o;case k_.INT64:case k_.SFIXED64:case k_.SINT64:if(null===t)return R_.zero;if("number"!=typeof t&&"string"!=typeof t)break;const i=R_.parse(t);return r?i.toString():i;case k_.FIXED64:case k_.UINT64:if(null===t)return R_.zero;if("number"!=typeof t&&"string"!=typeof t)break;const a=R_.uParse(t);return r?a.toString():a;case k_.BOOL:if(null===t)return!1;if("boolean"!=typeof t)break;return t;case k_.STRING:if(null===t)return"";if("string"!=typeof t)break;try{encodeURIComponent(t)}catch(e){throw new Error("invalid UTF8")}return t;case k_.BYTES:if(null===t||""===t)return new Uint8Array(0);if("string"!=typeof t)break;return rS.dec(t)}throw new Error}function lS(e,t,r){if(null===t)return 0;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const n=e.findName(t);if(n||r)return null==n?void 0:n.no}throw new Error("cannot decode enum ".concat(e.typeName," from JSON: ").concat(sS(t)))}function uS(e,t,r,n){var o;if(void 0===t)return t;if(0===t&&!r)return;if(n)return t;if("google.protobuf.NullValue"==e.typeName)return null;const i=e.findNumber(t);return null!==(o=null==i?void 0:i.name)&&void 0!==o?o:t}function dS(e,t,r){if(void 0!==t)switch(e){case k_.INT32:case k_.SFIXED32:case k_.SINT32:case k_.FIXED32:case k_.UINT32:return d_("number"==typeof t),0!=t||r?t:void 0;case k_.FLOAT:case k_.DOUBLE:return d_("number"==typeof t),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":0!==t||r?t:void 0;case k_.STRING:return d_("string"==typeof t),t.length>0||r?t:void 0;case k_.BOOL:return d_("boolean"==typeof t),t||r?t:void 0;case k_.UINT64:case k_.FIXED64:case k_.INT64:case k_.SFIXED64:case k_.SINT64:return d_("bigint"==typeof t||"string"==typeof t||"number"==typeof t),r||0!=t?t.toString(10):void 0;case k_.BYTES:return d_(t instanceof Uint8Array),r||t.byteLength>0?rS.enc(t):void 0}}function pS(e){if(void 0===e)return e;if(e instanceof v_)return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function fS(e){return e instanceof Uint8Array?e:new Uint8Array(e)}class hS{constructor(e,t){this._fields=e,this._normalizer=t}findJsonName(e){if(!this.jsonNames){const e={};for(const t of this.list())e[t.jsonName]=e[t.name]=t;this.jsonNames=e}return this.jsonNames[e]}find(e){if(!this.numbers){const e={};for(const t of this.list())e[t.no]=t;this.numbers=e}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort(((e,t)=>e.no-t.no))),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let t;for(const r of this.list())r.oneof?r.oneof!==t&&(t=r.oneof,e.push(t)):e.push(r)}return this.members}}function mS(e,t){const r=gS(e);return t?r:_S(wS(r))}const yS=gS;function gS(e){let t=!1;const r=[];for(let n=0;n<e.length;n++){let o=e.charAt(n);switch(o){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r.push(o),t=!1;break;default:t&&(t=!1,o=o.toUpperCase()),r.push(o)}}return r.join("")}const bS=new Set(["constructor","toString","toJSON","valueOf"]),vS=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),kS=e=>"".concat(e,"$"),wS=e=>vS.has(e)?kS(e):e,_S=e=>bS.has(e)?kS(e):e;class SS{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=mS(e,!1)}addField(e){d_(e.oneof===this,"field ".concat(e.name," not one of ").concat(this.name)),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let e=0;e<this.fields.length;e++)this._lookup[this.fields[e].localName]=this.fields[e]}return this._lookup[e]}}const OS=(ES=function(){const e=(t=uS,r=dS,function(e,n,o){if("map"==e.kind){const i={};switch(e.V.kind){case"scalar":for(const[t,o]of Object.entries(n)){const n=r(e.V.T,o,!0);d_(void 0!==n),i[t.toString()]=n}break;case"message":for(const[e,t]of Object.entries(n))i[e.toString()]=t.toJson(o);break;case"enum":const a=e.V.T;for(const[e,r]of Object.entries(n)){d_(void 0===r||"number"==typeof r);const n=t(a,r,!0,o.enumAsInteger);d_(void 0!==n),i[e.toString()]=n}}return o.emitDefaultValues||Object.keys(i).length>0?i:void 0}if(e.repeated){const i=[];switch(e.kind){case"scalar":for(let t=0;t<n.length;t++)i.push(r(e.T,n[t],!0));break;case"enum":for(let r=0;r<n.length;r++)i.push(t(e.T,n[r],!0,o.enumAsInteger));break;case"message":for(let t=0;t<n.length;t++)i.push(U_(e.T,n[t]).toJson(o))}return o.emitDefaultValues||i.length>0?i:void 0}switch(e.kind){case"scalar":return r(e.T,n,!!e.oneof||e.opt||o.emitDefaultValues);case"enum":return t(e.T,n,!!e.oneof||e.opt||o.emitDefaultValues,o.enumAsInteger);case"message":return void 0!==n?U_(e.T,n).toJson(o):void 0}});var t,r;return{makeReadOptions:iS,makeWriteOptions:aS,readMessage(e,t,r,n){if(null==t||Array.isArray(t)||"object"!=typeof t)throw new Error("cannot decode message ".concat(e.typeName," from JSON: ").concat(this.debug(t)));n=null!=n?n:new e;const o={};for(const[i,a]of Object.entries(t)){const t=e.fields.findJsonName(i);if(!t){if(!r.ignoreUnknownFields)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: key "').concat(i,'" is unknown'));continue}let s=t.localName,c=n;if(t.oneof){if(null===a&&"scalar"==t.kind)continue;const r=o[t.oneof.localName];if(r)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: multiple keys for oneof "').concat(t.oneof.name,'" present: "').concat(r,'", "').concat(i,'"'));o[t.oneof.localName]=i,c=c[t.oneof.localName]={case:s},s="value"}if(t.repeated){if(null===a)continue;if(!Array.isArray(a))throw new Error("cannot decode field ".concat(e.typeName,".").concat(t.name," from JSON: ").concat(this.debug(a)));const n=c[s];for(const o of a){if(null===o)throw new Error("cannot decode field ".concat(e.typeName,".").concat(t.name," from JSON: ").concat(this.debug(o)));let i;switch(t.kind){case"message":i=t.T.fromJson(o,r);break;case"enum":if(i=lS(t.T,o,r.ignoreUnknownFields),void 0===i)continue;break;case"scalar":try{i=cS(t.T,o,t.L)}catch(r){let n="cannot decode field ".concat(e.typeName,".").concat(t.name," from JSON: ").concat(this.debug(o));throw r instanceof Error&&r.message.length>0&&(n+=": ".concat(r.message)),new Error(n)}}n.push(i)}}else if("map"==t.kind){if(null===a)continue;if(Array.isArray(a)||"object"!=typeof a)throw new Error("cannot decode field ".concat(e.typeName,".").concat(t.name," from JSON: ").concat(this.debug(a)));const n=c[s];for(const[o,i]of Object.entries(a)){if(null===i)throw new Error("cannot decode field ".concat(e.typeName,".").concat(t.name," from JSON: map value null"));let s;switch(t.V.kind){case"message":s=t.V.T.fromJson(i,r);break;case"enum":if(s=lS(t.V.T,i,r.ignoreUnknownFields),void 0===s)continue;break;case"scalar":try{s=cS(t.V.T,i,__.BIGINT)}catch(r){let n="cannot decode map value for field ".concat(e.typeName,".").concat(t.name," from JSON: ").concat(this.debug(a));throw r instanceof Error&&r.message.length>0&&(n+=": ".concat(r.message)),new Error(n)}}try{n[cS(t.K,t.K==k_.BOOL?"true"==o||"false"!=o&&o:o,__.BIGINT).toString()]=s}catch(r){let n="cannot decode map key for field ".concat(e.typeName,".").concat(t.name," from JSON: ").concat(this.debug(a));throw r instanceof Error&&r.message.length>0&&(n+=": ".concat(r.message)),new Error(n)}}}else switch(t.kind){case"message":const n=t.T;if(null===a&&"google.protobuf.Value"!=n.typeName){if(t.oneof)throw new Error("cannot decode field ".concat(e.typeName,".").concat(t.name,' from JSON: null is invalid for oneof field "').concat(i,'"'));continue}c[s]instanceof v_?c[s].fromJson(a,r):(c[s]=n.fromJson(a,r),n.fieldWrapper&&!t.oneof&&(c[s]=n.fieldWrapper.unwrapField(c[s])));break;case"enum":const o=lS(t.T,a,r.ignoreUnknownFields);void 0!==o&&(c[s]=o);break;case"scalar":try{c[s]=cS(t.T,a,t.L)}catch(r){let n="cannot decode field ".concat(e.typeName,".").concat(t.name," from JSON: ").concat(this.debug(a));throw r instanceof Error&&r.message.length>0&&(n+=": ".concat(r.message)),new Error(n)}}}return n},writeMessage(t,r){const n=t.getType(),o={};let i;try{for(const a of n.fields.byMember()){let n;if("oneof"==a.kind){const o=t[a.localName];if(void 0===o.value)continue;if(i=a.findField(o.case),!i)throw"oneof case not found: "+o.case;n=e(i,o.value,r)}else i=a,n=e(i,t[i.localName],r);void 0!==n&&(o[r.useProtoFieldName?i.name:i.jsonName]=n)}}catch(e){const t=i?"cannot encode field ".concat(n.typeName,".").concat(i.name," to JSON"):"cannot encode message ".concat(n.typeName," to JSON"),r=e instanceof Error?e.message:String(e);throw new Error(t+(r.length>0?": ".concat(r):""))}return o},readScalar:cS,writeScalar:dS,debug:sS}}(),CS=Object.assign(Object.assign({},{makeReadOptions:function(e){return e?Object.assign(Object.assign({},H_),e):H_},makeWriteOptions:function(e){return e?Object.assign(Object.assign({},V_),e):V_},listUnknownFields(e){var t;return null!==(t=e[W_])&&void 0!==t?t:[]},discardUnknownFields(e){delete e[W_]},writeUnknownFields(e,t){const r=e[W_];if(r)for(const e of r)t.tag(e.no,e.wireType).raw(e.data)},onUnknownField(e,t,r,n){const o=e;Array.isArray(o[W_])||(o[W_]=[]),o[W_].push({no:t,wireType:r,data:n})},readMessage(e,t,r,n){const o=e.getType(),i=void 0===r?t.len:t.pos+r;for(;t.pos<i;){const[r,i]=t.tag(),a=o.fields.find(r);if(!a){const o=t.skip(i);n.readUnknownFields&&this.onUnknownField(e,r,i,o);continue}let s=e,c=a.repeated,l=a.localName;switch(a.oneof&&(s=s[a.oneof.localName],s.case!=l&&delete s.value,s.case=l,l="value"),a.kind){case"scalar":case"enum":const e="enum"==a.kind?k_.INT32:a.T;let r=$_;if("scalar"==a.kind&&a.L>0&&(r=K_),c){let n=s[l];if(i==M_.LengthDelimited&&e!=k_.STRING&&e!=k_.BYTES){let o=t.uint32()+t.pos;for(;t.pos<o;)n.push(r(t,e))}else n.push(r(t,e))}else s[l]=r(t,e);break;case"message":const o=a.T;c?s[l].push(J_(t,new o,n)):s[l]instanceof v_?J_(t,s[l],n):(s[l]=J_(t,new o,n),!o.fieldWrapper||a.oneof||a.repeated||(s[l]=o.fieldWrapper.unwrapField(s[l])));break;case"map":let[u,d]=G_(a,t,n);s[l][u]=d}}}}),{writeMessage(e,t,r){const n=e.getType();for(const o of n.fields.byNumber()){let n,i=o.repeated,a=o.localName;if(o.oneof){const t=e[o.oneof.localName];if(t.case!==a)continue;n=t.value}else n=e[a];switch(o.kind){case"scalar":case"enum":let e="enum"==o.kind?k_.INT32:o.T;if(i)if(o.packed)Z_(t,e,o.no,n);else for(const r of n)Q_(t,e,o.no,r,!0);else void 0!==n&&Q_(t,e,o.no,n,!!o.oneof||o.opt);break;case"message":if(i)for(const e of n)Y_(t,r,o.T,o.no,e);else Y_(t,r,o.T,o.no,n);break;case"map":for(const[e,i]of Object.entries(n))X_(t,r,o,e,i)}}return r.writeUnknownFields&&this.writeUnknownFields(e,t),t}}),PS=Object.assign(Object.assign({},{setEnumType:y_,initPartial(e,t){if(void 0===e)return;const r=t.getType();for(const n of r.fields.byMember()){const r=n.localName,o=t,i=e;if(void 0!==i[r])switch(n.kind){case"oneof":const e=i[r].case;if(void 0===e)continue;const t=n.findField(e);let a=i[r].value;!t||"message"!=t.kind||a instanceof t.T?t&&"scalar"===t.kind&&t.T===k_.BYTES&&(a=fS(a)):a=new t.T(a),o[r]={case:e,value:a};break;case"scalar":case"enum":let s=i[r];n.T===k_.BYTES&&(s=n.repeated?s.map(fS):fS(s)),o[r]=s;break;case"map":switch(n.V.kind){case"scalar":case"enum":if(n.V.T===k_.BYTES)for(const[e,t]of Object.entries(i[r]))o[r][e]=fS(t);else Object.assign(o[r],i[r]);break;case"message":const e=n.V.T;for(const t of Object.keys(i[r])){let n=i[r][t];e.fieldWrapper||(n=new e(n)),o[r][t]=n}}break;case"message":const c=n.T;if(n.repeated)o[r]=i[r].map((e=>e instanceof c?e:new c(e)));else if(void 0!==i[r]){const e=i[r];c.fieldWrapper?"google.protobuf.BytesValue"===c.typeName?o[r]=fS(e):o[r]=e:o[r]=e instanceof c?e:new c(e)}}}},equals:(e,t,r)=>t===r||!(!t||!r)&&e.fields.byMember().every((e=>{const n=t[e.localName],o=r[e.localName];if(e.repeated){if(n.length!==o.length)return!1;switch(e.kind){case"message":return n.every(((t,r)=>e.T.equals(t,o[r])));case"scalar":return n.every(((t,r)=>B_(e.T,t,o[r])));case"enum":return n.every(((e,t)=>B_(k_.INT32,e,o[t])))}throw new Error("repeated cannot contain ".concat(e.kind))}switch(e.kind){case"message":return e.T.equals(n,o);case"enum":return B_(k_.INT32,n,o);case"scalar":return B_(e.T,n,o);case"oneof":if(n.case!==o.case)return!1;const t=e.findField(n.case);if(void 0===t)return!0;switch(t.kind){case"message":return t.T.equals(n.value,o.value);case"enum":return B_(k_.INT32,n.value,o.value);case"scalar":return B_(t.T,n.value,o.value)}throw new Error("oneof cannot contain ".concat(t.kind));case"map":const r=Object.keys(n).concat(Object.keys(o));switch(e.V.kind){case"message":const t=e.V.T;return r.every((e=>t.equals(n[e],o[e])));case"enum":return r.every((e=>B_(k_.INT32,n[e],o[e])));case"scalar":const i=e.V.T;return r.every((e=>B_(i,n[e],o[e])))}}})),clone(e){const t=e.getType(),r=new t,n=r;for(const r of t.fields.byMember()){const t=e[r.localName];let o;if(r.repeated)o=t.map(pS);else if("map"==r.kind){o=n[r.localName];for(const[e,r]of Object.entries(t))o[e]=pS(r)}else o="oneof"==r.kind?r.findField(t.case)?{case:t.case,value:pS(t.value)}:{case:void 0}:pS(t);n[r.localName]=o}return r}}),{newFieldList:e=>new hS(e,XS),initFields(e){for(const t of e.getType().fields.byMember()){if(t.opt)continue;const r=t.localName,n=e;if(t.repeated)n[r]=[];else switch(t.kind){case"oneof":n[r]={case:void 0};break;case"enum":n[r]=0;break;case"map":n[r]={};break;case"scalar":n[r]=F_(t.T,t.L)}}}}),{syntax:"proto3",json:ES,bin:CS,util:PS,makeMessageType(e,t,r){return function(e,t,r,n){var o;const i=null!==(o=null==n?void 0:n.localName)&&void 0!==o?o:t.substring(t.lastIndexOf(".")+1),a={[i]:function(t){e.util.initFields(this),e.util.initPartial(t,this)}}[i];return Object.setPrototypeOf(a.prototype,new v_),Object.assign(a,{runtime:e,typeName:t,fields:e.util.newFieldList(r),fromBinary:(e,t)=>(new a).fromBinary(e,t),fromJson:(e,t)=>(new a).fromJson(e,t),fromJsonString:(e,t)=>(new a).fromJsonString(e,t),equals:(t,r)=>e.util.equals(a,t,r)}),a}(this,e,t,r)},makeEnum:function(e,t,r){const n={};for(const e of t){const t=b_(e);n[t.localName]=t.no,n[t.no]=t.localName}return y_(n,e,t),n},makeEnumType:g_,getEnumType:function(e){const t=e[m_];return d_(t,"missing enum type on enum object"),t}});var ES,CS,PS,TS,xS,jS,AS,zS,IS,RS,MS,DS,NS,LS,US,BS,FS,qS,WS,HS,VS,JS,GS,KS,$S;function XS(e){var t,r,n,o;const i=[];let a;for(const s of"function"==typeof e?e():e){const e=s;if(e.localName=mS(s.name,void 0!==s.oneof),e.jsonName=null!==(t=s.jsonName)&&void 0!==t?t:yS(s.name),e.repeated=null!==(r=s.repeated)&&void 0!==r&&r,"scalar"==s.kind&&(e.L=null!==(n=s.L)&&void 0!==n?n:__.BIGINT),e.packed=null!==(o=s.packed)&&void 0!==o?o:"enum"==s.kind||"scalar"==s.kind&&s.T!=k_.BYTES&&s.T!=k_.STRING,void 0!==s.oneof){const t="string"==typeof s.oneof?s.oneof:s.oneof.name;a&&a.name==t||(a=new SS(t)),e.oneof=a,a.addField(e)}i.push(e)}return i}class YS extends v_{constructor(e){super(),this.seconds=R_.zero,this.nanos=0,OS.util.initPartial(e,this)}fromJson(e,t){if("string"!=typeof e)throw new Error("cannot decode google.protobuf.Timestamp from JSON: ".concat(OS.json.debug(e)));const r=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const n=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(n))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=R_.parse(n/1e3),this.nanos=0,r[7]&&(this.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),this}toJson(e){const t=1e3*Number(this.seconds);if(t<Date.parse("0001-01-01T00:00:00Z")||t>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let r="Z";if(this.nanos>0){const e=(this.nanos+1e9).toString().substring(1);r="000000"===e.substring(3)?"."+e.substring(0,3)+"Z":"000"===e.substring(6)?"."+e.substring(0,6)+"Z":"."+e+"Z"}return new Date(t).toISOString().replace(".000Z",r)}toDate(){return new Date(1e3*Number(this.seconds)+Math.ceil(this.nanos/1e6))}static now(){return YS.fromDate(new Date)}static fromDate(e){const t=e.getTime();return new YS({seconds:R_.parse(Math.floor(t/1e3)),nanos:t%1e3*1e6})}static fromBinary(e,t){return(new YS).fromBinary(e,t)}static fromJson(e,t){return(new YS).fromJson(e,t)}static fromJsonString(e,t){return(new YS).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(YS,e,t)}}YS.runtime=OS,YS.typeName="google.protobuf.Timestamp",YS.fields=OS.util.newFieldList((()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}])),(xS=TS||(TS={}))[xS.DEFAULT_AC=0]="DEFAULT_AC",xS[xS.OPUS=1]="OPUS",xS[xS.AAC=2]="AAC",OS.util.setEnumType(TS,"livekit.AudioCodec",[{no:0,name:"DEFAULT_AC"},{no:1,name:"OPUS"},{no:2,name:"AAC"}]),(AS=jS||(jS={}))[AS.DEFAULT_VC=0]="DEFAULT_VC",AS[AS.H264_BASELINE=1]="H264_BASELINE",AS[AS.H264_MAIN=2]="H264_MAIN",AS[AS.H264_HIGH=3]="H264_HIGH",AS[AS.VP8=4]="VP8",OS.util.setEnumType(jS,"livekit.VideoCodec",[{no:0,name:"DEFAULT_VC"},{no:1,name:"H264_BASELINE"},{no:2,name:"H264_MAIN"},{no:3,name:"H264_HIGH"},{no:4,name:"VP8"}]),(IS=zS||(zS={}))[IS.IC_DEFAULT=0]="IC_DEFAULT",IS[IS.IC_JPEG=1]="IC_JPEG",OS.util.setEnumType(zS,"livekit.ImageCodec",[{no:0,name:"IC_DEFAULT"},{no:1,name:"IC_JPEG"}]),(MS=RS||(RS={}))[MS.AUDIO=0]="AUDIO",MS[MS.VIDEO=1]="VIDEO",MS[MS.DATA=2]="DATA",OS.util.setEnumType(RS,"livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]),(NS=DS||(DS={}))[NS.UNKNOWN=0]="UNKNOWN",NS[NS.CAMERA=1]="CAMERA",NS[NS.MICROPHONE=2]="MICROPHONE",NS[NS.SCREEN_SHARE=3]="SCREEN_SHARE",NS[NS.SCREEN_SHARE_AUDIO=4]="SCREEN_SHARE_AUDIO",OS.util.setEnumType(DS,"livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]),(US=LS||(LS={}))[US.LOW=0]="LOW",US[US.MEDIUM=1]="MEDIUM",US[US.HIGH=2]="HIGH",US[US.OFF=3]="OFF",OS.util.setEnumType(LS,"livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]),(FS=BS||(BS={}))[FS.POOR=0]="POOR",FS[FS.GOOD=1]="GOOD",FS[FS.EXCELLENT=2]="EXCELLENT",FS[FS.LOST=3]="LOST",OS.util.setEnumType(BS,"livekit.ConnectionQuality",[{no:0,name:"POOR"},{no:1,name:"GOOD"},{no:2,name:"EXCELLENT"},{no:3,name:"LOST"}]),(WS=qS||(qS={}))[WS.UNSET=0]="UNSET",WS[WS.DISABLED=1]="DISABLED",WS[WS.ENABLED=2]="ENABLED",OS.util.setEnumType(qS,"livekit.ClientConfigSetting",[{no:0,name:"UNSET"},{no:1,name:"DISABLED"},{no:2,name:"ENABLED"}]),(VS=HS||(HS={}))[VS.UNKNOWN_REASON=0]="UNKNOWN_REASON",VS[VS.CLIENT_INITIATED=1]="CLIENT_INITIATED",VS[VS.DUPLICATE_IDENTITY=2]="DUPLICATE_IDENTITY",VS[VS.SERVER_SHUTDOWN=3]="SERVER_SHUTDOWN",VS[VS.PARTICIPANT_REMOVED=4]="PARTICIPANT_REMOVED",VS[VS.ROOM_DELETED=5]="ROOM_DELETED",VS[VS.STATE_MISMATCH=6]="STATE_MISMATCH",VS[VS.JOIN_FAILURE=7]="JOIN_FAILURE",OS.util.setEnumType(HS,"livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"}]),(GS=JS||(JS={}))[GS.RR_UNKNOWN=0]="RR_UNKNOWN",GS[GS.RR_SIGNAL_DISCONNECTED=1]="RR_SIGNAL_DISCONNECTED",GS[GS.RR_PUBLISHER_FAILED=2]="RR_PUBLISHER_FAILED",GS[GS.RR_SUBSCRIBER_FAILED=3]="RR_SUBSCRIBER_FAILED",GS[GS.RR_SWITCH_CANDIDATE=4]="RR_SWITCH_CANDIDATE",OS.util.setEnumType(JS,"livekit.ReconnectReason",[{no:0,name:"RR_UNKNOWN"},{no:1,name:"RR_SIGNAL_DISCONNECTED"},{no:2,name:"RR_PUBLISHER_FAILED"},{no:3,name:"RR_SUBSCRIBER_FAILED"},{no:4,name:"RR_SWITCH_CANDIDATE"}]),($S=KS||(KS={}))[$S.SE_UNKNOWN=0]="SE_UNKNOWN",$S[$S.SE_CODEC_UNSUPPORTED=1]="SE_CODEC_UNSUPPORTED",$S[$S.SE_TRACK_NOTFOUND=2]="SE_TRACK_NOTFOUND",OS.util.setEnumType(KS,"livekit.SubscriptionError",[{no:0,name:"SE_UNKNOWN"},{no:1,name:"SE_CODEC_UNSUPPORTED"},{no:2,name:"SE_TRACK_NOTFOUND"}]);let QS=class e extends v_{constructor(e){super(),this.sid="",this.name="",this.emptyTimeout=0,this.maxParticipants=0,this.creationTime=R_.zero,this.turnPassword="",this.enabledCodecs=[],this.metadata="",this.numParticipants=0,this.numPublishers=0,this.activeRecording=!1,OS.util.initPartial(e,this)}static fromBinary(t,r){return(new e).fromBinary(t,r)}static fromJson(t,r){return(new e).fromJson(t,r)}static fromJsonString(t,r){return(new e).fromJsonString(t,r)}static equals(t,r){return OS.util.equals(e,t,r)}};QS.runtime=OS,QS.typeName="livekit.Room",QS.fields=OS.util.newFieldList((()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:ZS,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8}]));class ZS extends v_{constructor(e){super(),this.mime="",this.fmtpLine="",OS.util.initPartial(e,this)}static fromBinary(e,t){return(new ZS).fromBinary(e,t)}static fromJson(e,t){return(new ZS).fromJson(e,t)}static fromJsonString(e,t){return(new ZS).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(ZS,e,t)}}ZS.runtime=OS,ZS.typeName="livekit.Codec",ZS.fields=OS.util.newFieldList((()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}]));class eO extends v_{constructor(e){super(),this.enabled=!1,this.min=0,this.max=0,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new eO).fromBinary(e,t)}static fromJson(e,t){return(new eO).fromJson(e,t)}static fromJsonString(e,t){return(new eO).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(eO,e,t)}}eO.runtime=OS,eO.typeName="livekit.PlayoutDelay",eO.fields=OS.util.newFieldList((()=>[{no:1,name:"enabled",kind:"scalar",T:8},{no:2,name:"min",kind:"scalar",T:13},{no:3,name:"max",kind:"scalar",T:13}]));class tO extends v_{constructor(e){super(),this.canSubscribe=!1,this.canPublish=!1,this.canPublishData=!1,this.canPublishSources=[],this.hidden=!1,this.recorder=!1,this.canUpdateMetadata=!1,this.agent=!1,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new tO).fromBinary(e,t)}static fromJson(e,t){return(new tO).fromJson(e,t)}static fromJsonString(e,t){return(new tO).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(tO,e,t)}}tO.runtime=OS,tO.typeName="livekit.ParticipantPermission",tO.fields=OS.util.newFieldList((()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:OS.getEnumType(DS),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8},{no:11,name:"agent",kind:"scalar",T:8}]));class rO extends v_{constructor(e){super(),this.sid="",this.identity="",this.state=nO.JOINING,this.tracks=[],this.metadata="",this.joinedAt=R_.zero,this.name="",this.version=0,this.region="",this.isPublisher=!1,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new rO).fromBinary(e,t)}static fromJson(e,t){return(new rO).fromJson(e,t)}static fromJsonString(e,t){return(new rO).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(rO,e,t)}}var nO,oO,iO,aO,sO,cO,lO,uO,dO,pO;rO.runtime=OS,rO.typeName="livekit.ParticipantInfo",rO.fields=OS.util.newFieldList((()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:OS.getEnumType(nO)},{no:4,name:"tracks",kind:"message",T:mO,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:tO},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8}])),(oO=nO||(nO={}))[oO.JOINING=0]="JOINING",oO[oO.JOINED=1]="JOINED",oO[oO.ACTIVE=2]="ACTIVE",oO[oO.DISCONNECTED=3]="DISCONNECTED",OS.util.setEnumType(nO,"livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]);class fO extends v_{constructor(e){super(),OS.util.initPartial(e,this)}static fromBinary(e,t){return(new fO).fromBinary(e,t)}static fromJson(e,t){return(new fO).fromJson(e,t)}static fromJsonString(e,t){return(new fO).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(fO,e,t)}}fO.runtime=OS,fO.typeName="livekit.Encryption",fO.fields=OS.util.newFieldList((()=>[])),(aO=iO||(iO={}))[aO.NONE=0]="NONE",aO[aO.GCM=1]="GCM",aO[aO.CUSTOM=2]="CUSTOM",OS.util.setEnumType(iO,"livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]);class hO extends v_{constructor(e){super(),this.mimeType="",this.mid="",this.cid="",this.layers=[],OS.util.initPartial(e,this)}static fromBinary(e,t){return(new hO).fromBinary(e,t)}static fromJson(e,t){return(new hO).fromJson(e,t)}static fromJsonString(e,t){return(new hO).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(hO,e,t)}}hO.runtime=OS,hO.typeName="livekit.SimulcastCodecInfo",hO.fields=OS.util.newFieldList((()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:yO,repeated:!0}]));class mO extends v_{constructor(e){super(),this.sid="",this.type=RS.AUDIO,this.name="",this.muted=!1,this.width=0,this.height=0,this.simulcast=!1,this.disableDtx=!1,this.source=DS.UNKNOWN,this.layers=[],this.mimeType="",this.mid="",this.codecs=[],this.stereo=!1,this.disableRed=!1,this.encryption=iO.NONE,this.stream="",OS.util.initPartial(e,this)}static fromBinary(e,t){return(new mO).fromBinary(e,t)}static fromJson(e,t){return(new mO).fromJson(e,t)}static fromJsonString(e,t){return(new mO).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(mO,e,t)}}mO.runtime=OS,mO.typeName="livekit.TrackInfo",mO.fields=OS.util.newFieldList((()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:OS.getEnumType(RS)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:OS.getEnumType(DS)},{no:10,name:"layers",kind:"message",T:yO,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:hO,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:OS.getEnumType(iO)},{no:17,name:"stream",kind:"scalar",T:9}]));class yO extends v_{constructor(e){super(),this.quality=LS.LOW,this.width=0,this.height=0,this.bitrate=0,this.ssrc=0,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new yO).fromBinary(e,t)}static fromJson(e,t){return(new yO).fromJson(e,t)}static fromJsonString(e,t){return(new yO).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(yO,e,t)}}yO.runtime=OS,yO.typeName="livekit.VideoLayer",yO.fields=OS.util.newFieldList((()=>[{no:1,name:"quality",kind:"enum",T:OS.getEnumType(LS)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13}]));class gO extends v_{constructor(e){super(),this.kind=sO.RELIABLE,this.value={case:void 0},OS.util.initPartial(e,this)}static fromBinary(e,t){return(new gO).fromBinary(e,t)}static fromJson(e,t){return(new gO).fromJson(e,t)}static fromJsonString(e,t){return(new gO).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(gO,e,t)}}gO.runtime=OS,gO.typeName="livekit.DataPacket",gO.fields=OS.util.newFieldList((()=>[{no:1,name:"kind",kind:"enum",T:OS.getEnumType(sO)},{no:2,name:"user",kind:"message",T:kO,oneof:"value"},{no:3,name:"speaker",kind:"message",T:bO,oneof:"value"}])),(pO=sO||(sO={}))[pO.RELIABLE=0]="RELIABLE",pO[pO.LOSSY=1]="LOSSY",OS.util.setEnumType(sO,"livekit.DataPacket.Kind",[{no:0,name:"RELIABLE"},{no:1,name:"LOSSY"}]);class bO extends v_{constructor(e){super(),this.speakers=[],OS.util.initPartial(e,this)}static fromBinary(e,t){return(new bO).fromBinary(e,t)}static fromJson(e,t){return(new bO).fromJson(e,t)}static fromJsonString(e,t){return(new bO).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(bO,e,t)}}bO.runtime=OS,bO.typeName="livekit.ActiveSpeakerUpdate",bO.fields=OS.util.newFieldList((()=>[{no:1,name:"speakers",kind:"message",T:vO,repeated:!0}]));class vO extends v_{constructor(e){super(),this.sid="",this.level=0,this.active=!1,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new vO).fromBinary(e,t)}static fromJson(e,t){return(new vO).fromJson(e,t)}static fromJsonString(e,t){return(new vO).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(vO,e,t)}}vO.runtime=OS,vO.typeName="livekit.SpeakerInfo",vO.fields=OS.util.newFieldList((()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"level",kind:"scalar",T:2},{no:3,name:"active",kind:"scalar",T:8}]));class kO extends v_{constructor(e){super(),this.participantSid="",this.participantIdentity="",this.payload=new Uint8Array(0),this.destinationSids=[],this.destinationIdentities=[],OS.util.initPartial(e,this)}static fromBinary(e,t){return(new kO).fromBinary(e,t)}static fromJson(e,t){return(new kO).fromJson(e,t)}static fromJsonString(e,t){return(new kO).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(kO,e,t)}}kO.runtime=OS,kO.typeName="livekit.UserPacket",kO.fields=OS.util.newFieldList((()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:5,name:"participant_identity",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12},{no:3,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:4,name:"topic",kind:"scalar",T:9,opt:!0}]));class wO extends v_{constructor(e){super(),this.participantSid="",this.trackSids=[],OS.util.initPartial(e,this)}static fromBinary(e,t){return(new wO).fromBinary(e,t)}static fromJson(e,t){return(new wO).fromJson(e,t)}static fromJsonString(e,t){return(new wO).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(wO,e,t)}}wO.runtime=OS,wO.typeName="livekit.ParticipantTracks",wO.fields=OS.util.newFieldList((()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sids",kind:"scalar",T:9,repeated:!0}]));class _O extends v_{constructor(e){super(),this.edition=cO.Standard,this.version="",this.protocol=0,this.region="",this.nodeId="",this.debugInfo="",OS.util.initPartial(e,this)}static fromBinary(e,t){return(new _O).fromBinary(e,t)}static fromJson(e,t){return(new _O).fromJson(e,t)}static fromJsonString(e,t){return(new _O).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(_O,e,t)}}_O.runtime=OS,_O.typeName="livekit.ServerInfo",_O.fields=OS.util.newFieldList((()=>[{no:1,name:"edition",kind:"enum",T:OS.getEnumType(cO)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"region",kind:"scalar",T:9},{no:5,name:"node_id",kind:"scalar",T:9},{no:6,name:"debug_info",kind:"scalar",T:9}])),(lO=cO||(cO={}))[lO.Standard=0]="Standard",lO[lO.Cloud=1]="Cloud",OS.util.setEnumType(cO,"livekit.ServerInfo.Edition",[{no:0,name:"Standard"},{no:1,name:"Cloud"}]);class SO extends v_{constructor(e){super(),this.sdk=uO.UNKNOWN,this.version="",this.protocol=0,this.os="",this.osVersion="",this.deviceModel="",this.browser="",this.browserVersion="",this.address="",this.network="",OS.util.initPartial(e,this)}static fromBinary(e,t){return(new SO).fromBinary(e,t)}static fromJson(e,t){return(new SO).fromJson(e,t)}static fromJsonString(e,t){return(new SO).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(SO,e,t)}}SO.runtime=OS,SO.typeName="livekit.ClientInfo",SO.fields=OS.util.newFieldList((()=>[{no:1,name:"sdk",kind:"enum",T:OS.getEnumType(uO)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"os_version",kind:"scalar",T:9},{no:6,name:"device_model",kind:"scalar",T:9},{no:7,name:"browser",kind:"scalar",T:9},{no:8,name:"browser_version",kind:"scalar",T:9},{no:9,name:"address",kind:"scalar",T:9},{no:10,name:"network",kind:"scalar",T:9}])),(dO=uO||(uO={}))[dO.UNKNOWN=0]="UNKNOWN",dO[dO.JS=1]="JS",dO[dO.SWIFT=2]="SWIFT",dO[dO.ANDROID=3]="ANDROID",dO[dO.FLUTTER=4]="FLUTTER",dO[dO.GO=5]="GO",dO[dO.UNITY=6]="UNITY",dO[dO.REACT_NATIVE=7]="REACT_NATIVE",dO[dO.RUST=8]="RUST",dO[dO.PYTHON=9]="PYTHON",dO[dO.CPP=10]="CPP",OS.util.setEnumType(uO,"livekit.ClientInfo.SDK",[{no:0,name:"UNKNOWN"},{no:1,name:"JS"},{no:2,name:"SWIFT"},{no:3,name:"ANDROID"},{no:4,name:"FLUTTER"},{no:5,name:"GO"},{no:6,name:"UNITY"},{no:7,name:"REACT_NATIVE"},{no:8,name:"RUST"},{no:9,name:"PYTHON"},{no:10,name:"CPP"}]);class OO extends v_{constructor(e){super(),this.resumeConnection=qS.UNSET,this.forceRelay=qS.UNSET,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new OO).fromBinary(e,t)}static fromJson(e,t){return(new OO).fromJson(e,t)}static fromJsonString(e,t){return(new OO).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(OO,e,t)}}OO.runtime=OS,OO.typeName="livekit.ClientConfiguration",OO.fields=OS.util.newFieldList((()=>[{no:1,name:"video",kind:"message",T:EO},{no:2,name:"screen",kind:"message",T:EO},{no:3,name:"resume_connection",kind:"enum",T:OS.getEnumType(qS)},{no:4,name:"disabled_codecs",kind:"message",T:CO},{no:5,name:"force_relay",kind:"enum",T:OS.getEnumType(qS)}]));class EO extends v_{constructor(e){super(),this.hardwareEncoder=qS.UNSET,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new EO).fromBinary(e,t)}static fromJson(e,t){return(new EO).fromJson(e,t)}static fromJsonString(e,t){return(new EO).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(EO,e,t)}}EO.runtime=OS,EO.typeName="livekit.VideoConfiguration",EO.fields=OS.util.newFieldList((()=>[{no:1,name:"hardware_encoder",kind:"enum",T:OS.getEnumType(qS)}]));class CO extends v_{constructor(e){super(),this.codecs=[],this.publish=[],OS.util.initPartial(e,this)}static fromBinary(e,t){return(new CO).fromBinary(e,t)}static fromJson(e,t){return(new CO).fromJson(e,t)}static fromJsonString(e,t){return(new CO).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(CO,e,t)}}CO.runtime=OS,CO.typeName="livekit.DisabledCodecs",CO.fields=OS.util.newFieldList((()=>[{no:1,name:"codecs",kind:"message",T:ZS,repeated:!0},{no:2,name:"publish",kind:"message",T:ZS,repeated:!0}]));class PO extends v_{constructor(e){super(),this.duration=0,this.startTimestamp=R_.zero,this.endTimestamp=R_.zero,this.rtpClockTicks=R_.zero,this.driftSamples=R_.zero,this.driftMs=0,this.clockRate=0,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new PO).fromBinary(e,t)}static fromJson(e,t){return(new PO).fromJson(e,t)}static fromJsonString(e,t){return(new PO).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(PO,e,t)}}PO.runtime=OS,PO.typeName="livekit.RTPDrift",PO.fields=OS.util.newFieldList((()=>[{no:1,name:"start_time",kind:"message",T:YS},{no:2,name:"end_time",kind:"message",T:YS},{no:3,name:"duration",kind:"scalar",T:1},{no:4,name:"start_timestamp",kind:"scalar",T:4},{no:5,name:"end_timestamp",kind:"scalar",T:4},{no:6,name:"rtp_clock_ticks",kind:"scalar",T:4},{no:7,name:"drift_samples",kind:"scalar",T:3},{no:8,name:"drift_ms",kind:"scalar",T:1},{no:9,name:"clock_rate",kind:"scalar",T:1}]));class TO extends v_{constructor(e){super(),this.duration=0,this.packets=0,this.packetRate=0,this.bytes=R_.zero,this.headerBytes=R_.zero,this.bitrate=0,this.packetsLost=0,this.packetLossRate=0,this.packetLossPercentage=0,this.packetsDuplicate=0,this.packetDuplicateRate=0,this.bytesDuplicate=R_.zero,this.headerBytesDuplicate=R_.zero,this.bitrateDuplicate=0,this.packetsPadding=0,this.packetPaddingRate=0,this.bytesPadding=R_.zero,this.headerBytesPadding=R_.zero,this.bitratePadding=0,this.packetsOutOfOrder=0,this.frames=0,this.frameRate=0,this.jitterCurrent=0,this.jitterMax=0,this.gapHistogram={},this.nacks=0,this.nackAcks=0,this.nackMisses=0,this.nackRepeated=0,this.plis=0,this.firs=0,this.rttCurrent=0,this.rttMax=0,this.keyFrames=0,this.layerLockPlis=0,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new TO).fromBinary(e,t)}static fromJson(e,t){return(new TO).fromJson(e,t)}static fromJsonString(e,t){return(new TO).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(TO,e,t)}}TO.runtime=OS,TO.typeName="livekit.RTPStats",TO.fields=OS.util.newFieldList((()=>[{no:1,name:"start_time",kind:"message",T:YS},{no:2,name:"end_time",kind:"message",T:YS},{no:3,name:"duration",kind:"scalar",T:1},{no:4,name:"packets",kind:"scalar",T:13},{no:5,name:"packet_rate",kind:"scalar",T:1},{no:6,name:"bytes",kind:"scalar",T:4},{no:39,name:"header_bytes",kind:"scalar",T:4},{no:7,name:"bitrate",kind:"scalar",T:1},{no:8,name:"packets_lost",kind:"scalar",T:13},{no:9,name:"packet_loss_rate",kind:"scalar",T:1},{no:10,name:"packet_loss_percentage",kind:"scalar",T:2},{no:11,name:"packets_duplicate",kind:"scalar",T:13},{no:12,name:"packet_duplicate_rate",kind:"scalar",T:1},{no:13,name:"bytes_duplicate",kind:"scalar",T:4},{no:40,name:"header_bytes_duplicate",kind:"scalar",T:4},{no:14,name:"bitrate_duplicate",kind:"scalar",T:1},{no:15,name:"packets_padding",kind:"scalar",T:13},{no:16,name:"packet_padding_rate",kind:"scalar",T:1},{no:17,name:"bytes_padding",kind:"scalar",T:4},{no:41,name:"header_bytes_padding",kind:"scalar",T:4},{no:18,name:"bitrate_padding",kind:"scalar",T:1},{no:19,name:"packets_out_of_order",kind:"scalar",T:13},{no:20,name:"frames",kind:"scalar",T:13},{no:21,name:"frame_rate",kind:"scalar",T:1},{no:22,name:"jitter_current",kind:"scalar",T:1},{no:23,name:"jitter_max",kind:"scalar",T:1},{no:24,name:"gap_histogram",kind:"map",K:5,V:{kind:"scalar",T:13}},{no:25,name:"nacks",kind:"scalar",T:13},{no:37,name:"nack_acks",kind:"scalar",T:13},{no:26,name:"nack_misses",kind:"scalar",T:13},{no:38,name:"nack_repeated",kind:"scalar",T:13},{no:27,name:"plis",kind:"scalar",T:13},{no:28,name:"last_pli",kind:"message",T:YS},{no:29,name:"firs",kind:"scalar",T:13},{no:30,name:"last_fir",kind:"message",T:YS},{no:31,name:"rtt_current",kind:"scalar",T:13},{no:32,name:"rtt_max",kind:"scalar",T:13},{no:33,name:"key_frames",kind:"scalar",T:13},{no:34,name:"last_key_frame",kind:"message",T:YS},{no:35,name:"layer_lock_plis",kind:"scalar",T:13},{no:36,name:"last_layer_lock_pli",kind:"message",T:YS},{no:44,name:"packet_drift",kind:"message",T:PO},{no:45,name:"report_drift",kind:"message",T:PO}]));class xO extends v_{constructor(e){super(),this.unixMicro=R_.zero,this.ticks=0,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new xO).fromBinary(e,t)}static fromJson(e,t){return(new xO).fromJson(e,t)}static fromJsonString(e,t){return(new xO).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(xO,e,t)}}xO.runtime=OS,xO.typeName="livekit.TimedVersion",xO.fields=OS.util.newFieldList((()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}]));const jO=7e3,AO=[0,300,1200,2700,4800,jO,jO,jO,jO,jO];function zO(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}function IO(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}}"function"==typeof SuppressedError&&SuppressedError;var RO,MO={exports:{}},DO="object"==typeof Reflect?Reflect:null,NO=DO&&"function"==typeof DO.apply?DO.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};RO=DO&&"function"==typeof DO.ownKeys?DO.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var LO=Number.isNaN||function(e){return e!=e};function UO(){UO.init.call(this)}MO.exports=UO,MO.exports.once=function(e,t){return new Promise((function(r,n){function o(r){e.removeListener(t,i),n(r)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}$O(e,t,i,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&$O(e,"error",t,{once:!0})}(e,o)}))},UO.EventEmitter=UO,UO.prototype._events=void 0,UO.prototype._eventsCount=0,UO.prototype._maxListeners=void 0;var BO=10;function FO(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function qO(e){return void 0===e._maxListeners?UO.defaultMaxListeners:e._maxListeners}function WO(e,t,r,n){var o,i,a,s;if(FO(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),a=i[t]),void 0===a)a=i[t]=r,++e._eventsCount;else if("function"==typeof a?a=i[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(o=qO(e))>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function HO(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function VO(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=HO.bind(n);return o.listener=r,n.wrapFn=o,o}function JO(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):KO(o,o.length)}function GO(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function KO(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function $O(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){n.once&&e.removeEventListener(t,o),r(i)}))}}Object.defineProperty(UO,"defaultMaxListeners",{enumerable:!0,get:function(){return BO},set:function(e){if("number"!=typeof e||e<0||LO(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");BO=e}}),UO.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},UO.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||LO(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},UO.prototype.getMaxListeners=function(){return qO(this)},UO.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var s=o[e];if(void 0===s)return!1;if("function"==typeof s)NO(s,this,t);else{var c=s.length,l=KO(s,c);for(r=0;r<c;++r)NO(l[r],this,t)}return!0},UO.prototype.addListener=function(e,t){return WO(this,e,t,!1)},UO.prototype.on=UO.prototype.addListener,UO.prototype.prependListener=function(e,t){return WO(this,e,t,!0)},UO.prototype.once=function(e,t){return FO(t),this.on(e,VO(this,e,t)),this},UO.prototype.prependOnceListener=function(e,t){return FO(t),this.prependListener(e,VO(this,e,t)),this},UO.prototype.removeListener=function(e,t){var r,n,o,i,a;if(FO(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){a=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},UO.prototype.off=UO.prototype.removeListener,UO.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},UO.prototype.listeners=function(e){return JO(this,e,!0)},UO.prototype.rawListeners=function(e){return JO(this,e,!1)},UO.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):GO.call(e,t)},UO.prototype.listenerCount=GO,UO.prototype.eventNames=function(){return this._eventsCount>0?RO(this._events):[]};var XO=MO.exports;let YO=!0,QO=!0;function ZO(e,t,r){const n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}function eE(e,t,r){if(!e.RTCPeerConnection)return;const n=e.RTCPeerConnection.prototype,o=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return o.apply(this,arguments);const i=e=>{const t=r(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,i),o.apply(this,[e,i])};const i=n.removeEventListener;n.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(r))return i.apply(this,arguments);const n=this._eventMap[t].get(r);return this._eventMap[t].delete(r),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,i.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function tE(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(YO=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function rE(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(QO=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function nE(){if("object"==typeof window){if(YO)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function oE(e,t){QO&&console.warn(e+" is deprecated, please use "+t+" instead.")}function iE(e){return"[object Object]"===Object.prototype.toString.call(e)}function aE(e){return iE(e)?Object.keys(e).reduce((function(t,r){const n=iE(e[r]),o=n?aE(e[r]):e[r],i=n&&!Object.keys(o).length;return void 0===o||i?t:Object.assign(t,{[r]:o})}),{}):e}function sE(e,t,r){t&&!r.has(t.id)&&(r.set(t.id,t),Object.keys(t).forEach((n=>{n.endsWith("Id")?sE(e,e.get(t[n]),r):n.endsWith("Ids")&&t[n].forEach((t=>{sE(e,e.get(t),r)}))})))}function cE(e,t,r){const n=r?"outbound-rtp":"inbound-rtp",o=new Map;if(null===t)return o;const i=[];return e.forEach((e=>{"track"===e.type&&e.trackIdentifier===t.id&&i.push(e)})),i.forEach((t=>{e.forEach((r=>{r.type===n&&r.trackId===t.id&&sE(e,r,o)}))})),o}const lE=nE;function uE(e,t){const r=e&&e.navigator;if(!r.mediaDevices)return;const n=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((r=>{if("require"===r||"advanced"===r||"mediaSource"===r)return;const n="object"==typeof e[r]?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);const o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];let e={};"number"==typeof n.ideal?(e[o("min",r)]=n.ideal,t.optional.push(e),e={},e[o("max",r)]=n.ideal,t.optional.push(e)):(e[o("",r)]=n.ideal,t.optional.push(e))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",r)]=n.exact):["min","max"].forEach((e=>{void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,r)]=n[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},o=function(e,o){if(t.version>=61)return o(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"==typeof e.video){let i=e.video.facingMode;i=i&&("object"==typeof i?i:{ideal:i});const a=t.version<66;if(i&&("user"===i.exact||"environment"===i.exact||"user"===i.ideal||"environment"===i.ideal)&&(!r.mediaDevices.getSupportedConstraints||!r.mediaDevices.getSupportedConstraints().facingMode||a)){let t;if(delete e.video.facingMode,"environment"===i.exact||"environment"===i.ideal?t=["back","rear"]:"user"!==i.exact&&"user"!==i.ideal||(t=["front"]),t)return r.mediaDevices.enumerateDevices().then((r=>{let a=(r=r.filter((e=>"videoinput"===e.kind))).find((e=>t.some((t=>e.label.toLowerCase().includes(t)))));return!a&&r.length&&t.includes("back")&&(a=r[r.length-1]),a&&(e.video.deviceId=i.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=n(e.video),lE("chrome: "+JSON.stringify(e)),o(e)}))}e.video=n(e.video)}return lE("chrome: "+JSON.stringify(e)),o(e)},i=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(r.getUserMedia=function(e,t,n){o(e,(e=>{r.webkitGetUserMedia(e,t,(e=>{n&&n(i(e))}))}))}.bind(r),r.mediaDevices.getUserMedia){const e=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(t){return o(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException("","NotFoundError");return e}),(e=>Promise.reject(i(e))))))}}}function dE(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function pE(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",(r=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===r.track.id)):{track:r.track};const o=new Event("track");o.track=r.track,o.receiver=n,o.transceiver={receiver:n},o.streams=[t.stream],this.dispatchEvent(o)})),t.stream.getTracks().forEach((r=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===r.id)):{track:r};const o=new Event("track");o.track=r,o.receiver=n,o.transceiver={receiver:n},o.streams=[t.stream],this.dispatchEvent(o)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else eE(e,"track",(e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e)))}function fE(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){let o=r.apply(this,arguments);return o||(o=t(this,e),this._senders.push(o)),o};const n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function hE(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,r,n]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof e))return t.apply(this,[]);const o=function(e){const t={};return e.result().forEach((e=>{const r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((t=>{r[t]=e.stat(t)})),t[r.id]=r})),t},i=function(e){return new Map(Object.keys(e).map((t=>[t,e[t]])))};if(arguments.length>=2){const n=function(e){r(i(o(e)))};return t.apply(this,[n,e])}return new Promise(((e,r)=>{t.apply(this,[function(t){e(i(o(t)))},r])})).then(r,n)}}function mE(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>cE(t,e.track,!0)))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),eE(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>cE(t,e.track,!1)))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,r,n;return this.getSenders().forEach((r=>{r.track===e&&(t?n=!0:t=r)})),this.getReceivers().forEach((t=>(t.track===e&&(r?n=!0:r=t),t.track===e))),n||t&&r?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function yE(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const n=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")}));const t=this.getSenders();r.apply(this,arguments);const n=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(n)};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const r=this._shimmedLocalStreams[t].indexOf(e);-1!==r&&this._shimmedLocalStreams[t].splice(r,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),o.apply(this,arguments)}}function gE(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return yE(e);const r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=r.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){const r=new e.MediaStream(t.getTracks());this._streams[t.id]=r,this._reverseStreams[r.id]=t,t=r}n.apply(this,[t])};const o=e.RTCPeerConnection.prototype.removeStream;function i(e,t){let r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const n=e._reverseStreams[t],o=e._streams[n.id];r=r.replace(new RegExp(o.id,"g"),n.id)})),new RTCSessionDescription({type:t.type,sdp:r})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find((e=>e===t)))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((e=>e.track===t)))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const o=this._streams[r.id];if(o)o.addTrack(t),Promise.resolve().then((()=>{this.dispatchEvent(new Event("negotiationneeded"))}));else{const n=new e.MediaStream([t]);this._streams[r.id]=n,this._reverseStreams[n.id]=r,this.addStream(n)}return this.getSenders().find((e=>e.track===t))},["createOffer","createAnswer"].forEach((function(t){const r=e.RTCPeerConnection.prototype[t],n={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(this,[t=>{const r=i(this,t);e[0].apply(null,[r])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):r.apply(this,arguments).then((e=>i(this,e)))}};e.RTCPeerConnection.prototype[t]=n[t]}));const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const n=e._reverseStreams[t],o=e._streams[n.id];r=r.replace(new RegExp(n.id,"g"),o.id)})),new RTCSessionDescription({type:t.type,sdp:r})}(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=s.get.apply(this);return""===e.type?e:i(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((r=>{this._streams[r].getTracks().find((t=>e.track===t))&&(t=this._streams[r])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function bE(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const r=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}))}function vE(e,t){eE(e,"negotiationneeded",(e=>{const r=e.target;if(!(t.version<72||r.getConfiguration&&"plan-b"===r.getConfiguration().sdpSemantics)||"stable"===r.signalingState)return e}))}var kE=Object.freeze({__proto__:null,fixNegotiationNeeded:vE,shimAddTrackRemoveTrack:gE,shimAddTrackRemoveTrackWithNative:yE,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then((t=>{const n=r.video&&r.video.width,o=r.video&&r.video.height,i=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:i||3}},n&&(r.video.mandatory.maxWidth=n),o&&(r.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(r)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))},shimGetSendersWithDtmf:fE,shimGetStats:hE,shimGetUserMedia:uE,shimMediaStream:dE,shimOnTrack:pE,shimPeerConnection:bE,shimSenderReceiverGetStats:mE});function wE(e,t){const r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,n){oE("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){const e=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},t=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(r){return"object"==typeof r&&"object"==typeof r.audio&&(r=JSON.parse(JSON.stringify(r)),e(r.audio,"autoGainControl","mozAutoGainControl"),e(r.audio,"noiseSuppression","mozNoiseSuppression")),t(r)},n&&n.prototype.getSettings){const t=n.prototype.getSettings;n.prototype.getSettings=function(){const r=t.apply(this,arguments);return e(r,"mozAutoGainControl","autoGainControl"),e(r,"mozNoiseSuppression","noiseSuppression"),r}}if(n&&n.prototype.applyConstraints){const t=n.prototype.applyConstraints;n.prototype.applyConstraints=function(r){return"audio"===this.kind&&"object"==typeof r&&(r=JSON.parse(JSON.stringify(r)),e(r,"autoGainControl","mozAutoGainControl"),e(r,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[r])}}}}function _E(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function SE(e,t){if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const r=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}));const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,o,i]=arguments;return n.apply(this,[e||null]).then((e=>{if(t.version<53&&!o)try{e.forEach((e=>{e.type=r[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach(((t,n)=>{e.set(n,Object.assign({},t,{type:r[t.type]||t.type}))}))}return e})).then(o,i)}}function OE(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function EE(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),eE(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function CE(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){oE("removeStream","removeTrack"),this.getSenders().forEach((t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)}))})}function PE(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function TE(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const r=e.length>0;r&&e.forEach((e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));const n=t.apply(this,arguments);if(r){const{sender:t}=n,r=t.getParameters();(!("encodings"in r)||1===r.encodings.length&&0===Object.keys(r.encodings[0]).length)&&(r.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(r).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return n})}function xE(e){if("object"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function jE(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function AE(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}var zE=Object.freeze({__proto__:null,shimAddTransceiver:TE,shimCreateAnswer:AE,shimCreateOffer:jE,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===r.video?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})},shimGetParameters:xE,shimGetUserMedia:wE,shimOnTrack:_E,shimPeerConnection:SE,shimRTCDataChannel:PE,shimReceiverGetStats:EE,shimRemoveStream:CE,shimSenderGetStats:OE});function IE(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((r=>t.call(this,r,e))),e.getVideoTracks().forEach((r=>t.call(this,r,e)))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n&&n.forEach((e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const r=e.getTracks();this.getSenders().forEach((e=>{r.includes(e.track)&&this.removeTrack(e)}))})}}function RE(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach((e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}))}),t.apply(e,arguments)}}}function ME(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,o=t.setLocalDescription,i=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],o=r.apply(this,[n]);return t?(o.then(e,t),Promise.resolve()):o},t.createAnswer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],o=n.apply(this,[r]);return t?(o.then(e,t),Promise.resolve()):o};let s=function(e,t,r){const n=o.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n};t.setLocalDescription=s,s=function(e,t,r){const n=i.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.setRemoteDescription=s,s=function(e,t,r){const n=a.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.addIceCandidate=s}function DE(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,r=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>r(NE(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,n){t.mediaDevices.getUserMedia(e).then(r,n)}.bind(t))}function NE(e){return e&&void 0!==e.video?Object.assign({},e,{video:aE(e.video)}):e}function LE(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){const t=[];for(let r=0;r<e.iceServers.length;r++){let n=e.iceServers[r];void 0===n.urls&&n.url?(oE("RTCIceServer.url","RTCIceServer.urls"),n=JSON.parse(JSON.stringify(n)),n.urls=n.url,delete n.url,t.push(n)):t.push(e.iceServers[r])}e.iceServers=t}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function UE(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function BE(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>"audio"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const r=this.getTransceivers().find((e=>"video"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function FE(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var qE=Object.freeze({__proto__:null,shimAudioContext:FE,shimCallbacksAPI:ME,shimConstraints:NE,shimCreateOfferLegacy:BE,shimGetUserMedia:DE,shimLocalStreamsAPI:IE,shimRTCIceServerUrls:LE,shimRemoteStreamsAPI:RE,shimTrackEventTransceiver:UE}),WE={exports:{}};!function(e){const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((e=>e.trim()))},t.splitSections=function(e){return e.split("\nm=").map(((e,t)=>(t>0?"m="+e:e).trim()+"\r\n"))},t.getDescription=function(e){const r=t.splitSections(e);return r&&r[0]},t.getMediaSections=function(e){const r=t.splitSections(e);return r.shift(),r},t.matchPrefix=function(e,r){return t.splitLines(e).filter((e=>0===e.indexOf(r)))},t.parseCandidate=function(e){let t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");const r={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case"raddr":r.relatedAddress=t[e+1];break;case"rport":r.relatedPort=parseInt(t[e+1],10);break;case"tcptype":r.tcpType=t[e+1];break;case"ufrag":r.ufrag=t[e+1],r.usernameFragment=t[e+1];break;default:void 0===r[t[e]]&&(r[t[e]]=t[e+1])}return r},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const r=e.component;"rtp"===r?t.push(1):"rtcp"===r?t.push(2):t.push(r),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" ");const r={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},t.parseExtmap=function(e){const t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){const t={};let r;const n=e.substring(e.indexOf(" ")+1).split(";");for(let e=0;e<n.length;e++)r=n[e].trim().split("="),t[r[0].trim()]=r[1];return t},t.writeFmtp=function(e){let t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const n=[];Object.keys(e.parameters).forEach((t=>{void 0!==e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)})),t+="a=fmtp:"+r+" "+n.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){const t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((e=>{t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){const t=e.indexOf(" "),r={ssrc:parseInt(e.substring(7,t),10)},n=e.indexOf(":",t);return n>-1?(r.attribute=e.substring(t+1,n),r.value=e.substring(n+1)):r.attribute=e.substring(t+1),r},t.parseSsrcGroup=function(e){const t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((e=>parseInt(e,10)))}},t.getMid=function(e){const r=t.matchPrefix(e,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(e){const t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,r){return{role:"auto",fingerprints:t.matchPrefix(e+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let r="a=setup:"+t+"\r\n";return e.fingerprints.forEach((e=>{r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),r},t.parseCryptoLine=function(e){const t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;const t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,r){return t.matchPrefix(e+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,r){const n=t.matchPrefix(e+r,"a=ice-ufrag:")[0],o=t.matchPrefix(e+r,"a=ice-pwd:")[0];return n&&o?{usernameFragment:n.substring(12),password:o.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=t.splitLines(e)[0].split(" ");r.profile=n[2];for(let o=3;o<n.length;o++){const i=n[o],a=t.matchPrefix(e,"a=rtpmap:"+i+" ")[0];if(a){const n=t.parseRtpMap(a),o=t.matchPrefix(e,"a=fmtp:"+i+" ");switch(n.parameters=o.length?t.parseFmtp(o[0]):{},n.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(t.parseRtcpFb),r.codecs.push(n),n.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(n.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach((e=>{r.headerExtensions.push(t.parseExtmap(e))}));const o=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach((e=>{o.forEach((t=>{e.rtcpFeedback.find((e=>e.type===t.type&&e.parameter===t.parameter))||e.rtcpFeedback.push(t)}))})),r},t.writeRtpDescription=function(e,r){let n="";n+="m="+e+" ",n+=r.codecs.length>0?"9":"0",n+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",n+=r.codecs.map((e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType)).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",r.codecs.forEach((e=>{n+=t.writeRtpMap(e),n+=t.writeFmtp(e),n+=t.writeRtcpFb(e)}));let o=0;return r.codecs.forEach((e=>{e.maxptime>o&&(o=e.maxptime)})),o>0&&(n+="a=maxptime:"+o+"\r\n"),r.headerExtensions&&r.headerExtensions.forEach((e=>{n+=t.writeExtmap(e)})),n},t.parseRtpEncodingParameters=function(e){const r=[],n=t.parseRtpParameters(e),o=-1!==n.fecMechanisms.indexOf("RED"),i=-1!==n.fecMechanisms.indexOf("ULPFEC"),a=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute)),s=a.length>0&&a[0].ssrc;let c;const l=t.matchPrefix(e,"a=ssrc-group:FID").map((e=>e.substring(17).split(" ").map((e=>parseInt(e,10)))));l.length>0&&l[0].length>1&&l[0][0]===s&&(c=l[0][1]),n.codecs.forEach((e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:s,codecPayloadType:parseInt(e.parameters.apt,10)};s&&c&&(t.rtx={ssrc:c}),r.push(t),o&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:s,mechanism:i?"red+ulpfec":"red"},r.push(t))}})),0===r.length&&s&&r.push({ssrc:s});let u=t.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substring(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substring(5),10)*.95-16e3:void 0,r.forEach((e=>{e.maxBitrate=u}))),r},t.parseRtcpParameters=function(e){const r={},n=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute))[0];n&&(r.cname=n.value,r.ssrc=n.ssrc);const o=t.matchPrefix(e,"a=rtcp-rsize");r.reducedSize=o.length>0,r.compound=0===o.length;const i=t.matchPrefix(e,"a=rtcp-mux");return r.mux=i.length>0,r},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let r;const n=t.matchPrefix(e,"a=msid:");if(1===n.length)return r=n[0].substring(7).split(" "),{stream:r[0],track:r[1]};const o=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"msid"===e.attribute));return o.length>0?(r=o[0].value.split(" "),{stream:r[0],track:r[1]}):void 0},t.parseSctpDescription=function(e){const r=t.parseMLine(e),n=t.matchPrefix(e,"a=max-message-size:");let o;n.length>0&&(o=parseInt(n[0].substring(19),10)),isNaN(o)&&(o=65536);const i=t.matchPrefix(e,"a=sctp-port:");if(i.length>0)return{port:parseInt(i[0].substring(12),10),protocol:r.fmt,maxMessageSize:o};const a=t.matchPrefix(e,"a=sctpmap:");if(a.length>0){const e=a[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:o}}},t.writeSctpDescription=function(e,t){let r=[];return r="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&r.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),r.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,r,n){let o;const i=void 0!==r?r:2;return o=e||t.generateSessionId(),"v=0\r\no="+(n||"thisisadapterortc")+" "+o+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,r){const n=t.splitLines(e);for(let e=0;e<n.length;e++)switch(n[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[e].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){const r=t.splitLines(e)[0].substring(2).split(" ");return{kind:r[0],port:parseInt(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},t.parseOLine=function(e){const r=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:parseInt(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;const r=t.splitLines(e);for(let e=0;e<r.length;e++)if(r[e].length<2||"="!==r[e].charAt(1))return!1;return!0},e.exports=t}(WE);var HE=WE.exports,VE=Zw(HE),JE=Qw({__proto__:null,default:VE},[HE]);function GE(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){const r=new t(e),n=VE.parseCandidate(e.candidate);for(const e in n)e in r||Object.defineProperty(r,e,{value:n[e]});return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,eE(e,"icecandidate",(t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t)))}function KE(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||eE(e,"icecandidate",(e=>{if(e.candidate){const t=VE.parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e}))}function $E(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(e){if(!e||!e.sdp)return!1;const t=VE.splitSections(e.sdp);return t.shift(),t.some((e=>{const t=VE.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){const e=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const r=parseInt(t[1],10);return r!=r?-1:r}(arguments[0]),r=function(e){let r=65536;return"firefox"===t.browser&&(r=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),r}(e),n=function(e,r){let n=65536;"firefox"===t.browser&&57===t.version&&(n=65535);const o=VE.matchPrefix(e.sdp,"a=max-message-size:");return o.length>0?n=parseInt(o[0].substring(19),10):"firefox"===t.browser&&-1!==r&&(n=2147483637),n}(arguments[0],e);let o;o=0===r&&0===n?Number.POSITIVE_INFINITY:0===r||0===n?Math.max(r,n):Math.min(r,n);const i={};Object.defineProperty(i,"maxMessageSize",{get:()=>o}),this._sctp=i}return r.apply(this,arguments)}}function XE(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const r=e.send;e.send=function(){const n=arguments[0],o=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&o>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return r.apply(e,arguments)}}const r=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=r.apply(this,arguments);return t(e,this),e},eE(e,"datachannel",(e=>(t(e.channel,e.target),e)))}function YE(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((e=>{const r=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const r=new Event("connectionstatechange",e);t.dispatchEvent(r)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}}))}function QE(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t.version>=605)return;const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const r=t.sdp.split("\n").filter((e=>"a=extmap-allow-mixed"!==e.trim())).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:r}):t.sdp=r}return r.apply(this,arguments)}}function ZE(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const r=e.RTCPeerConnection.prototype.addIceCandidate;r&&0!==r.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function eC(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const r=e.RTCPeerConnection.prototype.setLocalDescription;r&&0!==r.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return r.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}return e.sdp||"offer"!==e.type&&"answer"!==e.type?r.apply(this,[e]):("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then((e=>r.apply(this,[e])))})}var tC=Object.freeze({__proto__:null,removeExtmapAllowMixed:QE,shimAddIceCandidateNullOrEmpty:ZE,shimConnectionState:YE,shimMaxMessageSize:$E,shimParameterlessSetLocalDescription:eC,shimRTCIceCandidate:GE,shimRTCIceCandidateRelayProtocol:KE,shimSendThrowTypeError:XE});!function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const r=nE,n=function(e){const t={browser:null,version:null};if(void 0===e||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:r}=e;if(r.mozGetUserMedia)t.browser="firefox",t.version=ZO(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=ZO(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!r.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=ZO(r.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}(e),o={browserDetails:n,commonShim:tC,extractVersion:ZO,disableLog:tE,disableWarnings:rE,sdp:JE};switch(n.browser){case"chrome":if(!kE||!bE||!t.shimChrome)return r("Chrome shim is not included in this adapter release."),o;if(null===n.version)return r("Chrome shim can not determine version, not shimming."),o;r("adapter.js shimming chrome."),o.browserShim=kE,ZE(e,n),eC(e),uE(e,n),dE(e),bE(e,n),pE(e),gE(e,n),fE(e),hE(e),mE(e),vE(e,n),GE(e),KE(e),YE(e),$E(e,n),XE(e),QE(e,n);break;case"firefox":if(!zE||!SE||!t.shimFirefox)return r("Firefox shim is not included in this adapter release."),o;r("adapter.js shimming firefox."),o.browserShim=zE,ZE(e,n),eC(e),wE(e,n),SE(e,n),_E(e),CE(e),OE(e),EE(e),PE(e),TE(e),xE(e),jE(e),AE(e),GE(e),YE(e),$E(e,n),XE(e);break;case"safari":if(!qE||!t.shimSafari)return r("Safari shim is not included in this adapter release."),o;r("adapter.js shimming safari."),o.browserShim=qE,ZE(e,n),eC(e),LE(e),BE(e),ME(e),IE(e),RE(e),UE(e),DE(e),FE(e),GE(e),KE(e),$E(e,n),XE(e),QE(e,n);break;default:r("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window});const rC="lk_e2ee";var nC,oC,iC,aC,sC,cC,lC,uC,dC,pC,fC,hC,mC,yC,gC,bC;function vC(){return void 0!==window.RTCRtpScriptTransform}(oC=nC||(nC={})).SetKey="setKey",oC.RatchetRequest="ratchetRequest",oC.KeyRatcheted="keyRatcheted",(iC||(iC={})).KeyRatcheted="keyRatcheted",(sC=aC||(aC={})).ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",sC.EncryptionError="encryptionError",(cC||(cC={})).Error="cryptorError",XO.EventEmitter;class kC extends Error{constructor(e,t){super(t||"an error has occured"),this.code=e}}class wC extends kC{constructor(e,t,r){super(1,e),this.status=r,this.reason=t}}class _C extends kC{constructor(e){super(21,null!=e?e:"device is unsupported")}}class SC extends kC{constructor(e){super(20,null!=e?e:"track is invalid")}}class OC extends kC{constructor(e){super(10,null!=e?e:"unsupported server")}}class EC extends kC{constructor(e){super(12,null!=e?e:"unexpected connection state")}}class CC extends kC{constructor(e){super(13,null!=e?e:"unable to negotiate")}}function PC(e,t,r){var n,o,i;void 0===t&&(t=50),void 0===r&&(r={});var a=null!=(n=r.isImmediate)&&n,s=null!=(o=r.callback)&&o,c=r.maxWait,l=Date.now(),u=[];function d(){if(void 0!==c){var e=Date.now()-l;if(e+t>=c)return c-e}return t}var p=function(){var t=[].slice.call(arguments),r=this;return new Promise((function(n,o){var c=a&&void 0===i;if(void 0!==i&&clearTimeout(i),i=setTimeout((function(){if(i=void 0,l=Date.now(),!a){var n=e.apply(r,t);s&&s(n),u.forEach((function(e){return(0,e.resolve)(n)})),u=[]}}),d()),c){var p=e.apply(r,t);return s&&s(p),n(p)}u.push({resolve:n,reject:o})}))};return p.cancel=function(e){void 0!==i&&clearTimeout(i),u.forEach((function(t){return(0,t.reject)(e)})),u=[]},p}(uC=lC||(lC={})).PermissionDenied="PermissionDenied",uC.NotFound="NotFound",uC.DeviceInUse="DeviceInUse",uC.Other="Other",function(e){e.getFailure=function(t){if(t&&"name"in t)return"NotFoundError"===t.name||"DevicesNotFoundError"===t.name?e.NotFound:"NotAllowedError"===t.name||"PermissionDeniedError"===t.name?e.PermissionDenied:"NotReadableError"===t.name||"TrackStartError"===t.name?e.DeviceInUse:e.Other}}(lC||(lC={})),(pC=dC||(dC={})).Connected="connected",pC.Reconnecting="reconnecting",pC.Reconnected="reconnected",pC.Disconnected="disconnected",pC.ConnectionStateChanged="connectionStateChanged",pC.StateChanged="connectionStateChanged",pC.MediaDevicesChanged="mediaDevicesChanged",pC.ParticipantConnected="participantConnected",pC.ParticipantDisconnected="participantDisconnected",pC.TrackPublished="trackPublished",pC.TrackSubscribed="trackSubscribed",pC.TrackSubscriptionFailed="trackSubscriptionFailed",pC.TrackUnpublished="trackUnpublished",pC.TrackUnsubscribed="trackUnsubscribed",pC.TrackMuted="trackMuted",pC.TrackUnmuted="trackUnmuted",pC.LocalTrackPublished="localTrackPublished",pC.LocalTrackUnpublished="localTrackUnpublished",pC.LocalAudioSilenceDetected="localAudioSilenceDetected",pC.ActiveSpeakersChanged="activeSpeakersChanged",pC.ParticipantMetadataChanged="participantMetadataChanged",pC.ParticipantNameChanged="participantNameChanged",pC.RoomMetadataChanged="roomMetadataChanged",pC.DataReceived="dataReceived",pC.ConnectionQualityChanged="connectionQualityChanged",pC.TrackStreamStateChanged="trackStreamStateChanged",pC.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",pC.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",pC.AudioPlaybackStatusChanged="audioPlaybackChanged",pC.VideoPlaybackStatusChanged="videoPlaybackChanged",pC.MediaDevicesError="mediaDevicesError",pC.ParticipantPermissionsChanged="participantPermissionsChanged",pC.SignalConnected="signalConnected",pC.RecordingStatusChanged="recordingStatusChanged",pC.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",pC.EncryptionError="encryptionError",pC.DCBufferStatusChanged="dcBufferStatusChanged",pC.ActiveDeviceChanged="activeDeviceChanged",(hC=fC||(fC={})).TrackPublished="trackPublished",hC.TrackSubscribed="trackSubscribed",hC.TrackSubscriptionFailed="trackSubscriptionFailed",hC.TrackUnpublished="trackUnpublished",hC.TrackUnsubscribed="trackUnsubscribed",hC.TrackMuted="trackMuted",hC.TrackUnmuted="trackUnmuted",hC.LocalTrackPublished="localTrackPublished",hC.LocalTrackUnpublished="localTrackUnpublished",hC.ParticipantMetadataChanged="participantMetadataChanged",hC.ParticipantNameChanged="participantNameChanged",hC.DataReceived="dataReceived",hC.IsSpeakingChanged="isSpeakingChanged",hC.ConnectionQualityChanged="connectionQualityChanged",hC.TrackStreamStateChanged="trackStreamStateChanged",hC.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",hC.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",hC.MediaDevicesError="mediaDevicesError",hC.AudioStreamAcquired="audioStreamAcquired",hC.ParticipantPermissionsChanged="participantPermissionsChanged",hC.PCTrackAdded="pcTrackAdded",(yC=mC||(mC={})).TransportsCreated="transportsCreated",yC.Connected="connected",yC.Disconnected="disconnected",yC.Resuming="resuming",yC.Resumed="resumed",yC.Restarting="restarting",yC.Restarted="restarted",yC.SignalResumed="signalResumed",yC.SignalRestarted="signalRestarted",yC.Closing="closing",yC.MediaTrackAdded="mediaTrackAdded",yC.ActiveSpeakersUpdate="activeSpeakersUpdate",yC.DataPacketReceived="dataPacketReceived",yC.RTPVideoMapUpdate="rtpVideoMapUpdate",yC.DCBufferStatusChanged="dcBufferStatusChanged",yC.ParticipantUpdate="participantUpdate",yC.RoomUpdate="roomUpdate",yC.SpeakersChanged="speakersChanged",yC.StreamStateChanged="streamStateChanged",yC.ConnectionQualityUpdate="connectionQualityUpdate",yC.SubscriptionError="subscriptionError",yC.SubscriptionPermissionUpdate="subscriptionPermissionUpdate",yC.RemoteMute="remoteMute",yC.SubscribedQualityUpdate="subscribedQualityUpdate",yC.LocalTrackUnpublished="localTrackUnpublished",(bC=gC||(gC={})).Message="message",bC.Muted="muted",bC.Unmuted="unmuted",bC.Restarted="restarted",bC.Ended="ended",bC.Subscribed="subscribed",bC.Unsubscribed="unsubscribed",bC.UpdateSettings="updateSettings",bC.UpdateSubscription="updateSubscription",bC.AudioPlaybackStarted="audioPlaybackStarted",bC.AudioPlaybackFailed="audioPlaybackFailed",bC.AudioSilenceDetected="audioSilenceDetected",bC.VisibilityChanged="visibilityChanged",bC.VideoDimensionsChanged="videoDimensionsChanged",bC.VideoPlaybackStarted="videoPlaybackStarted",bC.VideoPlaybackFailed="videoPlaybackFailed",bC.ElementAttached="elementAttached",bC.ElementDetached="elementDetached",bC.UpstreamPaused="upstreamPaused",bC.UpstreamResumed="upstreamResumed",bC.SubscriptionPermissionChanged="subscriptionPermissionChanged",bC.SubscriptionStatusChanged="subscriptionStatusChanged",bC.SubscriptionFailed="subscriptionFailed";const TC=/version\/(\d+(\.?_?\d+)+)/i;let xC;function jC(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e&&"undefined"==typeof navigator)return;const r=(null!=e?e:navigator.userAgent).toLowerCase();if(void 0===xC||t){const e=AC.find((e=>{let{test:t}=e;return t.test(r)}));xC=null==e?void 0:e.describe(r)}return xC}const AC=[{test:/firefox|iceweasel|fxios/i,describe:e=>({name:"Firefox",version:zC(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("fxios")?"iOS":void 0})},{test:/chrom|crios|crmo/i,describe:e=>({name:"Chrome",version:zC(/(?:chrome|chromium|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("crios")?"iOS":void 0})},{test:/safari|applewebkit/i,describe:e=>({name:"Safari",version:zC(TC,e),os:e.includes("mobile/")?"iOS":"macOS"})}];function zC(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const n=t.match(e);return n&&n.length>=r&&n[r]||""}class IC{}IC.setTimeout=function(){return setTimeout(...arguments)},IC.setInterval=function(){return setInterval(...arguments)},IC.clearTimeout=function(){return clearTimeout(...arguments)},IC.clearInterval=function(){return clearInterval(...arguments)};class RC{constructor(e,t,r,n,o){this.width=e,this.height=t,this.encoding={maxBitrate:r,maxFramerate:n,priority:o}}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.width/this.height}}}const MC=["vp8","h264"],DC=["vp8","h264","vp9","av1"];function NC(e){return!!MC.find((t=>t===e))}var LC,UC;(UC=LC||(LC={})).telephone={maxBitrate:12e3},UC.speech={maxBitrate:2e4},UC.music={maxBitrate:32e3},UC.musicStereo={maxBitrate:48e3},UC.musicHighQuality={maxBitrate:64e3},UC.musicHighQualityStereo={maxBitrate:96e3};const BC={h90:new RC(160,90,9e4,20),h180:new RC(320,180,16e4,20),h216:new RC(384,216,18e4,20),h360:new RC(640,360,45e4,20),h540:new RC(960,540,8e5,25),h720:new RC(1280,720,17e5,30),h1080:new RC(1920,1080,3e6,30),h1440:new RC(2560,1440,5e6,30),h2160:new RC(3840,2160,8e6,30)},FC={h120:new RC(160,120,7e4,20),h180:new RC(240,180,125e3,20),h240:new RC(320,240,14e4,20),h360:new RC(480,360,33e4,20),h480:new RC(640,480,5e5,20),h540:new RC(720,540,6e5,25),h720:new RC(960,720,13e5,30),h1080:new RC(1440,1080,23e5,30),h1440:new RC(1920,1440,38e5,30)},qC={h360fps3:new RC(640,360,2e5,3,"medium"),h360fps15:new RC(640,360,4e5,15,"medium"),h720fps5:new RC(1280,720,8e5,5,"medium"),h720fps15:new RC(1280,720,15e5,15,"medium"),h720fps30:new RC(1280,720,2e6,30,"medium"),h1080fps15:new RC(1920,1080,25e5,15,"medium"),h1080fps30:new RC(1920,1080,5e6,30,"medium"),original:new RC(0,0,7e6,30,"medium")};var WC,HC,VC,JC,GC,KC;(HC=WC||(WC={}))[HC.PUBLISHER=0]="PUBLISHER",HC[HC.SUBSCRIBER=1]="SUBSCRIBER",OS.util.setEnumType(WC,"livekit.SignalTarget",[{no:0,name:"PUBLISHER"},{no:1,name:"SUBSCRIBER"}]),(JC=VC||(VC={}))[JC.ACTIVE=0]="ACTIVE",JC[JC.PAUSED=1]="PAUSED",OS.util.setEnumType(VC,"livekit.StreamState",[{no:0,name:"ACTIVE"},{no:1,name:"PAUSED"}]),(KC=GC||(GC={}))[KC.UDP=0]="UDP",KC[KC.TCP=1]="TCP",KC[KC.TLS=2]="TLS",OS.util.setEnumType(GC,"livekit.CandidateProtocol",[{no:0,name:"UDP"},{no:1,name:"TCP"},{no:2,name:"TLS"}]);class $C extends v_{constructor(e){super(),this.message={case:void 0},OS.util.initPartial(e,this)}static fromBinary(e,t){return(new $C).fromBinary(e,t)}static fromJson(e,t){return(new $C).fromJson(e,t)}static fromJsonString(e,t){return(new $C).fromJsonString(e,t)}static equals(e,t){return OS.util.equals($C,e,t)}}$C.runtime=OS,$C.typeName="livekit.SignalRequest",$C.fields=OS.util.newFieldList((()=>[{no:1,name:"offer",kind:"message",T:iP,oneof:"message"},{no:2,name:"answer",kind:"message",T:iP,oneof:"message"},{no:3,name:"trickle",kind:"message",T:ZC,oneof:"message"},{no:4,name:"add_track",kind:"message",T:QC,oneof:"message"},{no:5,name:"mute",kind:"message",T:eP,oneof:"message"},{no:6,name:"subscription",kind:"message",T:sP,oneof:"message"},{no:7,name:"track_setting",kind:"message",T:cP,oneof:"message"},{no:8,name:"leave",kind:"message",T:lP,oneof:"message"},{no:10,name:"update_layers",kind:"message",T:uP,oneof:"message"},{no:11,name:"subscription_permission",kind:"message",T:SP,oneof:"message"},{no:12,name:"sync_state",kind:"message",T:EP,oneof:"message"},{no:13,name:"simulate",kind:"message",T:PP,oneof:"message"},{no:14,name:"ping",kind:"scalar",T:3,oneof:"message"},{no:15,name:"update_metadata",kind:"message",T:dP,oneof:"message"},{no:16,name:"ping_req",kind:"message",T:TP,oneof:"message"}]));class XC extends v_{constructor(e){super(),this.message={case:void 0},OS.util.initPartial(e,this)}static fromBinary(e,t){return(new XC).fromBinary(e,t)}static fromJson(e,t){return(new XC).fromJson(e,t)}static fromJsonString(e,t){return(new XC).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(XC,e,t)}}XC.runtime=OS,XC.typeName="livekit.SignalResponse",XC.fields=OS.util.newFieldList((()=>[{no:1,name:"join",kind:"message",T:tP,oneof:"message"},{no:2,name:"answer",kind:"message",T:iP,oneof:"message"},{no:3,name:"offer",kind:"message",T:iP,oneof:"message"},{no:4,name:"trickle",kind:"message",T:ZC,oneof:"message"},{no:5,name:"update",kind:"message",T:aP,oneof:"message"},{no:6,name:"track_published",kind:"message",T:nP,oneof:"message"},{no:8,name:"leave",kind:"message",T:lP,oneof:"message"},{no:9,name:"mute",kind:"message",T:eP,oneof:"message"},{no:10,name:"speakers_changed",kind:"message",T:fP,oneof:"message"},{no:11,name:"room_update",kind:"message",T:hP,oneof:"message"},{no:12,name:"connection_quality",kind:"message",T:yP,oneof:"message"},{no:13,name:"stream_state_update",kind:"message",T:bP,oneof:"message"},{no:14,name:"subscribed_quality_update",kind:"message",T:wP,oneof:"message"},{no:15,name:"subscription_permission_update",kind:"message",T:OP,oneof:"message"},{no:16,name:"refresh_token",kind:"scalar",T:9,oneof:"message"},{no:17,name:"track_unpublished",kind:"message",T:oP,oneof:"message"},{no:18,name:"pong",kind:"scalar",T:3,oneof:"message"},{no:19,name:"reconnect",kind:"message",T:rP,oneof:"message"},{no:20,name:"pong_resp",kind:"message",T:xP,oneof:"message"},{no:21,name:"subscription_response",kind:"message",T:zP,oneof:"message"}]));class YC extends v_{constructor(e){super(),this.codec="",this.cid="",OS.util.initPartial(e,this)}static fromBinary(e,t){return(new YC).fromBinary(e,t)}static fromJson(e,t){return(new YC).fromJson(e,t)}static fromJsonString(e,t){return(new YC).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(YC,e,t)}}YC.runtime=OS,YC.typeName="livekit.SimulcastCodec",YC.fields=OS.util.newFieldList((()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"cid",kind:"scalar",T:9}]));class QC extends v_{constructor(e){super(),this.cid="",this.name="",this.type=RS.AUDIO,this.width=0,this.height=0,this.muted=!1,this.disableDtx=!1,this.source=DS.UNKNOWN,this.layers=[],this.simulcastCodecs=[],this.sid="",this.stereo=!1,this.disableRed=!1,this.encryption=iO.NONE,this.stream="",OS.util.initPartial(e,this)}static fromBinary(e,t){return(new QC).fromBinary(e,t)}static fromJson(e,t){return(new QC).fromJson(e,t)}static fromJsonString(e,t){return(new QC).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(QC,e,t)}}QC.runtime=OS,QC.typeName="livekit.AddTrackRequest",QC.fields=OS.util.newFieldList((()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:OS.getEnumType(RS)},{no:4,name:"width",kind:"scalar",T:13},{no:5,name:"height",kind:"scalar",T:13},{no:6,name:"muted",kind:"scalar",T:8},{no:7,name:"disable_dtx",kind:"scalar",T:8},{no:8,name:"source",kind:"enum",T:OS.getEnumType(DS)},{no:9,name:"layers",kind:"message",T:yO,repeated:!0},{no:10,name:"simulcast_codecs",kind:"message",T:YC,repeated:!0},{no:11,name:"sid",kind:"scalar",T:9},{no:12,name:"stereo",kind:"scalar",T:8},{no:13,name:"disable_red",kind:"scalar",T:8},{no:14,name:"encryption",kind:"enum",T:OS.getEnumType(iO)},{no:15,name:"stream",kind:"scalar",T:9}]));class ZC extends v_{constructor(e){super(),this.candidateInit="",this.target=WC.PUBLISHER,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new ZC).fromBinary(e,t)}static fromJson(e,t){return(new ZC).fromJson(e,t)}static fromJsonString(e,t){return(new ZC).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(ZC,e,t)}}ZC.runtime=OS,ZC.typeName="livekit.TrickleRequest",ZC.fields=OS.util.newFieldList((()=>[{no:1,name:"candidateInit",kind:"scalar",T:9},{no:2,name:"target",kind:"enum",T:OS.getEnumType(WC)}]));class eP extends v_{constructor(e){super(),this.sid="",this.muted=!1,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new eP).fromBinary(e,t)}static fromJson(e,t){return(new eP).fromJson(e,t)}static fromJsonString(e,t){return(new eP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(eP,e,t)}}eP.runtime=OS,eP.typeName="livekit.MuteTrackRequest",eP.fields=OS.util.newFieldList((()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"muted",kind:"scalar",T:8}]));class tP extends v_{constructor(e){super(),this.otherParticipants=[],this.serverVersion="",this.iceServers=[],this.subscriberPrimary=!1,this.alternativeUrl="",this.serverRegion="",this.pingTimeout=0,this.pingInterval=0,this.sifTrailer=new Uint8Array(0),OS.util.initPartial(e,this)}static fromBinary(e,t){return(new tP).fromBinary(e,t)}static fromJson(e,t){return(new tP).fromJson(e,t)}static fromJsonString(e,t){return(new tP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(tP,e,t)}}tP.runtime=OS,tP.typeName="livekit.JoinResponse",tP.fields=OS.util.newFieldList((()=>[{no:1,name:"room",kind:"message",T:QS},{no:2,name:"participant",kind:"message",T:rO},{no:3,name:"other_participants",kind:"message",T:rO,repeated:!0},{no:4,name:"server_version",kind:"scalar",T:9},{no:5,name:"ice_servers",kind:"message",T:pP,repeated:!0},{no:6,name:"subscriber_primary",kind:"scalar",T:8},{no:7,name:"alternative_url",kind:"scalar",T:9},{no:8,name:"client_configuration",kind:"message",T:OO},{no:9,name:"server_region",kind:"scalar",T:9},{no:10,name:"ping_timeout",kind:"scalar",T:5},{no:11,name:"ping_interval",kind:"scalar",T:5},{no:12,name:"server_info",kind:"message",T:_O},{no:13,name:"sif_trailer",kind:"scalar",T:12}]));class rP extends v_{constructor(e){super(),this.iceServers=[],OS.util.initPartial(e,this)}static fromBinary(e,t){return(new rP).fromBinary(e,t)}static fromJson(e,t){return(new rP).fromJson(e,t)}static fromJsonString(e,t){return(new rP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(rP,e,t)}}rP.runtime=OS,rP.typeName="livekit.ReconnectResponse",rP.fields=OS.util.newFieldList((()=>[{no:1,name:"ice_servers",kind:"message",T:pP,repeated:!0},{no:2,name:"client_configuration",kind:"message",T:OO}]));class nP extends v_{constructor(e){super(),this.cid="",OS.util.initPartial(e,this)}static fromBinary(e,t){return(new nP).fromBinary(e,t)}static fromJson(e,t){return(new nP).fromJson(e,t)}static fromJsonString(e,t){return(new nP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(nP,e,t)}}nP.runtime=OS,nP.typeName="livekit.TrackPublishedResponse",nP.fields=OS.util.newFieldList((()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"track",kind:"message",T:mO}]));class oP extends v_{constructor(e){super(),this.trackSid="",OS.util.initPartial(e,this)}static fromBinary(e,t){return(new oP).fromBinary(e,t)}static fromJson(e,t){return(new oP).fromJson(e,t)}static fromJsonString(e,t){return(new oP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(oP,e,t)}}oP.runtime=OS,oP.typeName="livekit.TrackUnpublishedResponse",oP.fields=OS.util.newFieldList((()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]));class iP extends v_{constructor(e){super(),this.type="",this.sdp="",OS.util.initPartial(e,this)}static fromBinary(e,t){return(new iP).fromBinary(e,t)}static fromJson(e,t){return(new iP).fromJson(e,t)}static fromJsonString(e,t){return(new iP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(iP,e,t)}}iP.runtime=OS,iP.typeName="livekit.SessionDescription",iP.fields=OS.util.newFieldList((()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"sdp",kind:"scalar",T:9}]));class aP extends v_{constructor(e){super(),this.participants=[],OS.util.initPartial(e,this)}static fromBinary(e,t){return(new aP).fromBinary(e,t)}static fromJson(e,t){return(new aP).fromJson(e,t)}static fromJsonString(e,t){return(new aP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(aP,e,t)}}aP.runtime=OS,aP.typeName="livekit.ParticipantUpdate",aP.fields=OS.util.newFieldList((()=>[{no:1,name:"participants",kind:"message",T:rO,repeated:!0}]));class sP extends v_{constructor(e){super(),this.trackSids=[],this.subscribe=!1,this.participantTracks=[],OS.util.initPartial(e,this)}static fromBinary(e,t){return(new sP).fromBinary(e,t)}static fromJson(e,t){return(new sP).fromJson(e,t)}static fromJsonString(e,t){return(new sP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(sP,e,t)}}sP.runtime=OS,sP.typeName="livekit.UpdateSubscription",sP.fields=OS.util.newFieldList((()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"participant_tracks",kind:"message",T:wO,repeated:!0}]));class cP extends v_{constructor(e){super(),this.trackSids=[],this.disabled=!1,this.quality=LS.LOW,this.width=0,this.height=0,this.fps=0,this.priority=0,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new cP).fromBinary(e,t)}static fromJson(e,t){return(new cP).fromJson(e,t)}static fromJsonString(e,t){return(new cP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(cP,e,t)}}cP.runtime=OS,cP.typeName="livekit.UpdateTrackSettings",cP.fields=OS.util.newFieldList((()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:3,name:"disabled",kind:"scalar",T:8},{no:4,name:"quality",kind:"enum",T:OS.getEnumType(LS)},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"fps",kind:"scalar",T:13},{no:8,name:"priority",kind:"scalar",T:13}]));class lP extends v_{constructor(e){super(),this.canReconnect=!1,this.reason=HS.UNKNOWN_REASON,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new lP).fromBinary(e,t)}static fromJson(e,t){return(new lP).fromJson(e,t)}static fromJsonString(e,t){return(new lP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(lP,e,t)}}lP.runtime=OS,lP.typeName="livekit.LeaveRequest",lP.fields=OS.util.newFieldList((()=>[{no:1,name:"can_reconnect",kind:"scalar",T:8},{no:2,name:"reason",kind:"enum",T:OS.getEnumType(HS)}]));class uP extends v_{constructor(e){super(),this.trackSid="",this.layers=[],OS.util.initPartial(e,this)}static fromBinary(e,t){return(new uP).fromBinary(e,t)}static fromJson(e,t){return(new uP).fromJson(e,t)}static fromJsonString(e,t){return(new uP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(uP,e,t)}}uP.runtime=OS,uP.typeName="livekit.UpdateVideoLayers",uP.fields=OS.util.newFieldList((()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"layers",kind:"message",T:yO,repeated:!0}]));class dP extends v_{constructor(e){super(),this.metadata="",this.name="",OS.util.initPartial(e,this)}static fromBinary(e,t){return(new dP).fromBinary(e,t)}static fromJson(e,t){return(new dP).fromJson(e,t)}static fromJsonString(e,t){return(new dP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(dP,e,t)}}dP.runtime=OS,dP.typeName="livekit.UpdateParticipantMetadata",dP.fields=OS.util.newFieldList((()=>[{no:1,name:"metadata",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9}]));class pP extends v_{constructor(e){super(),this.urls=[],this.username="",this.credential="",OS.util.initPartial(e,this)}static fromBinary(e,t){return(new pP).fromBinary(e,t)}static fromJson(e,t){return(new pP).fromJson(e,t)}static fromJsonString(e,t){return(new pP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(pP,e,t)}}pP.runtime=OS,pP.typeName="livekit.ICEServer",pP.fields=OS.util.newFieldList((()=>[{no:1,name:"urls",kind:"scalar",T:9,repeated:!0},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"credential",kind:"scalar",T:9}]));class fP extends v_{constructor(e){super(),this.speakers=[],OS.util.initPartial(e,this)}static fromBinary(e,t){return(new fP).fromBinary(e,t)}static fromJson(e,t){return(new fP).fromJson(e,t)}static fromJsonString(e,t){return(new fP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(fP,e,t)}}fP.runtime=OS,fP.typeName="livekit.SpeakersChanged",fP.fields=OS.util.newFieldList((()=>[{no:1,name:"speakers",kind:"message",T:vO,repeated:!0}]));class hP extends v_{constructor(e){super(),OS.util.initPartial(e,this)}static fromBinary(e,t){return(new hP).fromBinary(e,t)}static fromJson(e,t){return(new hP).fromJson(e,t)}static fromJsonString(e,t){return(new hP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(hP,e,t)}}hP.runtime=OS,hP.typeName="livekit.RoomUpdate",hP.fields=OS.util.newFieldList((()=>[{no:1,name:"room",kind:"message",T:QS}]));class mP extends v_{constructor(e){super(),this.participantSid="",this.quality=BS.POOR,this.score=0,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new mP).fromBinary(e,t)}static fromJson(e,t){return(new mP).fromJson(e,t)}static fromJsonString(e,t){return(new mP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(mP,e,t)}}mP.runtime=OS,mP.typeName="livekit.ConnectionQualityInfo",mP.fields=OS.util.newFieldList((()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"quality",kind:"enum",T:OS.getEnumType(BS)},{no:3,name:"score",kind:"scalar",T:2}]));class yP extends v_{constructor(e){super(),this.updates=[],OS.util.initPartial(e,this)}static fromBinary(e,t){return(new yP).fromBinary(e,t)}static fromJson(e,t){return(new yP).fromJson(e,t)}static fromJsonString(e,t){return(new yP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(yP,e,t)}}yP.runtime=OS,yP.typeName="livekit.ConnectionQualityUpdate",yP.fields=OS.util.newFieldList((()=>[{no:1,name:"updates",kind:"message",T:mP,repeated:!0}]));class gP extends v_{constructor(e){super(),this.participantSid="",this.trackSid="",this.state=VC.ACTIVE,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new gP).fromBinary(e,t)}static fromJson(e,t){return(new gP).fromJson(e,t)}static fromJsonString(e,t){return(new gP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(gP,e,t)}}gP.runtime=OS,gP.typeName="livekit.StreamStateInfo",gP.fields=OS.util.newFieldList((()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:OS.getEnumType(VC)}]));class bP extends v_{constructor(e){super(),this.streamStates=[],OS.util.initPartial(e,this)}static fromBinary(e,t){return(new bP).fromBinary(e,t)}static fromJson(e,t){return(new bP).fromJson(e,t)}static fromJsonString(e,t){return(new bP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(bP,e,t)}}bP.runtime=OS,bP.typeName="livekit.StreamStateUpdate",bP.fields=OS.util.newFieldList((()=>[{no:1,name:"stream_states",kind:"message",T:gP,repeated:!0}]));class vP extends v_{constructor(e){super(),this.quality=LS.LOW,this.enabled=!1,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new vP).fromBinary(e,t)}static fromJson(e,t){return(new vP).fromJson(e,t)}static fromJsonString(e,t){return(new vP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(vP,e,t)}}vP.runtime=OS,vP.typeName="livekit.SubscribedQuality",vP.fields=OS.util.newFieldList((()=>[{no:1,name:"quality",kind:"enum",T:OS.getEnumType(LS)},{no:2,name:"enabled",kind:"scalar",T:8}]));class kP extends v_{constructor(e){super(),this.codec="",this.qualities=[],OS.util.initPartial(e,this)}static fromBinary(e,t){return(new kP).fromBinary(e,t)}static fromJson(e,t){return(new kP).fromJson(e,t)}static fromJsonString(e,t){return(new kP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(kP,e,t)}}kP.runtime=OS,kP.typeName="livekit.SubscribedCodec",kP.fields=OS.util.newFieldList((()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"qualities",kind:"message",T:vP,repeated:!0}]));class wP extends v_{constructor(e){super(),this.trackSid="",this.subscribedQualities=[],this.subscribedCodecs=[],OS.util.initPartial(e,this)}static fromBinary(e,t){return(new wP).fromBinary(e,t)}static fromJson(e,t){return(new wP).fromJson(e,t)}static fromJsonString(e,t){return(new wP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(wP,e,t)}}wP.runtime=OS,wP.typeName="livekit.SubscribedQualityUpdate",wP.fields=OS.util.newFieldList((()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_qualities",kind:"message",T:vP,repeated:!0},{no:3,name:"subscribed_codecs",kind:"message",T:kP,repeated:!0}]));class _P extends v_{constructor(e){super(),this.participantSid="",this.allTracks=!1,this.trackSids=[],this.participantIdentity="",OS.util.initPartial(e,this)}static fromBinary(e,t){return(new _P).fromBinary(e,t)}static fromJson(e,t){return(new _P).fromJson(e,t)}static fromJsonString(e,t){return(new _P).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(_P,e,t)}}_P.runtime=OS,_P.typeName="livekit.TrackPermission",_P.fields=OS.util.newFieldList((()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"all_tracks",kind:"scalar",T:8},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"participant_identity",kind:"scalar",T:9}]));class SP extends v_{constructor(e){super(),this.allParticipants=!1,this.trackPermissions=[],OS.util.initPartial(e,this)}static fromBinary(e,t){return(new SP).fromBinary(e,t)}static fromJson(e,t){return(new SP).fromJson(e,t)}static fromJsonString(e,t){return(new SP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(SP,e,t)}}SP.runtime=OS,SP.typeName="livekit.SubscriptionPermission",SP.fields=OS.util.newFieldList((()=>[{no:1,name:"all_participants",kind:"scalar",T:8},{no:2,name:"track_permissions",kind:"message",T:_P,repeated:!0}]));class OP extends v_{constructor(e){super(),this.participantSid="",this.trackSid="",this.allowed=!1,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new OP).fromBinary(e,t)}static fromJson(e,t){return(new OP).fromJson(e,t)}static fromJsonString(e,t){return(new OP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(OP,e,t)}}OP.runtime=OS,OP.typeName="livekit.SubscriptionPermissionUpdate",OP.fields=OS.util.newFieldList((()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"allowed",kind:"scalar",T:8}]));class EP extends v_{constructor(e){super(),this.publishTracks=[],this.dataChannels=[],OS.util.initPartial(e,this)}static fromBinary(e,t){return(new EP).fromBinary(e,t)}static fromJson(e,t){return(new EP).fromJson(e,t)}static fromJsonString(e,t){return(new EP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(EP,e,t)}}EP.runtime=OS,EP.typeName="livekit.SyncState",EP.fields=OS.util.newFieldList((()=>[{no:1,name:"answer",kind:"message",T:iP},{no:2,name:"subscription",kind:"message",T:sP},{no:3,name:"publish_tracks",kind:"message",T:nP,repeated:!0},{no:4,name:"data_channels",kind:"message",T:CP,repeated:!0},{no:5,name:"offer",kind:"message",T:iP}]));class CP extends v_{constructor(e){super(),this.label="",this.id=0,this.target=WC.PUBLISHER,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new CP).fromBinary(e,t)}static fromJson(e,t){return(new CP).fromJson(e,t)}static fromJsonString(e,t){return(new CP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(CP,e,t)}}CP.runtime=OS,CP.typeName="livekit.DataChannelInfo",CP.fields=OS.util.newFieldList((()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:13},{no:3,name:"target",kind:"enum",T:OS.getEnumType(WC)}]));class PP extends v_{constructor(e){super(),this.scenario={case:void 0},OS.util.initPartial(e,this)}static fromBinary(e,t){return(new PP).fromBinary(e,t)}static fromJson(e,t){return(new PP).fromJson(e,t)}static fromJsonString(e,t){return(new PP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(PP,e,t)}}PP.runtime=OS,PP.typeName="livekit.SimulateScenario",PP.fields=OS.util.newFieldList((()=>[{no:1,name:"speaker_update",kind:"scalar",T:5,oneof:"scenario"},{no:2,name:"node_failure",kind:"scalar",T:8,oneof:"scenario"},{no:3,name:"migration",kind:"scalar",T:8,oneof:"scenario"},{no:4,name:"server_leave",kind:"scalar",T:8,oneof:"scenario"},{no:5,name:"switch_candidate_protocol",kind:"enum",T:OS.getEnumType(GC),oneof:"scenario"},{no:6,name:"subscriber_bandwidth",kind:"scalar",T:3,oneof:"scenario"},{no:7,name:"disconnect_signal_on_resume",kind:"scalar",T:8,oneof:"scenario"},{no:8,name:"disconnect_signal_on_resume_no_messages",kind:"scalar",T:8,oneof:"scenario"}]));class TP extends v_{constructor(e){super(),this.timestamp=R_.zero,this.rtt=R_.zero,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new TP).fromBinary(e,t)}static fromJson(e,t){return(new TP).fromJson(e,t)}static fromJsonString(e,t){return(new TP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(TP,e,t)}}TP.runtime=OS,TP.typeName="livekit.Ping",TP.fields=OS.util.newFieldList((()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"rtt",kind:"scalar",T:3}]));class xP extends v_{constructor(e){super(),this.lastPingTimestamp=R_.zero,this.timestamp=R_.zero,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new xP).fromBinary(e,t)}static fromJson(e,t){return(new xP).fromJson(e,t)}static fromJsonString(e,t){return(new xP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(xP,e,t)}}xP.runtime=OS,xP.typeName="livekit.Pong",xP.fields=OS.util.newFieldList((()=>[{no:1,name:"last_ping_timestamp",kind:"scalar",T:3},{no:2,name:"timestamp",kind:"scalar",T:3}]));class jP extends v_{constructor(e){super(),this.regions=[],OS.util.initPartial(e,this)}static fromBinary(e,t){return(new jP).fromBinary(e,t)}static fromJson(e,t){return(new jP).fromJson(e,t)}static fromJsonString(e,t){return(new jP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(jP,e,t)}}jP.runtime=OS,jP.typeName="livekit.RegionSettings",jP.fields=OS.util.newFieldList((()=>[{no:1,name:"regions",kind:"message",T:AP,repeated:!0}]));class AP extends v_{constructor(e){super(),this.region="",this.url="",this.distance=R_.zero,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new AP).fromBinary(e,t)}static fromJson(e,t){return(new AP).fromJson(e,t)}static fromJsonString(e,t){return(new AP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(AP,e,t)}}AP.runtime=OS,AP.typeName="livekit.RegionInfo",AP.fields=OS.util.newFieldList((()=>[{no:1,name:"region",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"distance",kind:"scalar",T:3}]));class zP extends v_{constructor(e){super(),this.trackSid="",this.err=KS.SE_UNKNOWN,OS.util.initPartial(e,this)}static fromBinary(e,t){return(new zP).fromBinary(e,t)}static fromJson(e,t){return(new zP).fromJson(e,t)}static fromJsonString(e,t){return(new zP).fromJsonString(e,t)}static equals(e,t){return OS.util.equals(zP,e,t)}}zP.runtime=OS,zP.typeName="livekit.SubscriptionResponse",zP.fields=OS.util.newFieldList((()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"err",kind:"enum",T:OS.getEnumType(KS)}]));const IP=[];class RP extends XO.EventEmitter{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n;super(),this.attachedElements=[],this.isMuted=!1,this.streamState=RP.StreamState.Active,this.isInBackground=!1,this._currentBitrate=0,this.log=l_,this.appVisibilityChangedListener=()=>{this.backgroundTimeout&&clearTimeout(this.backgroundTimeout),"hidden"===document.visibilityState?this.backgroundTimeout=setTimeout((()=>this.handleAppVisibilityChanged()),5e3):this.handleAppVisibilityChanged()},this.log=u_(null!==(n=r.loggerName)&&void 0!==n?n:a_.Track),this.loggerContextCb=r.loggerContextCb,this.setMaxListeners(100),this.kind=t,this._mediaStreamTrack=e,this._mediaStreamID=e.id,this.source=RP.Source.Unknown}get logContext(){var e;return Object.assign(Object.assign({},null===(e=this.loggerContextCb)||void 0===e?void 0:e.call(this)),qP(this))}get currentBitrate(){return this._currentBitrate}get mediaStreamTrack(){return this._mediaStreamTrack}get mediaStreamID(){return this._mediaStreamID}attach(e){let t="audio";this.kind===RP.Kind.Video&&(t="video"),0===this.attachedElements.length&&RP.Kind.Video&&this.addAppVisibilityListener(),e||("audio"===t&&(IP.forEach((t=>{null!==t.parentElement||e||(e=t)})),e&&IP.splice(IP.indexOf(e),1)),e||(e=document.createElement(t))),this.attachedElements.includes(e)||this.attachedElements.push(e),MP(this.mediaStreamTrack,e);const r=e.srcObject.getTracks(),n=r.some((e=>"audio"===e.kind));return e.play().then((()=>{this.emit(n?gC.AudioPlaybackStarted:gC.VideoPlaybackStarted)})).catch((t=>{"NotAllowedError"===t.name?this.emit(n?gC.AudioPlaybackFailed:gC.VideoPlaybackFailed,t):"AbortError"===t.name?l_.debug("".concat(n?"audio":"video"," playback aborted, likely due to new play request")):l_.warn("could not playback ".concat(n?"audio":"video"),t),n&&e&&r.some((e=>"video"===e.kind))&&"NotAllowedError"===t.name&&(e.muted=!0,e.play().catch((()=>{})))})),this.emit(gC.ElementAttached,e),e}detach(e){try{if(e){DP(this.mediaStreamTrack,e);const t=this.attachedElements.indexOf(e);return t>=0&&(this.attachedElements.splice(t,1),this.recycleElement(e),this.emit(gC.ElementDetached,e)),e}const t=[];return this.attachedElements.forEach((e=>{DP(this.mediaStreamTrack,e),t.push(e),this.recycleElement(e),this.emit(gC.ElementDetached,e)})),this.attachedElements=[],t}finally{0===this.attachedElements.length&&this.removeAppVisibilityListener()}}stop(){this.stopMonitor(),this._mediaStreamTrack.stop()}enable(){this._mediaStreamTrack.enabled=!0}disable(){this._mediaStreamTrack.enabled=!1}stopMonitor(){this.monitorInterval&&clearInterval(this.monitorInterval)}updateLoggerOptions(e){e.loggerName&&(this.log=u_(e.loggerName)),e.loggerContextCb&&(this.loggerContextCb=e.loggerContextCb)}recycleElement(e){if(e instanceof HTMLAudioElement){let t=!0;e.pause(),IP.forEach((e=>{e.parentElement||(t=!1)})),t&&IP.push(e)}}handleAppVisibilityChanged(){return zO(this,void 0,void 0,(function*(){this.isInBackground="hidden"===document.visibilityState}))}addAppVisibilityListener(){ZP()?(this.isInBackground="hidden"===document.visibilityState,document.addEventListener("visibilitychange",this.appVisibilityChangedListener)):this.isInBackground=!1}removeAppVisibilityListener(){ZP()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}}function MP(e,t){let r,n;r=t.srcObject instanceof MediaStream?t.srcObject:new MediaStream,n="audio"===e.kind?r.getAudioTracks():r.getVideoTracks(),n.includes(e)||(n.forEach((e=>{r.removeTrack(e)})),r.addTrack(e)),YP()&&t instanceof HTMLVideoElement||(t.autoplay=!0),t.muted=0===r.getAudioTracks().length,t instanceof HTMLVideoElement&&(t.playsInline=!0),t.srcObject!==r&&(t.srcObject=r,(YP()||XP())&&t instanceof HTMLVideoElement&&setTimeout((()=>{t.srcObject=r,t.play().catch((()=>{}))}),0))}function DP(e,t){if(t.srcObject instanceof MediaStream){const r=t.srcObject;r.removeTrack(e),r.getTracks().length>0?t.srcObject=r:t.srcObject=null}}function NP(e,t){return Object.keys(t).forEach((r=>{void 0===e[r]&&(e[r]=t[r])})),e}function LP(e){const t={};if(e.video)if("object"==typeof e.video){const r={},n=r,o=e.video;Object.keys(o).forEach((e=>{"resolution"===e?NP(n,o.resolution):n[e]=o[e]})),t.video=r}else t.video=e.video;else t.video=!1;return e.audio?"object"==typeof e.audio?t.audio=e.audio:t.audio=!0:t.audio=!1,t}function UP(){const e="undefined"!=typeof window&&(window.AudioContext||window.webkitAudioContext);if(e)return new e({latencyHint:"interactive"})}function BP(e){const t=e.split("/")[1].toLowerCase();if(!DC.includes(t))throw Error("Video codec not supported: ".concat(t));return t}function FP(e){const t=[];return e.forEach((e=>{void 0!==e.track&&t.push(new nP({cid:e.track.mediaStreamID,track:e.trackInfo}))})),t}function qP(e){return e instanceof RP?{trackSid:e.sid,trackSource:e.source,trackMuted:e.isMuted,trackEnabled:e.mediaStreamTrack.enabled,trackKind:e.kind}:{trackSid:e.trackSid,trackName:e.trackName,track:e.track?qP(e.track):void 0,trackEnabled:e.isEnabled,trackEncrypted:e.isEncrypted,trackMimeType:e.mimeType}}!function(e){let t,r,n;!function(e){e.Audio="audio",e.Video="video",e.Unknown="unknown"}(t=e.Kind||(e.Kind={})),function(e){e.Camera="camera",e.Microphone="microphone",e.ScreenShare="screen_share",e.ScreenShareAudio="screen_share_audio",e.Unknown="unknown"}(r=e.Source||(e.Source={})),function(e){e.Active="active",e.Paused="paused",e.Unknown="unknown"}(n=e.StreamState||(e.StreamState={})),e.kindToProto=function(e){switch(e){case t.Audio:return RS.AUDIO;case t.Video:return RS.VIDEO;default:return RS.DATA}},e.kindFromProto=function(e){switch(e){case RS.AUDIO:return t.Audio;case RS.VIDEO:return t.Video;default:return t.Unknown}},e.sourceToProto=function(e){switch(e){case r.Camera:return DS.CAMERA;case r.Microphone:return DS.MICROPHONE;case r.ScreenShare:return DS.SCREEN_SHARE;case r.ScreenShareAudio:return DS.SCREEN_SHARE_AUDIO;default:return DS.UNKNOWN}},e.sourceFromProto=function(e){switch(e){case DS.CAMERA:return r.Camera;case DS.MICROPHONE:return r.Microphone;case DS.SCREEN_SHARE:return r.ScreenShare;case DS.SCREEN_SHARE_AUDIO:return r.ScreenShareAudio;default:return r.Unknown}},e.streamStateFromProto=function(e){switch(e){case VC.ACTIVE:return n.Active;case VC.PAUSED:return n.Paused;default:return n.Unknown}}}(RP||(RP={}));const WP="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension";function HP(e){return zO(this,void 0,void 0,(function*(){return new Promise((t=>IC.setTimeout(t,e)))}))}function VP(){return"addTransceiver"in RTCPeerConnection.prototype}function JP(){return"addTrack"in RTCPeerConnection.prototype}function GP(e){return"av1"===e||"vp9"===e}function KP(e){return!!document&&(e||(e=document.createElement("audio")),"setSinkId"in e)}const $P={Chrome:"100",Safari:"15",Firefox:"100"};function XP(){var e;return"Firefox"===(null===(e=jC())||void 0===e?void 0:e.name)}function YP(){var e;return"Safari"===(null===(e=jC())||void 0===e?void 0:e.name)}function QP(){return!!ZP()&&/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent)}function ZP(){return"undefined"!=typeof document}function eT(){return"ReactNative"==navigator.product}function tT(e){return e.hostname.endsWith(".livekit.cloud")||e.hostname.endsWith(".livekit.run")}function rT(){if(global&&global.LiveKitReactNativeGlobal)return global.LiveKitReactNativeGlobal}function nT(){if(!eT())return;let e=rT();return e?e.platform:void 0}function oT(){if(ZP())return window.devicePixelRatio;if(eT()){let e=rT();if(e)return e.devicePixelRatio}return 1}function iT(e,t){const r=e.split("."),n=t.split("."),o=Math.min(r.length,n.length);for(let e=0;e<o;++e){const t=parseInt(r[e],10),i=parseInt(n[e],10);if(t>i)return 1;if(t<i)return-1;if(e===o-1&&t===i)return 0}return""===e&&""!==t?-1:""===t?1:r.length==n.length?0:r.length<n.length?-1:1}function aT(e){for(const t of e)t.target.handleResize(t)}function sT(e){for(const t of e)t.target.handleVisibilityChanged(t)}let cT=null;const lT=()=>(cT||(cT=new ResizeObserver(aT)),cT);let uT=null;const dT=()=>(uT||(uT=new IntersectionObserver(sT,{root:null,rootMargin:"0px"})),uT);let pT;function fT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=document.createElement("canvas");o.width=e,o.height=t;const i=o.getContext("2d");null==i||i.fillRect(0,0,o.width,o.height),n&&i&&(i.beginPath(),i.arc(e/2,t/2,50,0,2*Math.PI,!0),i.closePath(),i.fillStyle="grey",i.fill());const a=o.captureStream(),[s]=a.getTracks();if(!s)throw Error("Could not get empty media stream video track");return s.enabled=r,s}function hT(){if(!pT){const e=new AudioContext,t=e.createOscillator(),r=e.createGain();r.gain.setValueAtTime(0,0);const n=e.createMediaStreamDestination();if(t.connect(r),r.connect(n),t.start(),[pT]=n.stream.getAudioTracks(),!pT)throw Error("Could not get empty media stream audio track");pT.enabled=!1}return pT.clone()}class mT{constructor(e,t){this.onFinally=t,this.promise=new Promise(((t,r)=>zO(this,void 0,void 0,(function*(){this.resolve=t,this.reject=r,e&&(yield e(t,r))})))).finally((()=>{var e;return null===(e=this.onFinally)||void 0===e?void 0:e.call(this)}))}}class yT{constructor(){this._locking=Promise.resolve(),this._locks=0}isLocked(){return this._locks>0}lock(){let e;this._locks+=1;const t=new Promise((t=>e=()=>{this._locks-=1,t()})),r=this._locking.then((()=>e));return this._locking=this._locking.then((()=>t)),r}}function gT(e){if("string"==typeof e)return e;if(Array.isArray(e))return e[0];if(e.exact)return Array.isArray(e.exact)?e.exact[0]:e.exact;if(e.ideal)return Array.isArray(e.ideal)?e.ideal[0]:e.ideal;throw Error("could not unwrap constraint")}function bT(e){return e.startsWith("ws")?e.replace(/^(ws)/,"http"):e}const vT="default";class kT{static getInstance(){return void 0===this.instance&&(this.instance=new kT),this.instance}getDevices(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var r;return zO(this,void 0,void 0,(function*(){if((null===(r=kT.userMediaPromiseMap)||void 0===r?void 0:r.size)>0){l_.debug("awaiting getUserMedia promise");try{e?yield kT.userMediaPromiseMap.get(e):yield Promise.all(kT.userMediaPromiseMap.values())}catch(e){l_.warn("error waiting for media permissons")}}let n=yield navigator.mediaDevices.enumerateDevices();if(t&&(!YP()||!this.hasDeviceInUse(e))&&(0===n.length||n.some((t=>{const r=""===t.label,n=!e||t.kind===e;return r&&n})))){const t={video:"audioinput"!==e&&"audiooutput"!==e,audio:"videoinput"!==e},r=yield navigator.mediaDevices.getUserMedia(t);n=yield navigator.mediaDevices.enumerateDevices(),r.getTracks().forEach((e=>{e.stop()}))}return e&&(n=n.filter((t=>t.kind===e))),n}))}normalizeDeviceId(e,t,r){return zO(this,void 0,void 0,(function*(){if(t!==vT)return t;const n=(yield this.getDevices(e)).find((e=>e.groupId===r&&e.deviceId!==vT));return null==n?void 0:n.deviceId}))}hasDeviceInUse(e){return e?kT.userMediaPromiseMap.has(e):kT.userMediaPromiseMap.size>0}}kT.mediaDeviceKinds=["audioinput","audiooutput","videoinput"],kT.userMediaPromiseMap=new Map;class wT extends RP{get constraints(){return this._constraints}constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(e,t,arguments.length>4?arguments[4]:void 0),this._isUpstreamPaused=!1,this.handleTrackMuteEvent=()=>this.debouncedTrackMuteHandler().catch((()=>this.log.debug("track mute bounce got cancelled by an unmute event",this.logContext))),this.debouncedTrackMuteHandler=PC((()=>zO(this,void 0,void 0,(function*(){yield this.pauseUpstream()}))),5e3),this.handleTrackUnmuteEvent=()=>zO(this,void 0,void 0,(function*(){this.debouncedTrackMuteHandler.cancel("unmute"),yield this.resumeUpstream()})),this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),this.emit(gC.Ended,this)},this.reacquireTrack=!1,this.providedByUser=n,this.muteLock=new yT,this.pauseUpstreamLock=new yT,this.processorLock=new yT,this.setMediaStreamTrack(e,!0),this._constraints=e.getConstraints(),r&&(this._constraints=r)}get id(){return this._mediaStreamTrack.id}get dimensions(){if(this.kind!==RP.Kind.Video)return;const{width:e,height:t}=this._mediaStreamTrack.getSettings();return e&&t?{width:e,height:t}:void 0}get isUpstreamPaused(){return this._isUpstreamPaused}get isUserProvided(){return this.providedByUser}get mediaStreamTrack(){var e,t;return null!==(t=null===(e=this.processor)||void 0===e?void 0:e.processedTrack)&&void 0!==t?t:this._mediaStreamTrack}setMediaStreamTrack(e,t){return zO(this,void 0,void 0,(function*(){if(e===this._mediaStreamTrack&&!t)return;let r;if(this._mediaStreamTrack&&(this.attachedElements.forEach((e=>{DP(this._mediaStreamTrack,e)})),this.debouncedTrackMuteHandler.cancel("new-track"),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent)),this.mediaStream=new MediaStream([e]),e&&(e.addEventListener("ended",this.handleEnded),e.addEventListener("mute",this.handleTrackMuteEvent),e.addEventListener("unmute",this.handleTrackUnmuteEvent),this._constraints=e.getConstraints()),this.processor&&e&&this.processorElement){if(this.log.debug("restarting processor",this.logContext),"unknown"===this.kind)throw TypeError("cannot set processor on track of unknown kind");MP(e,this.processorElement),this.processorElement.muted=!0,yield this.processor.restart({track:e,kind:this.kind,element:this.processorElement}),r=this.processor.processedTrack}this.sender&&(yield this.sender.replaceTrack(null!=r?r:e)),this.providedByUser||this._mediaStreamTrack===e||this._mediaStreamTrack.stop(),this._mediaStreamTrack=e,e&&(this._mediaStreamTrack.enabled=!this.isMuted,yield this.resumeUpstream(),this.attachedElements.forEach((t=>{MP(null!=r?r:e,t)})))}))}waitForDimensions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;var t;return zO(this,void 0,void 0,(function*(){if(this.kind===RP.Kind.Audio)throw new Error("cannot get dimensions for audio tracks");"iOS"===(null===(t=jC())||void 0===t?void 0:t.os)&&(yield HP(10));const r=Date.now();for(;Date.now()-r<e;){const e=this.dimensions;if(e)return e;yield HP(50)}throw new SC("unable to get track dimensions after timeout")}))}getDeviceId(){return zO(this,void 0,void 0,(function*(){if(this.source===RP.Source.ScreenShare)return;const{deviceId:e,groupId:t}=this._mediaStreamTrack.getSettings(),r=this.kind===RP.Kind.Audio?"audioinput":"videoinput";return kT.getInstance().normalizeDeviceId(r,e,t)}))}mute(){return zO(this,void 0,void 0,(function*(){return this.setTrackMuted(!0),this}))}unmute(){return zO(this,void 0,void 0,(function*(){return this.setTrackMuted(!1),this}))}replaceTrack(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return zO(this,void 0,void 0,(function*(){if(!this.sender)throw new SC("unable to replace an unpublished track");return this.log.debug("replace MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(e),this.providedByUser=t,this.processor&&(yield this.stopProcessor()),this}))}restart(e){return zO(this,void 0,void 0,(function*(){e||(e=this._constraints),this.log.debug("restarting track with constraints",Object.assign(Object.assign({},this.logContext),{constraints:e}));const t={audio:!1,video:!1};this.kind===RP.Kind.Video?t.video=e:t.audio=e,this.attachedElements.forEach((e=>{DP(this.mediaStreamTrack,e)})),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop();const r=(yield navigator.mediaDevices.getUserMedia(t)).getTracks()[0];return r.addEventListener("ended",this.handleEnded),this.log.debug("re-acquired MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(r),this._constraints=e,this.emit(gC.Restarted,this),this}))}setTrackMuted(e){this.log.debug("setting ".concat(this.kind," track ").concat(e?"muted":"unmuted"),this.logContext),this.isMuted===e&&this._mediaStreamTrack.enabled!==e||(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?gC.Muted:gC.Unmuted,this))}get needsReAcquisition(){return"live"!==this._mediaStreamTrack.readyState||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return zO(this,void 0,void 0,(function*(){yield e.handleAppVisibilityChanged.call(this),QP()&&(this.log.debug("visibility changed, is in Background: ".concat(this.isInBackground),this.logContext),this.isInBackground||!this.needsReAcquisition||this.isUserProvided||this.isMuted||(this.log.debug("track needs to be reacquired, restarting ".concat(this.source),this.logContext),yield this.restart(),this.reacquireTrack=!1))}))}stop(){var e;super.stop(),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),null===(e=this.processor)||void 0===e||e.destroy(),this.processor=void 0}pauseUpstream(){return zO(this,void 0,void 0,(function*(){const e=yield this.pauseUpstreamLock.lock();try{if(!0===this._isUpstreamPaused)return;if(!this.sender)return void this.log.warn("unable to pause upstream for an unpublished track",this.logContext);this._isUpstreamPaused=!0,this.emit(gC.UpstreamPaused,this);const e=jC();if("Safari"===(null==e?void 0:e.name)&&iT(e.version,"12.0")<0)throw new _C("pauseUpstream is not supported on Safari < 12.");yield this.sender.replaceTrack(null)}finally{e()}}))}resumeUpstream(){return zO(this,void 0,void 0,(function*(){const e=yield this.pauseUpstreamLock.lock();try{if(!1===this._isUpstreamPaused)return;if(!this.sender)return void this.log.warn("unable to resume upstream for an unpublished track",this.logContext);this._isUpstreamPaused=!1,this.emit(gC.UpstreamResumed,this),yield this.sender.replaceTrack(this._mediaStreamTrack)}finally{e()}}))}getRTCStatsReport(){var e;return zO(this,void 0,void 0,(function*(){if(null===(e=this.sender)||void 0===e?void 0:e.getStats)return yield this.sender.getStats()}))}setProcessor(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var r,n;return zO(this,void 0,void 0,(function*(){const o=yield this.processorLock.lock();try{if(this.log.debug("setting up processor",this.logContext),this.processor&&(yield this.stopProcessor()),"unknown"===this.kind)throw TypeError("cannot set processor on track of unknown kind");this.processorElement=null!==(r=this.processorElement)&&void 0!==r?r:document.createElement(this.kind),MP(this._mediaStreamTrack,this.processorElement),this.processorElement.muted=!0,this.processorElement.play().catch((e=>this.log.error("failed to play processor element",Object.assign(Object.assign({},this.logContext),{error:e}))));const o={kind:this.kind,track:this._mediaStreamTrack,element:this.processorElement};if(yield e.init(o),this.processor=e,this.processor.processedTrack){for(const e of this.attachedElements)e!==this.processorElement&&t&&(DP(this._mediaStreamTrack,e),MP(this.processor.processedTrack,e));yield null===(n=this.sender)||void 0===n?void 0:n.replaceTrack(this.processor.processedTrack)}}finally{o()}}))}getProcessor(){return this.processor}stopProcessor(){var e,t;return zO(this,void 0,void 0,(function*(){this.processor&&(this.log.debug("stopping processor",this.logContext),null===(e=this.processor.processedTrack)||void 0===e||e.stop(),yield this.processor.destroy(),this.processor=void 0,null===(t=this.processorElement)||void 0===t||t.remove(),this.processorElement=void 0,yield this.restart())}))}}class _T extends XO.EventEmitter{constructor(e){super(),this.onWorkerMessage=e=>{var t,r;const{kind:n,data:o}=e.data;switch(n){case"error":l_.error(o.error.message),this.emit(aC.EncryptionError,o.error);break;case"initAck":o.enabled&&this.keyProvider.getKeys().forEach((e=>{this.postKey(e)}));break;case"enable":if(this.encryptionEnabled!==o.enabled&&o.participantIdentity===(null===(t=this.room)||void 0===t?void 0:t.localParticipant.identity))this.emit(aC.ParticipantEncryptionStatusChanged,o.enabled,this.room.localParticipant),this.encryptionEnabled=o.enabled;else if(o.participantIdentity){const e=null===(r=this.room)||void 0===r?void 0:r.getParticipantByIdentity(o.participantIdentity);if(!e)throw TypeError("couldn't set encryption status, participant not found".concat(o.participantIdentity));this.emit(aC.ParticipantEncryptionStatusChanged,o.enabled,e)}this.encryptionEnabled&&this.keyProvider.getKeys().forEach((e=>{this.postKey(e)}));break;case"ratchetKey":this.keyProvider.emit(nC.KeyRatcheted,o.material,o.keyIndex)}},this.onWorkerError=e=>{l_.error("e2ee worker encountered an error:",{error:e.error}),this.emit(aC.EncryptionError,e.error)},this.keyProvider=e.keyProvider,this.worker=e.worker,this.encryptionEnabled=!1}setup(e){if(!(void 0!==window.RTCRtpSender&&void 0!==window.RTCRtpSender.prototype.createEncodedStreams||vC()))throw new _C("tried to setup end-to-end encryption on an unsupported browser");if(l_.info("setting up e2ee"),e!==this.room){this.room=e,this.setupEventListeners(e,this.keyProvider);const t={kind:"init",data:{keyProviderOptions:this.keyProvider.getOptions()}};this.worker&&(l_.info("initializing worker",{worker:this.worker}),this.worker.onmessage=this.onWorkerMessage,this.worker.onerror=this.onWorkerError,this.worker.postMessage(t))}}setParticipantCryptorEnabled(e,t){l_.debug("set e2ee to ".concat(e," for participant ").concat(t)),this.postEnable(e,t)}setSifTrailer(e){e&&0!==e.length?this.postSifTrailer(e):l_.warn("ignoring server sent trailer as it's empty")}setupEngine(e){e.on(mC.RTPVideoMapUpdate,(e=>{this.postRTPMap(e)}))}setupEventListeners(e,t){e.on(dC.TrackPublished,((e,t)=>this.setParticipantCryptorEnabled(e.trackInfo.encryption!==iO.NONE,t.identity))),e.on(dC.ConnectionStateChanged,(t=>{t===Bx.Connected&&e.participants.forEach((e=>{e.tracks.forEach((t=>{this.setParticipantCryptorEnabled(t.trackInfo.encryption!==iO.NONE,e.identity)}))}))})).on(dC.TrackUnsubscribed,((e,t,r)=>{var n;const o={kind:"removeTransform",data:{participantIdentity:r.identity,trackId:e.mediaStreamID}};null===(n=this.worker)||void 0===n||n.postMessage(o)})).on(dC.TrackSubscribed,((e,t,r)=>{this.setupE2EEReceiver(e,r.identity,t.trackInfo)})).on(dC.SignalConnected,(()=>{if(!this.room)throw new TypeError("expected room to be present on signal connect");this.setParticipantCryptorEnabled(this.room.localParticipant.isE2EEEnabled,this.room.localParticipant.identity),t.getKeys().forEach((e=>{this.postKey(e)}))})),e.localParticipant.on(fC.LocalTrackPublished,(e=>zO(this,void 0,void 0,(function*(){this.setupE2EESender(e.track,e.track.sender)})))),t.on(nC.SetKey,(e=>this.postKey(e))).on(nC.RatchetRequest,((e,t)=>this.postRatchetRequest(e,t)))}postRatchetRequest(e,t){if(!this.worker)throw Error("could not ratchet key, worker is missing");const r={kind:"ratchetRequest",data:{participantIdentity:e,keyIndex:t}};this.worker.postMessage(r)}postKey(e){let{key:t,participantIdentity:r,keyIndex:n}=e;var o;if(!this.worker)throw Error("could not set key, worker is missing");const i={kind:"setKey",data:{participantIdentity:r,isPublisher:r===(null===(o=this.room)||void 0===o?void 0:o.localParticipant.identity),key:t,keyIndex:n}};this.worker.postMessage(i)}postEnable(e,t){if(!this.worker)throw new ReferenceError("failed to enable e2ee, worker is not ready");{const r={kind:"enable",data:{enabled:e,participantIdentity:t}};this.worker.postMessage(r)}}postRTPMap(e){var t;if(!this.worker)throw TypeError("could not post rtp map, worker is missing");if(!(null===(t=this.room)||void 0===t?void 0:t.localParticipant.identity))throw TypeError("could not post rtp map, local participant identity is missing");const r={kind:"setRTPMap",data:{map:e,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(r)}postSifTrailer(e){if(!this.worker)throw Error("could not post SIF trailer, worker is missing");const t={kind:"setSifTrailer",data:{trailer:e}};this.worker.postMessage(t)}setupE2EEReceiver(e,t,r){if(e.receiver){if(!(null==r?void 0:r.mimeType)||""===r.mimeType)throw new TypeError("MimeType missing from trackInfo, cannot set up E2EE cryptor");this.handleReceiver(e.receiver,e.mediaStreamID,t,"video"===e.kind?BP(r.mimeType):void 0)}}setupE2EESender(e,t){e instanceof wT&&t?this.handleSender(t,e.mediaStreamID,void 0):t||l_.warn("early return because sender is not ready")}handleReceiver(e,t,r,n){return zO(this,void 0,void 0,(function*(){if(this.worker){if(vC()){const o={kind:"decode",participantIdentity:r,trackId:t,codec:n};e.transform=new RTCRtpScriptTransform(this.worker,o)}else{if(rC in e&&n){const e={kind:"updateCodec",data:{trackId:t,codec:n,participantIdentity:r}};return void this.worker.postMessage(e)}let o=e.writableStream,i=e.readableStream;if(!o||!i){const t=e.createEncodedStreams();e.writableStream=t.writable,o=t.writable,e.readableStream=t.readable,i=t.readable}const a={kind:"decode",data:{readableStream:i,writableStream:o,trackId:t,codec:n,participantIdentity:r}};this.worker.postMessage(a,[i,o])}e[rC]=!0}}))}handleSender(e,t,r){var n;if(!(rC in e)&&this.worker){if(!(null===(n=this.room)||void 0===n?void 0:n.localParticipant.identity)||""===this.room.localParticipant.identity)throw TypeError("local identity needs to be known in order to set up encrypted sender");if(vC()){l_.info("initialize script transform");const n={kind:"encode",participantIdentity:this.room.localParticipant.identity,trackId:t,codec:r};e.transform=new RTCRtpScriptTransform(this.worker,n)}else{l_.info("initialize encoded streams");const n=e.createEncodedStreams(),o={kind:"encode",data:{readableStream:n.readable,writableStream:n.writable,codec:r,trackId:t,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(o,[n.readable,n.writable])}e[rC]=!0}}}var ST,OT;(OT=ST||(ST={}))[OT.WAITING=0]="WAITING",OT[OT.RUNNING=1]="RUNNING",OT[OT.COMPLETED=2]="COMPLETED";class ET{constructor(){this.pendingTasks=new Map,this.taskMutex=new yT,this.nextTaskIndex=0}run(e){return zO(this,void 0,void 0,(function*(){const t={id:this.nextTaskIndex++,enqueuedAt:Date.now(),status:ST.WAITING};this.pendingTasks.set(t.id,t);const r=yield this.taskMutex.lock();try{return t.executedAt=Date.now(),t.status=ST.RUNNING,yield e()}finally{t.status=ST.COMPLETED,this.pendingTasks.delete(t.id),r()}}))}flush(){return zO(this,void 0,void 0,(function*(){return this.run((()=>zO(this,void 0,void 0,(function*(){}))))}))}snapshot(){return Array.from(this.pendingTasks.values())}}const CT=["syncState","trickle","offer","answer","simulate","leave"];var PT,TT;(TT=PT||(PT={}))[TT.CONNECTING=0]="CONNECTING",TT[TT.CONNECTED=1]="CONNECTED",TT[TT.RECONNECTING=2]="RECONNECTING",TT[TT.DISCONNECTING=3]="DISCONNECTING",TT[TT.DISCONNECTED=4]="DISCONNECTED";class xT{get currentState(){return this.state}get isDisconnected(){return this.state===PT.DISCONNECTING||this.state===PT.DISCONNECTED}get isEstablishingConnection(){return this.state===PT.CONNECTING||this.state===PT.RECONNECTING}constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.rtt=0,this.state=PT.DISCONNECTED,this.log=l_,this.resetCallbacks=()=>{this.onAnswer=void 0,this.onLeave=void 0,this.onLocalTrackPublished=void 0,this.onLocalTrackUnpublished=void 0,this.onNegotiateRequested=void 0,this.onOffer=void 0,this.onRemoteMuteChanged=void 0,this.onSubscribedQualityUpdate=void 0,this.onTokenRefresh=void 0,this.onTrickle=void 0,this.onClose=void 0},this.log=u_(null!==(r=t.loggerName)&&void 0!==r?r:a_.Signal),this.loggerContextCb=t.loggerContextCb,this.useJSON=e,this.requestQueue=new ET,this.queuedRequests=[],this.closingLock=new yT,this.connectionLock=new yT,this.state=PT.DISCONNECTED}get logContext(){var e,t;return null!==(t=null===(e=this.loggerContextCb)||void 0===e?void 0:e.call(this))&&void 0!==t?t:{}}join(e,t,r,n){return zO(this,void 0,void 0,(function*(){return this.state=PT.CONNECTING,this.options=r,yield this.connect(e,t,r,n)}))}reconnect(e,t,r,n){return zO(this,void 0,void 0,(function*(){if(this.options)return this.state=PT.RECONNECTING,this.clearPingInterval(),yield this.connect(e,t,Object.assign(Object.assign({},this.options),{reconnect:!0,sid:r,reconnectReason:n}));this.log.warn("attempted to reconnect without signal options being set, ignoring",this.logContext)}))}connect(e,t,r,n){this.connectOptions=r,e=(e=function(e){return e.startsWith("http")?e.replace(/^(http)/,"ws"):e}(e)).replace(/\/$/,""),e+="/rtc";const o=function(e,t,r){var n;const o=new URLSearchParams;return o.set("access_token",e),r.reconnect&&(o.set("reconnect","1"),r.sid&&o.set("sid",r.sid)),o.set("auto_subscribe",r.autoSubscribe?"1":"0"),o.set("sdk",eT()?"reactnative":"js"),o.set("version",t.version),o.set("protocol",t.protocol.toString()),t.deviceModel&&o.set("device_model",t.deviceModel),t.os&&o.set("os",t.os),t.osVersion&&o.set("os_version",t.osVersion),t.browser&&o.set("browser",t.browser),t.browserVersion&&o.set("browser_version",t.browserVersion),void 0!==r.publishOnly&&o.set("publish",r.publishOnly),r.adaptiveStream&&o.set("adaptive_stream","1"),r.reconnectReason&&o.set("reconnect_reason",r.reconnectReason.toString()),(null===(n=navigator.connection)||void 0===n?void 0:n.type)&&o.set("network",navigator.connection.type),"?".concat(o.toString())}(t,function(){var e;const t=new SO({sdk:uO.JS,protocol:11,version:"1.15.13"});return eT()&&(t.os=null!==(e=nT())&&void 0!==e?e:""),t}(),r);return new Promise(((t,i)=>zO(this,void 0,void 0,(function*(){const a=yield this.connectionLock.lock();try{const a=()=>zO(this,void 0,void 0,(function*(){this.close(),clearTimeout(s),i(new wC("room connection has been cancelled (signal)"))})),s=setTimeout((()=>{this.close(),i(new wC("room connection has timed out (signal)"))}),r.websocketTimeout);(null==n?void 0:n.aborted)&&a(),null==n||n.addEventListener("abort",a),this.log.debug("connecting to ".concat(e+o),this.logContext),this.ws&&(yield this.close(!1)),this.ws=new WebSocket(e+o),this.ws.binaryType="arraybuffer",this.ws.onopen=()=>{clearTimeout(s)},this.ws.onerror=t=>zO(this,void 0,void 0,(function*(){if(this.state===PT.CONNECTED)this.handleWSError(t);else{clearTimeout(s);try{const t=yield fetch("http".concat(e.substring(2),"/validate").concat(o));if(t.status.toFixed(0).startsWith("4")){const e=yield t.text();i(new wC(e,0,t.status))}else i(new wC("Internal error",2,t.status))}catch(e){i(new wC("server was not reachable",1))}}})),this.ws.onmessage=e=>zO(this,void 0,void 0,(function*(){var o,s,c,l;let u;if("string"==typeof e.data){const t=JSON.parse(e.data);u=XC.fromJson(t)}else{if(!(e.data instanceof ArrayBuffer))return void this.log.error("could not decode websocket message: ".concat(typeof e.data),this.logContext);u=XC.fromBinary(new Uint8Array(e.data))}if(this.state!==PT.CONNECTED){let e=!1;if("join"===(null===(o=u.message)||void 0===o?void 0:o.case)?(this.state=PT.CONNECTED,null==n||n.removeEventListener("abort",a),this.pingTimeoutDuration=u.message.value.pingTimeout,this.pingIntervalDuration=u.message.value.pingInterval,this.pingTimeoutDuration&&this.pingTimeoutDuration>0&&(this.log.debug("ping config",Object.assign(Object.assign({},this.logContext),{timeout:this.pingTimeoutDuration,interval:this.pingIntervalDuration})),this.startPingInterval()),t(u.message.value)):this.state===PT.RECONNECTING&&"leave"!==u.message.case?(this.state=PT.CONNECTED,null==n||n.removeEventListener("abort",a),this.startPingInterval(),"reconnect"===(null===(s=u.message)||void 0===s?void 0:s.case)?t(null===(c=u.message)||void 0===c?void 0:c.value):(t(),e=!0)):this.isEstablishingConnection&&"leave"===u.message.case?i(new wC("Received leave request while trying to (re)connect",4)):r.reconnect||i(new wC("did not receive join response, got ".concat(null===(l=u.message)||void 0===l?void 0:l.case," instead"))),!e)return}this.signalLatency&&(yield HP(this.signalLatency)),this.handleSignalResponse(u)})),this.ws.onclose=e=>{this.isEstablishingConnection&&i(new wC("Websocket got closed during a (re)connection attempt")),this.log.warn("websocket closed",Object.assign(Object.assign({},this.logContext),{reason:e.reason,state:this.state})),this.handleOnClose(e.reason)}}finally{a()}}))))}close(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return zO(this,void 0,void 0,(function*(){const t=yield this.closingLock.lock();try{if(e&&(this.state=PT.DISCONNECTING),this.ws){this.ws.onmessage=null,this.ws.onopen=null,this.ws.onclose=null;const e=new Promise((e=>{this.ws?this.ws.onclose=()=>{e()}:e()}));this.ws.readyState<this.ws.CLOSING&&(this.ws.close(),yield Promise.race([e,HP(250)])),this.ws=void 0}}finally{e&&(this.state=PT.DISCONNECTED),this.clearPingInterval(),t()}}))}sendOffer(e){this.log.debug("sending offer",Object.assign(Object.assign({},this.logContext),{offerSdp:e.sdp})),this.sendRequest({case:"offer",value:AT(e)})}sendAnswer(e){return this.log.debug("sending answer",Object.assign(Object.assign({},this.logContext),{answerSdp:e.sdp})),this.sendRequest({case:"answer",value:AT(e)})}sendIceCandidate(e,t){return this.log.trace("sending ice candidate",Object.assign(Object.assign({},this.logContext),{candidate:e})),this.sendRequest({case:"trickle",value:new ZC({candidateInit:JSON.stringify(e),target:t})})}sendMuteTrack(e,t){return this.sendRequest({case:"mute",value:new eP({sid:e,muted:t})})}sendAddTrack(e){return this.sendRequest({case:"addTrack",value:e})}sendUpdateLocalMetadata(e,t){return this.sendRequest({case:"updateMetadata",value:new dP({metadata:e,name:t})})}sendUpdateTrackSettings(e){this.sendRequest({case:"trackSetting",value:e})}sendUpdateSubscription(e){return this.sendRequest({case:"subscription",value:e})}sendSyncState(e){return this.sendRequest({case:"syncState",value:e})}sendUpdateVideoLayers(e,t){return this.sendRequest({case:"updateLayers",value:new uP({trackSid:e,layers:t})})}sendUpdateSubscriptionPermissions(e,t){return this.sendRequest({case:"subscriptionPermission",value:new SP({allParticipants:e,trackPermissions:t})})}sendSimulateScenario(e){return this.sendRequest({case:"simulate",value:e})}sendPing(){return Promise.all([this.sendRequest({case:"ping",value:R_.parse(Date.now())}),this.sendRequest({case:"pingReq",value:new TP({timestamp:R_.parse(Date.now()),rtt:R_.parse(this.rtt)})})])}sendLeave(){return this.sendRequest({case:"leave",value:new lP({canReconnect:!1,reason:HS.CLIENT_INITIATED})})}sendRequest(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return zO(this,void 0,void 0,(function*(){const r=!t&&!function(e){const t=CT.indexOf(e.case)>=0;return l_.trace("request allowed to bypass queue:",{canPass:t,req:e}),t}(e);if(r&&this.state===PT.RECONNECTING)return void this.queuedRequests.push((()=>zO(this,void 0,void 0,(function*(){yield this.sendRequest(e,!0)}))));if(t||(yield this.requestQueue.flush()),this.signalLatency&&(yield HP(this.signalLatency)),!this.ws||this.ws.readyState!==this.ws.OPEN)return void this.log.error("cannot send signal request before connected, type: ".concat(null==e?void 0:e.case),this.logContext);const n=new $C({message:e});try{this.useJSON?this.ws.send(n.toJsonString()):this.ws.send(n.toBinary())}catch(e){this.log.error("error sending signal message",Object.assign(Object.assign({},this.logContext),{error:e}))}}))}handleSignalResponse(e){var t,r;const n=e.message;if(null==n)return void this.log.debug("received unsupported message",this.logContext);let o=!1;if("answer"===n.case){const e=jT(n.value);this.onAnswer&&this.onAnswer(e)}else if("offer"===n.case){const e=jT(n.value);this.onOffer&&this.onOffer(e)}else if("trickle"===n.case){const e=JSON.parse(n.value.candidateInit);this.onTrickle&&this.onTrickle(e,n.value.target)}else"update"===n.case?this.onParticipantUpdate&&this.onParticipantUpdate(null!==(t=n.value.participants)&&void 0!==t?t:[]):"trackPublished"===n.case?this.onLocalTrackPublished&&this.onLocalTrackPublished(n.value):"speakersChanged"===n.case?this.onSpeakersChanged&&this.onSpeakersChanged(null!==(r=n.value.speakers)&&void 0!==r?r:[]):"leave"===n.case?this.onLeave&&this.onLeave(n.value):"mute"===n.case?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(n.value.sid,n.value.muted):"roomUpdate"===n.case?this.onRoomUpdate&&n.value.room&&this.onRoomUpdate(n.value.room):"connectionQuality"===n.case?this.onConnectionQuality&&this.onConnectionQuality(n.value):"streamStateUpdate"===n.case?this.onStreamStateUpdate&&this.onStreamStateUpdate(n.value):"subscribedQualityUpdate"===n.case?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(n.value):"subscriptionPermissionUpdate"===n.case?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(n.value):"refreshToken"===n.case?this.onTokenRefresh&&this.onTokenRefresh(n.value):"trackUnpublished"===n.case?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(n.value):"subscriptionResponse"===n.case?this.onSubscriptionError&&this.onSubscriptionError(n.value):"pong"===n.case||("pongResp"===n.case?(this.rtt=Date.now()-Number.parseInt(n.value.lastPingTimestamp.toString()),this.resetPingTimeout(),o=!0):this.log.debug("unsupported message",Object.assign(Object.assign({},this.logContext),{msgCase:n.case})));o||this.resetPingTimeout()}setReconnected(){for(;this.queuedRequests.length>0;){const e=this.queuedRequests.shift();e&&this.requestQueue.run(e)}}handleOnClose(e){return zO(this,void 0,void 0,(function*(){if(this.state===PT.DISCONNECTED)return;const t=this.onClose;yield this.close(),this.log.debug("websocket connection closed: ".concat(e),Object.assign(Object.assign({},this.logContext),{reason:e})),t&&t(e)}))}handleWSError(e){this.log.error("websocket error",Object.assign(Object.assign({},this.logContext),{error:e}))}resetPingTimeout(){this.clearPingTimeout(),this.pingTimeoutDuration?this.pingTimeout=IC.setTimeout((()=>{this.log.warn("ping timeout triggered. last pong received at: ".concat(new Date(Date.now()-1e3*this.pingTimeoutDuration).toUTCString()),this.logContext),this.handleOnClose("ping timeout")}),1e3*this.pingTimeoutDuration):this.log.warn("ping timeout duration not set",this.logContext)}clearPingTimeout(){this.pingTimeout&&IC.clearTimeout(this.pingTimeout)}startPingInterval(){this.clearPingInterval(),this.resetPingTimeout(),this.pingIntervalDuration?(this.log.debug("start ping interval",this.logContext),this.pingInterval=IC.setInterval((()=>{this.sendPing()}),1e3*this.pingIntervalDuration)):this.log.warn("ping interval duration not set",this.logContext)}clearPingInterval(){this.log.debug("clearing ping interval",this.logContext),this.clearPingTimeout(),this.pingInterval&&IC.clearInterval(this.pingInterval)}}function jT(e){const t={type:"offer",sdp:e.sdp};switch(e.type){case"answer":case"offer":case"pranswer":case"rollback":t.type=e.type}return t}function AT(e){return new iP({sdp:e.sdp,type:e.type})}var zT={},IT={exports:{}},RT=IT.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",(t+=null!=e.rateNumerator?" rate=%s":"")+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(RT).forEach((function(e){RT[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}));var MT=IT.exports;!function(e){var t=function(e){return String(Number(e))===e?Number(e):e},r=function(e,r,n){var o=e.name&&e.names;e.push&&!r[e.push]?r[e.push]=[]:o&&!r[e.name]&&(r[e.name]={});var i=e.push?{}:o?r[e.name]:r;!function(e,r,n,o){if(o&&!n)r[o]=t(e[1]);else for(var i=0;i<n.length;i+=1)null!=e[i+1]&&(r[n[i]]=t(e[i+1]))}(n.match(e.reg),i,e.names,e.name),e.push&&r[e.push].push(i)},n=MT,o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(e){var t={},i=[],a=t;return e.split(/(\r\n|\r|\n)/).filter(o).forEach((function(e){var t=e[0],o=e.slice(2);"m"===t&&(i.push({rtp:[],fmtp:[]}),a=i[i.length-1]);for(var s=0;s<(n[t]||[]).length;s+=1){var c=n[t][s];if(c.reg.test(o))return r(c,a,o)}})),t.media=i,t};var i=function(e,r){var n=r.split(/=(.+)/,2);return 2===n.length?e[n[0]]=t(n[1]):1===n.length&&r.length>1&&(e[n[0]]=void 0),e};e.parseParams=function(e){return e.split(/;\s?/).reduce(i,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(e){return e.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(e){for(var r=[],n=e.split(" ").map(t),o=0;o<n.length;o+=3)r.push({component:n[o],ip:n[o+1],port:n[o+2]});return r},e.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(i,{})}))},e.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var r,n=!1;return"~"!==e[0]?r=t(e):(r=t(e.substring(1,e.length)),n=!0),{scid:r,paused:n}}))}))}}(zT);var DT=MT,NT=/%[sdv%]/g,LT=function(e){var t=1,r=arguments,n=r.length;return e.replace(NT,(function(e){if(t>=n)return e;var o=r[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(o);case"%d":return Number(o);case"%v":return""}}))},UT=function(e,t,r){var n=[e+"="+(t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format)];if(t.names)for(var o=0;o<t.names.length;o+=1){var i=t.names[o];t.name?n.push(r[t.name][i]):n.push(r[t.names[o]])}else n.push(r[t.name]);return LT.apply(null,n)},BT=["v","o","s","i","u","e","p","c","b","t","r","z","a"],FT=["i","c","b","a"],qT=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var r=t.outerOrder||BT,n=t.innerOrder||FT,o=[];return r.forEach((function(t){DT[t].forEach((function(r){r.name in e&&null!=e[r.name]?o.push(UT(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){o.push(UT(t,r,e))}))}))})),e.media.forEach((function(e){o.push(UT("m",DT.m[0],e)),n.forEach((function(t){DT[t].forEach((function(r){r.name in e&&null!=e[r.name]?o.push(UT(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){o.push(UT(t,r,e))}))}))}))})),o.join("\r\n")+"\r\n"},WT=zT.parse;const HT="negotiationStarted",VT="negotiationComplete",JT="rtpVideoPayloadTypes";class GT extends XO.EventEmitter{get pc(){return this._pc||(this._pc=this.createPC()),this._pc}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n;super(),this.log=l_,this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.trackBitrates=[],this.remoteStereoMids=[],this.remoteNackMids=[],this.negotiate=PC((e=>zO(this,void 0,void 0,(function*(){this.emit(HT);try{yield this.createAndSendOffer()}catch(t){if(!e)throw t;e(t)}}))),100),this.close=()=>{this._pc&&(this._pc.close(),this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.ondatachannel=null,this._pc.onnegotiationneeded=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ondatachannel=null,this._pc.ontrack=null,this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc=null)},this.log=u_(null!==(n=r.loggerName)&&void 0!==n?n:a_.PCTransport),this.loggerOptions=r,this.config=e,this.mediaConstraints=t,this._pc=this.createPC()}createPC(){const e="Chrome"===(null===(t=jC())||void 0===t?void 0:t.name)?new RTCPeerConnection(this.config,this.mediaConstraints):new RTCPeerConnection(this.config);var t;return e.onicecandidate=e=>{var t;e.candidate&&(null===(t=this.onIceCandidate)||void 0===t||t.call(this,e.candidate))},e.onicecandidateerror=e=>{var t;null===(t=this.onIceCandidateError)||void 0===t||t.call(this,e)},e.oniceconnectionstatechange=()=>{var t;null===(t=this.onIceConnectionStateChange)||void 0===t||t.call(this,e.iceConnectionState)},e.onsignalingstatechange=()=>{var t;null===(t=this.onSignalingStatechange)||void 0===t||t.call(this,e.signalingState)},e.onconnectionstatechange=()=>{var t;null===(t=this.onConnectionStateChange)||void 0===t||t.call(this,e.connectionState)},e.ondatachannel=e=>{var t;null===(t=this.onDataChannel)||void 0===t||t.call(this,e)},e.ontrack=e=>{var t;null===(t=this.onTrack)||void 0===t||t.call(this,e)},e}get logContext(){var e,t;return Object.assign({},null===(t=(e=this.loggerOptions).loggerContextCb)||void 0===t?void 0:t.call(e))}get isICEConnected(){return null!==this._pc&&("connected"===this.pc.iceConnectionState||"completed"===this.pc.iceConnectionState)}addIceCandidate(e){return zO(this,void 0,void 0,(function*(){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(e);this.pendingCandidates.push(e)}))}setRemoteDescription(e){var t;return zO(this,void 0,void 0,(function*(){let r;if("offer"===e.type){let{stereoMids:t,nackMids:r}=function(e){var t;const r=[],n=[],o=WT(null!==(t=e.sdp)&&void 0!==t?t:"");let i=0;return o.media.forEach((e=>{var t;"audio"===e.type&&(e.rtp.some((e=>"opus"===e.codec&&(i=e.payload,!0))),(null===(t=e.rtcpFb)||void 0===t?void 0:t.some((e=>e.payload===i&&"nack"===e.type)))&&n.push(e.mid),e.fmtp.some((t=>t.payload===i&&(t.config.includes("sprop-stereo=1")&&r.push(e.mid),!0))))})),{stereoMids:r,nackMids:n}}(e);this.remoteStereoMids=t,this.remoteNackMids=r}else if("answer"===e.type){const n=WT(null!==(t=e.sdp)&&void 0!==t?t:"");n.media.forEach((e=>{"audio"===e.type&&this.trackBitrates.some((t=>{if(!t.transceiver||e.mid!=t.transceiver.mid)return!1;let r=0;if(e.rtp.some((e=>e.codec.toUpperCase()===t.codec.toUpperCase()&&(r=e.payload,!0))),0===r)return!0;let n=!1;for(const o of e.fmtp)if(o.payload===r){o.config=o.config.split(";").filter((e=>!e.includes("maxaveragebitrate"))).join(";"),t.maxbr>0&&(o.config+=";maxaveragebitrate=".concat(1e3*t.maxbr)),n=!0;break}return n||t.maxbr>0&&e.fmtp.push({payload:r,config:"maxaveragebitrate=".concat(1e3*t.maxbr)}),!0}))})),r=qT(n)}yield this.setMungedSDP(e,r,!0),this.pendingCandidates.forEach((e=>{this.pc.addIceCandidate(e)})),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate?(this.renegotiate=!1,yield this.createAndSendOffer()):"answer"===e.type&&(this.emit(VT),e.sdp)&&WT(e.sdp).media.forEach((e=>{"video"===e.type&&this.emit(JT,e.rtp)}))}))}createAndSendOffer(e){var t;return zO(this,void 0,void 0,(function*(){if(void 0===this.onOffer)return;if((null==e?void 0:e.iceRestart)&&(this.log.debug("restarting ICE",this.logContext),this.restartingIce=!0),this._pc&&"have-local-offer"===this._pc.signalingState){const t=this._pc.remoteDescription;if(!(null==e?void 0:e.iceRestart)||!t)return void(this.renegotiate=!0);yield this._pc.setRemoteDescription(t)}else if(!this._pc||"closed"===this._pc.signalingState)return void this.log.warn("could not createOffer with closed peer connection",this.logContext);this.log.debug("starting to negotiate",this.logContext);const r=yield this.pc.createOffer(e),n=WT(null!==(t=r.sdp)&&void 0!==t?t:"");n.media.forEach((e=>{"audio"===e.type?KT(e,[],[]):"video"===e.type&&(function(e){var t,r,n,o;if(!GP(null===(r=null===(t=e.rtp[0])||void 0===t?void 0:t.codec)||void 0===r?void 0:r.toLowerCase()))return;let i=0;(null===(n=e.ext)||void 0===n?void 0:n.some((e=>e.uri===WP||(e.value>i&&(i=e.value),!1))))||null===(o=e.ext)||void 0===o||o.push({value:i+1,uri:WP})}(e),this.trackBitrates.some((t=>{if(!e.msid||!t.cid||!e.msid.includes(t.cid))return!1;let r=0;if(e.rtp.some((e=>e.codec.toUpperCase()===t.codec.toUpperCase()&&(r=e.payload,!0))),0===r)return!0;let n=!1;for(const o of e.fmtp)if(o.payload===r){o.config.includes("x-google-start-bitrate")||(o.config+=";x-google-start-bitrate=".concat(Math.round(.7*t.maxbr))),o.config.includes("x-google-max-bitrate")||(o.config+=";x-google-max-bitrate=".concat(t.maxbr)),n=!0;break}return n||e.fmtp.push({payload:r,config:"x-google-start-bitrate=".concat(Math.round(.7*t.maxbr),";x-google-max-bitrate=").concat(t.maxbr)}),!0})))})),yield this.setMungedSDP(r,qT(n)),this.onOffer(r)}))}createAndSetAnswer(){var e;return zO(this,void 0,void 0,(function*(){const t=yield this.pc.createAnswer(),r=WT(null!==(e=t.sdp)&&void 0!==e?e:"");return r.media.forEach((e=>{"audio"===e.type&&KT(e,this.remoteStereoMids,this.remoteNackMids)})),yield this.setMungedSDP(t,qT(r)),t}))}createDataChannel(e,t){return this.pc.createDataChannel(e,t)}addTransceiver(e,t){return this.pc.addTransceiver(e,t)}addTrack(e){if(!this._pc)throw new EC("PC closed, cannot add track");return this._pc.addTrack(e)}setTrackCodecBitrate(e){this.trackBitrates.push(e)}setConfiguration(e){var t;if(!this._pc)throw new EC("PC closed, cannot configure");return null===(t=this._pc)||void 0===t?void 0:t.setConfiguration(e)}canRemoveTrack(){var e;return!!(null===(e=this._pc)||void 0===e?void 0:e.removeTrack)}removeTrack(e){var t;return null===(t=this._pc)||void 0===t?void 0:t.removeTrack(e)}getConnectionState(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.connectionState)&&void 0!==t?t:"closed"}getICEConnectionState(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.iceConnectionState)&&void 0!==t?t:"closed"}getSignallingState(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.signalingState)&&void 0!==t?t:"closed"}getTransceivers(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.getTransceivers())&&void 0!==t?t:[]}getSenders(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.getSenders())&&void 0!==t?t:[]}getLocalDescription(){var e;return null===(e=this._pc)||void 0===e?void 0:e.localDescription}getRemoteDescription(){var e;return null===(e=this.pc)||void 0===e?void 0:e.remoteDescription}getStats(){return this.pc.getStats()}getConnectedAddress(){var e;return zO(this,void 0,void 0,(function*(){if(!this._pc)return;let t="";const r=new Map,n=new Map;if((yield this._pc.getStats()).forEach((e=>{switch(e.type){case"transport":t=e.selectedCandidatePairId;break;case"candidate-pair":""===t&&e.selected&&(t=e.id),r.set(e.id,e);break;case"remote-candidate":n.set(e.id,"".concat(e.address,":").concat(e.port))}})),""===t)return;const o=null===(e=r.get(t))||void 0===e?void 0:e.remoteCandidateId;return void 0!==o?n.get(o):void 0}))}setMungedSDP(e,t,r){return zO(this,void 0,void 0,(function*(){if(t){const n=e.sdp;e.sdp=t;try{return this.log.debug("setting munged ".concat(r?"remote":"local"," description"),this.logContext),void(r?yield this.pc.setRemoteDescription(e):yield this.pc.setLocalDescription(e))}catch(r){this.log.warn("not able to set ".concat(e.type,", falling back to unmodified sdp"),Object.assign(Object.assign({},this.logContext),{error:r,sdp:t})),e.sdp=n}}try{r?yield this.pc.setRemoteDescription(e):yield this.pc.setLocalDescription(e)}catch(t){let n="unknown error";t instanceof Error?n=t.message:"string"==typeof t&&(n=t);const o={error:n,sdp:e.sdp};throw!r&&this.pc.remoteDescription&&(o.remoteSdp=this.pc.remoteDescription),this.log.error("unable to set ".concat(e.type),Object.assign(Object.assign({},this.logContext),{fields:o})),new CC(n)}}))}}function KT(e,t,r){let n=0;e.rtp.some((e=>"opus"===e.codec&&(n=e.payload,!0))),n>0&&(e.rtcpFb||(e.rtcpFb=[]),r.includes(e.mid)&&!e.rtcpFb.some((e=>e.payload===n&&"nack"===e.type))&&e.rtcpFb.push({payload:n,type:"nack"}),t.includes(e.mid)&&e.fmtp.some((e=>e.payload===n&&(e.config.includes("stereo=1")||(e.config+=";stereo=1"),!0))))}const $T="vp8",XT={audioBitrate:LC.music.maxBitrate,audioPreset:LC.music,dtx:!0,red:!0,forceStereo:!1,simulcast:!0,screenShareEncoding:qC.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:$T,backupCodec:!0},YT={autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0},QT={resolution:BC.h720.resolution},ZT={adaptiveStream:!1,dynacast:!1,stopLocalTrackOnUnpublish:!0,reconnectPolicy:new class{constructor(e){this._retryDelays=void 0!==e?[...e]:AO}nextRetryDelayInMs(e){if(e.retryCount>=this._retryDelays.length)return null;const t=this._retryDelays[e.retryCount];return e.retryCount<=1?t:t+1e3*Math.random()}},disconnectOnPageLeave:!0,expWebAudioMix:!1},ex={autoSubscribe:!0,maxRetries:1,peerConnectionTimeout:15e3,websocketTimeout:15e3};var tx,rx;(rx=tx||(tx={}))[rx.NEW=0]="NEW",rx[rx.CONNECTING=1]="CONNECTING",rx[rx.CONNECTED=2]="CONNECTED",rx[rx.FAILED=3]="FAILED",rx[rx.CLOSING=4]="CLOSING",rx[rx.CLOSED=5]="CLOSED";class nx{get needsPublisher(){return this.isPublisherConnectionRequired}get needsSubscriber(){return this.isSubscriberConnectionRequired}get currentState(){return this.state}constructor(e,t,r){var n;this.peerConnectionTimeout=ex.peerConnectionTimeout,this.log=l_,this.updateState=()=>{var e;const t=this.state,r=this.requiredTransports.map((e=>e.getConnectionState()));r.every((e=>"connected"===e))?this.state=tx.CONNECTED:r.some((e=>"failed"===e))?this.state=tx.FAILED:r.some((e=>"connecting"===e))?this.state=tx.CONNECTING:r.every((e=>"closed"===e))?this.state=tx.CLOSED:r.some((e=>"closed"===e))?this.state=tx.CLOSING:r.every((e=>"new"===e))&&(this.state=tx.NEW),t!==this.state&&(this.log.debug("pc state change: from ".concat(tx[t]," to ").concat(tx[this.state]),this.logContext),null===(e=this.onStateChange)||void 0===e||e.call(this,this.state,this.publisher.getConnectionState(),this.subscriber.getConnectionState()))},this.log=u_(null!==(n=r.loggerName)&&void 0!==n?n:a_.PCManager),this.loggerOptions=r,this.isPublisherConnectionRequired=!t,this.isSubscriberConnectionRequired=t,this.publisher=new GT(e,{optional:[{googDscp:!0}]},r),this.subscriber=new GT(e,void 0,r),this.publisher.onConnectionStateChange=this.updateState,this.subscriber.onConnectionStateChange=this.updateState,this.publisher.onIceConnectionStateChange=this.updateState,this.subscriber.onIceConnectionStateChange=this.updateState,this.publisher.onSignalingStatechange=this.updateState,this.subscriber.onSignalingStatechange=this.updateState,this.publisher.onIceCandidate=e=>{var t;null===(t=this.onIceCandidate)||void 0===t||t.call(this,e,WC.PUBLISHER)},this.subscriber.onIceCandidate=e=>{var t;null===(t=this.onIceCandidate)||void 0===t||t.call(this,e,WC.SUBSCRIBER)},this.subscriber.onDataChannel=e=>{var t;null===(t=this.onDataChannel)||void 0===t||t.call(this,e)},this.subscriber.onTrack=e=>{var t;null===(t=this.onTrack)||void 0===t||t.call(this,e)},this.publisher.onOffer=e=>{var t;null===(t=this.onPublisherOffer)||void 0===t||t.call(this,e)},this.state=tx.NEW,this.connectionLock=new yT}get logContext(){var e,t;return Object.assign({},null===(t=(e=this.loggerOptions).loggerContextCb)||void 0===t?void 0:t.call(e))}requirePublisher(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isPublisherConnectionRequired=e,this.updateState()}requireSubscriber(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSubscriberConnectionRequired=e,this.updateState()}createAndSendPublisherOffer(e){return this.publisher.createAndSendOffer(e)}setPublisherAnswer(e){return this.publisher.setRemoteDescription(e)}removeTrack(e){return this.publisher.removeTrack(e)}close(){return zO(this,void 0,void 0,(function*(){if(this.publisher&&"closed"!==this.publisher.getSignallingState()){const e=this.publisher;for(const t of e.getSenders())try{e.canRemoveTrack()&&e.removeTrack(t)}catch(e){this.log.warn("could not removeTrack",Object.assign(Object.assign({},this.logContext),{error:e}))}}yield Promise.all([this.publisher.close(),this.subscriber.close()]),this.updateState()}))}triggerIceRestart(){return zO(this,void 0,void 0,(function*(){this.subscriber.restartingIce=!0,this.needsPublisher&&(yield this.createAndSendPublisherOffer({iceRestart:!0}))}))}addIceCandidate(e,t){return zO(this,void 0,void 0,(function*(){t===WC.PUBLISHER?yield this.publisher.addIceCandidate(e):yield this.subscriber.addIceCandidate(e)}))}createSubscriberAnswerFromOffer(e){return zO(this,void 0,void 0,(function*(){return this.log.debug("received server offer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:e.type,sdp:e.sdp,signalingState:this.subscriber.getSignallingState().toString()})),yield this.subscriber.setRemoteDescription(e),yield this.subscriber.createAndSetAnswer()}))}updateConfiguration(e,t){this.publisher.setConfiguration(e),this.subscriber.setConfiguration(e),t&&this.triggerIceRestart()}ensurePCTransportConnection(e,t){var r;return zO(this,void 0,void 0,(function*(){const n=yield this.connectionLock.lock();try{this.isPublisherConnectionRequired&&"connected"!==this.publisher.getConnectionState()&&"connecting"!==this.publisher.getConnectionState()&&(this.log.debug("negotiation required, start negotiating",this.logContext),this.publisher.negotiate()),yield Promise.all(null===(r=this.requiredTransports)||void 0===r?void 0:r.map((r=>this.ensureTransportConnected(r,e,t))))}finally{n()}}))}negotiate(e){return zO(this,void 0,void 0,(function*(){return new Promise(((t,r)=>zO(this,void 0,void 0,(function*(){const n=setTimeout((()=>{r("negotiation timed out")}),this.peerConnectionTimeout);e.signal.addEventListener("abort",(()=>{clearTimeout(n),r("negotiation aborted")})),this.publisher.once(HT,(()=>{e.signal.aborted||this.publisher.once(VT,(()=>{clearTimeout(n),t()}))})),yield this.publisher.negotiate((e=>{clearTimeout(n),r(e)}))}))))}))}addPublisherTransceiver(e,t){return this.publisher.addTransceiver(e,t)}addPublisherTrack(e){return this.publisher.addTrack(e)}createPublisherDataChannel(e,t){return this.publisher.createDataChannel(e,t)}getConnectedAddress(e){return e===WC.PUBLISHER||e===WC.SUBSCRIBER?this.publisher.getConnectedAddress():this.requiredTransports[0].getConnectedAddress()}get requiredTransports(){const e=[];return this.isPublisherConnectionRequired&&e.push(this.publisher),this.isSubscriberConnectionRequired&&e.push(this.subscriber),e}ensureTransportConnected(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.peerConnectionTimeout;return zO(this,void 0,void 0,(function*(){if("connected"!==e.getConnectionState())return new Promise(((e,n)=>zO(this,void 0,void 0,(function*(){const o=()=>{this.log.warn("abort transport connection",this.logContext),IC.clearTimeout(i),n(new wC("room connection has been cancelled",3))};(null==t?void 0:t.signal.aborted)&&o(),null==t||t.signal.addEventListener("abort",o);const i=IC.setTimeout((()=>{null==t||t.signal.removeEventListener("abort",o),n(new wC("could not establish pc connection"))}),r);for(;this.state!==tx.CONNECTED;)if(yield HP(50),null==t?void 0:t.signal.aborted)return void n(new wC("room connection has been cancelled",3));IC.clearTimeout(i),null==t||t.signal.removeEventListener("abort",o),e()}))))}))}}const ox="_lossy",ix="_reliable",ax="leave-reconnect";var sx,cx;(cx=sx||(sx={}))[cx.New=0]="New",cx[cx.Connected=1]="Connected",cx[cx.Disconnected=2]="Disconnected",cx[cx.Reconnecting=3]="Reconnecting",cx[cx.Closed=4]="Closed";class lx extends XO.EventEmitter{get isClosed(){return this._isClosed}constructor(e){var t;super(),this.options=e,this.rtcConfig={},this.peerConnectionTimeout=ex.peerConnectionTimeout,this.fullReconnectOnNext=!1,this.subscriberPrimary=!1,this.pcState=sx.New,this._isClosed=!0,this.pendingTrackResolvers={},this.reconnectAttempts=0,this.reconnectStart=0,this.attemptingReconnect=!1,this.joinAttempts=0,this.maxJoinAttempts=1,this.shouldFailNext=!1,this.log=l_,this.handleDataChannel=e=>{let{channel:t}=e;return zO(this,void 0,void 0,(function*(){if(t){if(t.label===ix)this.reliableDCSub=t;else{if(t.label!==ox)return;this.lossyDCSub=t}this.log.debug("on data channel ".concat(t.id,", ").concat(t.label),this.logContext),t.onmessage=this.handleDataMessage}}))},this.handleDataMessage=e=>zO(this,void 0,void 0,(function*(){var t,r;const n=yield this.dataProcessLock.lock();try{let n;if(e.data instanceof ArrayBuffer)n=e.data;else{if(!(e.data instanceof Blob))return void this.log.error("unsupported data type",Object.assign(Object.assign({},this.logContext),{data:e.data}));n=yield e.data.arrayBuffer()}const o=gO.fromBinary(new Uint8Array(n));"speaker"===(null===(t=o.value)||void 0===t?void 0:t.case)?this.emit(mC.ActiveSpeakersUpdate,o.value.value.speakers):"user"===(null===(r=o.value)||void 0===r?void 0:r.case)&&this.emit(mC.DataPacketReceived,o.value.value,o.kind)}finally{n()}})),this.handleDataError=e=>{const t=0===e.currentTarget.maxRetransmits?"lossy":"reliable";if(e instanceof ErrorEvent&&e.error){const{error:r}=e.error;this.log.error("DataChannel error on ".concat(t,": ").concat(e.message),Object.assign(Object.assign({},this.logContext),{error:r}))}else this.log.error("Unknown DataChannel error on ".concat(t),Object.assign(Object.assign({},this.logContext),{event:e}))},this.handleBufferedAmountLow=e=>{const t=0===e.currentTarget.maxRetransmits?sO.LOSSY:sO.RELIABLE;this.updateAndEmitDCBufferStatus(t)},this.handleDisconnect=(e,t)=>{if(this._isClosed)return;this.log.warn("".concat(e," disconnected"),this.logContext),0===this.reconnectAttempts&&(this.reconnectStart=Date.now());const r=Date.now()-this.reconnectStart;let n=this.getNextRetryDelay({elapsedMs:r,retryCount:this.reconnectAttempts});null!==n?(e===ax&&(n=0),this.log.debug("reconnecting in ".concat(n,"ms"),this.logContext),this.clearReconnectTimeout(),this.token&&this.regionUrlProvider&&this.regionUrlProvider.updateToken(this.token),this.reconnectTimeout=IC.setTimeout((()=>this.attemptReconnect(t)),n)):(e=>{this.log.warn("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(e,"ms. giving up"),this.logContext),this.emit(mC.Disconnected),this.close()})(r)},this.waitForRestarted=()=>new Promise(((e,t)=>{this.pcState===sx.Connected&&e();const r=()=>{this.off(mC.Disconnected,n),e()},n=()=>{this.off(mC.Restarted,r),t()};this.once(mC.Restarted,r),this.once(mC.Disconnected,n)})),this.updateAndEmitDCBufferStatus=e=>{const t=this.isBufferStatusLow(e);void 0!==t&&t!==this.dcBufferStatus.get(e)&&(this.dcBufferStatus.set(e,t),this.emit(mC.DCBufferStatusChanged,t,e))},this.isBufferStatusLow=e=>{const t=this.dataChannelForKind(e);if(t)return t.bufferedAmount<=t.bufferedAmountLowThreshold},this.handleBrowserOnLine=()=>{this.client.currentState===PT.RECONNECTING&&(this.clearReconnectTimeout(),this.attemptReconnect(JS.RR_SIGNAL_DISCONNECTED))},this.log=u_(null!==(t=e.loggerName)&&void 0!==t?t:a_.Engine),this.loggerOptions={loggerName:e.loggerName,loggerContextCb:()=>this.logContext},this.client=new xT(void 0,this.loggerOptions),this.client.signalLatency=this.options.expSignalLatency,this.reconnectPolicy=this.options.reconnectPolicy,this.registerOnLineListener(),this.closingLock=new yT,this.dataProcessLock=new yT,this.dcBufferStatus=new Map([[sO.LOSSY,!0],[sO.RELIABLE,!0]]),this.client.onParticipantUpdate=e=>this.emit(mC.ParticipantUpdate,e),this.client.onConnectionQuality=e=>this.emit(mC.ConnectionQualityUpdate,e),this.client.onRoomUpdate=e=>this.emit(mC.RoomUpdate,e),this.client.onSubscriptionError=e=>this.emit(mC.SubscriptionError,e),this.client.onSubscriptionPermissionUpdate=e=>this.emit(mC.SubscriptionPermissionUpdate,e),this.client.onSpeakersChanged=e=>this.emit(mC.SpeakersChanged,e),this.client.onStreamStateUpdate=e=>this.emit(mC.StreamStateChanged,e)}get logContext(){var e,t,r,n,o,i;return{room:null===(t=null===(e=this.latestJoinResponse)||void 0===e?void 0:e.room)||void 0===t?void 0:t.name,roomSid:null===(n=null===(r=this.latestJoinResponse)||void 0===r?void 0:r.room)||void 0===n?void 0:n.sid,identity:null===(i=null===(o=this.latestJoinResponse)||void 0===o?void 0:o.participant)||void 0===i?void 0:i.identity}}join(e,t,r,n){return zO(this,void 0,void 0,(function*(){this.url=e,this.token=t,this.signalOpts=r,this.maxJoinAttempts=r.maxRetries;try{this.joinAttempts+=1,this.setupSignalClientCallbacks();const o=yield this.client.join(e,t,r,n);return this._isClosed=!1,this.latestJoinResponse=o,this.subscriberPrimary=o.subscriberPrimary,this.pcManager||(yield this.configure(o)),this.subscriberPrimary||this.negotiate(),this.clientConfiguration=o.clientConfiguration,o}catch(o){if(o instanceof wC&&1===o.reason&&(this.log.warn("Couldn't connect to server, attempt ".concat(this.joinAttempts," of ").concat(this.maxJoinAttempts),this.logContext),this.joinAttempts<this.maxJoinAttempts))return this.join(e,t,r,n);throw o}}))}close(){return zO(this,void 0,void 0,(function*(){const e=yield this.closingLock.lock();if(this.isClosed)e();else try{this._isClosed=!0,this.emit(mC.Closing),this.removeAllListeners(),this.deregisterOnLineListener(),this.clearPendingReconnect(),yield this.cleanupPeerConnections(),yield this.cleanupClient()}finally{e()}}))}cleanupPeerConnections(){var e;return zO(this,void 0,void 0,(function*(){yield null===(e=this.pcManager)||void 0===e?void 0:e.close(),this.pcManager=void 0;const t=e=>{e&&(e.close(),e.onbufferedamountlow=null,e.onclose=null,e.onclosing=null,e.onerror=null,e.onmessage=null,e.onopen=null)};t(this.lossyDC),t(this.lossyDCSub),t(this.reliableDC),t(this.reliableDCSub),this.lossyDC=void 0,this.lossyDCSub=void 0,this.reliableDC=void 0,this.reliableDCSub=void 0}))}cleanupClient(){return zO(this,void 0,void 0,(function*(){yield this.client.close(),this.client.resetCallbacks()}))}addTrack(e){if(this.pendingTrackResolvers[e.cid])throw new SC("a track with the same ID has already been published");return new Promise(((t,r)=>{const n=setTimeout((()=>{delete this.pendingTrackResolvers[e.cid],r(new wC("publication of local track timed out, no response from server"))}),1e4);this.pendingTrackResolvers[e.cid]={resolve:e=>{clearTimeout(n),t(e)},reject:()=>{clearTimeout(n),r(new Error("Cancelled publication by calling unpublish"))}},this.client.sendAddTrack(e)}))}removeTrack(e){if(e.track&&this.pendingTrackResolvers[e.track.id]){const{reject:t}=this.pendingTrackResolvers[e.track.id];t&&t(),delete this.pendingTrackResolvers[e.track.id]}try{return this.pcManager.removeTrack(e),!0}catch(e){this.log.warn("failed to remove track",Object.assign(Object.assign({},this.logContext),{error:e}))}return!1}updateMuteStatus(e,t){this.client.sendMuteTrack(e,t)}get dataSubscriberReadyState(){var e;return null===(e=this.reliableDCSub)||void 0===e?void 0:e.readyState}getConnectedServerAddress(){var e;return zO(this,void 0,void 0,(function*(){return null===(e=this.pcManager)||void 0===e?void 0:e.getConnectedAddress()}))}setRegionUrlProvider(e){this.regionUrlProvider=e}configure(e){var t;return zO(this,void 0,void 0,(function*(){if(this.pcManager&&this.pcManager.currentState!==tx.NEW)return;this.participantSid=null===(t=e.participant)||void 0===t?void 0:t.sid;const r=this.makeRTCConfiguration(e);this.pcManager=new nx(r,e.subscriberPrimary,this.loggerOptions),this.emit(mC.TransportsCreated,this.pcManager.publisher,this.pcManager.subscriber),this.pcManager.onIceCandidate=(e,t)=>{this.client.sendIceCandidate(e,t)},this.pcManager.onPublisherOffer=e=>{this.client.sendOffer(e)},this.pcManager.onDataChannel=this.handleDataChannel,this.pcManager.onStateChange=(t,r,n)=>zO(this,void 0,void 0,(function*(){if(this.log.debug("primary PC state changed ".concat(t),this.logContext),t===tx.CONNECTED){const t=this.pcState===sx.New;this.pcState=sx.Connected,t&&this.emit(mC.Connected,e)}else t===tx.FAILED&&this.pcState===sx.Connected&&(this.pcState=sx.Disconnected,this.handleDisconnect("peerconnection failed","failed"===n?JS.RR_SUBSCRIBER_FAILED:JS.RR_PUBLISHER_FAILED))})),this.pcManager.onTrack=e=>{this.emit(mC.MediaTrackAdded,e.track,e.streams[0],e.receiver)},this.createDataChannels()}))}setupSignalClientCallbacks(){this.client.onAnswer=e=>zO(this,void 0,void 0,(function*(){this.pcManager&&(this.log.debug("received server answer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:e.type})),yield this.pcManager.setPublisherAnswer(e))})),this.client.onTrickle=(e,t)=>{this.pcManager&&(this.log.trace("got ICE candidate from peer",Object.assign(Object.assign({},this.logContext),{candidate:e,target:t})),this.pcManager.addIceCandidate(e,t))},this.client.onOffer=e=>zO(this,void 0,void 0,(function*(){if(!this.pcManager)return;const t=yield this.pcManager.createSubscriberAnswerFromOffer(e);this.client.sendAnswer(t)})),this.client.onLocalTrackPublished=e=>{var t;if(this.log.debug("received trackPublishedResponse",Object.assign(Object.assign({},this.logContext),{cid:e.cid,track:null===(t=e.track)||void 0===t?void 0:t.sid})),!this.pendingTrackResolvers[e.cid])return void this.log.error("missing track resolver for ".concat(e.cid),Object.assign(Object.assign({},this.logContext),{cid:e.cid}));const{resolve:r}=this.pendingTrackResolvers[e.cid];delete this.pendingTrackResolvers[e.cid],r(e.track)},this.client.onLocalTrackUnpublished=e=>{this.emit(mC.LocalTrackUnpublished,e)},this.client.onTokenRefresh=e=>{this.token=e},this.client.onRemoteMuteChanged=(e,t)=>{this.emit(mC.RemoteMute,e,t)},this.client.onSubscribedQualityUpdate=e=>{this.emit(mC.SubscribedQualityUpdate,e)},this.client.onClose=()=>{this.handleDisconnect("signal",JS.RR_SIGNAL_DISCONNECTED)},this.client.onLeave=e=>{(null==e?void 0:e.canReconnect)?(this.fullReconnectOnNext=!0,this.handleDisconnect(ax)):(this.emit(mC.Disconnected,null==e?void 0:e.reason),this.close()),this.log.debug("client leave request",Object.assign(Object.assign({},this.logContext),{reason:null==e?void 0:e.reason}))}}makeRTCConfiguration(e){var t;const r=Object.assign({},this.rtcConfig);if((null===(t=this.signalOpts)||void 0===t?void 0:t.e2eeEnabled)&&(this.log.debug("E2EE - setting up transports with insertable streams",this.logContext),r.encodedInsertableStreams=!0),e.iceServers&&!r.iceServers){const t=[];e.iceServers.forEach((e=>{const r={urls:e.urls};e.username&&(r.username=e.username),e.credential&&(r.credential=e.credential),t.push(r)})),r.iceServers=t}return e.clientConfiguration&&e.clientConfiguration.forceRelay===qS.ENABLED&&(r.iceTransportPolicy="relay"),r.sdpSemantics="unified-plan",r.continualGatheringPolicy="gather_continually",r}createDataChannels(){this.pcManager&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.pcManager.createPublisherDataChannel(ox,{ordered:!0,maxRetransmits:0}),this.reliableDC=this.pcManager.createPublisherDataChannel(ix,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError,this.lossyDC.bufferedAmountLowThreshold=65535,this.reliableDC.bufferedAmountLowThreshold=65535,this.lossyDC.onbufferedamountlow=this.handleBufferedAmountLow,this.reliableDC.onbufferedamountlow=this.handleBufferedAmountLow)}setPreferredCodec(e,t,r){if(!("getCapabilities"in RTCRtpReceiver))return;const n=RTCRtpReceiver.getCapabilities(t);if(!n)return;this.log.debug("get receiver capabilities",Object.assign(Object.assign({},this.logContext),{cap:n}));const o=[],i=[],a=[];n.codecs.forEach((e=>{const t=e.mimeType.toLowerCase();"audio/opus"!==t?t==="video/".concat(r)?"h264"!==r||e.sdpFmtpLine&&e.sdpFmtpLine.includes("profile-level-id=42e01f")?o.push(e):i.push(e):a.push(e):o.push(e)})),function(e){if(!ZP())return!1;if(!("setCodecPreferences"in e))return!1;const t=jC();if(!(null==t?void 0:t.name)||!t.version)return!1;const r=$P[t.name];return!!r&&iT(t.version,r)>=0}(e)&&e.setCodecPreferences(o.concat(i,a))}createSender(e,t,r){return zO(this,void 0,void 0,(function*(){if(VP())return yield this.createTransceiverRTCRtpSender(e,t,r);if(JP())return this.log.warn("using add-track fallback",this.logContext),yield this.createRTCRtpSender(e.mediaStreamTrack);throw new EC("Required webRTC APIs not supported on this device")}))}createSimulcastSender(e,t,r,n){return zO(this,void 0,void 0,(function*(){if(VP())return this.createSimulcastTransceiverSender(e,t,r,n);if(JP())return this.log.debug("using add-track fallback",this.logContext),this.createRTCRtpSender(e.mediaStreamTrack);throw new EC("Cannot stream on this device")}))}createTransceiverRTCRtpSender(e,t,r){return zO(this,void 0,void 0,(function*(){if(!this.pcManager)throw new EC("publisher is closed");const n=[];e.mediaStream&&n.push(e.mediaStream);const o={direction:"sendonly",streams:n};r&&(o.sendEncodings=r);const i=yield this.pcManager.addPublisherTransceiver(e.mediaStreamTrack,o);return e.kind===RP.Kind.Video&&t.videoCodec&&(this.setPreferredCodec(i,e.kind,t.videoCodec),e.codec=t.videoCodec),i.sender}))}createSimulcastTransceiverSender(e,t,r,n){return zO(this,void 0,void 0,(function*(){if(!this.pcManager)throw new EC("publisher is closed");const o={direction:"sendonly"};n&&(o.sendEncodings=n);const i=yield this.pcManager.addPublisherTransceiver(t.mediaStreamTrack,o);if(r.videoCodec)return this.setPreferredCodec(i,e.kind,r.videoCodec),e.setSimulcastTrackSender(r.videoCodec,i.sender),i.sender}))}createRTCRtpSender(e){return zO(this,void 0,void 0,(function*(){if(!this.pcManager)throw new EC("publisher is closed");return this.pcManager.addPublisherTrack(e)}))}attemptReconnect(e){var t,r,n;return zO(this,void 0,void 0,(function*(){if(!this._isClosed)if(this.attemptingReconnect)l_.warn("already attempting reconnect, returning early",this.logContext);else{(null===(t=this.clientConfiguration)||void 0===t?void 0:t.resumeConnection)!==qS.DISABLED&&(null!==(n=null===(r=this.pcManager)||void 0===r?void 0:r.currentState)&&void 0!==n?n:tx.NEW)!==tx.NEW||(this.fullReconnectOnNext=!0);try{this.attemptingReconnect=!0,this.fullReconnectOnNext?yield this.restartConnection():yield this.resumeConnection(e),this.clearPendingReconnect(),this.fullReconnectOnNext=!1}catch(e){this.reconnectAttempts+=1;let t=!0;e instanceof EC?(this.log.debug("received unrecoverable error",Object.assign(Object.assign({},this.logContext),{error:e})),t=!1):e instanceof ux||(this.fullReconnectOnNext=!0),t?this.handleDisconnect("reconnect",JS.RR_UNKNOWN):(this.log.info("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(Date.now()-this.reconnectStart,"ms. giving up"),this.logContext),this.emit(mC.Disconnected),yield this.close())}finally{this.attemptingReconnect=!1}}}))}getNextRetryDelay(e){try{return this.reconnectPolicy.nextRetryDelayInMs(e)}catch(e){this.log.warn("encountered error in reconnect policy",Object.assign(Object.assign({},this.logContext),{error:e}))}return null}restartConnection(e){var t,r,n;return zO(this,void 0,void 0,(function*(){try{if(!this.url||!this.token)throw new EC("could not reconnect, url or token not saved");let r;this.log.info("reconnecting, attempt: ".concat(this.reconnectAttempts),this.logContext),this.emit(mC.Restarting),this.client.isDisconnected||(yield this.client.sendLeave()),yield this.cleanupPeerConnections(),yield this.cleanupClient();try{if(!this.signalOpts)throw this.log.warn("attempted connection restart, without signal options present",this.logContext),new ux;r=yield this.join(null!=e?e:this.url,this.token,this.signalOpts)}catch(e){if(e instanceof wC&&0===e.reason)throw new EC("could not reconnect, token might be expired");throw new ux}if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(this.client.setReconnected(),this.emit(mC.SignalRestarted,r),yield this.waitForPCReconnected(),this.client.currentState!==PT.CONNECTED)throw new ux("Signal connection got severed during reconnect");null===(t=this.regionUrlProvider)||void 0===t||t.resetAttempts(),this.emit(mC.Restarted)}catch(e){const t=yield null===(r=this.regionUrlProvider)||void 0===r?void 0:r.getNextBestRegionUrl();if(t)return void(yield this.restartConnection(t));throw null===(n=this.regionUrlProvider)||void 0===n||n.resetAttempts(),e}}))}resumeConnection(e){var t;return zO(this,void 0,void 0,(function*(){if(!this.url||!this.token)throw new EC("could not reconnect, url or token not saved");if(!this.pcManager)throw new EC("publisher and subscriber connections unset");this.log.info("resuming signal connection, attempt ".concat(this.reconnectAttempts),this.logContext),this.emit(mC.Resuming);try{this.setupSignalClientCallbacks();const t=yield this.client.reconnect(this.url,this.token,this.participantSid,e);if(t){const e=this.makeRTCConfiguration(t);this.pcManager.updateConfiguration(e)}}catch(e){let t="";if(e instanceof Error&&(t=e.message,this.log.error(e.message,Object.assign(Object.assign({},this.logContext),{error:e}))),e instanceof wC&&0===e.reason)throw new EC("could not reconnect, token might be expired");if(e instanceof wC&&4===e.reason)throw e;throw new ux(t)}if(this.emit(mC.SignalResumed),this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(yield this.pcManager.triggerIceRestart(),yield this.waitForPCReconnected(),this.client.currentState!==PT.CONNECTED)throw new ux("Signal connection got severed during reconnect");this.client.setReconnected(),"open"===(null===(t=this.reliableDC)||void 0===t?void 0:t.readyState)&&null===this.reliableDC.id&&this.createDataChannels(),this.emit(mC.Resumed)}))}waitForPCInitialConnection(e,t){return zO(this,void 0,void 0,(function*(){if(!this.pcManager)throw new EC("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(t,e)}))}waitForPCReconnected(){return zO(this,void 0,void 0,(function*(){this.pcState=sx.Reconnecting,this.log.debug("waiting for peer connection to reconnect",this.logContext);try{if(yield HP(2e3),!this.pcManager)throw new EC("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(void 0,this.peerConnectionTimeout),this.pcState=sx.Connected}catch(e){throw this.pcState=sx.Disconnected,new wC("could not establish PC connection, ".concat(e.message))}}))}sendDataPacket(e,t){return zO(this,void 0,void 0,(function*(){const r=e.toBinary();yield this.ensurePublisherConnected(t);const n=this.dataChannelForKind(t);n&&n.send(r),this.updateAndEmitDCBufferStatus(t)}))}ensureDataTransportConnected(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.subscriberPrimary;var r;return zO(this,void 0,void 0,(function*(){if(!this.pcManager)throw new EC("PC manager is closed");const n=t?this.pcManager.subscriber:this.pcManager.publisher,o=t?"Subscriber":"Publisher";if(!n)throw new wC("".concat(o," connection not set"));t||this.pcManager.publisher.isICEConnected||"checking"===this.pcManager.publisher.getICEConnectionState()||this.negotiate();const i=this.dataChannelForKind(e,t);if("open"===(null==i?void 0:i.readyState))return;const a=(new Date).getTime()+this.peerConnectionTimeout;for(;(new Date).getTime()<a;){if(n.isICEConnected&&"open"===(null===(r=this.dataChannelForKind(e,t))||void 0===r?void 0:r.readyState))return;yield HP(50)}throw new wC("could not establish ".concat(o," connection, state: ").concat(n.getICEConnectionState()))}))}ensurePublisherConnected(e){return zO(this,void 0,void 0,(function*(){yield this.ensureDataTransportConnected(e,!1)}))}verifyTransport(){return!!this.pcManager&&this.pcManager.currentState===tx.CONNECTED&&!(!this.client.ws||this.client.ws.readyState===WebSocket.CLOSED)}negotiate(){return zO(this,void 0,void 0,(function*(){return new Promise(((e,t)=>zO(this,void 0,void 0,(function*(){if(!this.pcManager)return void t(new CC("PC manager is closed"));this.pcManager.requirePublisher();const r=new AbortController,n=()=>{r.abort(),this.log.debug("engine disconnected while negotiation was ongoing",this.logContext),e()};this.isClosed&&t("cannot negotiate on closed engine"),this.on(mC.Closing,n),this.pcManager.publisher.once(JT,(e=>{const t=new Map;e.forEach((e=>{const r=e.codec.toLowerCase();var n;n=r,DC.includes(n)&&t.set(e.payload,r)})),this.emit(mC.RTPVideoMapUpdate,t)}));try{yield this.pcManager.negotiate(r),e()}catch(e){e instanceof CC&&(this.fullReconnectOnNext=!0),this.handleDisconnect("negotiation",JS.RR_UNKNOWN),t(e)}finally{this.off(mC.Closing,n)}}))))}))}dataChannelForKind(e,t){if(t){if(e===sO.LOSSY)return this.lossyDCSub;if(e===sO.RELIABLE)return this.reliableDCSub}else{if(e===sO.LOSSY)return this.lossyDC;if(e===sO.RELIABLE)return this.reliableDC}}sendSyncState(e,t){var r,n;if(!this.pcManager)return void this.log.warn("sync state cannot be sent without peer connection setup",this.logContext);const o=this.pcManager.subscriber.getLocalDescription(),i=this.pcManager.subscriber.getRemoteDescription(),a=null===(n=null===(r=this.signalOpts)||void 0===r?void 0:r.autoSubscribe)||void 0===n||n,s=new Array;e.forEach((e=>{e.isDesired!==a&&s.push(e.trackSid)})),this.client.sendSyncState(new EP({answer:o?AT({sdp:o.sdp,type:o.type}):void 0,offer:i?AT({sdp:i.sdp,type:i.type}):void 0,subscription:new sP({trackSids:s,subscribe:!a,participantTracks:[]}),publishTracks:FP(t),dataChannels:this.dataChannelsInfo()}))}failNext(){this.shouldFailNext=!0}dataChannelsInfo(){const e=[],t=(t,r)=>{void 0!==(null==t?void 0:t.id)&&null!==t.id&&e.push(new CP({label:t.label,id:t.id,target:r}))};return t(this.dataChannelForKind(sO.LOSSY),WC.PUBLISHER),t(this.dataChannelForKind(sO.RELIABLE),WC.PUBLISHER),t(this.dataChannelForKind(sO.LOSSY,!0),WC.SUBSCRIBER),t(this.dataChannelForKind(sO.RELIABLE,!0),WC.SUBSCRIBER),e}clearReconnectTimeout(){this.reconnectTimeout&&IC.clearTimeout(this.reconnectTimeout)}clearPendingReconnect(){this.clearReconnectTimeout(),this.reconnectAttempts=0}registerOnLineListener(){ZP()&&window.addEventListener("online",this.handleBrowserOnLine)}deregisterOnLineListener(){ZP()&&window.removeEventListener("online",this.handleBrowserOnLine)}}class ux extends Error{}class dx{constructor(e,t){this.lastUpdateAt=0,this.settingsCacheTime=3e3,this.attemptedRegions=[],this.serverUrl=new URL(e),this.token=t}updateToken(e){this.token=e}isCloud(){return tT(this.serverUrl)}getServerUrl(){return this.serverUrl}getNextBestRegionUrl(e){return zO(this,void 0,void 0,(function*(){if(!this.isCloud())throw Error("region availability is only supported for LiveKit Cloud domains");(!this.regionSettings||Date.now()-this.lastUpdateAt>this.settingsCacheTime)&&(this.regionSettings=yield this.fetchRegionSettings(e));const t=this.regionSettings.regions.filter((e=>!this.attemptedRegions.find((t=>t.url===e.url))));if(t.length>0){const e=t[0];return this.attemptedRegions.push(e),l_.debug("next region: ".concat(e.region)),e.url}return null}))}resetAttempts(){this.attemptedRegions=[]}fetchRegionSettings(e){return zO(this,void 0,void 0,(function*(){const t=yield fetch("".concat((r=this.serverUrl,"".concat(r.protocol.replace("ws","http"),"//").concat(r.host,"/settings")),"/regions"),{headers:{authorization:"Bearer ".concat(this.token)},signal:e});var r;if(t.ok){const e=yield t.json();return this.lastUpdateAt=Date.now(),e}throw new wC("Could not fetch region settings: ".concat(t.statusText),401===t.status?0:void 0,t.status)}))}}const px=2e3;function fx(e,t){if(!t)return 0;let r,n;return"bytesReceived"in e?(r=e.bytesReceived,n=t.bytesReceived):"bytesSent"in e&&(r=e.bytesSent,n=t.bytesSent),void 0===r||void 0===n||void 0===e.timestamp||void 0===t.timestamp?0:8*(r-n)*1e3/(e.timestamp-t.timestamp)}class hx extends wT{constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;super(e,RP.Kind.Audio,t,r,o),this.stopOnMute=!1,this.monitorSender=()=>zO(this,void 0,void 0,(function*(){if(!this.sender)return void(this._currentBitrate=0);let e;try{e=yield this.getSenderStats()}catch(e){return void this.log.error("could not get audio sender stats",Object.assign(Object.assign({},this.logContext),{error:e}))}e&&this.prevStats&&(this._currentBitrate=fx(e,this.prevStats)),this.prevStats=e})),this.audioContext=n,this.checkForSilence()}setDeviceId(e){return zO(this,void 0,void 0,(function*(){return this._constraints.deviceId===e||(this._constraints.deviceId=e,this.isMuted||(yield this.restartTrack()),this.isMuted||gT(e)===this.mediaStreamTrack.getSettings().deviceId)}))}mute(){const e=Object.create(null,{mute:{get:()=>super.mute}});return zO(this,void 0,void 0,(function*(){const t=yield this.muteLock.lock();try{return this.source===RP.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(this.log.debug("stopping mic track",this.logContext),this._mediaStreamTrack.stop()),yield e.mute.call(this),this}finally{t()}}))}unmute(){const e=Object.create(null,{unmute:{get:()=>super.unmute}});return zO(this,void 0,void 0,(function*(){const t=yield this.muteLock.lock();try{const t=this._constraints.deviceId&&this._mediaStreamTrack.getSettings().deviceId!==gT(this._constraints.deviceId);return this.source!==RP.Source.Microphone||!this.stopOnMute&&"ended"!==this._mediaStreamTrack.readyState&&!t||this.isUserProvided||(this.log.debug("reacquiring mic track",this.logContext),yield this.restartTrack()),yield e.unmute.call(this),this}finally{t()}}))}restartTrack(e){return zO(this,void 0,void 0,(function*(){let t;if(e){const r=LP({audio:e});"boolean"!=typeof r.audio&&(t=r.audio)}yield this.restart(t)}))}restart(e){const t=Object.create(null,{restart:{get:()=>super.restart}});return zO(this,void 0,void 0,(function*(){const r=yield t.restart.call(this,e);return this.checkForSilence(),r}))}startMonitor(){ZP()&&(this.monitorInterval||(this.monitorInterval=setInterval((()=>{this.monitorSender()}),px)))}setProcessor(e){var t;return zO(this,void 0,void 0,(function*(){const r=yield this.processorLock.lock();try{if(!this.audioContext)throw Error("Audio context needs to be set on LocalAudioTrack in order to enable processors");if(this.processor&&(yield this.stopProcessor()),"unknown"===this.kind)throw TypeError("cannot set processor on track of unknown kind");const r={kind:this.kind,track:this._mediaStreamTrack,audioContext:this.audioContext};this.log.debug("setting up audio processor ".concat(e.name),this.logContext),yield e.init(r),this.processor=e,this.processor.processedTrack&&(yield null===(t=this.sender)||void 0===t?void 0:t.replaceTrack(this.processor.processedTrack))}finally{r()}}))}setAudioContext(e){this.audioContext=e}getSenderStats(){var e;return zO(this,void 0,void 0,(function*(){if(!(null===(e=this.sender)||void 0===e?void 0:e.getStats))return;let t;return(yield this.sender.getStats()).forEach((e=>{"outbound-rtp"===e.type&&(t={type:"audio",streamId:e.id,packetsSent:e.packetsSent,packetsLost:e.packetsLost,bytesSent:e.bytesSent,timestamp:e.timestamp,roundTripTime:e.roundTripTime,jitter:e.jitter})})),t}))}checkForSilence(){return zO(this,void 0,void 0,(function*(){const e=yield function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return zO(this,void 0,void 0,(function*(){const r=UP();if(r){const n=r.createAnalyser();n.fftSize=2048;const o=n.frequencyBinCount,i=new Uint8Array(o);r.createMediaStreamSource(new MediaStream([e.mediaStreamTrack])).connect(n),yield HP(t),n.getByteTimeDomainData(i);const a=i.some((e=>128!==e&&0!==e));return r.close(),!a}return!1}))}(this);return e&&(this.isMuted||this.log.warn("silence detected on local audio track",this.logContext),this.emit(gC.AudioSilenceDetected)),e}))}}const mx=Object.values(BC),yx=Object.values(FC),gx=Object.values(qC),bx=[BC.h180,BC.h360],vx=[FC.h180,FC.h360],kx=["q","h","f"];function wx(e,t,r,n){var o,i;let a=null==n?void 0:n.videoEncoding;e&&(a=null==n?void 0:n.screenShareEncoding);const s=null==n?void 0:n.simulcast,c=null==n?void 0:n.scalabilityMode,l=null==n?void 0:n.videoCodec;if(!a&&!s&&!c||!t||!r)return[{}];a||(a=function(e,t,r,n){const o=function(e,t,r){if(e)return gx;const n=t>r?t/r:r/t;return Math.abs(n-16/9)<Math.abs(n-4/3)?mx:yx}(e,t,r);let{encoding:i}=o[0];const a=Math.max(t,r);for(let e=0;e<o.length;e+=1){const t=o[e];if(i=t.encoding,t.width>=a)break}if(n)switch(n){case"av1":i=Object.assign({},i),i.maxBitrate=.7*i.maxBitrate;break;case"vp9":i=Object.assign({},i),i.maxBitrate=.85*i.maxBitrate}return i}(e,t,r,l),l_.debug("using video encoding",a));const u=new RC(t,r,a.maxBitrate,a.maxFramerate,a.priority);if(c&&GP(l)){l_.debug("using svc with scalabilityMode ".concat(c));const e=new Ex(c),t=[];if(e.spatial>3)throw new Error("unsupported scalabilityMode: ".concat(c));for(let r=0;r<e.spatial;r+=1)t.push({rid:kx[2-r],maxBitrate:a.maxBitrate/Math.pow(3,r),maxFramerate:u.encoding.maxFramerate});return t[0].scalabilityMode=c,l_.debug("encodings",t),t}if(!s)return[a];let d,p=[];if(p=e?null!==(o=Ox(null==n?void 0:n.screenShareSimulcastLayers))&&void 0!==o?o:_x(e,u):null!==(i=Ox(null==n?void 0:n.videoSimulcastLayers))&&void 0!==i?i:_x(e,u),p.length>0){const e=p[0];p.length>1&&([,d]=p);const n=Math.max(t,r);if(n>=960&&d)return Sx(t,r,[e,d,u]);if(n>=480)return Sx(t,r,[e,u])}return Sx(t,r,[u])}function _x(e,t){if(e)return[{scaleResolutionDownBy:2,fps:(r=t).encoding.maxFramerate}].map((e=>{var t,n;return new RC(Math.floor(r.width/e.scaleResolutionDownBy),Math.floor(r.height/e.scaleResolutionDownBy),Math.max(15e4,Math.floor(r.encoding.maxBitrate/(Math.pow(e.scaleResolutionDownBy,2)*((null!==(t=r.encoding.maxFramerate)&&void 0!==t?t:30)/(null!==(n=e.fps)&&void 0!==n?n:30))))),e.fps,r.encoding.priority)}));var r;const{width:n,height:o}=t,i=n>o?n/o:o/n;return Math.abs(i-16/9)<Math.abs(i-4/3)?bx:vx}function Sx(e,t,r){const n=[];if(r.forEach(((r,o)=>{if(o>=kx.length)return;const i=Math.min(e,t),a={rid:kx[o],scaleResolutionDownBy:Math.max(1,i/Math.min(r.width,r.height)),maxBitrate:r.encoding.maxBitrate};r.encoding.maxFramerate&&(a.maxFramerate=r.encoding.maxFramerate);const s=XP()||0===o;r.encoding.priority&&s&&(a.priority=r.encoding.priority,a.networkPriority=r.encoding.priority),n.push(a)})),eT()&&"ios"===nT()){let e;n.forEach((t=>{e?t.maxFramerate&&t.maxFramerate>e&&(e=t.maxFramerate):e=t.maxFramerate}));let t=!0;n.forEach((r=>{var n;r.maxFramerate!=e&&(t&&(t=!1,l_.info("Simulcast on iOS React-Native requires all encodings to share the same framerate.")),l_.info('Setting framerate of encoding "'.concat(null!==(n=r.rid)&&void 0!==n?n:"",'" to ').concat(e)),r.maxFramerate=e)}))}return n}function Ox(e){if(e)return e.sort(((e,t)=>{const{encoding:r}=e,{encoding:n}=t;return r.maxBitrate>n.maxBitrate?1:r.maxBitrate<n.maxBitrate?-1:r.maxBitrate===n.maxBitrate&&r.maxFramerate&&n.maxFramerate?r.maxFramerate>n.maxFramerate?1:-1:0}))}class Ex{constructor(e){const t=e.match(/^L(\d)T(\d)(h|_KEY|_KEY_SHIFT){0,1}$/);if(!t)throw new Error("invalid scalability mode");if(this.spatial=parseInt(t[1]),this.temporal=parseInt(t[2]),t.length>3)switch(t[3]){case"h":case"_KEY":case"_KEY_SHIFT":this.suffix=t[3]}}toString(){var e;return"L".concat(this.spatial,"T").concat(this.temporal).concat(null!==(e=this.suffix)&&void 0!==e?e:"")}}class Cx extends wT{constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0;super(e,RP.Kind.Video,t,r,n),this.simulcastCodecs=new Map,this.monitorSender=()=>zO(this,void 0,void 0,(function*(){if(!this.sender)return void(this._currentBitrate=0);let e;try{e=yield this.getSenderStats()}catch(e){return void this.log.error("could not get audio sender stats",Object.assign(Object.assign({},this.logContext),{error:e}))}const t=new Map(e.map((e=>[e.rid,e])));if(this.prevStats){let e=0;t.forEach(((t,r)=>{var n;const o=null===(n=this.prevStats)||void 0===n?void 0:n.get(r);e+=fx(t,o)})),this._currentBitrate=e}this.prevStats=t})),this.senderLock=new yT}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(e){var t;if(this.signalClient=e,!ZP())return;const r=null===(t=this.sender)||void 0===t?void 0:t.getParameters();r&&(this.encodings=r.encodings),this.monitorInterval||(this.monitorInterval=setInterval((()=>{this.monitorSender()}),px))}stop(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach((e=>{e.mediaStreamTrack.stop()})),super.stop()}pauseUpstream(){const e=Object.create(null,{pauseUpstream:{get:()=>super.pauseUpstream}});var t,r,n,o,i;return zO(this,void 0,void 0,(function*(){yield e.pauseUpstream.call(this);try{for(var a,s=!0,c=IO(this.simulcastCodecs.values());a=yield c.next(),!(t=a.done);s=!0){o=a.value,s=!1;const e=o;yield null===(i=e.sender)||void 0===i?void 0:i.replaceTrack(null)}}catch(e){r={error:e}}finally{try{s||t||!(n=c.return)||(yield n.call(c))}finally{if(r)throw r.error}}}))}resumeUpstream(){const e=Object.create(null,{resumeUpstream:{get:()=>super.resumeUpstream}});var t,r,n,o,i;return zO(this,void 0,void 0,(function*(){yield e.resumeUpstream.call(this);try{for(var a,s=!0,c=IO(this.simulcastCodecs.values());a=yield c.next(),!(t=a.done);s=!0){o=a.value,s=!1;const e=o;yield null===(i=e.sender)||void 0===i?void 0:i.replaceTrack(e.mediaStreamTrack)}}catch(e){r={error:e}}finally{try{s||t||!(n=c.return)||(yield n.call(c))}finally{if(r)throw r.error}}}))}mute(){const e=Object.create(null,{mute:{get:()=>super.mute}});return zO(this,void 0,void 0,(function*(){const t=yield this.muteLock.lock();try{return this.source!==RP.Source.Camera||this.isUserProvided||(this.log.debug("stopping camera track",this.logContext),this._mediaStreamTrack.stop()),yield e.mute.call(this),this}finally{t()}}))}unmute(){const e=Object.create(null,{unmute:{get:()=>super.unmute}});return zO(this,void 0,void 0,(function*(){const t=yield this.muteLock.lock();try{return this.source!==RP.Source.Camera||this.isUserProvided||(this.log.debug("reacquiring camera track",this.logContext),yield this.restartTrack()),yield e.unmute.call(this),this}finally{t()}}))}setTrackMuted(e){super.setTrackMuted(e);for(const t of this.simulcastCodecs.values())t.mediaStreamTrack.enabled=!e}getSenderStats(){var e;return zO(this,void 0,void 0,(function*(){if(!(null===(e=this.sender)||void 0===e?void 0:e.getStats))return[];const t=[],r=yield this.sender.getStats();return r.forEach((e=>{var n;if("outbound-rtp"===e.type){const o={type:"video",streamId:e.id,frameHeight:e.frameHeight,frameWidth:e.frameWidth,firCount:e.firCount,pliCount:e.pliCount,nackCount:e.nackCount,packetsSent:e.packetsSent,bytesSent:e.bytesSent,framesSent:e.framesSent,timestamp:e.timestamp,rid:null!==(n=e.rid)&&void 0!==n?n:e.id,retransmittedPacketsSent:e.retransmittedPacketsSent,qualityLimitationReason:e.qualityLimitationReason,qualityLimitationResolutionChanges:e.qualityLimitationResolutionChanges},i=r.get(e.remoteId);i&&(o.jitter=i.jitter,o.packetsLost=i.packetsLost,o.roundTripTime=i.roundTripTime),t.push(o)}})),t}))}setPublishingQuality(e){const t=[];for(let r=LS.LOW;r<=LS.HIGH;r+=1)t.push(new vP({quality:r,enabled:r<=e}));this.log.debug("setting publishing quality. max quality ".concat(e),this.logContext),this.setPublishingLayers(t)}setDeviceId(e){return zO(this,void 0,void 0,(function*(){return this._constraints.deviceId===e&&this._mediaStreamTrack.getSettings().deviceId===gT(e)||(this._constraints.deviceId=e,this.isMuted||(yield this.restartTrack()),this.isMuted||gT(e)===this._mediaStreamTrack.getSettings().deviceId)}))}restartTrack(e){var t,r,n,o;return zO(this,void 0,void 0,(function*(){let i;if(e){const t=LP({video:e});"boolean"!=typeof t.video&&(i=t.video)}yield this.restart(i);try{for(var a,s=!0,c=IO(this.simulcastCodecs.values());a=yield c.next(),!(t=a.done);s=!0){o=a.value,s=!1;const e=o;e.sender&&(e.mediaStreamTrack=this.mediaStreamTrack.clone(),yield e.sender.replaceTrack(e.mediaStreamTrack))}}catch(e){r={error:e}}finally{try{s||t||!(n=c.return)||(yield n.call(c))}finally{if(r)throw r.error}}}))}setProcessor(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=Object.create(null,{setProcessor:{get:()=>super.setProcessor}});var n,o,i,a,s,c;return zO(this,void 0,void 0,(function*(){if(yield r.setProcessor.call(this,e,t),null===(s=this.processor)||void 0===s?void 0:s.processedTrack)try{for(var l,u=!0,d=IO(this.simulcastCodecs.values());l=yield d.next(),!(n=l.done);u=!0){a=l.value,u=!1;const e=a;yield null===(c=e.sender)||void 0===c?void 0:c.replaceTrack(this.processor.processedTrack)}}catch(e){o={error:e}}finally{try{u||n||!(i=d.return)||(yield i.call(d))}finally{if(o)throw o.error}}}))}addSimulcastTrack(e,t){if(this.simulcastCodecs.has(e))throw new Error("".concat(e," already added"));const r={codec:e,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:t};return this.simulcastCodecs.set(e,r),r}setSimulcastTrackSender(e,t){const r=this.simulcastCodecs.get(e);r&&(r.sender=t,setTimeout((()=>{this.subscribedCodecs&&this.setPublishingCodecs(this.subscribedCodecs)}),5e3))}setPublishingCodecs(e){var t,r,n,o,i,a,s;return zO(this,void 0,void 0,(function*(){if(this.log.debug("setting publishing codecs",Object.assign(Object.assign({},this.logContext),{codecs:e,currentCodec:this.codec})),!this.codec&&e.length>0)return yield this.setPublishingLayers(e[0].qualities),[];this.subscribedCodecs=e;const c=[];try{for(t=!0,r=IO(e);n=yield r.next(),!(o=n.done);t=!0){s=n.value,t=!1;const e=s;if(this.codec&&this.codec!==e.codec){const t=this.simulcastCodecs.get(e.codec);if(this.log.debug("try setPublishingCodec for ".concat(e.codec),Object.assign(Object.assign({},this.logContext),{simulcastCodecInfo:t})),t&&t.sender)t.encodings&&(this.log.debug("try setPublishingLayersForSender ".concat(e.codec),this.logContext),yield Px(t.sender,t.encodings,e.qualities,this.senderLock,this.log,this.logContext));else for(const t of e.qualities)if(t.enabled){c.push(e.codec);break}}else yield this.setPublishingLayers(e.qualities)}}catch(e){i={error:e}}finally{try{t||o||!(a=r.return)||(yield a.call(r))}finally{if(i)throw i.error}}return c}))}setPublishingLayers(e){return zO(this,void 0,void 0,(function*(){this.log.debug("setting publishing layers",Object.assign(Object.assign({},this.logContext),{qualities:e})),this.sender&&this.encodings&&(yield Px(this.sender,this.encodings,e,this.senderLock,this.log,this.logContext))}))}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return zO(this,void 0,void 0,(function*(){yield e.handleAppVisibilityChanged.call(this),QP()&&this.isInBackground&&this.source===RP.Source.Camera&&(this._mediaStreamTrack.enabled=!1)}))}}function Px(e,t,r,n,o,i){return zO(this,void 0,void 0,(function*(){const a=yield n.lock();o.debug("setPublishingLayersForSender",Object.assign(Object.assign({},i),{sender:e,qualities:r,senderEncodings:t}));try{const n=e.getParameters(),{encodings:a}=n;if(!a)return;if(a.length!==t.length)return void o.warn("cannot set publishing layers, encodings mismatch");let s=!1;a.forEach(((e,n)=>{var a;let c=null!==(a=e.rid)&&void 0!==a?a:"";""===c&&(c="q");const l=Tx(c),u=r.find((e=>e.quality===l));u&&e.active!==u.enabled&&(s=!0,e.active=u.enabled,o.debug("setting layer ".concat(u.quality," to ").concat(e.active?"enabled":"disabled"),i),XP()&&(u.enabled?(e.scaleResolutionDownBy=t[n].scaleResolutionDownBy,e.maxBitrate=t[n].maxBitrate,e.maxFrameRate=t[n].maxFrameRate):(e.scaleResolutionDownBy=4,e.maxBitrate=10,e.maxFrameRate=2)))})),s&&(n.encodings=a,o.debug("setting encodings",Object.assign(Object.assign({},i),{encodings:n.encodings})),yield e.setParameters(n))}finally{a()}}))}function Tx(e){switch(e){case"f":default:return LS.HIGH;case"h":return LS.MEDIUM;case"q":return LS.LOW}}function xx(e,t,r,n){if(!r)return[new yO({quality:LS.HIGH,width:e,height:t,bitrate:0,ssrc:0})];if(n){const n=r[0].scalabilityMode,o=new Ex(n),i=[];for(let n=0;n<o.spatial;n+=1)i.push(new yO({quality:LS.HIGH-n,width:Math.ceil(e/Math.pow(2,n)),height:Math.ceil(t/Math.pow(2,n)),bitrate:r[0].maxBitrate?Math.ceil(r[0].maxBitrate/Math.pow(3,n)):0,ssrc:0}));return i}return r.map((r=>{var n,o,i;const a=null!==(n=r.scaleResolutionDownBy)&&void 0!==n?n:1;let s=Tx(null!==(o=r.rid)&&void 0!==o?o:"");return new yO({quality:s,width:Math.ceil(e/a),height:Math.ceil(t/a),bitrate:null!==(i=r.maxBitrate)&&void 0!==i?i:0,ssrc:0})}))}class jx extends RP{constructor(e,t,r,n,o){super(e,r,o),this.sid=t,this.receiver=n}setMuted(e){this.isMuted!==e&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?gC.Muted:gC.Unmuted,this))}setMediaStream(e){this.mediaStream=e;const t=r=>{r.track===this._mediaStreamTrack&&(e.removeEventListener("removetrack",t),this.receiver=void 0,this._currentBitrate=0,this.emit(gC.Ended,this))};e.addEventListener("removetrack",t)}start(){this.startMonitor(),super.enable()}stop(){this.stopMonitor(),super.disable()}getRTCStatsReport(){var e;return zO(this,void 0,void 0,(function*(){if(null===(e=this.receiver)||void 0===e?void 0:e.getStats)return yield this.receiver.getStats()}))}startMonitor(){this.monitorInterval||(this.monitorInterval=setInterval((()=>this.monitorReceiver()),px))}}class Ax extends jx{constructor(e,t,r,n,o,i){super(e,t,RP.Kind.Audio,r,i),this.monitorReceiver=()=>zO(this,void 0,void 0,(function*(){if(!this.receiver)return void(this._currentBitrate=0);const e=yield this.getReceiverStats();e&&this.prevStats&&this.receiver&&(this._currentBitrate=fx(e,this.prevStats)),this.prevStats=e})),this.audioContext=n,this.webAudioPluginNodes=[],o&&(this.sinkId=o.deviceId)}setVolume(e){var t;for(const r of this.attachedElements)this.audioContext?null===(t=this.gainNode)||void 0===t||t.gain.setTargetAtTime(e,0,.1):r.volume=e;eT()&&this._mediaStreamTrack._setVolume(e),this.elementVolume=e}getVolume(){if(this.elementVolume)return this.elementVolume;if(eT())return 1;let e=0;return this.attachedElements.forEach((t=>{t.volume>e&&(e=t.volume)})),e}setSinkId(e){return zO(this,void 0,void 0,(function*(){this.sinkId=e,yield Promise.all(this.attachedElements.map((t=>{if(KP(t))return t.setSinkId(e)})))}))}attach(e){const t=0===this.attachedElements.length;return e?super.attach(e):e=super.attach(),this.sinkId&&KP(e)&&e.setSinkId(this.sinkId),this.audioContext&&t&&(this.log.debug("using audio context mapping",this.logContext),this.connectWebAudio(this.audioContext,e),e.volume=0,e.muted=!0),this.elementVolume&&this.setVolume(this.elementVolume),e}detach(e){let t;return e?(t=super.detach(e),this.audioContext&&(this.attachedElements.length>0?this.connectWebAudio(this.audioContext,this.attachedElements[0]):this.disconnectWebAudio())):(t=super.detach(),this.disconnectWebAudio()),t}setAudioContext(e){this.audioContext=e,e&&this.attachedElements.length>0?this.connectWebAudio(e,this.attachedElements[0]):e||this.disconnectWebAudio()}setWebAudioPlugins(e){this.webAudioPluginNodes=e,this.attachedElements.length>0&&this.audioContext&&this.connectWebAudio(this.audioContext,this.attachedElements[0])}connectWebAudio(e,t){this.disconnectWebAudio(),this.sourceNode=e.createMediaStreamSource(t.srcObject);let r=this.sourceNode;this.webAudioPluginNodes.forEach((e=>{r.connect(e),r=e})),this.gainNode=e.createGain(),r.connect(this.gainNode),this.gainNode.connect(e.destination),this.elementVolume&&this.gainNode.gain.setTargetAtTime(this.elementVolume,0,.1),"running"!==e.state&&e.resume().then((()=>{"running"!==e.state&&this.emit(gC.AudioPlaybackFailed,new Error("Audio Context couldn't be started automatically"))})).catch((e=>{this.emit(gC.AudioPlaybackFailed,e)}))}disconnectWebAudio(){var e,t;null===(e=this.gainNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.gainNode=void 0,this.sourceNode=void 0}getReceiverStats(){return zO(this,void 0,void 0,(function*(){if(!this.receiver||!this.receiver.getStats)return;let e;return(yield this.receiver.getStats()).forEach((t=>{"inbound-rtp"===t.type&&(e={type:"audio",timestamp:t.timestamp,jitter:t.jitter,bytesReceived:t.bytesReceived,concealedSamples:t.concealedSamples,concealmentEvents:t.concealmentEvents,silentConcealedSamples:t.silentConcealedSamples,silentConcealmentEvents:t.silentConcealmentEvents,totalAudioEnergy:t.totalAudioEnergy,totalSamplesDuration:t.totalSamplesDuration})})),e}))}}class zx extends jx{constructor(e,t,r,n,o){super(e,t,RP.Kind.Video,r,o),this.elementInfos=[],this.monitorReceiver=()=>zO(this,void 0,void 0,(function*(){if(!this.receiver)return void(this._currentBitrate=0);const e=yield this.getReceiverStats();e&&this.prevStats&&this.receiver&&(this._currentBitrate=fx(e,this.prevStats)),this.prevStats=e})),this.debouncedHandleResize=PC((()=>{this.updateDimensions()}),100),this.adaptiveStreamSettings=n}get isAdaptiveStream(){return void 0!==this.adaptiveStreamSettings}get mediaStreamTrack(){return this._mediaStreamTrack}setMuted(e){super.setMuted(e),this.attachedElements.forEach((t=>{e?DP(this._mediaStreamTrack,t):MP(this._mediaStreamTrack,t)}))}attach(e){if(e?super.attach(e):e=super.attach(),this.adaptiveStreamSettings&&void 0===this.elementInfos.find((t=>t.element===e))){const t=new Ix(e);this.observeElementInfo(t)}return e}observeElementInfo(e){this.adaptiveStreamSettings&&void 0===this.elementInfos.find((t=>t===e))?(e.handleResize=()=>{this.debouncedHandleResize()},e.handleVisibilityChanged=()=>{this.updateVisibility()},this.elementInfos.push(e),e.observe(),this.debouncedHandleResize(),this.updateVisibility()):this.log.warn("visibility resize observer not triggered",this.logContext)}stopObservingElementInfo(e){if(!this.isAdaptiveStream)return void this.log.warn("stopObservingElementInfo ignored",this.logContext);const t=this.elementInfos.filter((t=>t===e));for(const e of t)e.stopObserving();this.elementInfos=this.elementInfos.filter((t=>t!==e)),this.updateVisibility(),this.debouncedHandleResize()}detach(e){let t=[];if(e)return this.stopObservingElement(e),super.detach(e);t=super.detach();for(const e of t)this.stopObservingElement(e);return t}getDecoderImplementation(){var e;return null===(e=this.prevStats)||void 0===e?void 0:e.decoderImplementation}getReceiverStats(){return zO(this,void 0,void 0,(function*(){if(!this.receiver||!this.receiver.getStats)return;const e=yield this.receiver.getStats();let t,r="",n=new Map;return e.forEach((e=>{"inbound-rtp"===e.type?(r=e.codecId,t={type:"video",framesDecoded:e.framesDecoded,framesDropped:e.framesDropped,framesReceived:e.framesReceived,packetsReceived:e.packetsReceived,packetsLost:e.packetsLost,frameWidth:e.frameWidth,frameHeight:e.frameHeight,pliCount:e.pliCount,firCount:e.firCount,nackCount:e.nackCount,jitter:e.jitter,timestamp:e.timestamp,bytesReceived:e.bytesReceived,decoderImplementation:e.decoderImplementation}):"codec"===e.type&&n.set(e.id,e)})),t&&""!==r&&n.get(r)&&(t.mimeType=n.get(r).mimeType),t}))}stopObservingElement(e){const t=this.elementInfos.filter((t=>t.element===e));for(const e of t)this.stopObservingElementInfo(e)}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return zO(this,void 0,void 0,(function*(){yield e.handleAppVisibilityChanged.call(this),this.isAdaptiveStream&&this.updateVisibility()}))}updateVisibility(){var e,t;const r=this.elementInfos.reduce(((e,t)=>Math.max(e,t.visibilityChangedAt||0)),0),n=!(null!==(t=null===(e=this.adaptiveStreamSettings)||void 0===e?void 0:e.pauseVideoInBackground)&&void 0!==t&&!t)&&this.isInBackground,o=this.elementInfos.some((e=>e.pictureInPicture)),i=this.elementInfos.some((e=>e.visible))&&!n||o;this.lastVisible!==i&&(!i&&Date.now()-r<100?IC.setTimeout((()=>{this.updateVisibility()}),100):(this.lastVisible=i,this.emit(gC.VisibilityChanged,i,this)))}updateDimensions(){var e,t;let r=0,n=0;const o=this.getPixelDensity();for(const e of this.elementInfos){const t=e.width()*o,i=e.height()*o;t+i>r+n&&(r=t,n=i)}(null===(e=this.lastDimensions)||void 0===e?void 0:e.width)===r&&(null===(t=this.lastDimensions)||void 0===t?void 0:t.height)===n||(this.lastDimensions={width:r,height:n},this.emit(gC.VideoDimensionsChanged,this.lastDimensions,this))}getPixelDensity(){var e;const t=null===(e=this.adaptiveStreamSettings)||void 0===e?void 0:e.pixelDensity;return"screen"===t?oT():t||(oT()>2?2:1)}}class Ix{get visible(){return this.isPiP||this.isIntersecting}get pictureInPicture(){return this.isPiP}constructor(e,t){this.onVisibilityChanged=e=>{var t;const{target:r,isIntersecting:n}=e;r===this.element&&(this.isIntersecting=n,this.visibilityChangedAt=Date.now(),null===(t=this.handleVisibilityChanged)||void 0===t||t.call(this))},this.onEnterPiP=()=>{var e;this.isPiP=!0,null===(e=this.handleVisibilityChanged)||void 0===e||e.call(this)},this.onLeavePiP=()=>{var e;this.isPiP=!1,null===(e=this.handleVisibilityChanged)||void 0===e||e.call(this)},this.element=e,this.isIntersecting=null!=t?t:Rx(e),this.isPiP=ZP()&&document.pictureInPictureElement===e,this.visibilityChangedAt=0}width(){return this.element.clientWidth}height(){return this.element.clientHeight}observe(){this.isIntersecting=Rx(this.element),this.isPiP=document.pictureInPictureElement===this.element,this.element.handleResize=()=>{var e;null===(e=this.handleResize)||void 0===e||e.call(this)},this.element.handleVisibilityChanged=this.onVisibilityChanged,dT().observe(this.element),lT().observe(this.element),this.element.addEventListener("enterpictureinpicture",this.onEnterPiP),this.element.addEventListener("leavepictureinpicture",this.onLeavePiP)}stopObserving(){var e,t;null===(e=dT())||void 0===e||e.unobserve(this.element),null===(t=lT())||void 0===t||t.unobserve(this.element),this.element.removeEventListener("enterpictureinpicture",this.onEnterPiP),this.element.removeEventListener("leavepictureinpicture",this.onLeavePiP)}}function Rx(e){let t=e.offsetTop,r=e.offsetLeft;const n=e.offsetWidth,o=e.offsetHeight,{hidden:i}=e,{opacity:a,display:s}=getComputedStyle(e);for(;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,r+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&r<window.pageXOffset+window.innerWidth&&t+o>window.pageYOffset&&r+n>window.pageXOffset&&!i&&(""===a||parseFloat(a)>0)&&"none"!==s}class Mx extends XO.EventEmitter{constructor(e,t,r,n){var o;super(),this.metadataMuted=!1,this.encryption=iO.NONE,this.log=l_,this.handleMuted=()=>{this.emit(gC.Muted)},this.handleUnmuted=()=>{this.emit(gC.Unmuted)},this.log=u_(null!==(o=null==n?void 0:n.loggerName)&&void 0!==o?o:a_.Publication),this.loggerContextCb=this.loggerContextCb,this.setMaxListeners(100),this.kind=e,this.trackSid=t,this.trackName=r,this.source=RP.Source.Unknown}setTrack(e){this.track&&(this.track.off(gC.Muted,this.handleMuted),this.track.off(gC.Unmuted,this.handleUnmuted)),this.track=e,e&&(e.on(gC.Muted,this.handleMuted),e.on(gC.Unmuted,this.handleUnmuted))}get logContext(){var e;return Object.assign(Object.assign({},null===(e=this.loggerContextCb)||void 0===e?void 0:e.call(this)),qP(this))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return void 0!==this.track}get isEncrypted(){return this.encryption!==iO.NONE}get audioTrack(){if(this.track instanceof hx||this.track instanceof Ax)return this.track}get videoTrack(){if(this.track instanceof Cx||this.track instanceof zx)return this.track}updateInfo(e){this.trackSid=e.sid,this.trackName=e.name,this.source=RP.sourceFromProto(e.source),this.mimeType=e.mimeType,this.kind===RP.Kind.Video&&e.width>0&&(this.dimensions={width:e.width,height:e.height},this.simulcasted=e.simulcast),this.encryption=e.encryption,this.trackInfo=e,this.log.debug("update publication info",Object.assign(Object.assign({},this.logContext),{info:e}))}}var Dx,Nx,Lx,Ux,Bx,Fx,qx,Wx;(Nx=(Dx=Mx||(Mx={})).SubscriptionStatus||(Dx.SubscriptionStatus={})).Desired="desired",Nx.Subscribed="subscribed",Nx.Unsubscribed="unsubscribed",(Lx=Dx.PermissionStatus||(Dx.PermissionStatus={})).Allowed="allowed",Lx.NotAllowed="not_allowed";class Hx extends Mx{get isUpstreamPaused(){var e;return null===(e=this.track)||void 0===e?void 0:e.isUpstreamPaused}constructor(e,t,r,n){super(e,t.sid,t.name,n),this.track=void 0,this.handleTrackEnded=()=>{this.emit(gC.Ended)},this.updateInfo(t),this.setTrack(r)}setTrack(e){this.track&&this.track.off(gC.Ended,this.handleTrackEnded),super.setTrack(e),e&&e.on(gC.Ended,this.handleTrackEnded)}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}mute(){var e;return zO(this,void 0,void 0,(function*(){return null===(e=this.track)||void 0===e?void 0:e.mute()}))}unmute(){var e;return zO(this,void 0,void 0,(function*(){return null===(e=this.track)||void 0===e?void 0:e.unmute()}))}pauseUpstream(){var e;return zO(this,void 0,void 0,(function*(){yield null===(e=this.track)||void 0===e?void 0:e.pauseUpstream()}))}resumeUpstream(){var e;return zO(this,void 0,void 0,(function*(){yield null===(e=this.track)||void 0===e?void 0:e.resumeUpstream()}))}}!function(e){e.Excellent="excellent",e.Good="good",e.Poor="poor",e.Lost="lost",e.Unknown="unknown"}(Ux||(Ux={}));class Vx extends XO.EventEmitter{get logContext(){var e,t;return Object.assign(Object.assign({},null===(t=null===(e=this.loggerOptions)||void 0===e?void 0:e.loggerContextCb)||void 0===t?void 0:t.call(e)),{participantSid:this.sid,participantId:this.identity})}get isEncrypted(){return this.tracks.size>0&&Array.from(this.tracks.values()).every((e=>e.isEncrypted))}get isAgent(){var e,t;return null!==(t=null===(e=this.permissions)||void 0===e?void 0:e.agent)&&void 0!==t&&t}constructor(e,t,r,n,o){var i;super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=Ux.Unknown,this.log=l_,this.log=u_(null!==(i=null==o?void 0:o.loggerName)&&void 0!==i?i:a_.Participant),this.loggerOptions=o,this.setMaxListeners(100),this.sid=e,this.identity=t,this.name=r,this.metadata=n,this.audioTracks=new Map,this.videoTracks=new Map,this.tracks=new Map}getTracks(){return Array.from(this.tracks.values())}getTrack(e){for(const[,t]of this.tracks)if(t.source===e)return t}getTrackByName(e){for(const[,t]of this.tracks)if(t.trackName===e)return t}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var e;const t=this.getTrack(RP.Source.Camera);return!(null===(e=null==t?void 0:t.isMuted)||void 0===e||e)}get isMicrophoneEnabled(){var e;const t=this.getTrack(RP.Source.Microphone);return!(null===(e=null==t?void 0:t.isMuted)||void 0===e||e)}get isScreenShareEnabled(){return!!this.getTrack(RP.Source.ScreenShare)}get isLocal(){return!1}get joinedAt(){return this.participantInfo?new Date(1e3*Number.parseInt(this.participantInfo.joinedAt.toString())):new Date}updateInfo(e){return!(this.participantInfo&&this.participantInfo.sid===e.sid&&this.participantInfo.version>e.version||(this.identity=e.identity,this.sid=e.sid,this._setName(e.name),this._setMetadata(e.metadata),e.permission&&this.setPermissions(e.permission),this.participantInfo=e,this.log.trace("update participant info",Object.assign(Object.assign({},this.logContext),{info:e})),0))}_setMetadata(e){const t=this.metadata!==e,r=this.metadata;this.metadata=e,t&&this.emit(fC.ParticipantMetadataChanged,r)}_setName(e){const t=this.name!==e;this.name=e,t&&this.emit(fC.ParticipantNameChanged,e)}setPermissions(e){var t,r,n,o,i;const a=this.permissions,s=e.canPublish!==(null===(t=this.permissions)||void 0===t?void 0:t.canPublish)||e.canSubscribe!==(null===(r=this.permissions)||void 0===r?void 0:r.canSubscribe)||e.canPublishData!==(null===(n=this.permissions)||void 0===n?void 0:n.canPublishData)||e.hidden!==(null===(o=this.permissions)||void 0===o?void 0:o.hidden)||e.recorder!==(null===(i=this.permissions)||void 0===i?void 0:i.recorder)||e.canPublishSources.length!==this.permissions.canPublishSources.length||e.canPublishSources.some(((e,t)=>{var r;return e!==(null===(r=this.permissions)||void 0===r?void 0:r.canPublishSources[t])}));return this.permissions=e,s&&this.emit(fC.ParticipantPermissionsChanged,a),s}setIsSpeaking(e){e!==this.isSpeaking&&(this.isSpeaking=e,e&&(this.lastSpokeAt=new Date),this.emit(fC.IsSpeakingChanged,e))}setConnectionQuality(e){const t=this._connectionQuality;this._connectionQuality=function(e){switch(e){case BS.EXCELLENT:return Ux.Excellent;case BS.GOOD:return Ux.Good;case BS.POOR:return Ux.Poor;case BS.LOST:return Ux.Lost;default:return Ux.Unknown}}(e),t!==this._connectionQuality&&this.emit(fC.ConnectionQualityChanged,this._connectionQuality)}setAudioContext(e){this.audioContext=e,this.audioTracks.forEach((t=>(t.track instanceof Ax||t.track instanceof hx)&&t.track.setAudioContext(e)))}addTrackPublication(e){e.on(gC.Muted,(()=>{this.emit(fC.TrackMuted,e)})),e.on(gC.Unmuted,(()=>{this.emit(fC.TrackUnmuted,e)}));const t=e;switch(t.track&&(t.track.sid=e.trackSid),this.tracks.set(e.trackSid,e),e.kind){case RP.Kind.Audio:this.audioTracks.set(e.trackSid,e);break;case RP.Kind.Video:this.videoTracks.set(e.trackSid,e)}}}class Jx extends Mx{constructor(e,t,r,n){super(e,t.sid,t.name,n),this.track=void 0,this.allowed=!0,this.disabled=!1,this.currentVideoQuality=LS.HIGH,this.handleEnded=e=>{this.setTrack(void 0),this.emit(gC.Ended,e)},this.handleVisibilityChange=e=>{this.log.debug("adaptivestream video visibility ".concat(this.trackSid,", visible=").concat(e),this.logContext),this.disabled=!e,this.emitTrackUpdate()},this.handleVideoDimensionsChange=e=>{this.log.debug("adaptivestream video dimensions ".concat(e.width,"x").concat(e.height),this.logContext),this.videoDimensions=e,this.emitTrackUpdate()},this.subscribed=r,this.updateInfo(t)}setSubscribed(e){const t=this.subscriptionStatus,r=this.permissionStatus;this.subscribed=e,e&&(this.allowed=!0);const n=new sP({trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[new wO({participantSid:"",trackSids:[this.trackSid]})]});this.emit(gC.UpdateSubscription,n),this.emitSubscriptionUpdateIfChanged(t),this.emitPermissionUpdateIfChanged(r)}get subscriptionStatus(){return!1===this.subscribed?Mx.SubscriptionStatus.Unsubscribed:super.isSubscribed?Mx.SubscriptionStatus.Subscribed:Mx.SubscriptionStatus.Desired}get permissionStatus(){return this.allowed?Mx.PermissionStatus.Allowed:Mx.PermissionStatus.NotAllowed}get isSubscribed(){return!1!==this.subscribed&&super.isSubscribed}get isDesired(){return!1!==this.subscribed}get isEnabled(){return!this.disabled}setEnabled(e){this.isManualOperationAllowed()&&this.disabled!==!e&&(this.disabled=!e,this.emitTrackUpdate())}setVideoQuality(e){this.isManualOperationAllowed()&&this.currentVideoQuality!==e&&(this.currentVideoQuality=e,this.videoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(e){var t,r;this.isManualOperationAllowed()&&((null===(t=this.videoDimensions)||void 0===t?void 0:t.width)===e.width&&(null===(r=this.videoDimensions)||void 0===r?void 0:r.height)===e.height||(this.track instanceof zx&&(this.videoDimensions=e),this.currentVideoQuality=void 0,this.emitTrackUpdate()))}setVideoFPS(e){this.isManualOperationAllowed()&&this.track instanceof zx&&this.fps!==e&&(this.fps=e,this.emitTrackUpdate())}get videoQuality(){return this.currentVideoQuality}setTrack(e){const t=this.subscriptionStatus,r=this.permissionStatus,n=this.track;n!==e&&(n&&(n.off(gC.VideoDimensionsChanged,this.handleVideoDimensionsChange),n.off(gC.VisibilityChanged,this.handleVisibilityChange),n.off(gC.Ended,this.handleEnded),n.detach(),n.stopMonitor(),this.emit(gC.Unsubscribed,n)),super.setTrack(e),e&&(e.sid=this.trackSid,e.on(gC.VideoDimensionsChanged,this.handleVideoDimensionsChange),e.on(gC.VisibilityChanged,this.handleVisibilityChange),e.on(gC.Ended,this.handleEnded),this.emit(gC.Subscribed,e)),this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(t))}setAllowed(e){const t=this.subscriptionStatus,r=this.permissionStatus;this.allowed=e,this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(t)}setSubscriptionError(e){this.emit(gC.SubscriptionFailed,e)}updateInfo(e){super.updateInfo(e);const t=this.metadataMuted;this.metadataMuted=e.muted,this.track?this.track.setMuted(e.muted):t!==e.muted&&this.emit(e.muted?gC.Muted:gC.Unmuted)}emitSubscriptionUpdateIfChanged(e){const t=this.subscriptionStatus;e!==t&&this.emit(gC.SubscriptionStatusChanged,t,e)}emitPermissionUpdateIfChanged(e){this.permissionStatus!==e&&this.emit(gC.SubscriptionPermissionChanged,this.permissionStatus,e)}isManualOperationAllowed(){return this.kind===RP.Kind.Video&&this.isAdaptiveStream?(this.log.warn("adaptive stream is enabled, cannot change video track settings",this.logContext),!1):!!this.isDesired||(this.log.warn("cannot update track settings when not subscribed",this.logContext),!1)}get isAdaptiveStream(){return this.track instanceof zx&&this.track.isAdaptiveStream}emitTrackUpdate(){const e=new cP({trackSids:[this.trackSid],disabled:this.disabled,fps:this.fps});this.videoDimensions?(e.width=Math.ceil(this.videoDimensions.width),e.height=Math.ceil(this.videoDimensions.height)):void 0!==this.currentVideoQuality?e.quality=this.currentVideoQuality:e.quality=LS.HIGH,this.emit(gC.UpdateSettings,e)}}class Gx extends Vx{static fromParticipantInfo(e,t){return new Gx(e,t.sid,t.identity,t.name,t.metadata)}constructor(e,t,r,n,o,i){super(t,r||"",n,o,i),this.signalClient=e,this.tracks=new Map,this.audioTracks=new Map,this.videoTracks=new Map,this.volumeMap=new Map}addTrackPublication(e){super.addTrackPublication(e),e.on(gC.UpdateSettings,(t=>{this.log.debug("send update settings",Object.assign(Object.assign({},this.logContext),qP(e))),this.signalClient.sendUpdateTrackSettings(t)})),e.on(gC.UpdateSubscription,(e=>{e.participantTracks.forEach((e=>{e.participantSid=this.sid})),this.signalClient.sendUpdateSubscription(e)})),e.on(gC.SubscriptionPermissionChanged,(t=>{this.emit(fC.TrackSubscriptionPermissionChanged,e,t)})),e.on(gC.SubscriptionStatusChanged,(t=>{this.emit(fC.TrackSubscriptionStatusChanged,e,t)})),e.on(gC.Subscribed,(t=>{this.emit(fC.TrackSubscribed,t,e)})),e.on(gC.Unsubscribed,(t=>{this.emit(fC.TrackUnsubscribed,t,e)})),e.on(gC.SubscriptionFailed,(t=>{this.emit(fC.TrackSubscriptionFailed,e.trackSid,t)}))}getTrack(e){const t=super.getTrack(e);if(t)return t}getTrackByName(e){const t=super.getTrackByName(e);if(t)return t}setVolume(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RP.Source.Microphone;this.volumeMap.set(t,e);const r=this.getTrack(t);r&&r.track&&r.track.setVolume(e)}getVolume(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RP.Source.Microphone;const t=this.getTrack(e);return t&&t.track?t.track.getVolume():this.volumeMap.get(e)}addSubscribedMediaTrack(e,t,r,n,o,i){let a,s=this.getTrackPublication(t);return s||t.startsWith("TR")||this.tracks.forEach((t=>{s||e.kind!==t.kind.toString()||(s=t)})),s?"ended"===e.readyState?(this.log.error("unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()",Object.assign(Object.assign({},this.logContext),qP(s))),void this.emit(fC.TrackSubscriptionFailed,t)):(a="video"===e.kind?new zx(e,t,n,o):new Ax(e,t,n,this.audioContext,this.audioOutput),a.source=s.source,a.isMuted=s.isMuted,a.setMediaStream(r),a.start(),s.setTrack(a),this.volumeMap.has(s.source)&&a instanceof Ax&&a.setVolume(this.volumeMap.get(s.source)),s):0===i?(this.log.error("could not find published track",Object.assign(Object.assign({},this.logContext),{trackSid:t})),void this.emit(fC.TrackSubscriptionFailed,t)):(void 0===i&&(i=20),void setTimeout((()=>{this.addSubscribedMediaTrack(e,t,r,n,o,i-1)}),150))}get hasMetadata(){return!!this.participantInfo}getTrackPublication(e){return this.tracks.get(e)}updateInfo(e){if(!super.updateInfo(e))return!1;const t=new Map,r=new Map;return e.tracks.forEach((e=>{var n,o;let i=this.getTrackPublication(e.sid);if(i)i.updateInfo(e);else{const t=RP.kindFromProto(e.type);if(!t)return;i=new Jx(t,e,null===(n=this.signalClient.connectOptions)||void 0===n?void 0:n.autoSubscribe,{loggerContextCb:()=>this.logContext,loggerName:null===(o=this.loggerOptions)||void 0===o?void 0:o.loggerName}),i.updateInfo(e),r.set(e.sid,i);const a=Array.from(this.tracks.values()).find((e=>e.source===(null==i?void 0:i.source)));a&&i.source!==RP.Source.Unknown&&this.log.debug("received a second track publication for ".concat(this.identity," with the same source: ").concat(i.source),Object.assign(Object.assign({},this.logContext),{oldTrack:qP(a),newTrack:qP(i)})),this.addTrackPublication(i)}t.set(e.sid,i)})),this.tracks.forEach((e=>{t.has(e.trackSid)||(this.log.trace("detected removed track on remote participant, unpublishing",Object.assign(Object.assign({},this.logContext),qP(e))),this.unpublishTrack(e.trackSid,!0))})),r.forEach((e=>{this.emit(fC.TrackPublished,e)})),!0}unpublishTrack(e,t){const r=this.tracks.get(e);if(!r)return;const{track:n}=r;switch(n&&(n.stop(),r.setTrack(void 0)),this.tracks.delete(e),r.kind){case RP.Kind.Audio:this.audioTracks.delete(e);break;case RP.Kind.Video:this.videoTracks.delete(e)}t&&this.emit(fC.TrackUnpublished,r)}setAudioOutput(e){return zO(this,void 0,void 0,(function*(){this.audioOutput=e;const t=[];this.audioTracks.forEach((r=>{var n;r.track instanceof Ax&&t.push(r.track.setSinkId(null!==(n=e.deviceId)&&void 0!==n?n:"default"))})),yield Promise.all(t)}))}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.log.trace("participant event",Object.assign(Object.assign({},this.logContext),{event:e,args:r})),super.emit(e,...r)}}class Kx extends Vx{constructor(e,t,r,n){super(e,t,void 0,void 0,{loggerName:n.loggerName,loggerContextCb:()=>this.engine.logContext}),this.pendingPublishing=new Set,this.pendingPublishPromises=new Map,this.participantTrackPermissions=[],this.allParticipantsAllowedToSubscribe=!0,this.encryptionType=iO.NONE,this.handleReconnecting=()=>{this.reconnectFuture||(this.reconnectFuture=new mT)},this.handleReconnected=()=>{var e,t;null===(t=null===(e=this.reconnectFuture)||void 0===e?void 0:e.resolve)||void 0===t||t.call(e),this.reconnectFuture=void 0,this.updateTrackSubscriptionPermissions()},this.handleDisconnected=()=>{var e,t;this.reconnectFuture&&(this.reconnectFuture.promise.catch((e=>this.log.warn(e.message,this.logContext))),null===(t=null===(e=this.reconnectFuture)||void 0===e?void 0:e.reject)||void 0===t||t.call(e,"Got disconnected during reconnection attempt"),this.reconnectFuture=void 0)},this.updateTrackSubscriptionPermissions=()=>{this.log.debug("updating track subscription permissions",Object.assign(Object.assign({},this.logContext),{allParticipantsAllowed:this.allParticipantsAllowedToSubscribe,participantTrackPermissions:this.participantTrackPermissions})),this.engine.client.sendUpdateSubscriptionPermissions(this.allParticipantsAllowedToSubscribe,this.participantTrackPermissions.map((e=>function(e){var t,r,n;if(!e.participantSid&&!e.participantIdentity)throw new Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return new _P({participantIdentity:null!==(t=e.participantIdentity)&&void 0!==t?t:"",participantSid:null!==(r=e.participantSid)&&void 0!==r?r:"",allTracks:null!==(n=e.allowAll)&&void 0!==n&&n,trackSids:e.allowedTrackSids||[]})}(e))))},this.onTrackUnmuted=e=>{this.onTrackMuted(e,e.isUpstreamPaused)},this.onTrackMuted=(e,t)=>{void 0===t&&(t=!0),e.sid?this.engine.updateMuteStatus(e.sid,t):this.log.error("could not update mute status for unpublished track",Object.assign(Object.assign({},this.logContext),qP(e)))},this.onTrackUpstreamPaused=e=>{this.log.debug("upstream paused",Object.assign(Object.assign({},this.logContext),qP(e))),this.onTrackMuted(e,!0)},this.onTrackUpstreamResumed=e=>{this.log.debug("upstream resumed",Object.assign(Object.assign({},this.logContext),qP(e))),this.onTrackMuted(e,e.isMuted)},this.handleSubscribedQualityUpdate=e=>zO(this,void 0,void 0,(function*(){var t,r,n,o,i,a;if(!(null===(i=this.roomOptions)||void 0===i?void 0:i.dynacast))return;const s=this.videoTracks.get(e.trackSid);if(s)if(e.subscribedCodecs.length>0){if(!s.videoTrack)return;const i=yield s.videoTrack.setPublishingCodecs(e.subscribedCodecs);try{for(var c,l=!0,u=IO(i);!(t=(c=yield u.next()).done);l=!0){o=c.value,l=!1;const e=o;NC(e)&&(this.log.debug("publish ".concat(e," for ").concat(s.videoTrack.sid),Object.assign(Object.assign({},this.logContext),qP(s))),yield this.publishAdditionalCodecForTrack(s.videoTrack,e,s.options))}}catch(e){r={error:e}}finally{try{l||t||!(n=u.return)||(yield n.call(u))}finally{if(r)throw r.error}}}else e.subscribedQualities.length>0&&(yield null===(a=s.videoTrack)||void 0===a?void 0:a.setPublishingLayers(e.subscribedQualities));else this.log.warn("received subscribed quality update for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:e.trackSid}))})),this.handleLocalTrackUnpublished=e=>{const t=this.tracks.get(e.trackSid);t?this.unpublishTrack(t.track):this.log.warn("received unpublished event for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:e.trackSid}))},this.handleTrackEnded=e=>zO(this,void 0,void 0,(function*(){if(e.source===RP.Source.ScreenShare||e.source===RP.Source.ScreenShareAudio)this.log.debug("unpublishing local track due to TrackEnded",Object.assign(Object.assign({},this.logContext),qP(e))),this.unpublishTrack(e);else if(e.isUserProvided)yield e.mute();else if(e instanceof hx||e instanceof Cx)try{if(ZP())try{const t=yield null===navigator||void 0===navigator?void 0:navigator.permissions.query({name:e.source===RP.Source.Camera?"camera":"microphone"});if(t&&"denied"===t.state)throw this.log.warn("user has revoked access to ".concat(e.source),Object.assign(Object.assign({},this.logContext),qP(e))),t.onchange=()=>{"denied"!==t.state&&(e.isMuted||e.restartTrack(),t.onchange=null)},new Error("GetUserMedia Permission denied")}catch(e){}e.isMuted||(this.log.debug("track ended, attempting to use a different device",Object.assign(Object.assign({},this.logContext),qP(e))),yield e.restartTrack())}catch(t){this.log.warn("could not restart track, muting instead",Object.assign(Object.assign({},this.logContext),qP(e))),yield e.mute()}})),this.audioTracks=new Map,this.videoTracks=new Map,this.tracks=new Map,this.engine=r,this.roomOptions=n,this.setupEngine(r),this.activeDeviceMap=new Map}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}get isE2EEEnabled(){return this.encryptionType!==iO.NONE}getTrack(e){const t=super.getTrack(e);if(t)return t}getTrackByName(e){const t=super.getTrackByName(e);if(t)return t}setupEngine(e){this.engine=e,this.engine.on(mC.RemoteMute,((e,t)=>{const r=this.tracks.get(e);r&&r.track&&(t?r.mute():r.unmute())})),this.engine.on(mC.Connected,this.handleReconnected).on(mC.SignalRestarted,this.handleReconnected).on(mC.SignalResumed,this.handleReconnected).on(mC.Restarting,this.handleReconnecting).on(mC.Resuming,this.handleReconnecting).on(mC.LocalTrackUnpublished,this.handleLocalTrackUnpublished).on(mC.SubscribedQualityUpdate,this.handleSubscribedQualityUpdate).on(mC.Disconnected,this.handleDisconnected)}setMetadata(e){var t;this.engine.client.sendUpdateLocalMetadata(e,null!==(t=this.name)&&void 0!==t?t:"")}setName(e){var t;this.engine.client.sendUpdateLocalMetadata(null!==(t=this.metadata)&&void 0!==t?t:"",e)}setCameraEnabled(e,t,r){return this.setTrackEnabled(RP.Source.Camera,e,t,r)}setMicrophoneEnabled(e,t,r){return this.setTrackEnabled(RP.Source.Microphone,e,t,r)}setScreenShareEnabled(e,t,r){return this.setTrackEnabled(RP.Source.ScreenShare,e,t,r)}setPermissions(e){const t=this.permissions,r=super.setPermissions(e);return r&&t&&this.emit(fC.ParticipantPermissionsChanged,t),r}setE2EEEnabled(e){return zO(this,void 0,void 0,(function*(){this.encryptionType=e?iO.GCM:iO.NONE,yield this.republishAllTracks(void 0,!1)}))}setTrackEnabled(e,t,r,n){var o,i;return zO(this,void 0,void 0,(function*(){this.log.debug("setTrackEnabled",Object.assign(Object.assign({},this.logContext),{source:e,enabled:t}));let a=this.getTrack(e);if(t)if(a)yield a.unmute();else{let t;if(this.pendingPublishing.has(e))return void this.log.info("skipping duplicate published source",Object.assign(Object.assign({},this.logContext),{source:e}));this.pendingPublishing.add(e);try{switch(e){case RP.Source.Camera:t=yield this.createTracks({video:null===(o=r)||void 0===o||o});break;case RP.Source.Microphone:t=yield this.createTracks({audio:null===(i=r)||void 0===i||i});break;case RP.Source.ScreenShare:t=yield this.createScreenTracks(Object.assign({},r));break;default:throw new SC(e)}const s=[];for(const e of t)this.log.info("publishing track",Object.assign(Object.assign({},this.logContext),qP(e))),s.push(this.publishTrack(e,n));const c=yield Promise.all(s);[a]=c}catch(e){throw null==t||t.forEach((e=>{e.stop()})),e instanceof Error&&!(e instanceof SC)&&this.emit(fC.MediaDevicesError,e),e}finally{this.pendingPublishing.delete(e)}}else if(a&&a.track)if(e===RP.Source.ScreenShare){a=yield this.unpublishTrack(a.track);const e=this.getTrack(RP.Source.ScreenShareAudio);e&&e.track&&this.unpublishTrack(e.track)}else yield a.mute();return a}))}enableCameraAndMicrophone(){return zO(this,void 0,void 0,(function*(){if(!this.pendingPublishing.has(RP.Source.Camera)&&!this.pendingPublishing.has(RP.Source.Microphone)){this.pendingPublishing.add(RP.Source.Camera),this.pendingPublishing.add(RP.Source.Microphone);try{const e=yield this.createTracks({audio:!0,video:!0});yield Promise.all(e.map((e=>this.publishTrack(e))))}finally{this.pendingPublishing.delete(RP.Source.Camera),this.pendingPublishing.delete(RP.Source.Microphone)}}}))}createTracks(e){var t,r;return zO(this,void 0,void 0,(function*(){const n=LP(function(e,t,r){var n;const o=null!==(n=function(e){if(void 0!==e)return"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}(e))&&void 0!==n?n:{};return!0===o.audio&&(o.audio={}),!0===o.video&&(o.video={}),o.audio&&NP(o.audio,t),o.video&&NP(o.video,r),o}(e,null===(t=this.roomOptions)||void 0===t?void 0:t.audioCaptureDefaults,null===(r=this.roomOptions)||void 0===r?void 0:r.videoCaptureDefaults));let o;try{o=yield navigator.mediaDevices.getUserMedia(n)}catch(e){throw e instanceof Error&&(n.audio&&(this.microphoneError=e),n.video&&(this.cameraError=e)),e}return n.audio&&(this.microphoneError=void 0,this.emit(fC.AudioStreamAcquired)),n.video&&(this.cameraError=void 0),o.getTracks().map((t=>{const r="audio"===t.kind;let i;r?e.audio:e.video;const a=r?n.audio:n.video;"boolean"!=typeof a&&(i=a);const s=function(e,t,r){switch(e.kind){case"audio":return new hx(e,t,!1,void 0,r);case"video":return new Cx(e,t,!1,r);default:throw new SC("unsupported track type: ".concat(e.kind))}}(t,i,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});return s.kind===RP.Kind.Video?s.source=RP.Source.Camera:s.kind===RP.Kind.Audio&&(s.source=RP.Source.Microphone),s.mediaStream=o,s}))}))}createScreenTracks(e){return zO(this,void 0,void 0,(function*(){if(void 0===e&&(e={}),void 0===navigator.mediaDevices.getDisplayMedia)throw new _C("getDisplayMedia not supported");void 0!==e.resolution||function(){const e=jC();return"Safari"===(null==e?void 0:e.name)&&e.version.startsWith("17.")}()||(e.resolution=qC.h1080fps30.resolution);const t=function(e){var t,r;let n=null===(t=e.video)||void 0===t||t;return e.resolution&&e.resolution.width>0&&e.resolution.height>0&&(n="boolean"==typeof n?{}:n,n=YP()?Object.assign(Object.assign({},n),{width:{max:e.resolution.width},height:{max:e.resolution.height},frameRate:e.resolution.frameRate}):Object.assign(Object.assign({},n),{width:{ideal:e.resolution.width},height:{ideal:e.resolution.height},frameRate:e.resolution.frameRate})),{audio:null!==(r=e.audio)&&void 0!==r&&r,video:n,controller:e.controller,selfBrowserSurface:e.selfBrowserSurface,surfaceSwitching:e.surfaceSwitching,systemAudio:e.systemAudio}}(e),r=yield navigator.mediaDevices.getDisplayMedia(t),n=r.getVideoTracks();if(0===n.length)throw new SC("no video track found");const o=new Cx(n[0],void 0,!1,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});o.source=RP.Source.ScreenShare,e.contentHint&&(o.mediaStreamTrack.contentHint=e.contentHint);const i=[o];if(r.getAudioTracks().length>0){this.emit(fC.AudioStreamAcquired);const e=new hx(r.getAudioTracks()[0],void 0,!1,this.audioContext,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});e.source=RP.Source.ScreenShareAudio,i.push(e)}return i}))}publishTrack(e,t){var r,n,o,i;return zO(this,void 0,void 0,(function*(){let a,s;if(yield null===(r=this.reconnectFuture)||void 0===r?void 0:r.promise,e instanceof wT&&this.pendingPublishPromises.has(e)&&(yield this.pendingPublishPromises.get(e)),e instanceof MediaStreamTrack)a=e.getConstraints();else{let t;switch(a=e.constraints,e.source){case RP.Source.Microphone:t="audioinput";break;case RP.Source.Camera:t="videoinput"}t&&this.activeDeviceMap.has(t)&&(a=Object.assign(Object.assign({},a),{deviceId:this.activeDeviceMap.get(t)}))}if(e instanceof MediaStreamTrack)switch(e.kind){case"audio":e=new hx(e,a,!0,this.audioContext,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});break;case"video":e=new Cx(e,a,!0,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});break;default:throw new SC("unsupported MediaStreamTrack kind ".concat(e.kind))}else e.updateLoggerOptions({loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});if(e instanceof hx&&e.setAudioContext(this.audioContext),this.tracks.forEach((t=>{t.track&&t.track===e&&(s=t)})),s)return this.log.warn("track has already been published, skipping",Object.assign(Object.assign({},this.logContext),qP(s))),s;const c="channelCount"in e.mediaStreamTrack.getSettings()&&2===e.mediaStreamTrack.getSettings().channelCount||2===e.mediaStreamTrack.getConstraints().channelCount,l=null!==(n=null==t?void 0:t.forceStereo)&&void 0!==n?n:c;l&&(t||(t={}),void 0===t.dtx&&this.log.info("Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work.",Object.assign(Object.assign({},this.logContext),qP(e))),void 0===t.red&&this.log.info("Opus RED will be disabled for stereo tracks by default. Enable them explicitly to make it work."),null!==(o=t.dtx)&&void 0!==o||(t.dtx=!1),null!==(i=t.red)&&void 0!==i||(t.red=!1));const u=Object.assign(Object.assign({},this.roomOptions.publishDefaults),t);YP()&&this.roomOptions.e2ee&&(this.log.info("End-to-end encryption is set up, simulcast publishing will be disabled on Safari",Object.assign({},this.logContext)),u.simulcast=!1),u.source&&(e.source=u.source);const d=this.publish(e,u,l);this.pendingPublishPromises.set(e,d);try{return yield d}catch(e){throw e}finally{this.pendingPublishPromises.delete(e)}}))}publish(e,t,r){var n,o,i,a,s,c,l,u,d,p,f,h,m;return zO(this,void 0,void 0,(function*(){Array.from(this.tracks.values()).find((t=>e instanceof wT&&t.source===e.source))&&e.source!==RP.Source.Unknown&&this.log.info("publishing a second track with the same source: ".concat(e.source),Object.assign(Object.assign({},this.logContext),qP(e))),t.stopMicTrackOnMute&&e instanceof hx&&(e.stopOnMute=!0),e.source===RP.Source.ScreenShare&&XP()&&(t.simulcast=!1),"av1"!==t.videoCodec||function(){if(!("getCapabilities"in RTCRtpSender))return!1;if(YP())return!1;const e=RTCRtpSender.getCapabilities("video");let t=!1;if(e)for(const r of e.codecs)if("video/AV1"===r.mimeType){t=!0;break}return t}()||(t.videoCodec=void 0),"vp9"!==t.videoCodec||function(){if(!("getCapabilities"in RTCRtpSender))return!1;if(XP())return!1;if(YP()){const e=jC();if((null==e?void 0:e.version)&&iT(e.version,"16")<0)return!1}const e=RTCRtpSender.getCapabilities("video");let t=!1;if(e)for(const r of e.codecs)if("video/VP9"===r.mimeType){t=!0;break}return t}()||(t.videoCodec=void 0),void 0===t.videoCodec&&(t.videoCodec=$T);const y=t.videoCodec;e.on(gC.Muted,this.onTrackMuted),e.on(gC.Unmuted,this.onTrackUnmuted),e.on(gC.Ended,this.handleTrackEnded),e.on(gC.UpstreamPaused,this.onTrackUpstreamPaused),e.on(gC.UpstreamResumed,this.onTrackUpstreamResumed);const g=new QC({cid:e.mediaStreamTrack.id,name:t.name,type:RP.kindToProto(e.kind),muted:e.isMuted,source:RP.sourceToProto(e.source),disableDtx:!(null===(n=t.dtx)||void 0===n||n),encryption:this.encryptionType,stereo:r,disableRed:this.isE2EEEnabled||!(null===(o=t.red)||void 0===o||o),stream:null==t?void 0:t.stream});let b;if(e.kind===RP.Kind.Video){let r={width:0,height:0};try{r=yield e.waitForDimensions()}catch(t){const n=null!==(a=null===(i=this.roomOptions.videoCaptureDefaults)||void 0===i?void 0:i.resolution)&&void 0!==a?a:BC.h720.resolution;r={width:n.width,height:n.height},this.log.error("could not determine track dimensions, using defaults",Object.assign(Object.assign(Object.assign({},this.logContext),qP(e)),{dims:r}))}g.width=r.width,g.height=r.height,e instanceof Cx&&(GP(y)&&(e.source===RP.Source.ScreenShare&&"vp9"===y&&(t.scalabilityMode="L1T3"),t.scalabilityMode=null!==(s=t.scalabilityMode)&&void 0!==s?s:"L3T3_KEY"),g.simulcastCodecs=[new YC({codec:y,cid:e.mediaStreamTrack.id})],!0===t.backupCodec&&(t.backupCodec={codec:$T}),t.backupCodec&&y!==t.backupCodec.codec&&g.encryption===iO.NONE&&(this.roomOptions.dynacast||(this.roomOptions.dynacast=!0),g.simulcastCodecs.push(new YC({codec:t.backupCodec.codec,cid:""})))),b=wx(e.source===RP.Source.ScreenShare,g.width,g.height,t),g.layers=xx(g.width,g.height,b,GP(t.videoCodec))}else e.kind===RP.Kind.Audio&&(b=[{maxBitrate:null!==(l=null===(c=t.audioPreset)||void 0===c?void 0:c.maxBitrate)&&void 0!==l?l:t.audioBitrate,priority:null!==(d=null===(u=t.audioPreset)||void 0===u?void 0:u.priority)&&void 0!==d?d:"high",networkPriority:null!==(f=null===(p=t.audioPreset)||void 0===p?void 0:p.priority)&&void 0!==f?f:"high"}]);if(!this.engine||this.engine.isClosed)throw new EC("cannot publish track when not connected");const v=yield this.engine.addTrack(g);let k;if(v.codecs.forEach((e=>{void 0===k&&(k=e.mimeType)})),k&&e.kind===RP.Kind.Video){const r=BP(k);r!==y&&(this.log.debug("falling back to server selected codec",Object.assign(Object.assign(Object.assign({},this.logContext),qP(e)),{codec:r})),t.videoCodec=r,b=wx(e.source===RP.Source.ScreenShare,g.width,g.height,t))}const w=new Hx(e.kind,v,e,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});if(w.options=t,e.sid=v.sid,!this.engine.pcManager)throw new EC("pcManager is not ready");if(this.log.debug("publishing ".concat(e.kind," with encodings"),Object.assign(Object.assign({},this.logContext),{encodings:b,trackInfo:v})),e.sender=yield this.engine.createSender(e,t,b),b)if(XP()&&e.kind===RP.Kind.Audio){let t;for(const r of this.engine.pcManager.publisher.getTransceivers())if(r.sender===e.sender){t=r;break}t&&this.engine.pcManager.publisher.setTrackCodecBitrate({transceiver:t,codec:"opus",maxbr:(null===(h=b[0])||void 0===h?void 0:h.maxBitrate)?b[0].maxBitrate/1e3:0})}else e.codec&&GP(e.codec)&&(null===(m=b[0])||void 0===m?void 0:m.maxBitrate)&&this.engine.pcManager.publisher.setTrackCodecBitrate({cid:g.cid,codec:e.codec,maxbr:b[0].maxBitrate/1e3});return yield this.engine.negotiate(),e instanceof Cx?e.startMonitor(this.engine.client):e instanceof hx&&e.startMonitor(),this.addTrackPublication(w),this.emit(fC.LocalTrackPublished,w),w}))}get isLocal(){return!0}publishAdditionalCodecForTrack(e,t,r){var n;return zO(this,void 0,void 0,(function*(){if(this.encryptionType!==iO.NONE)return;let o;if(this.tracks.forEach((t=>{t.track&&t.track===e&&(o=t)})),!o)throw new SC("track is not published");if(!(e instanceof Cx))throw new SC("track is not a video track");const i=Object.assign(Object.assign({},null===(n=this.roomOptions)||void 0===n?void 0:n.publishDefaults),r),a=function(e,t,r){var n,o,i,a;if(!r.backupCodec||!0===r.backupCodec||r.backupCodec.codec===r.videoCodec)return;t!==r.backupCodec.codec&&l_.warn("requested a different codec than specified as backup",{serverRequested:t,backup:r.backupCodec.codec}),r.videoCodec=t,r.videoEncoding=r.backupCodec.encoding;const s=e.mediaStreamTrack.getSettings(),c=null!==(n=s.width)&&void 0!==n?n:null===(o=e.dimensions)||void 0===o?void 0:o.width,l=null!==(i=s.height)&&void 0!==i?i:null===(a=e.dimensions)||void 0===a?void 0:a.height;return wx(e.source===RP.Source.ScreenShare,c,l,r)}(e,t,i);if(!a)return void this.log.info("backup codec has been disabled, ignoring request to add additional codec for track",Object.assign(Object.assign({},this.logContext),qP(e)));const s=e.addSimulcastTrack(t,a),c=new QC({cid:s.mediaStreamTrack.id,type:RP.kindToProto(e.kind),muted:e.isMuted,source:RP.sourceToProto(e.source),sid:e.sid,simulcastCodecs:[{codec:i.videoCodec,cid:s.mediaStreamTrack.id}]});if(c.layers=xx(c.width,c.height,a),!this.engine||this.engine.isClosed)throw new EC("cannot publish track when not connected");const l=yield this.engine.addTrack(c);yield this.engine.createSimulcastSender(e,s,i,a),yield this.engine.negotiate(),this.log.debug("published ".concat(t," for track ").concat(e.sid),Object.assign(Object.assign({},this.logContext),{encodings:a,trackInfo:l}))}))}unpublishTrack(e,t){var r,n;return zO(this,void 0,void 0,(function*(){const o=this.getPublicationForTrack(e),i=o?qP(o):void 0;if(this.log.debug("unpublishing track",Object.assign(Object.assign({},this.logContext),i)),!o||!o.track)return void this.log.warn("track was not unpublished because no publication was found",Object.assign(Object.assign({},this.logContext),i));(e=o.track).off(gC.Muted,this.onTrackMuted),e.off(gC.Unmuted,this.onTrackUnmuted),e.off(gC.Ended,this.handleTrackEnded),e.off(gC.UpstreamPaused,this.onTrackUpstreamPaused),e.off(gC.UpstreamResumed,this.onTrackUpstreamResumed),void 0===t&&(t=null===(n=null===(r=this.roomOptions)||void 0===r?void 0:r.stopLocalTrackOnUnpublish)||void 0===n||n),t&&e.stop();let a=!1;const s=e.sender;if(e.sender=void 0,this.engine.pcManager&&this.engine.pcManager.currentState<tx.FAILED&&s)try{for(const e of this.engine.pcManager.publisher.getTransceivers())e.sender===s&&(e.direction="inactive",a=!0);if(this.engine.removeTrack(s)&&(a=!0),e instanceof Cx){for(const[,t]of e.simulcastCodecs)t.sender&&(this.engine.removeTrack(t.sender)&&(a=!0),t.sender=void 0);e.simulcastCodecs.clear()}}catch(e){this.log.warn("failed to unpublish track",Object.assign(Object.assign(Object.assign({},this.logContext),i),{error:e}))}switch(this.tracks.delete(o.trackSid),o.kind){case RP.Kind.Audio:this.audioTracks.delete(o.trackSid);break;case RP.Kind.Video:this.videoTracks.delete(o.trackSid)}return this.emit(fC.LocalTrackUnpublished,o),o.setTrack(void 0),a&&(yield this.engine.negotiate()),o}))}unpublishTracks(e){return zO(this,void 0,void 0,(function*(){return(yield Promise.all(e.map((e=>this.unpublishTrack(e))))).filter((e=>e instanceof Hx))}))}republishAllTracks(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return zO(this,void 0,void 0,(function*(){const r=[];this.tracks.forEach((t=>{t.track&&(e&&(t.options=Object.assign(Object.assign({},t.options),e)),r.push(t))})),yield Promise.all(r.map((e=>zO(this,void 0,void 0,(function*(){const r=e.track;yield this.unpublishTrack(r,!1),t&&!r.isMuted&&r.source!==RP.Source.ScreenShare&&r.source!==RP.Source.ScreenShareAudio&&(r instanceof hx||r instanceof Cx)&&!r.isUserProvided&&(this.log.debug("restarting existing track",Object.assign(Object.assign({},this.logContext),{track:e.trackSid})),yield r.restartTrack()),yield this.publishTrack(r,e.options)})))))}))}publishData(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return zO(this,void 0,void 0,(function*(){const n=Array.isArray(r)?r:null==r?void 0:r.destination,o=[],i=Array.isArray(r)?void 0:r.topic;void 0!==n&&n.forEach((e=>{e instanceof Gx?o.push(e.sid):o.push(e)}));const a=new gO({kind:t,value:{case:"user",value:new kO({participantSid:this.sid,payload:e,destinationSids:o,topic:i})}});yield this.engine.sendDataPacket(a,t)}))}setTrackSubscriptionPermissions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.participantTrackPermissions=t,this.allParticipantsAllowedToSubscribe=e,this.engine.client.isDisconnected||this.updateTrackSubscriptionPermissions()}updateInfo(e){return e.sid===this.sid&&!!super.updateInfo(e)&&(e.tracks.forEach((e=>{var t,r;const n=this.tracks.get(e.sid);if(n){const o=n.isMuted||null!==(r=null===(t=n.track)||void 0===t?void 0:t.isUpstreamPaused)&&void 0!==r&&r;o!==e.muted&&(this.log.debug("updating server mute state after reconcile",Object.assign(Object.assign(Object.assign({},this.logContext),qP(n)),{mutedOnServer:o})),this.engine.client.sendMuteTrack(e.sid,o))}})),!0)}getPublicationForTrack(e){let t;return this.tracks.forEach((r=>{const n=r.track;n&&(e instanceof MediaStreamTrack?(n instanceof hx||n instanceof Cx)&&n.mediaStreamTrack===e&&(t=r):e===n&&(t=r))})),t}}(Fx=Bx||(Bx={})).Disconnected="disconnected",Fx.Connecting="connecting",Fx.Connected="connected",Fx.Reconnecting="reconnecting";class $x extends XO.EventEmitter{constructor(e){var t,r,n;super(),t=this,this.state=Bx.Disconnected,this.activeSpeakers=[],this.isE2EEEnabled=!1,this.audioEnabled=!0,this.isVideoPlaybackBlocked=!1,this.log=l_,this.bufferedEvents=[],this.connect=(e,t,r)=>zO(this,void 0,void 0,(function*(){var n;const o=yield this.disconnectLock.lock();if(this.state===Bx.Connected)return this.log.info("already connected to room ".concat(this.name),this.logContext),o(),Promise.resolve();if(this.connectFuture)return o(),this.connectFuture.promise;this.setAndEmitConnectionState(Bx.Connecting),(null===(n=this.regionUrlProvider)||void 0===n?void 0:n.getServerUrl().toString())!==e&&(this.regionUrl=void 0,this.regionUrlProvider=void 0),tT(new URL(e))&&(void 0===this.regionUrlProvider?this.regionUrlProvider=new dx(e,t):this.regionUrlProvider.updateToken(t),this.regionUrlProvider.fetchRegionSettings().catch((e=>{this.log.warn("could not fetch region settings",Object.assign(Object.assign({},this.logContext),{error:e}))})));const i=(n,a,s)=>zO(this,void 0,void 0,(function*(){var c;this.abortController&&this.abortController.abort();const l=new AbortController;this.abortController=l,null==o||o();try{yield this.attemptConnection(null!=s?s:e,t,r,l),this.abortController=void 0,n()}catch(e){if(this.regionUrlProvider&&e instanceof wC&&3!==e.reason&&0!==e.reason){let t=null;try{t=yield this.regionUrlProvider.getNextBestRegionUrl(null===(c=this.abortController)||void 0===c?void 0:c.signal)}catch(e){if(e instanceof wC&&(401===e.status||3===e.reason))return this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),void a(e)}t?(this.log.info("Initial connection failed with ConnectionError: ".concat(e.message,". Retrying with another region: ").concat(t),this.logContext),yield i(n,a,t)):(this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),a(e))}else this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),a(e)}})),a=this.regionUrl;return this.regionUrl=void 0,this.connectFuture=new mT(((e,t)=>{i(e,t,a)}),(()=>{this.clearConnectionFutures()})),this.connectFuture.promise})),this.connectSignal=(e,t,r,n,o,i)=>zO(this,void 0,void 0,(function*(){var a,s,c;const l=yield r.join(e,t,{autoSubscribe:n.autoSubscribe,publishOnly:n.publishOnly,adaptiveStream:"object"==typeof o.adaptiveStream||o.adaptiveStream,maxRetries:n.maxRetries,e2eeEnabled:!!this.e2eeManager,websocketTimeout:n.websocketTimeout},i.signal);let u=l.serverInfo;if(u||(u={version:l.serverVersion,region:l.serverRegion}),this.log.debug("connected to Livekit Server ".concat(Object.entries(u).map((e=>{let[t,r]=e;return"".concat(t,": ").concat(r)})).join(", ")),{room:null===(a=l.room)||void 0===a?void 0:a.name,roomSid:null===(s=l.room)||void 0===s?void 0:s.sid,identity:null===(c=l.participant)||void 0===c?void 0:c.identity}),!l.serverVersion)throw new OC("unknown server version");return"0.15.1"===l.serverVersion&&this.options.dynacast&&(this.log.debug("disabling dynacast due to server version",this.logContext),o.dynacast=!1),l})),this.applyJoinResponse=e=>{const t=e.participant;this.localParticipant.sid=t.sid,this.localParticipant.identity=t.identity,this.handleParticipantUpdates([t,...e.otherParticipants]),e.room&&this.handleRoomUpdate(e.room),this.options.e2ee&&this.e2eeManager&&this.e2eeManager.setSifTrailer(e.sifTrailer)},this.attemptConnection=(e,t,r,n)=>zO(this,void 0,void 0,(function*(){var o,i;this.state===Bx.Reconnecting?(this.log.info("Reconnection attempt replaced by new connection attempt",this.logContext),this.recreateEngine()):this.maybeCreateEngine(),(null===(o=this.regionUrlProvider)||void 0===o?void 0:o.isCloud())&&this.engine.setRegionUrlProvider(this.regionUrlProvider),this.acquireAudioContext(),this.connOptions=Object.assign(Object.assign({},ex),r),this.connOptions.rtcConfig&&(this.engine.rtcConfig=this.connOptions.rtcConfig),this.connOptions.peerConnectionTimeout&&(this.engine.peerConnectionTimeout=this.connOptions.peerConnectionTimeout);try{const r=yield this.connectSignal(e,t,this.engine,this.connOptions,this.options,n);this.applyJoinResponse(r),this.setupLocalParticipantEvents(),this.emit(dC.SignalConnected)}catch(e){yield this.engine.close(),this.recreateEngine();const t=new wC("could not establish signal connection");throw e instanceof Error&&(t.message="".concat(t.message,": ").concat(e.message)),e instanceof wC&&(t.reason=e.reason,t.status=e.status),this.log.debug("error trying to establish signal connection",Object.assign(Object.assign({},this.logContext),{error:e})),t}if(n.signal.aborted)throw yield this.engine.close(),this.recreateEngine(),new wC("Connection attempt aborted");try{yield this.engine.waitForPCInitialConnection(this.connOptions.peerConnectionTimeout,n)}catch(e){throw yield this.engine.close(),this.recreateEngine(),e}ZP()&&this.options.disconnectOnPageLeave&&(window.addEventListener("pagehide",this.onPageLeave),window.addEventListener("beforeunload",this.onPageLeave)),ZP()&&(document.addEventListener("freeze",this.onPageLeave),null===(i=navigator.mediaDevices)||void 0===i||i.addEventListener("devicechange",this.handleDeviceChange)),this.setAndEmitConnectionState(Bx.Connected),this.emit(dC.Connected),this.registerConnectionReconcile()})),this.disconnect=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return zO(t,void 0,void 0,(function*(){var t,r,n,o;const i=yield this.disconnectLock.lock();try{if(this.state===Bx.Disconnected)return void this.log.debug("already disconnected",this.logContext);this.log.info("disconnect from room",Object.assign({},this.logContext)),this.state!==Bx.Connecting&&this.state!==Bx.Reconnecting||(this.log.warn("abort connection attempt",this.logContext),null===(t=this.abortController)||void 0===t||t.abort(),null===(n=null===(r=this.connectFuture)||void 0===r?void 0:r.reject)||void 0===n||n.call(r,new wC("Client initiated disconnect")),this.connectFuture=void 0),(null===(o=this.engine)||void 0===o?void 0:o.client.isDisconnected)||(yield this.engine.client.sendLeave()),this.engine&&(yield this.engine.close()),this.handleDisconnect(e,HS.CLIENT_INITIATED),this.engine=void 0}finally{i()}}))},this.onPageLeave=()=>zO(this,void 0,void 0,(function*(){yield this.disconnect()})),this.startAudio=()=>zO(this,void 0,void 0,(function*(){const e=[],t=jC();if(t&&"iOS"===t.os){const t="livekit-dummy-audio-el";let r=document.getElementById(t);if(!r){r=document.createElement("audio"),r.id=t,r.autoplay=!0,r.hidden=!0;const e=hT();e.enabled=!0;const n=new MediaStream([e]);r.srcObject=n,document.addEventListener("visibilitychange",(()=>{r&&(r.srcObject=document.hidden?null:n,document.hidden||(this.log.debug("page visible again, triggering startAudio to resume playback and update playback status",this.logContext),this.startAudio()))})),document.body.append(r),this.once(dC.Disconnected,(()=>{null==r||r.remove(),r=null}))}e.push(r)}this.participants.forEach((t=>{t.audioTracks.forEach((t=>{t.track&&t.track.attachedElements.forEach((t=>{e.push(t)}))}))}));try{yield Promise.all([this.acquireAudioContext(),...e.map((e=>(e.muted=!1,e.play())))]),this.handleAudioPlaybackStarted()}catch(e){throw this.handleAudioPlaybackFailed(e),e}})),this.startVideo=()=>zO(this,void 0,void 0,(function*(){const e=[];for(const t of this.participants.values())t.videoTracks.forEach((t=>{var r;null===(r=t.track)||void 0===r||r.attachedElements.forEach((t=>{e.includes(t)||e.push(t)}))}));yield Promise.all(e.map((e=>e.play()))).then((()=>{this.handleVideoPlaybackStarted()})).catch((e=>{"NotAllowedError"===e.name?this.handleVideoPlaybackFailed():this.log.warn("Resuming video playback failed, make sure you call `startVideo` directly in a user gesture handler",this.logContext)}))})),this.handleRestarting=()=>{this.clearConnectionReconcile();for(const e of this.participants.values())this.handleParticipantDisconnected(e.sid,e);this.setAndEmitConnectionState(Bx.Reconnecting)&&this.emit(dC.Reconnecting)},this.handleSignalRestarted=e=>zO(this,void 0,void 0,(function*(){this.log.debug("signal reconnected to server, region ".concat(e.serverRegion),Object.assign(Object.assign({},this.logContext),{region:e.serverRegion})),this.bufferedEvents=[],this.applyJoinResponse(e);try{yield this.localParticipant.republishAllTracks(void 0,!0)}catch(e){this.log.error("error trying to re-publish tracks after reconnection",Object.assign(Object.assign({},this.logContext),{error:e}))}try{yield this.engine.waitForRestarted(),this.log.debug("fully reconnected to server",Object.assign(Object.assign({},this.logContext),{region:e.serverRegion}))}catch(e){return}this.setAndEmitConnectionState(Bx.Connected),this.emit(dC.Reconnected),this.registerConnectionReconcile(),this.emitBufferedEvents()})),this.handleParticipantUpdates=e=>{e.forEach((e=>{if(e.identity===this.localParticipant.identity)return void this.localParticipant.updateInfo(e);const t=this.identityToSid.get(e.identity);t&&t!==e.sid&&this.handleParticipantDisconnected(t,this.participants.get(t));let r=this.participants.get(e.sid);const n=!r;e.state===nO.DISCONNECTED?this.handleParticipantDisconnected(e.sid,r):(r=this.getOrCreateParticipant(e.sid,e),n||r.updateInfo(e))}))},this.handleActiveSpeakersUpdate=e=>{const t=[],r={};e.forEach((e=>{if(r[e.sid]=!0,e.sid===this.localParticipant.sid)this.localParticipant.audioLevel=e.level,this.localParticipant.setIsSpeaking(!0),t.push(this.localParticipant);else{const r=this.participants.get(e.sid);r&&(r.audioLevel=e.level,r.setIsSpeaking(!0),t.push(r))}})),r[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.participants.forEach((e=>{r[e.sid]||(e.audioLevel=0,e.setIsSpeaking(!1))})),this.activeSpeakers=t,this.emitWhenConnected(dC.ActiveSpeakersChanged,t)},this.handleSpeakersChanged=e=>{const t=new Map;this.activeSpeakers.forEach((e=>{t.set(e.sid,e)})),e.forEach((e=>{let r=this.participants.get(e.sid);e.sid===this.localParticipant.sid&&(r=this.localParticipant),r&&(r.audioLevel=e.level,r.setIsSpeaking(e.active),e.active?t.set(e.sid,r):t.delete(e.sid))}));const r=Array.from(t.values());r.sort(((e,t)=>t.audioLevel-e.audioLevel)),this.activeSpeakers=r,this.emitWhenConnected(dC.ActiveSpeakersChanged,r)},this.handleStreamStateUpdate=e=>{e.streamStates.forEach((e=>{const t=this.participants.get(e.participantSid);if(!t)return;const r=t.getTrackPublication(e.trackSid);r&&r.track&&(r.track.streamState=RP.streamStateFromProto(e.state),t.emit(fC.TrackStreamStateChanged,r,r.track.streamState),this.emitWhenConnected(dC.TrackStreamStateChanged,r,r.track.streamState,t))}))},this.handleSubscriptionPermissionUpdate=e=>{const t=this.participants.get(e.participantSid);if(!t)return;const r=t.getTrackPublication(e.trackSid);r&&r.setAllowed(e.allowed)},this.handleSubscriptionError=e=>{const t=Array.from(this.participants.values()).find((t=>t.tracks.has(e.trackSid)));if(!t)return;const r=t.getTrackPublication(e.trackSid);r&&r.setSubscriptionError(e.err)},this.handleDataPacket=(e,t)=>{const r=this.participants.get(e.participantSid);this.emit(dC.DataReceived,e.payload,r,t,e.topic),null==r||r.emit(fC.DataReceived,e.payload,t)},this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(dC.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=e=>{this.log.warn("could not playback audio",Object.assign(Object.assign({},this.logContext),{error:e})),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(dC.AudioPlaybackStatusChanged,!1))},this.handleVideoPlaybackStarted=()=>{this.isVideoPlaybackBlocked&&(this.isVideoPlaybackBlocked=!1,this.emit(dC.VideoPlaybackStatusChanged,!0))},this.handleVideoPlaybackFailed=()=>{this.isVideoPlaybackBlocked||(this.isVideoPlaybackBlocked=!0,this.emit(dC.VideoPlaybackStatusChanged,!1))},this.handleDeviceChange=()=>zO(this,void 0,void 0,(function*(){this.emit(dC.MediaDevicesChanged)})),this.handleRoomUpdate=e=>{const t=this.roomInfo;this.roomInfo=e,t&&t.metadata!==e.metadata&&this.emitWhenConnected(dC.RoomMetadataChanged,e.metadata),(null==t?void 0:t.activeRecording)!==e.activeRecording&&this.emitWhenConnected(dC.RecordingStatusChanged,e.activeRecording)},this.handleConnectionQualityUpdate=e=>{e.updates.forEach((e=>{if(e.participantSid===this.localParticipant.sid)return void this.localParticipant.setConnectionQuality(e.quality);const t=this.participants.get(e.participantSid);t&&t.setConnectionQuality(e.quality)}))},this.onLocalParticipantMetadataChanged=e=>{this.emit(dC.ParticipantMetadataChanged,e,this.localParticipant)},this.onLocalParticipantNameChanged=e=>{this.emit(dC.ParticipantNameChanged,e,this.localParticipant)},this.onLocalTrackMuted=e=>{this.emit(dC.TrackMuted,e,this.localParticipant)},this.onLocalTrackUnmuted=e=>{this.emit(dC.TrackUnmuted,e,this.localParticipant)},this.onLocalTrackPublished=e=>zO(this,void 0,void 0,(function*(){var t;this.emit(dC.LocalTrackPublished,e,this.localParticipant),e.track instanceof hx&&(yield e.track.checkForSilence())&&this.emit(dC.LocalAudioSilenceDetected,e);const r=yield null===(t=e.track)||void 0===t?void 0:t.getDeviceId(),n=(o=e.source)===RP.Source.Microphone?"audioinput":o===RP.Source.Camera?"videoinput":void 0;var o;n&&r&&r!==this.localParticipant.activeDeviceMap.get(n)&&(this.localParticipant.activeDeviceMap.set(n,r),this.emit(dC.ActiveDeviceChanged,n,r))})),this.onLocalTrackUnpublished=e=>{this.emit(dC.LocalTrackUnpublished,e,this.localParticipant)},this.onLocalConnectionQualityChanged=e=>{this.emit(dC.ConnectionQualityChanged,e,this.localParticipant)},this.onMediaDevicesError=e=>{this.emit(dC.MediaDevicesError,e)},this.onLocalParticipantPermissionsChanged=e=>{this.emit(dC.ParticipantPermissionsChanged,e,this.localParticipant)},this.setMaxListeners(100),this.participants=new Map,this.identityToSid=new Map,this.options=Object.assign(Object.assign({},ZT),e),this.log=u_(null!==(r=this.options.loggerName)&&void 0!==r?r:a_.Room),this.options.audioCaptureDefaults=Object.assign(Object.assign({},YT),null==e?void 0:e.audioCaptureDefaults),this.options.videoCaptureDefaults=Object.assign(Object.assign({},QT),null==e?void 0:e.videoCaptureDefaults),this.options.publishDefaults=Object.assign(Object.assign({},XT),null==e?void 0:e.publishDefaults),this.maybeCreateEngine(),this.disconnectLock=new yT,this.localParticipant=new Kx("","",this.engine,this.options),this.options.videoCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("videoinput",gT(this.options.videoCaptureDefaults.deviceId)),this.options.audioCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("audioinput",gT(this.options.audioCaptureDefaults.deviceId)),(null===(n=this.options.audioOutput)||void 0===n?void 0:n.deviceId)&&this.switchActiveDevice("audiooutput",gT(this.options.audioOutput.deviceId)).catch((e=>this.log.warn("Could not set audio output: ".concat(e.message),this.logContext))),this.options.e2ee&&this.setupE2EE()}setE2EEEnabled(e){return zO(this,void 0,void 0,(function*(){if(!this.e2eeManager)throw Error("e2ee not configured, please set e2ee settings within the room options");yield Promise.all([this.localParticipant.setE2EEEnabled(e)]),""!==this.localParticipant.identity&&this.e2eeManager.setParticipantCryptorEnabled(e,this.localParticipant.identity)}))}setupE2EE(){var e;this.options.e2ee&&(this.e2eeManager=new _T(this.options.e2ee),this.e2eeManager.on(aC.ParticipantEncryptionStatusChanged,((e,t)=>{t instanceof Kx&&(this.isE2EEEnabled=e),this.emit(dC.ParticipantEncryptionStatusChanged,e,t)})),this.e2eeManager.on(aC.EncryptionError,(e=>this.emit(dC.EncryptionError,e))),null===(e=this.e2eeManager)||void 0===e||e.setup(this))}get logContext(){return{room:this.name,roomSid:this.sid,identity:this.localParticipant.identity}}get isRecording(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.activeRecording)&&void 0!==t&&t}get sid(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.sid)&&void 0!==t?t:""}get name(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.name)&&void 0!==t?t:""}get metadata(){var e;return null===(e=this.roomInfo)||void 0===e?void 0:e.metadata}get numParticipants(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.numParticipants)&&void 0!==t?t:0}get numPublishers(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.numPublishers)&&void 0!==t?t:0}maybeCreateEngine(){this.engine&&!this.engine.isClosed||(this.engine=new lx(this.options),this.engine.on(mC.ParticipantUpdate,this.handleParticipantUpdates).on(mC.RoomUpdate,this.handleRoomUpdate).on(mC.SpeakersChanged,this.handleSpeakersChanged).on(mC.StreamStateChanged,this.handleStreamStateUpdate).on(mC.ConnectionQualityUpdate,this.handleConnectionQualityUpdate).on(mC.SubscriptionError,this.handleSubscriptionError).on(mC.SubscriptionPermissionUpdate,this.handleSubscriptionPermissionUpdate).on(mC.MediaTrackAdded,((e,t,r)=>{this.onTrackAdded(e,t,r)})).on(mC.Disconnected,(e=>{this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,e)})).on(mC.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(mC.DataPacketReceived,this.handleDataPacket).on(mC.Resuming,(()=>{this.clearConnectionReconcile(),this.setAndEmitConnectionState(Bx.Reconnecting)&&this.emit(dC.Reconnecting)})).on(mC.Resumed,(()=>{this.setAndEmitConnectionState(Bx.Connected),this.emit(dC.Reconnected),this.registerConnectionReconcile(),this.updateSubscriptions(),this.emitBufferedEvents()})).on(mC.SignalResumed,(()=>{this.bufferedEvents=[],this.state===Bx.Reconnecting&&this.sendSyncState()})).on(mC.Restarting,this.handleRestarting).on(mC.SignalRestarted,this.handleSignalRestarted).on(mC.DCBufferStatusChanged,((e,t)=>{this.emit(dC.DCBufferStatusChanged,e,t)})),this.localParticipant&&this.localParticipant.setupEngine(this.engine),this.e2eeManager&&this.e2eeManager.setupEngine(this.engine))}static getLocalDevices(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return kT.getInstance().getDevices(e,t)}prepareConnection(e,t){return zO(this,void 0,void 0,(function*(){if(this.state===Bx.Disconnected){this.log.debug("prepareConnection to ".concat(e),this.logContext);try{if(tT(new URL(e))&&t){this.regionUrlProvider=new dx(e,t);const r=yield this.regionUrlProvider.getNextBestRegionUrl();r&&this.state===Bx.Disconnected&&(this.regionUrl=r,yield fetch(bT(r),{method:"HEAD"}),this.log.debug("prepared connection to ".concat(r),this.logContext))}else yield fetch(bT(e),{method:"HEAD"})}catch(e){this.log.warn("could not prepare connection",Object.assign(Object.assign({},this.logContext),{error:e}))}}}))}getParticipantByIdentity(e){if(this.localParticipant.identity===e)return this.localParticipant;const t=this.identityToSid.get(e);return t?this.participants.get(t):void 0}clearConnectionFutures(){this.connectFuture=void 0}simulateScenario(e,t){return zO(this,void 0,void 0,(function*(){let r,n=()=>{};switch(e){case"signal-reconnect":yield this.engine.client.handleOnClose("simulate disconnect");break;case"speaker":r=new PP({scenario:{case:"speakerUpdate",value:3}});break;case"node-failure":r=new PP({scenario:{case:"nodeFailure",value:!0}});break;case"server-leave":r=new PP({scenario:{case:"serverLeave",value:!0}});break;case"migration":r=new PP({scenario:{case:"migration",value:!0}});break;case"resume-reconnect":this.engine.failNext(),yield this.engine.client.handleOnClose("simulate resume-disconnect");break;case"disconnect-signal-on-resume":n=()=>zO(this,void 0,void 0,(function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")})),r=new PP({scenario:{case:"disconnectSignalOnResume",value:!0}});break;case"disconnect-signal-on-resume-no-messages":n=()=>zO(this,void 0,void 0,(function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")})),r=new PP({scenario:{case:"disconnectSignalOnResumeNoMessages",value:!0}});break;case"full-reconnect":this.engine.fullReconnectOnNext=!0,yield this.engine.client.handleOnClose("simulate full-reconnect");break;case"force-tcp":case"force-tls":r=new PP({scenario:{case:"switchCandidateProtocol",value:"force-tls"===e?2:1}}),n=()=>zO(this,void 0,void 0,(function*(){const e=this.engine.client.onLeave;e&&e(new lP({reason:HS.CLIENT_INITIATED,canReconnect:!0}))}));break;case"subscriber-bandwidth":if(void 0===t||"number"!=typeof t)throw new Error("subscriber-bandwidth requires a number as argument");r=new PP({scenario:{case:"subscriberBandwidth",value:BigInt(t)}})}r&&(yield this.engine.client.sendSimulateScenario(r),yield n())}))}get canPlaybackAudio(){return this.audioEnabled}get canPlaybackVideo(){return!this.isVideoPlaybackBlocked}getActiveAudioOutputDevice(){var e,t;return null!==(t=null===(e=this.options.audioOutput)||void 0===e?void 0:e.deviceId)&&void 0!==t?t:""}getActiveDevice(e){return this.localParticipant.activeDeviceMap.get(e)}switchActiveDevice(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n,o,i;return zO(this,void 0,void 0,(function*(){let a=!1,s=!0;const c=r?{exact:t}:t;if("audioinput"===e){const e=this.options.audioCaptureDefaults.deviceId;this.options.audioCaptureDefaults.deviceId=c,a=e!==c;const t=Array.from(this.localParticipant.audioTracks.values()).filter((e=>e.source===RP.Source.Microphone));try{s=(yield Promise.all(t.map((e=>{var t;return null===(t=e.audioTrack)||void 0===t?void 0:t.setDeviceId(c)})))).every((e=>!0===e))}catch(t){throw this.options.audioCaptureDefaults.deviceId=e,t}}else if("videoinput"===e){const e=this.options.videoCaptureDefaults.deviceId;this.options.videoCaptureDefaults.deviceId=c,a=e!==c;const t=Array.from(this.localParticipant.videoTracks.values()).filter((e=>e.source===RP.Source.Camera));try{s=(yield Promise.all(t.map((e=>{var t;return null===(t=e.videoTrack)||void 0===t?void 0:t.setDeviceId(c)})))).every((e=>!0===e))}catch(t){throw this.options.videoCaptureDefaults.deviceId=e,t}}else if("audiooutput"===e){if(!KP()&&!this.options.expWebAudioMix||this.options.expWebAudioMix&&this.audioContext&&!("setSinkId"in this.audioContext))throw new Error("cannot switch audio output, setSinkId not supported");null!==(n=(i=this.options).audioOutput)&&void 0!==n||(i.audioOutput={});const e=this.options.audioOutput.deviceId;this.options.audioOutput.deviceId=t,a=e!==c;try{this.options.expWebAudioMix?null===(o=this.audioContext)||void 0===o||o.setSinkId(t):yield Promise.all(Array.from(this.participants.values()).map((e=>e.setAudioOutput({deviceId:t}))))}catch(t){throw this.options.audioOutput.deviceId=e,t}}return a&&s&&(this.localParticipant.activeDeviceMap.set(e,t),this.emit(dC.ActiveDeviceChanged,e,t)),s}))}setupLocalParticipantEvents(){this.localParticipant.on(fC.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on(fC.ParticipantNameChanged,this.onLocalParticipantNameChanged).on(fC.TrackMuted,this.onLocalTrackMuted).on(fC.TrackUnmuted,this.onLocalTrackUnmuted).on(fC.LocalTrackPublished,this.onLocalTrackPublished).on(fC.LocalTrackUnpublished,this.onLocalTrackUnpublished).on(fC.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on(fC.MediaDevicesError,this.onMediaDevicesError).on(fC.AudioStreamAcquired,this.startAudio).on(fC.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged)}recreateEngine(){var e;null===(e=this.engine)||void 0===e||e.close(),this.engine=void 0,this.participants.clear(),this.bufferedEvents=[],this.maybeCreateEngine()}onTrackAdded(e,t,r){if(this.state===Bx.Connecting||this.state===Bx.Reconnecting){const n=()=>{this.onTrackAdded(e,t,r),o()},o=()=>{this.off(dC.Reconnected,n),this.off(dC.Connected,n),this.off(dC.Disconnected,o)};return this.once(dC.Reconnected,n),this.once(dC.Connected,n),void this.once(dC.Disconnected,o)}if(this.state===Bx.Disconnected)return void this.log.warn("skipping incoming track after Room disconnected",this.logContext);const n=function(e){const t=e.split("|");return t.length>1?[t[0],e.substr(t[0].length+1)]:[e,""]}(t.id),o=n[0];let i=n[1],a=e.id;if(i&&i.startsWith("TR")&&(a=i),o===this.localParticipant.sid)return void this.log.warn("tried to create RemoteParticipant for local participant",this.logContext);const s=this.participants.get(o);if(!s)return void this.log.error("Tried to add a track for a participant, that's not present. Sid: ".concat(o),this.logContext);let c;this.options.adaptiveStream&&(c="object"==typeof this.options.adaptiveStream?this.options.adaptiveStream:{}),s.addSubscribedMediaTrack(e,a,t,r,c)}handleDisconnect(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;var r;if(this.clearConnectionReconcile(),this.bufferedEvents=[],this.state!==Bx.Disconnected){this.regionUrl=void 0;try{this.participants.forEach((e=>{e.tracks.forEach((t=>{e.unpublishTrack(t.trackSid)}))})),this.localParticipant.tracks.forEach((t=>{var r,n;t.track&&this.localParticipant.unpublishTrack(t.track,e),e&&(null===(r=t.track)||void 0===r||r.detach(),null===(n=t.track)||void 0===n||n.stop())})),this.localParticipant.off(fC.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off(fC.ParticipantNameChanged,this.onLocalParticipantNameChanged).off(fC.TrackMuted,this.onLocalTrackMuted).off(fC.TrackUnmuted,this.onLocalTrackUnmuted).off(fC.LocalTrackPublished,this.onLocalTrackPublished).off(fC.LocalTrackUnpublished,this.onLocalTrackUnpublished).off(fC.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off(fC.MediaDevicesError,this.onMediaDevicesError).off(fC.AudioStreamAcquired,this.startAudio).off(fC.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.tracks.clear(),this.localParticipant.videoTracks.clear(),this.localParticipant.audioTracks.clear(),this.participants.clear(),this.activeSpeakers=[],this.audioContext&&"boolean"==typeof this.options.expWebAudioMix&&(this.audioContext.close(),this.audioContext=void 0),ZP()&&(window.removeEventListener("beforeunload",this.onPageLeave),window.removeEventListener("pagehide",this.onPageLeave),window.removeEventListener("freeze",this.onPageLeave),null===(r=navigator.mediaDevices)||void 0===r||r.removeEventListener("devicechange",this.handleDeviceChange))}finally{this.setAndEmitConnectionState(Bx.Disconnected),this.emit(dC.Disconnected,t)}}}handleParticipantDisconnected(e,t){this.participants.delete(e),t&&(this.identityToSid.delete(t.identity),t.tracks.forEach((e=>{t.unpublishTrack(e.trackSid,!0)})),this.emit(dC.ParticipantDisconnected,t))}acquireAudioContext(){var e,t;return zO(this,void 0,void 0,(function*(){if("boolean"!=typeof this.options.expWebAudioMix&&this.options.expWebAudioMix.audioContext?this.audioContext=this.options.expWebAudioMix.audioContext:this.audioContext&&"closed"!==this.audioContext.state||(this.audioContext=null!==(e=UP())&&void 0!==e?e:void 0),this.audioContext&&"suspended"===this.audioContext.state)try{yield this.audioContext.resume()}catch(e){this.log.warn("Could not resume audio context",Object.assign(Object.assign({},this.logContext),{error:e}))}this.options.expWebAudioMix&&this.participants.forEach((e=>e.setAudioContext(this.audioContext))),this.localParticipant.setAudioContext(this.audioContext);const r="running"===(null===(t=this.audioContext)||void 0===t?void 0:t.state);r!==this.canPlaybackAudio&&(this.audioEnabled=r,this.emit(dC.AudioPlaybackStatusChanged,r))}))}createParticipant(e,t){var r;let n;return n=t?Gx.fromParticipantInfo(this.engine.client,t):new Gx(this.engine.client,e,"",void 0,void 0,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}),this.options.expWebAudioMix&&n.setAudioContext(this.audioContext),(null===(r=this.options.audioOutput)||void 0===r?void 0:r.deviceId)&&n.setAudioOutput(this.options.audioOutput).catch((e=>this.log.warn("Could not set audio output: ".concat(e.message),this.logContext))),n}getOrCreateParticipant(e,t){if(this.participants.has(e))return this.participants.get(e);const r=this.createParticipant(e,t);return this.participants.set(e,r),this.identityToSid.set(t.identity,t.sid),this.emitWhenConnected(dC.ParticipantConnected,r),r.on(fC.TrackPublished,(e=>{this.emitWhenConnected(dC.TrackPublished,e,r)})).on(fC.TrackSubscribed,((e,t)=>{e.kind===RP.Kind.Audio?(e.on(gC.AudioPlaybackStarted,this.handleAudioPlaybackStarted),e.on(gC.AudioPlaybackFailed,this.handleAudioPlaybackFailed)):e.kind===RP.Kind.Video&&(e.on(gC.VideoPlaybackFailed,this.handleVideoPlaybackFailed),e.on(gC.VideoPlaybackStarted,this.handleVideoPlaybackStarted)),this.emit(dC.TrackSubscribed,e,t,r)})).on(fC.TrackUnpublished,(e=>{this.emit(dC.TrackUnpublished,e,r)})).on(fC.TrackUnsubscribed,((e,t)=>{this.emit(dC.TrackUnsubscribed,e,t,r)})).on(fC.TrackSubscriptionFailed,(e=>{this.emit(dC.TrackSubscriptionFailed,e,r)})).on(fC.TrackMuted,(e=>{this.emitWhenConnected(dC.TrackMuted,e,r)})).on(fC.TrackUnmuted,(e=>{this.emitWhenConnected(dC.TrackUnmuted,e,r)})).on(fC.ParticipantMetadataChanged,(e=>{this.emitWhenConnected(dC.ParticipantMetadataChanged,e,r)})).on(fC.ParticipantNameChanged,(e=>{this.emitWhenConnected(dC.ParticipantNameChanged,e,r)})).on(fC.ConnectionQualityChanged,(e=>{this.emitWhenConnected(dC.ConnectionQualityChanged,e,r)})).on(fC.ParticipantPermissionsChanged,(e=>{this.emitWhenConnected(dC.ParticipantPermissionsChanged,e,r)})).on(fC.TrackSubscriptionStatusChanged,((e,t)=>{this.emitWhenConnected(dC.TrackSubscriptionStatusChanged,e,t,r)})).on(fC.TrackSubscriptionFailed,((e,t)=>{this.emit(dC.TrackSubscriptionFailed,e,r,t)})).on(fC.TrackSubscriptionPermissionChanged,((e,t)=>{this.emitWhenConnected(dC.TrackSubscriptionPermissionChanged,e,t,r)})),t&&r.updateInfo(t),r}sendSyncState(){const e=Array.from(this.participants.values()).reduce(((e,t)=>(e.push(...t.getTracks()),e)),[]),t=this.localParticipant.getTracks();this.engine.sendSyncState(e,t)}updateSubscriptions(){for(const e of this.participants.values())for(const t of e.videoTracks.values())t.isSubscribed&&t instanceof Jx&&t.emitTrackUpdate()}registerConnectionReconcile(){this.clearConnectionReconcile();let e=0;this.connectionReconcileInterval=IC.setInterval((()=>{this.engine&&!this.engine.isClosed&&this.engine.verifyTransport()?e=0:(e++,this.log.warn("detected connection state mismatch",Object.assign(Object.assign({},this.logContext),{numFailures:e,engine:{closed:this.engine.isClosed,transportsConnected:this.engine.verifyTransport()}})),e>=3&&(this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,HS.STATE_MISMATCH)))}),2e3)}clearConnectionReconcile(){this.connectionReconcileInterval&&IC.clearInterval(this.connectionReconcileInterval)}setAndEmitConnectionState(e){return e!==this.state&&(this.state=e,this.emit(dC.ConnectionStateChanged,this.state),!0)}emitBufferedEvents(){this.bufferedEvents.forEach((e=>{let[t,r]=e;this.emit(t,...r)})),this.bufferedEvents=[]}emitWhenConnected(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.state===Bx.Connected?this.emit(e,...r):(this.state===Bx.Reconnecting&&this.bufferedEvents.push([e,r]),!1)}simulateParticipants(e){var t,r;return zO(this,void 0,void 0,(function*(){const n=Object.assign({audio:!0,video:!0,useRealTracks:!1},e.publish),o=Object.assign({count:9,audio:!1,video:!0,aspectRatios:[1.66,1.7,1.3]},e.participants);if(this.handleDisconnect(),this.roomInfo=new QS({sid:"RM_SIMULATED",name:"simulated-room",emptyTimeout:0,maxParticipants:0,creationTime:R_.parse((new Date).getTime()),metadata:"",numParticipants:1,numPublishers:1,turnPassword:"",enabledCodecs:[],activeRecording:!1}),this.localParticipant.updateInfo(new rO({identity:"simulated-local",name:"local-name"})),this.setupLocalParticipantEvents(),this.emit(dC.SignalConnected),this.emit(dC.Connected),this.setAndEmitConnectionState(Bx.Connected),n.video){const e=new Hx(RP.Kind.Video,new mO({source:DS.CAMERA,sid:Math.floor(1e4*Math.random()).toString(),type:RS.AUDIO,name:"video-dummy"}),new Cx(n.useRealTracks?(yield window.navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0]:fT(160*(null!==(t=o.aspectRatios[0])&&void 0!==t?t:1),160,!0,!0),void 0,!1,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(e),this.localParticipant.emit(fC.LocalTrackPublished,e)}if(n.audio){const e=new Hx(RP.Kind.Audio,new mO({source:DS.MICROPHONE,sid:Math.floor(1e4*Math.random()).toString(),type:RS.AUDIO}),new hx(n.useRealTracks?(yield navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]:hT(),void 0,!1,this.audioContext,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(e),this.localParticipant.emit(fC.LocalTrackPublished,e)}for(let e=0;e<o.count-1;e+=1){let t=new rO({sid:Math.floor(1e4*Math.random()).toString(),identity:"simulated-".concat(e),state:nO.ACTIVE,tracks:[],joinedAt:R_.parse(Date.now())});const n=this.getOrCreateParticipant(t.identity,t);if(o.video){const i=fT(160*(null!==(r=o.aspectRatios[e%o.aspectRatios.length])&&void 0!==r?r:1),160,!1,!0),a=new mO({source:DS.CAMERA,sid:Math.floor(1e4*Math.random()).toString(),type:RS.AUDIO});n.addSubscribedMediaTrack(i,a.sid,new MediaStream([i])),t.tracks=[...t.tracks,a]}if(o.audio){const e=hT(),r=new mO({source:DS.MICROPHONE,sid:Math.floor(1e4*Math.random()).toString(),type:RS.AUDIO});n.addSubscribedMediaTrack(e,r.sid,new MediaStream([e])),t.tracks=[...t.tracks,r]}n.updateInfo(t)}}))}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(e!==dC.ActiveSpeakersChanged){const t=Xx(r).filter((e=>void 0!==e));this.log.debug("room event ".concat(e),Object.assign(Object.assign({},this.logContext),{event:e,args:t}))}return super.emit(e,...r)}}function Xx(e){return e.map((e=>{if(e)return Array.isArray(e)?Xx(e):"object"==typeof e?"logContext"in e&&e.logContext:e}))}(Wx=qx||(qx={}))[Wx.IDLE=0]="IDLE",Wx[Wx.RUNNING=1]="RUNNING",Wx[Wx.SKIPPED=2]="SKIPPED",Wx[Wx.SUCCESS=3]="SUCCESS",Wx[Wx.FAILED=4]="FAILED",XO.EventEmitter,XO.EventEmitter,new Map([["obs virtual camera",{facingMode:"environment",confidence:"medium"}]]),new Map([["iphone",{facingMode:"environment",confidence:"medium"}],["ipad",{facingMode:"environment",confidence:"medium"}]]),a(9851);const Yx=Math.min,Qx=Math.max,Zx=Math.round,ej=(Math.floor,e=>({x:e,y:e})),tj={left:"right",right:"left",bottom:"top",top:"bottom"},rj={start:"end",end:"start"};function nj(e,t,r){return Qx(e,Yx(t,r))}function oj(e,t){return"function"==typeof e?e(t):e}function ij(e){return e.split("-")[0]}function aj(e){return e.split("-")[1]}function sj(e){return"x"===e?"y":"x"}function cj(e){return"y"===e?"height":"width"}function lj(e){return["top","bottom"].includes(ij(e))?"y":"x"}function uj(e){return sj(lj(e))}function dj(e){return e.replace(/start|end/g,(e=>rj[e]))}function pj(e){return e.replace(/left|right|bottom|top/g,(e=>tj[e]))}function fj(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function hj(e,t,r){let{reference:n,floating:o}=e;const i=lj(t),a=uj(t),s=cj(a),c=ij(t),l="y"===i,u=n.x+n.width/2-o.width/2,d=n.y+n.height/2-o.height/2,p=n[s]/2-o[s]/2;let f;switch(c){case"top":f={x:u,y:n.y-o.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-o.width,y:d};break;default:f={x:n.x,y:n.y}}switch(aj(t)){case"start":f[a]-=p*(r&&l?-1:1);break;case"end":f[a]+=p*(r&&l?-1:1)}return f}async function mj(e,t){var r;void 0===t&&(t={});const{x:n,y:o,platform:i,rects:a,elements:s,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=oj(t,e),h=function(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}(f),m=s[p?"floating"===d?"reference":"floating":d],y=fj(await i.getClippingRect({element:null==(r=await(null==i.isElement?void 0:i.isElement(m)))||r?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(s.floating)),boundary:l,rootBoundary:u,strategy:c})),g="floating"===d?{x:n,y:o,width:a.floating.width,height:a.floating.height}:a.reference,b=await(null==i.getOffsetParent?void 0:i.getOffsetParent(s.floating)),v=await(null==i.isElement?void 0:i.isElement(b))&&await(null==i.getScale?void 0:i.getScale(b))||{x:1,y:1},k=fj(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:g,offsetParent:b,strategy:c}):g);return{top:(y.top-k.top+h.top)/v.y,bottom:(k.bottom-y.bottom+h.bottom)/v.y,left:(y.left-k.left+h.left)/v.x,right:(k.right-y.right+h.right)/v.x}}function yj(){return"undefined"!=typeof window}function gj(e){return kj(e)?(e.nodeName||"").toLowerCase():"#document"}function bj(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function vj(e){var t;return null==(t=(kj(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function kj(e){return!!yj()&&(e instanceof Node||e instanceof bj(e).Node)}function wj(e){return!!yj()&&(e instanceof Element||e instanceof bj(e).Element)}function _j(e){return!!yj()&&(e instanceof HTMLElement||e instanceof bj(e).HTMLElement)}function Sj(e){return!(!yj()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof bj(e).ShadowRoot)}function Oj(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=jj(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(o)}function Ej(e){return["table","td","th"].includes(gj(e))}function Cj(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function Pj(e){const t=Tj(),r=wj(e)?jj(e):e;return"none"!==r.transform||"none"!==r.perspective||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","perspective","filter"].some((e=>(r.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(r.contain||"").includes(e)))}function Tj(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function xj(e){return["html","body","#document"].includes(gj(e))}function jj(e){return bj(e).getComputedStyle(e)}function Aj(e){return wj(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zj(e){if("html"===gj(e))return e;const t=e.assignedSlot||e.parentNode||Sj(e)&&e.host||vj(e);return Sj(t)?t.host:t}function Ij(e){const t=zj(e);return xj(t)?e.ownerDocument?e.ownerDocument.body:e.body:_j(t)&&Oj(t)?t:Ij(t)}function Rj(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const o=Ij(e),i=o===(null==(n=e.ownerDocument)?void 0:n.body),a=bj(o);if(i){const e=Mj(a);return t.concat(a,a.visualViewport||[],Oj(o)?o:[],e&&r?Rj(e):[])}return t.concat(o,Rj(o,[],r))}function Mj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Dj(e){const t=jj(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=_j(e),i=o?e.offsetWidth:r,a=o?e.offsetHeight:n,s=Zx(r)!==i||Zx(n)!==a;return s&&(r=i,n=a),{width:r,height:n,$:s}}function Nj(e){return wj(e)?e:e.contextElement}function Lj(e){const t=Nj(e);if(!_j(t))return ej(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:i}=Dj(t);let a=(i?Zx(r.width):r.width)/n,s=(i?Zx(r.height):r.height)/o;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const Uj=ej(0);function Bj(e){const t=bj(e);return Tj()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Uj}function Fj(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);const o=e.getBoundingClientRect(),i=Nj(e);let a=ej(1);t&&(n?wj(n)&&(a=Lj(n)):a=Lj(e));const s=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==bj(e))&&t}(i,r,n)?Bj(i):ej(0);let c=(o.left+s.x)/a.x,l=(o.top+s.y)/a.y,u=o.width/a.x,d=o.height/a.y;if(i){const e=bj(i),t=n&&wj(n)?bj(n):n;let r=e,o=Mj(r);for(;o&&n&&t!==r;){const e=Lj(o),t=o.getBoundingClientRect(),n=jj(o),i=t.left+(o.clientLeft+parseFloat(n.paddingLeft))*e.x,a=t.top+(o.clientTop+parseFloat(n.paddingTop))*e.y;c*=e.x,l*=e.y,u*=e.x,d*=e.y,c+=i,l+=a,r=bj(o),o=Mj(r)}}return fj({width:u,height:d,x:c,y:l})}function qj(e,t){const r=Aj(e).scrollLeft;return t?t.left+r:Fj(vj(e)).left+r}function Wj(e,t,r){void 0===r&&(r=!1);const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-(r?0:qj(e,n)),y:n.top+t.scrollTop}}function Hj(e,t,r){let n;if("viewport"===t)n=function(e,t){const r=bj(e),n=vj(e),o=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,s=0,c=0;if(o){i=o.width,a=o.height;const e=Tj();(!e||e&&"fixed"===t)&&(s=o.offsetLeft,c=o.offsetTop)}return{width:i,height:a,x:s,y:c}}(e,r);else if("document"===t)n=function(e){const t=vj(e),r=Aj(e),n=e.ownerDocument.body,o=Qx(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Qx(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+qj(e);const s=-r.scrollTop;return"rtl"===jj(n).direction&&(a+=Qx(t.clientWidth,n.clientWidth)-o),{width:o,height:i,x:a,y:s}}(vj(e));else if(wj(t))n=function(e,t){const r=Fj(e,!0,"fixed"===t),n=r.top+e.clientTop,o=r.left+e.clientLeft,i=_j(e)?Lj(e):ej(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:n*i.y}}(t,r);else{const r=Bj(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return fj(n)}function Vj(e,t){const r=zj(e);return!(r===t||!wj(r)||xj(r))&&("fixed"===jj(r).position||Vj(r,t))}function Jj(e,t,r){const n=_j(t),o=vj(t),i="fixed"===r,a=Fj(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const c=ej(0);if(n||!n&&!i)if(("body"!==gj(t)||Oj(o))&&(s=Aj(t)),n){const e=Fj(t,!0,i,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else o&&(c.x=qj(o));const l=!o||n||i?ej(0):Wj(o,s);return{x:a.left+s.scrollLeft-c.x-l.x,y:a.top+s.scrollTop-c.y-l.y,width:a.width,height:a.height}}function Gj(e){return"static"===jj(e).position}function Kj(e,t){if(!_j(e)||"fixed"===jj(e).position)return null;if(t)return t(e);let r=e.offsetParent;return vj(e)===r&&(r=r.ownerDocument.body),r}function $j(e,t){const r=bj(e);if(Cj(e))return r;if(!_j(e)){let t=zj(e);for(;t&&!xj(t);){if(wj(t)&&!Gj(t))return t;t=zj(t)}return r}let n=Kj(e,t);for(;n&&Ej(n)&&Gj(n);)n=Kj(n,t);return n&&xj(n)&&Gj(n)&&!Pj(n)?r:n||function(e){let t=zj(e);for(;_j(t)&&!xj(t);){if(Pj(t))return t;if(Cj(t))return null;t=zj(t)}return null}(e)||r}const Xj={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const i="fixed"===o,a=vj(n),s=!!t&&Cj(t.floating);if(n===a||s&&i)return r;let c={scrollLeft:0,scrollTop:0},l=ej(1);const u=ej(0),d=_j(n);if((d||!d&&!i)&&(("body"!==gj(n)||Oj(a))&&(c=Aj(n)),_j(n))){const e=Fj(n);l=Lj(n),u.x=e.x+n.clientLeft,u.y=e.y+n.clientTop}const p=!a||d||i?ej(0):Wj(a,c,!0);return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-c.scrollLeft*l.x+u.x+p.x,y:r.y*l.y-c.scrollTop*l.y+u.y+p.y}},getDocumentElement:vj,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const i=[..."clippingAncestors"===r?Cj(t)?[]:function(e,t){const r=t.get(e);if(r)return r;let n=Rj(e,[],!1).filter((e=>wj(e)&&"body"!==gj(e))),o=null;const i="fixed"===jj(e).position;let a=i?zj(e):e;for(;wj(a)&&!xj(a);){const t=jj(a),r=Pj(a);r||"fixed"!==t.position||(o=null),(i?!r&&!o:!r&&"static"===t.position&&o&&["absolute","fixed"].includes(o.position)||Oj(a)&&!r&&Vj(e,a))?n=n.filter((e=>e!==a)):o=t,a=zj(a)}return t.set(e,n),n}(t,this._c):[].concat(r),n],a=i[0],s=i.reduce(((e,r)=>{const n=Hj(t,r,o);return e.top=Qx(n.top,e.top),e.right=Yx(n.right,e.right),e.bottom=Yx(n.bottom,e.bottom),e.left=Qx(n.left,e.left),e}),Hj(t,a,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:$j,getElementRects:async function(e){const t=this.getOffsetParent||$j,r=this.getDimensions,n=await r(e.floating);return{reference:Jj(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:r}=Dj(e);return{width:t,height:r}},getScale:Lj,isElement:wj,isRTL:function(e){return"rtl"===jj(e).direction}},Yj=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...c}=oj(e,t),l={x:r,y:n},u=await mj(t,c),d=lj(ij(o)),p=sj(d);let f=l[p],h=l[d];if(i){const e="y"===p?"bottom":"right";f=nj(f+u["y"===p?"top":"left"],f,f-u[e])}if(a){const e="y"===d?"bottom":"right";h=nj(h+u["y"===d?"top":"left"],h,h-u[e])}const m=s.fn({...t,[p]:f,[d]:h});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:i,[d]:a}}}}}},Qj=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:c,elements:l}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...y}=oj(e,t);if(null!=(r=i.arrow)&&r.alignmentOffset)return{};const g=ij(o),b=lj(s),v=ij(s)===s,k=await(null==c.isRTL?void 0:c.isRTL(l.floating)),w=p||(v||!m?[pj(s)]:function(e){const t=pj(e);return[dj(e),t,dj(t)]}(s)),_="none"!==h;!p&&_&&w.push(...function(e,t,r,n){const o=aj(e);let i=function(e,t,r){const n=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?o:n:t?n:o;case"left":case"right":return t?i:a;default:return[]}}(ij(e),"start"===r,n);return o&&(i=i.map((e=>e+"-"+o)),t&&(i=i.concat(i.map(dj)))),i}(s,m,h,k));const S=[s,...w],O=await mj(t,y),E=[];let C=(null==(n=i.flip)?void 0:n.overflows)||[];if(u&&E.push(O[g]),d){const e=function(e,t,r){void 0===r&&(r=!1);const n=aj(e),o=uj(e),i=cj(o);let a="x"===o?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=pj(a)),[a,pj(a)]}(o,a,k);E.push(O[e[0]],O[e[1]])}if(C=[...C,{placement:o,overflows:E}],!E.every((e=>e<=0))){var P,T;const e=((null==(P=i.flip)?void 0:P.index)||0)+1,t=S[e];if(t)return{data:{index:e,overflows:C},reset:{placement:t}};let r=null==(T=C.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:T.placement;if(!r)switch(f){case"bestFit":{var x;const e=null==(x=C.filter((e=>{if(_){const t=lj(e.placement);return t===b||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:x[0];e&&(r=e);break}case"initialPlacement":r=s}if(o!==r)return{reset:{placement:r}}}return{}}}};var Zj=a(235);function eA(e){return"function"==typeof e}function tA(e){return function(t){if(function(e){return eA(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}var rA=function(e,t){return rA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},rA(e,t)};function nA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}rA(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function oA(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function iA(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function aA(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function sA(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function cA(e){return this instanceof cA?(this.v=e,this):new cA(e)}function lA(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var uA=lA((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function dA(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var pA=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,r,n,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=iA(i),s=a.next();!s.done;s=a.next())s.value.remove(this)}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else i.remove(this);var c=this.initialTeardown;if(eA(c))try{c()}catch(e){o=e instanceof uA?e.errors:[e]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var u=iA(l),d=u.next();!d.done;d=u.next()){var p=d.value;try{mA(p)}catch(e){o=null!=o?o:[],e instanceof uA?o=sA(sA([],aA(o)),aA(e.errors)):o.push(e)}}}catch(e){r={error:e}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}if(o)throw new uA(o)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)mA(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&dA(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&dA(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),fA=pA.EMPTY;function hA(e){return e instanceof pA||e&&"closed"in e&&eA(e.remove)&&eA(e.add)&&eA(e.unsubscribe)}function mA(e){eA(e)?e():e.unsubscribe()}var yA=null,gA=null,bA=void 0,vA=!1,kA=!1,wA={setTimeout:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=wA.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,sA([e,t],aA(r))):setTimeout.apply(void 0,sA([e,t],aA(r)))})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=wA.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)})),delegate:void 0};function _A(e){wA.setTimeout((function(){if(!yA)throw e;yA(e)}))}function SA(){}var OA=EA("C",void 0,void 0);function EA(e,t,r){return{kind:e,value:t,error:r}}var CA=null;function PA(e){if(vA){var t=!CA;if(t&&(CA={errorThrown:!1,error:null}),e(),t){var r=CA,n=r.errorThrown,o=r.error;if(CA=null,n)throw o}}else e()}var TA=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,hA(t)&&t.add(r)):r.destination=MA,r}return nA(t,e),t.create=function(e,t,r){return new zA(e,t,r)},t.prototype.next=function(e){this.isStopped?RA(function(e){return EA("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?RA(EA("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?RA(OA,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(pA),xA=Function.prototype.bind;function jA(e,t){return xA.call(e,t)}var AA=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){IA(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){IA(e)}else IA(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){IA(e)}},e}(),zA=function(e){function t(t,r,n){var o,i,a=e.call(this)||this;return eA(t)||!t?o={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:a&&kA?((i=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},o={next:t.next&&jA(t.next,i),error:t.error&&jA(t.error,i),complete:t.complete&&jA(t.complete,i)}):o=t,a.destination=new AA(o),a}return nA(t,e),t}(TA);function IA(e){var t;vA?(t=e,vA&&CA&&(CA.errorThrown=!0,CA.error=t)):_A(e)}function RA(e,t){var r=gA;r&&wA.setTimeout((function(){return r(e,t)}))}var MA={closed:!0,next:SA,error:function(e){throw e},complete:SA};function DA(e,t,r,n,o){return new NA(e,t,r,n,o)}var NA=function(e){function t(t,r,n,o,i,a){var s=e.call(this,t)||this;return s.onFinalize=i,s.shouldUnsubscribe=a,s._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return nA(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(TA);function LA(e,t){return tA((function(r,n){var o=0;r.subscribe(DA(n,(function(r){n.next(e.call(t,r,o++))})))}))}var UA=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function BA(e){return eA(null==e?void 0:e.then)}var FA="function"==typeof Symbol&&Symbol.observable||"@@observable";function qA(e){return e}var WA=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,o=this,i=(n=e)&&n instanceof TA||function(e){return e&&eA(e.next)&&eA(e.error)&&eA(e.complete)}(n)&&hA(n)?e:new zA(e,t,r);return PA((function(){var e=o,t=e.operator,r=e.source;i.add(t?t.call(i,r):r?o._subscribe(i):o._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=HA(t))((function(t,n){var o=new zA({next:function(t){try{e(t)}catch(e){n(e),o.unsubscribe()}},error:n,complete:t});r.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[FA]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(r=e).length?qA:1===r.length?r[0]:function(e){return r.reduce((function(e,t){return t(e)}),e)})(this);var r},e.prototype.toPromise=function(e){var t=this;return new(e=HA(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function HA(e){var t;return null!==(t=null!=e?e:bA)&&void 0!==t?t:Promise}function VA(e){return eA(e[FA])}function JA(e){return Symbol.asyncIterator&&eA(null==e?void 0:e[Symbol.asyncIterator])}function GA(e){return GA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GA(e)}function KA(e){return new TypeError("You provided "+(null!==e&&"object"===GA(e)?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var $A="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function XA(e){return eA(null==e?void 0:e[$A])}function YA(e){return function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,l)}})),n[Symbol.asyncIterator]=function(){return this},n;function a(e,t){o[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||s(e,t)}))},t&&(n[e]=t(n[e])))}function s(e,t){try{!function(e){e.value instanceof cA?Promise.resolve(e.value.v).then(c,l):u(i[0][2],e)}(o[e](t))}catch(e){u(i[0][3],e)}}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}(this,arguments,(function(){var t,r,n;return oA(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,cA(t.read())];case 3:return r=o.sent(),n=r.value,r.done?[4,cA(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,cA(n)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function QA(e){return eA(null==e?void 0:e.getReader)}function ZA(e){if(e instanceof WA)return e;if(null!=e){if(VA(e))return o=e,new WA((function(e){var t=o[FA]();if(eA(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(UA(e))return n=e,new WA((function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()}));if(BA(e))return r=e,new WA((function(e){r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,_A)}));if(JA(e))return ez(e);if(XA(e))return t=e,new WA((function(e){var r,n;try{for(var o=iA(t),i=o.next();!i.done;i=o.next()){var a=i.value;if(e.next(a),e.closed)return}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}e.complete()}));if(QA(e))return ez(YA(e))}var t,r,n,o;throw KA(e)}function ez(e){return new WA((function(t){(function(e,t){var r,n,o,i,a,s,c,l;return a=this,s=void 0,l=function(){var a,s;return oA(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=iA(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}}(e),c.label=1;case 1:return[4,r.next()];case 2:if((n=c.sent()).done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),o={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))},new((c=void 0)||(c=Promise))((function(e,t){function r(e){try{o(l.next(e))}catch(e){t(e)}}function n(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof c?o:new c((function(e){e(o)}))).then(r,n)}o((l=l.apply(a,s||[])).next())}))})(e,t).catch((function(e){return t.error(e)}))}))}function tz(e,t,r,n,o){void 0===n&&(n=0),void 0===o&&(o=!1);var i=t.schedule((function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()}),n);if(e.add(i),!o)return i}function rz(e,t,r){return void 0===r&&(r=1/0),eA(t)?rz((function(r,n){return LA((function(e,o){return t(r,e,n,o)}))(ZA(e(r,n)))}),r):("number"==typeof t&&(r=t),tA((function(t,n){return function(e,t,r,n){var o=[],i=0,a=0,s=!1,c=function(){!s||o.length||i||t.complete()},l=function(e){return i<n?u(e):o.push(e)},u=function(e){i++;var s=!1;ZA(r(e,a++)).subscribe(DA(t,(function(e){t.next(e)}),(function(){s=!0}),void 0,(function(){if(s)try{i--;for(;o.length&&i<n;)e=void 0,e=o.shift(),u(e);c()}catch(e){t.error(e)}var e})))};return e.subscribe(DA(t,l,(function(){s=!0,c()}))),function(){}}(t,n,e,r)})))}function nz(e){return void 0===e&&(e=1/0),rz(qA,e)}function oz(e){return e[e.length-1]}function iz(e){return(t=oz(e))&&eA(t.schedule)?e.pop():void 0;var t}function az(e,t){return void 0===t&&(t=0),tA((function(r,n){r.subscribe(DA(n,(function(r){return tz(n,e,(function(){return n.next(r)}),t)}),(function(){return tz(n,e,(function(){return n.complete()}),t)}),(function(r){return tz(n,e,(function(){return n.error(r)}),t)})))}))}function sz(e,t){return void 0===t&&(t=0),tA((function(r,n){n.add(e.schedule((function(){return r.subscribe(n)}),t))}))}function cz(e,t){if(!e)throw new Error("Iterable cannot be null");return new WA((function(r){tz(r,t,(function(){var n=e[Symbol.asyncIterator]();tz(r,t,(function(){n.next().then((function(e){e.done?r.complete():r.next(e.value)}))}),0,!0)}))}))}function lz(e,t){return t?function(e,t){if(null!=e){if(VA(e))return function(e,t){return ZA(e).pipe(sz(t),az(t))}(e,t);if(UA(e))return function(e,t){return new WA((function(r){var n=0;return t.schedule((function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())}))}))}(e,t);if(BA(e))return function(e,t){return ZA(e).pipe(sz(t),az(t))}(e,t);if(JA(e))return cz(e,t);if(XA(e))return function(e,t){return new WA((function(r){var n;return tz(r,t,(function(){n=e[$A](),tz(r,t,(function(){var e,t,o;try{t=(e=n.next()).value,o=e.done}catch(e){return void r.error(e)}o?r.complete():r.next(t)}),0,!0)})),function(){return eA(null==n?void 0:n.return)&&n.return()}}))}(e,t);if(QA(e))return function(e,t){return cz(YA(e),t)}(e,t)}throw KA(e)}(e,t):ZA(e)}function uz(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return nz(1)(lz(e,iz(e)))}function dz(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=iz(e);return tA((function(t,n){(r?uz(e,t,r):uz(e,t)).subscribe(n)}))}var pz=lA((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),fz=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return nA(t,e),t.prototype.lift=function(e){var t=new hz(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new pz},t.prototype.next=function(e){var t=this;PA((function(){var r,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=iA(t.currentObservers),i=o.next();!i.done;i=o.next())i.value.next(e)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}}))},t.prototype.error=function(e){var t=this;PA((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}}))},t.prototype.complete=function(){var e=this;PA((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this,n=r.hasError,o=r.isStopped,i=r.observers;return n||o?fA:(this.currentObservers=null,i.push(e),new pA((function(){t.currentObservers=null,dA(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t.thrownError,o=t.isStopped;r?e.error(n):o&&e.complete()},t.prototype.asObservable=function(){var e=new WA;return e.source=this,e},t.create=function(e,t){return new hz(e,t)},t}(WA),hz=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return nA(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:fA},t}(fz),mz=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return nA(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){var e=this,t=e.hasError,r=e.thrownError,n=e._value;if(t)throw r;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(fz),yz=Array.isArray;function gz(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=iz(e),n=function(e){return"number"==typeof oz(e)?e.pop():1/0}(e);return e=function(e){return 1===e.length&&yz(e[0])?e[0]:e}(e),tA((function(t,o){nz(n)(lz(sA([t],aA(e)),r)).subscribe(o)}))}function bz(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return lz(e,iz(e))}var vz=Array.isArray;var kz=["addListener","removeListener"],wz=["addEventListener","removeEventListener"],_z=["on","off"];function Sz(e,t,r,n){if(eA(r)&&(n=r,r=void 0),n)return Sz(e,t,r).pipe((o=n,LA((function(e){return function(e,t){return vz(t)?e.apply(void 0,sA([],aA(t))):e(t)}(o,e)}))));var o,i=aA(function(e){return eA(e.addEventListener)&&eA(e.removeEventListener)}(e)?wz.map((function(n){return function(o){return e[n](t,o,r)}})):function(e){return eA(e.addListener)&&eA(e.removeListener)}(e)?kz.map(Oz(e,t)):function(e){return eA(e.on)&&eA(e.off)}(e)?_z.map(Oz(e,t)):[],2),a=i[0],s=i[1];if(!a&&UA(e))return rz((function(e){return Sz(e,t,r)}))(ZA(e));if(!a)throw new TypeError("Invalid event target");return new WA((function(e){var t=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1<t.length?t:t[0])};return a(t),function(){return s(t)}}))}function Oz(e,t){return function(r){return function(n){return e[r](t,n)}}}var Ez=function(e){function t(t,r){return e.call(this)||this}return nA(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(pA),Cz={setInterval:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=Cz.delegate;return(null==o?void 0:o.setInterval)?o.setInterval.apply(o,sA([e,t],aA(r))):setInterval.apply(void 0,sA([e,t],aA(r)))})),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=Cz.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)})),delegate:void 0},Pz=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return nA(t,e),t.prototype.schedule=function(e,t){var r;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,o=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(o,n,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),Cz.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Cz.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(e){n=!0,r=e||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,dA(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Ez),Tz={now:function(){return(Tz.delegate||Date).now()},delegate:void 0},xz=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=Tz.now,e}(),jz=new(function(e){function t(t,r){void 0===r&&(r=xz.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n}return nA(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(xz))(Pz),Az=lA((function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}));function zz(e){throw new Az(e)}function Iz(e,t){return e===t}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var Rz=(e,t,r)=>new Promise(((n,o)=>{var i=e=>{try{s(r.next(e))}catch(e){o(e)}},a=e=>{try{s(r.throw(e))}catch(e){o(e)}},s=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,a);s((r=r.apply(e,t)).next())}));var Mz=[dC.ConnectionStateChanged,dC.RoomMetadataChanged,dC.ActiveSpeakersChanged,dC.ConnectionQualityChanged,dC.ParticipantConnected,dC.ParticipantDisconnected,dC.ParticipantPermissionsChanged,dC.ParticipantMetadataChanged,dC.TrackMuted,dC.TrackUnmuted,dC.TrackPublished,dC.TrackUnpublished,dC.TrackStreamStateChanged,dC.TrackSubscriptionFailed,dC.TrackSubscriptionPermissionChanged,dC.TrackSubscriptionStatusChanged,dC.LocalTrackPublished,dC.LocalTrackUnpublished],Dz=(fC.ConnectionQualityChanged,fC.IsSpeakingChanged,fC.ParticipantMetadataChanged,fC.ParticipantPermissionsChanged,fC.TrackMuted,fC.TrackUnmuted,fC.TrackPublished,fC.TrackUnpublished,fC.TrackStreamStateChanged,fC.TrackSubscriptionFailed,fC.TrackSubscriptionPermissionChanged,fC.TrackSubscriptionStatusChanged,fC.LocalTrackPublished,fC.LocalTrackUnpublished,Zj.getLogger("lk-components-js"));Dz.setDefaultLevel("WARN");var Nz=Dz,Lz=[{columns:1,rows:1,name:"1x1",minTiles:1,maxTiles:1,minWidth:0,minHeight:0},{columns:1,rows:2,name:"1x2",minTiles:2,maxTiles:2,minWidth:0,minHeight:0},{columns:2,rows:1,name:"2x1",minTiles:2,maxTiles:2,minWidth:800,minHeight:0},{columns:2,rows:2,name:"2x2",minTiles:3,maxTiles:4,minWidth:560,minHeight:0},{columns:3,rows:3,name:"3x3",minTiles:5,maxTiles:9,minWidth:700,minHeight:0},{columns:4,rows:4,name:"4x4",minTiles:10,maxTiles:16,minWidth:960,minHeight:0},{columns:5,rows:5,name:"5x5",minTiles:17,maxTiles:25,minWidth:1100,minHeight:0}];function Uz(e,t,r,n){let o=0,i=e.find(((e,r,n)=>{o=r;const i=-1!==n.findIndex(((t,n)=>{const o=n>r,i=t.maxTiles===e.maxTiles;return o&&i}));return e.maxTiles>=t&&!i}));if(void 0===i){if(i=e[e.length-1],!i)throw new Error("No layout or fallback layout found.");Nz.warn(`No layout found for: participantCount: ${t}, width/height: ${r}/${n} fallback to biggest available layout (${i.name}).`)}if((r<i.minWidth||n<i.minHeight)&&o>0){const t=e[o-1];i=Uz(e.slice(0,o),t.maxTiles,r,n)}return i}function Bz(e){return"object"==typeof e}function Fz(e){return Array.isArray(e)&&e.filter(Bz).length>0}function qz(e){return void 0!==e&&(function(e){var t;return!!e&&(e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&e.hasOwnProperty("track")&&void 0!==(null==(t=e.publication)?void 0:t.track))}(e)||function(e){return!!e&&(e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&e.hasOwnProperty("publication")&&void 0!==e.publication)}(e))}function Wz(e){return!!e&&e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&void 0===e.publication}function Hz(e){return"string"==typeof e||"number"==typeof e?`${e}`:qz(e)?`${e.participant.identity}_${e.publication.source}`:`${e.participant.identity}_${e.source}`}function Vz(e,t){var r,n,o,i;return(null!=(n=null==(r=e.joinedAt)?void 0:r.getTime())?n:0)-(null!=(i=null==(o=t.joinedAt)?void 0:o.getTime())?i:0)}function Jz(e,t){const r=Math.max(e.length,t.length);return new Array(r).fill([]).map(((r,n)=>[e[n],t[n]]))}function Gz(e,t,r){return e.filter((e=>!t.map((e=>r(e))).includes(r(e))))}function Kz(e){return e.map((e=>"string"==typeof e||"number"==typeof e?`${e}`:Hz(e)))}function $z(e,t){const r=t.findIndex((t=>Hz(t)===Hz(e)));if(-1===r)throw new Error(`Element not part of the array: ${Hz(e)} not in ${Kz(t)}`);return r}function Xz(e,t){var r;return r=t,e.reduce(((e,t,n)=>n%r==0?[...e,[t]]:[...e.slice(0,-1),[...e.slice(-1)[0],t]]),[])}function Yz(e,...t){return new WA((r=>{const n=()=>{r.next(e)};return t.forEach((t=>{e.on(t,n)})),()=>{t.forEach((t=>{e.off(t,n)}))}})).pipe(dz(e))}function Qz(e){return`lk-${e}`}function Zz(e){if(qz(e))return e.publication;{const{source:t,name:r,participant:n}=e;if(t&&r)return n.getTracks().find((e=>e.source===t&&e.trackName===r));if(r)return n.getTrackByName(r);if(t)return n.getTrack(t);throw new Error("At least one of source and name needs to be defined")}}function eI(e,...t){return new WA((r=>{const n=()=>{r.next(e)};return t.forEach((t=>{e.on(t,n)})),()=>{t.forEach((t=>{e.off(t,n)}))}})).pipe(dz(e))}function tI(e){return eI(e,fC.TrackMuted,fC.TrackUnmuted,fC.ParticipantPermissionsChanged,fC.TrackPublished,fC.TrackUnpublished,fC.TrackSubscribed,fC.TrackUnsubscribed,fC.LocalTrackPublished,fC.LocalTrackUnpublished).pipe(LA((e=>{const{isMicrophoneEnabled:t,isCameraEnabled:r,isScreenShareEnabled:n}=e,o=e.getTrack(RP.Source.Microphone);return{isCameraEnabled:r,isMicrophoneEnabled:t,isScreenShareEnabled:n,cameraTrack:e.getTrack(RP.Source.Camera),microphoneTrack:o,participant:e}})))}function rI(e,t){return new WA((r=>{const n=(...e)=>{r.next(e)};return e.on(t,n),()=>{e.off(t,n)}}))}function nI(e,t){var r,n;return eI(e,fC.TrackMuted,fC.TrackUnmuted,fC.TrackSubscribed,fC.TrackUnsubscribed,fC.LocalTrackPublished,fC.LocalTrackUnpublished).pipe(LA((e=>{var r;const n=e.getTrack(t);return null==(r=null==n?void 0:n.isMuted)||r})),dz(null==(n=null==(r=e.getTrack(t))?void 0:r.isMuted)||n))}function oI(e,t){const r=new mz(void 0),n=t?tI(t.localParticipant).pipe(LA((t=>{var r,n,o;let i;switch(e){case"videoinput":i=null==(r=t.cameraTrack)?void 0:r.track;break;case"audioinput":i=null==(n=t.microphoneTrack)?void 0:n.track;break;default:i=void 0}return null==(o=null==i?void 0:i.mediaStreamTrack.getSettings())?void 0:o.deviceId})),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return gz.apply(void 0,sA([],aA(e)))}(r)):r.asObservable();return{className:Qz("media-device-select"),activeDeviceObservable:n,setActiveMediaDevice:n=>Rz(this,null,(function*(){var o,i,a,s;if(t){Nz.debug(`Switching active device of kind "${e}" with id ${n}.`),yield t.switchActiveDevice(e,n);let c=n;"videoinput"===e?c=yield null==(i=null==(o=t.localParticipant.getTrack(RP.Source.Camera))?void 0:o.track)?void 0:i.getDeviceId():"audioinput"===e&&(c=yield null==(s=null==(a=t.localParticipant.getTrack(RP.Source.Microphone))?void 0:a.track)?void 0:s.getDeviceId()),c!==n&&"default"!==n&&Nz.warn(`Failed to select the desired device. Desired: ${n}. Actual: ${c}`),r.next("default"===n?n:c)}else Nz.debug("Skip the device switch because the room object is not available. "),r.next(n)}))}}function iI(e){return Yz(e,dC.AudioPlaybackStatusChanged).pipe(LA((e=>({canPlayAudio:e.canPlaybackAudio}))))}function aI(e,t,r=!0){const n=[e.localParticipant,...Array.from(e.participants.values())],o=[];return n.forEach((e=>{t.forEach((t=>{const n=Array.from(e.tracks.values()).filter((e=>e.source===t&&(!r||e.track))).map((t=>({participant:e,publication:t,track:t.track,source:t.source})));o.push(...n)}))})),{trackReferences:o,participants:n}}function sI(e,t=1e3){if(null===e)return bz(!1);const r=Sz(e,"mousemove").pipe(LA((()=>!0))),n=r.pipe(function(e,t){var r,n=(r=e)instanceof Date&&!isNaN(r)?{first:e}:"number"==typeof e?{each:e}:e,o=n.first,i=n.each,a=n.with,s=void 0===a?zz:a,c=n.scheduler,l=void 0===c?null!=t?t:jz:c,u=n.meta,d=void 0===u?null:u;if(null==o&&null==i)throw new TypeError("No timeout provided.");return tA((function(e,t){var r,n,a=null,c=0,u=function(e){n=tz(t,l,(function(){try{r.unsubscribe(),ZA(s({meta:d,lastValue:a,seen:c})).subscribe(t)}catch(e){t.error(e)}}),e)};r=e.subscribe(DA(t,(function(e){null==n||n.unsubscribe(),c++,t.next(a=e),i>0&&u(i)}),void 0,void 0,(function(){(null==n?void 0:n.closed)||null==n||n.unsubscribe(),a=null}))),!c&&u(null!=o?"number"==typeof o?o:+o-l.now():i)}))}({each:t,with:()=>{return uz(bz(!1),n.pipe((e=r,tA((function(t,r){var n=!1,o=DA(r,(function(){null==o||o.unsubscribe(),n=!0}),SA);ZA(e).subscribe(o),t.subscribe(DA(r,(function(e){return n&&r.next(e)})))})))));var e}}),(void 0===i&&(i=qA),o=null!=o?o:Iz,tA((function(e,t){var r,n=!0;e.subscribe(DA(t,(function(e){var a=i(e);!n&&o(r,a)||(n=!1,r=a,t.next(e))})))}))));var o,i;return n}new TextEncoder,new TextDecoder;var cI=Nz,lI=Object.defineProperty,uI=Object.defineProperties,dI=Object.getOwnPropertyDescriptors,pI=Object.getOwnPropertySymbols,fI=Object.prototype.hasOwnProperty,hI=Object.prototype.propertyIsEnumerable,mI=(e,t,r)=>t in e?lI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,yI=(e,t)=>{for(var r in t||(t={}))fI.call(t,r)&&mI(e,r,t[r]);if(pI)for(var r of pI(t))hI.call(t,r)&&mI(e,r,t[r]);return e},gI=(e,t)=>uI(e,dI(t)),bI=(e,t)=>{var r={};for(var n in e)fI.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&pI)for(var n of pI(e))t.indexOf(n)<0&&hI.call(e,n)&&(r[n]=e[n]);return r};function vI(...e){return(...t)=>{for(const r of e)"function"==typeof r&&r(...t)}}function kI(...e){const t=yI({},e[0]);for(let r=1;r<e.length;r++){const n=e[r];for(const e in n){const r=t[e],o=n[e];"function"==typeof r&&"function"==typeof o&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=vI(r,o):t[e]="className"!==e&&"UNSAFE_className"!==e||"string"!=typeof r||"string"!=typeof o?void 0!==o?o:r:Ny(r,o)}}return t}function wI(e){return void 0!==e}function _I(...e){return kI(...e.filter(wI))}var SI=e.createContext(void 0);function OI(){return e.useContext(SI)}var EI=e.createContext(void 0);var CI=e.createContext(void 0);function PI(){return e.useContext(CI)}function TI(t){var r;const n=PI(),o=e.useContext(EI),i=null!=(r=null!=t?t:n)?r:null==o?void 0:o.participant;if(!i)throw new Error("No participant provided, make sure you are inside a participant context or pass the participant explicitly");return i}var xI=e.createContext(void 0);function jI(){const t=e.useContext(xI);if(!t)throw Error("tried to access room context outside of livekit room component");return t}function AI(){return e.useContext(xI)}function zI(e){const t=AI(),r=null!=e?e:t;if(!r)throw new Error("No room provided, make sure you are inside a Room context or pass the room explicitly");return r}function II(t,r){const[n,o]=e.useState(r);return e.useEffect((()=>{if("undefined"==typeof window||!t)return;const e=t.subscribe(o);return()=>e.unsubscribe()}),[t]),n}function RI(t){const r=zI(t),n=e.useMemo((()=>function(e){return function(e,t){return new WA((r=>{const n=(...e)=>{r.next(e)};return e.on(t,n),()=>{e.off(t,n)}}))}(e,dC.ConnectionStateChanged).pipe(LA((([e])=>e)),dz(e.state))}(r)),[r]);return II(n,r.state)}function MI(t){var r=t,{room:n}=r,o=bI(r,["room"]);const i=RI(n);return e.createElement("div",yI({},o),i)}function DI({props:t}){const{dispatch:r}=function(){const t=e.useContext(SI);if(!t)throw Error("Tried to access LayoutContext context outside a LayoutContextProvider provider.");return t}().widget,{className:n}=e.useMemo((()=>({className:[Qz("button"),Qz("chat-toggle")].join(" ")})),[]);return{mergedProps:e.useMemo((()=>_I(t,{className:n,onClick:()=>{r&&r({msg:"toggle_chat"})}})),[t,n,r])}}function NI(t){const{mergedProps:r}=DI({props:t});return e.createElement("button",yI({},r),t.children)}function LI(t){const{buttonProps:r}=function(t){const r=jI(),n=RI(r),o=e.useMemo((()=>{const{className:e,disconnect:o}=function(e){return{className:Qz("disconnect-button"),disconnect:t=>{e.disconnect(t)}}}(r);return _I(t,{className:e,onClick:()=>{var e;return o(null==(e=t.stopTracks)||e)},disabled:n===Bx.Disconnected})}),[r,t,n]);return{buttonProps:o}}(t);return e.createElement("button",yI({},r),t.children)}var UI=t=>e.createElement("svg",yI({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},t),e.createElement("path",{d:"M1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708L11 10.293V4.5A1.5 1.5 0 0 0 9.5 3H3.707zM0 4.5a1.5 1.5 0 0 1 .943-1.393l9.532 9.533c-.262.224-.603.36-.975.36h-8A1.5 1.5 0 0 1 0 11.5z"}),e.createElement("path",{d:"m15.2 3.6-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),BI=t=>e.createElement("svg",yI({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},t),e.createElement("path",{d:"M0 4.5A1.5 1.5 0 0 1 1.5 3h8A1.5 1.5 0 0 1 11 4.5v7A1.5 1.5 0 0 1 9.5 13h-8A1.5 1.5 0 0 1 0 11.5zM15.2 3.6l-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),FI=t=>e.createElement("svg",yI({xmlns:"http://www.w3.org/2000/svg",width:16,height:18,fill:"none"},t),e.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h10.5A2.75 2.75 0 0 1 16 2.75v13.594a.75.75 0 0 1-1.234.572l-3.691-3.12a1.25 1.25 0 0 0-.807-.296H2.75A2.75 2.75 0 0 1 0 10.75v-8ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h7.518c.65 0 1.279.23 1.775.65l2.457 2.077V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),e.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 4.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Z",clipRule:"evenodd"})),qI=t=>e.createElement("svg",yI({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),e.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M5.293 2.293a1 1 0 0 1 1.414 0l4.823 4.823a1.25 1.25 0 0 1 0 1.768l-4.823 4.823a1 1 0 0 1-1.414-1.414L9.586 8 5.293 3.707a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})),WI=t=>e.createElement("svg",yI({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),e.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},e.createElement("path",{d:"M10 1.75h4.25m0 0V6m0-4.25L9 7M6 14.25H1.75m0 0V10m0 4.25L7 9"}))),HI=t=>e.createElement("svg",yI({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),e.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 2.75A2.75 2.75 0 0 1 4.75 0h6.5A2.75 2.75 0 0 1 14 2.75v10.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-.5a.75.75 0 0 1 1.5 0v.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25h-6.5c-.69 0-1.25.56-1.25 1.25v.5a.75.75 0 0 1-1.5 0v-.5Z",clipRule:"evenodd"}),e.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.78 7.47a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H1.75a.75.75 0 0 1 0-1.5h4.69l-.97-.97a.75.75 0 0 1 1.06-1.06l2.25 2.25Z",clipRule:"evenodd"})),VI=t=>e.createElement("svg",yI({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},t),e.createElement("path",{d:"M12.227 11.52a5.477 5.477 0 0 0 1.246-2.97.5.5 0 0 0-.995-.1 4.478 4.478 0 0 1-.962 2.359l-1.07-1.07C10.794 9.247 11 8.647 11 8V3a3 3 0 0 0-6 0v1.293L1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708zM8 12.5c.683 0 1.33-.152 1.911-.425l.743.743c-.649.359-1.378.59-2.154.66V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .995-.098A4.5 4.5 0 0 0 8 12.5z"}),e.createElement("path",{d:"M8.743 10.907 5 7.164V8a3 3 0 0 0 3.743 2.907z"})),JI=t=>e.createElement("svg",yI({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},t),e.createElement("path",{fillRule:"evenodd",d:"M2.975 8.002a.5.5 0 0 1 .547.449 4.5 4.5 0 0 0 8.956 0 .5.5 0 1 1 .995.098A5.502 5.502 0 0 1 8.5 13.478V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .448-.547z",clipRule:"evenodd"}),e.createElement("path",{d:"M5 3a3 3 0 1 1 6 0v5a3 3 0 0 1-6 0z"})),GI=t=>e.createElement("svg",yI({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},t),e.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),e.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"})),KI=t=>e.createElement("svg",yI({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},t),e.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),e.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),e.createElement("g",{opacity:.25},e.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),e.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),$I=t=>e.createElement("svg",yI({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},t),e.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),e.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),e.createElement("g",{opacity:.25},e.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),e.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),e.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),XI=t=>e.createElement("svg",yI({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},t),e.createElement("g",{opacity:.25},e.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}),e.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}))),YI=t=>e.createElement("svg",yI({xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none"},t),e.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h14.5A2.75 2.75 0 0 1 20 2.75v10.5A2.75 2.75 0 0 1 17.25 16H2.75A2.75 2.75 0 0 1 0 13.25V2.75ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v10.5c0 .69.56 1.25 1.25 1.25h14.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),e.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.47 4.22a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1-1.06 1.06l-.97-.97v4.69a.75.75 0 0 1-1.5 0V6.56l-.97.97a.75.75 0 0 1-1.06-1.06l2.25-2.25Z",clipRule:"evenodd"})),QI=t=>e.createElement("svg",yI({xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none"},t),e.createElement("g",{fill:"currentColor"},e.createElement("path",{d:"M7.28 4.22a.75.75 0 0 0-1.06 1.06L8.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L10 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L11.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L10 6.94z"}),e.createElement("path",{fillRule:"evenodd",d:"M2.75 0A2.75 2.75 0 0 0 0 2.75v10.5A2.75 2.75 0 0 0 2.75 16h14.5A2.75 2.75 0 0 0 20 13.25V2.75A2.75 2.75 0 0 0 17.25 0zM1.5 2.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H2.75c-.69 0-1.25-.56-1.25-1.25z",clipRule:"evenodd"}))),ZI=t=>e.createElement("svg",yI({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},t),e.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},e.createElement("path",{d:"M13.25 7H9m0 0V2.75M9 7l5.25-5.25M2.75 9H7m0 0v4.25M7 9l-5.25 5.25"})));function eR(t){var r=t,{trackSource:n,participant:o}=r,i=bI(r,["trackSource","participant"]);const{mergedProps:a,inFocus:s}=function({trackSource:t,participant:r,props:n}){const o=TI(r),i=OI(),{className:a}=e.useMemo((()=>({className:[Qz("button"),Qz("focus-toggle-button")].join(" ")})),[]),s=e.useMemo((()=>{const e=o.getTrack(t);return!(!(null==i?void 0:i.pin.state)||!e)&&(r={participant:o,source:t,publication:e},void 0!==(n=i.pin.state)&&(qz(r)?n.some((e=>e.participant.identity===r.participant.identity&&qz(e)&&e.publication.trackSid===r.publication.trackSid)):!!Wz(r)&&n.some((e=>e.participant.identity===r.participant.identity&&Wz(e)&&e.source===r.source))));var r,n}),[o,t,i]);return{mergedProps:e.useMemo((()=>_I(n,{className:a,onClick:e=>{var r;null==(r=n.onClick)||r.call(n,e);const a=o.getTrack(t);(null==i?void 0:i.pin.dispatch)&&a&&(s?i.pin.dispatch({msg:"clear_pin"}):i.pin.dispatch({msg:"set_pin",trackReference:{participant:o,publication:a,source:a.source}}))}})),[n,a,o,t,s,i]),inFocus:s}}({trackSource:n,participant:o,props:i});return e.createElement(SI.Consumer,null,(t=>void 0!==t&&e.createElement("button",yI({},a),i.children?i.children:s?e.createElement(ZI,null):e.createElement(WI,null))))}function tR(t){var r=t,{kind:n,initialSelection:o,onActiveDeviceChange:i,onDeviceListChange:a}=r,s=bI(r,["kind","initialSelection","onActiveDeviceChange","onDeviceListChange"]);const c=AI(),{devices:l,activeDeviceId:u,setActiveMediaDevice:d,className:p}=function({kind:t,room:r}){const n=AI(),o=II(e.useMemo((()=>function(e,t=!0){var r;const n=()=>Rz(this,null,(function*(){const r=yield $x.getLocalDevices(e,t);o.next(r)})),o=new fz,i=o.pipe((a=()=>{var e;null==(e=null==navigator?void 0:navigator.mediaDevices)||e.removeEventListener("devicechange",n)},tA((function(e,t){try{e.subscribe(t)}finally{t.add(a)}}))));var a;if("undefined"!=typeof window){if(!window.isSecureContext)throw new Error("Accessing media devices is available only in secure contexts (HTTPS and localhost), in some or all supporting browsers. See: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/mediaDevices");null==(r=null==navigator?void 0:navigator.mediaDevices)||r.addEventListener("devicechange",n),n()}return i}(t)),[t]),[]),[i,a]=e.useState(""),{className:s,activeDeviceObservable:c,setActiveMediaDevice:l}=e.useMemo((()=>oI(t,null!=r?r:n)),[t,r,n]);return e.useEffect((()=>{const e=c.subscribe((e=>{e&&a(e)}));return()=>{null==e||e.unsubscribe()}}),[c]),{devices:o,className:s,activeDeviceId:i,setActiveMediaDevice:l}}({kind:n,room:c});e.useEffect((()=>{o&&d(o)})),e.useEffect((()=>{"function"==typeof a&&a(l)}),[a,l]);const f=e=>{return t=this,r=null,n=function*(){d(e),null==i||i(e)},new Promise(((e,o)=>{var i=e=>{try{s(n.next(e))}catch(e){o(e)}},a=e=>{try{s(n.throw(e))}catch(e){o(e)}},s=t=>t.done?e(t.value):Promise.resolve(t.value).then(i,a);s((n=n.apply(t,r)).next())}));var t,r,n},h=e.useMemo((()=>_I(s,{className:p},{className:"lk-list"})),[p,s]);return e.createElement("ul",yI({},h),l.map((t=>e.createElement("li",{key:t.deviceId,id:t.deviceId,"data-lk-active":t.deviceId===u,"aria-selected":t.deviceId===u,role:"option"},e.createElement("button",{className:"lk-button",onClick:()=>f(t.deviceId)},t.label)))))}function rR(t){var r=t,{label:n="Allow Audio"}=r,o=bI(r,["label"]);const i=jI(),{mergedProps:a}=function({room:t,props:r}){const{className:n,roomAudioPlaybackAllowedObservable:o,handleStartAudioPlayback:i}=e.useMemo((()=>function(){return{className:Qz("start-audio-button"),roomAudioPlaybackAllowedObservable:iI,handleStartAudioPlayback:e=>Rz(this,null,(function*(){Nz.info("Start Audio for room: ",e),yield e.startAudio()}))}}()),[]),a=e.useMemo((()=>o(t)),[t,o]),{canPlayAudio:s}=II(a,{canPlayAudio:!1});return{mergedProps:e.useMemo((()=>_I(r,{className:n,onClick:()=>{i(t)},style:{display:s?"none":"block"}})),[r,n,s,i,t]),canPlayAudio:s}}({room:i,props:o});return e.createElement("button",yI({},a),n)}function nR(t,r){switch(t){case RP.Source.Microphone:return r?e.createElement(JI,null):e.createElement(VI,null);case RP.Source.Camera:return r?e.createElement(BI,null):e.createElement(UI,null);case RP.Source.ScreenShare:return r?e.createElement(QI,null):e.createElement(YI,null);default:return}}function oR(t){var r=t,{showIcon:n}=r,o=bI(r,["showIcon"]);const{buttonProps:i,enabled:a}=function(t){var r,n=t,{source:o,onChange:i,initialState:a,captureOptions:s}=n,c=bI(n,["source","onChange","initialState","captureOptions"]);const l=AI(),u=null==(r=null==l?void 0:l.localParticipant)?void 0:r.getTrack(o),{toggle:d,className:p,pendingObserver:f,enabledObserver:h}=e.useMemo((()=>l?function(e,t,r){const{localParticipant:n}=t,o=(e,t)=>{let r=!1;switch(e){case RP.Source.Camera:r=t.isCameraEnabled;break;case RP.Source.Microphone:r=t.isMicrophoneEnabled;break;case RP.Source.ScreenShare:r=t.isScreenShareEnabled}return r},i=tI(n).pipe(LA((t=>o(e,t.participant))),dz(o(e,n))),a=new fz;return{className:Qz("button"),toggle:(t,o)=>Rz(this,null,(function*(){try{switch(null!=o||(o=r),a.next(!0),e){case RP.Source.Camera:yield n.setCameraEnabled(null!=t?t:!n.isCameraEnabled,o);break;case RP.Source.Microphone:yield n.setMicrophoneEnabled(null!=t?t:!n.isMicrophoneEnabled,o);break;case RP.Source.ScreenShare:yield n.setScreenShareEnabled(null!=t?t:!n.isScreenShareEnabled,o)}}finally{a.next(!1)}})),enabledObserver:i,pendingObserver:a.asObservable()}}(o,l,s):function(){let e=!1;const t=new fz,r=new fz;return{className:Qz("button"),toggle:n=>{r.next(!0),e=null!=n?n:!e,t.next(e),r.next(!1)},enabledObserver:t.asObservable(),pendingObserver:r.asObservable()}}()),[l,o,JSON.stringify(s)]),m=II(f,!1),y=II(h,null!=a?a:!!(null==u?void 0:u.isEnabled));e.useEffect((()=>{null==i||i(y)}),[y,i]),e.useEffect((()=>{void 0!==a&&(cI.debug("forcing initial toggle state",o,a),d(a))}),[]);const g=e.useMemo((()=>kI(c,{className:p})),[c,p]),b=e.useCallback((e=>{var t;d(),null==(t=c.onClick)||t.call(c,e)}),[c,d]);return{toggle:d,enabled:y,pending:m,track:u,buttonProps:gI(yI({},g),{"aria-pressed":y,"data-lk-source":o,"data-lk-enabled":y,disabled:m,onClick:b})}}(o);return e.createElement("button",yI({},i),(null==n||n)&&nR(o.source,a),o.children)}function iR(t){var r;const{className:n,quality:o}=function(t={}){const r=TI(t.participant),{className:n,connectionQualityObserver:o}=e.useMemo((()=>function(e){const t=Qz("connection-quality"),r=function(e){return rI(e,fC.ConnectionQualityChanged).pipe(LA((([e])=>e)),dz(e.connectionQuality))}(e);return{className:t,connectionQualityObserver:r}}(r)),[r]);return{className:n,quality:II(o,Ux.Unknown)}}(t),i=e.useMemo((()=>gI(yI({},_I(t,{className:n})),{"data-lk-quality":o})),[o,t,n]);return e.createElement("div",yI({},i),null!=(r=t.children)?r:function(t){switch(t){case Ux.Excellent:return e.createElement(GI,null);case Ux.Good:return e.createElement(KI,null);case Ux.Poor:return e.createElement($I,null);default:return e.createElement(XI,null)}}(o))}function aR(t){var r=t,{participant:n}=r,o=bI(r,["participant"]);const i=TI(n),{className:a,infoObserver:s}=e.useMemo((()=>function(e){const t=function(e){return eI(e,fC.ParticipantMetadataChanged).pipe(LA((({name:e,identity:t,metadata:r})=>({name:e,identity:t,metadata:r}))),dz({name:e.name,identity:e.identity,metadata:e.metadata}))}(e);return{className:"lk-participant-name",infoObserver:t}}(i)),[i]),{identity:c,name:l}=II(s,{name:i.name,identity:i.identity,metadata:i.metadata}),u=e.useMemo((()=>_I(o,{className:a,"data-lk-participant-name":l})),[o,a,l]);return e.createElement("span",yI({},u),""!==l?l:c,o.children)}var sR,cR=t=>{var r,n=t,{source:o,participant:i,show:a="always"}=n,s=bI(n,["source","participant","show"]);const{className:c,isMuted:l}=((t,r={})=>{var n;const o=TI(r.participant),{className:i,mediaMutedObserver:a}=e.useMemo((()=>function(e,t){let r="track-muted-indicator-camera";switch(t){case RP.Source.Camera:r="track-muted-indicator-camera";break;case RP.Source.Microphone:r="track-muted-indicator-microphone"}return{className:Qz(r),mediaMutedObserver:nI(e,t)}}(o,t)),[o,t]);return{isMuted:II(a,!!(null==(n=o.getTrack(t))?void 0:n.isMuted)),className:i}})(o,{participant:i}),u="always"===a||"muted"===a&&l||"unmuted"===a&&!l,d=e.useMemo((()=>_I(s,{className:c})),[c,s]);return u?e.createElement("div",gI(yI({},d),{"data-lk-muted":l}),null!=(r=s.children)?r:nR(o,!l)):null},lR=t=>{const[r,n]=e.useState({width:0,height:0});e.useLayoutEffect((()=>{if(t.current){const{width:e,height:r}=t.current.getBoundingClientRect();n({width:e,height:r})}}),[t.current]);const o=e.useCallback((e=>n(e.contentRect)),[]);return function(t,r){const n=sR||(sR=function(){let e=!1,t=[];const r=new Map;if("undefined"==typeof window)return;const n=new ResizeObserver(((n,o)=>{t=t.concat(n),e||window.requestAnimationFrame((()=>{const n=new Set;for(let e=0;e<t.length;e++){if(n.has(t[e].target))continue;n.add(t[e].target);const i=r.get(t[e].target);null==i||i.forEach((r=>r(t[e],o)))}t=[],e=!1})),e=!0}));return{observer:n,subscribe(e,t){var o;n.observe(e);const i=null!=(o=r.get(e))?o:[];i.push(t),r.set(e,i)},unsubscribe(e,t){var o;const i=null!=(o=r.get(e))?o:[];if(1===i.length)return n.unobserve(e),void r.delete(e);const a=i.indexOf(t);-1!==a&&i.splice(a,1),r.set(e,i)}}}()),o=Di(r);e.useLayoutEffect((()=>{let e=!1;const r=t.current;if(r)return null==n||n.subscribe(r,i),()=>{e=!0,null==n||n.unsubscribe(r,i)};function i(t,r){e||o.current(t,r)}}),[t.current,n,o]),null==n||n.observer}(t,o),r};function uR(t,r){const{width:n,height:o}=lR(t),i=n>0&&o>0?Uz(Lz,r,n,o):Lz[0];return e.useEffect((()=>{t.current&&i&&(t.current.style.setProperty("--lk-col-count",null==i?void 0:i.columns.toString()),t.current.style.setProperty("--lk-row-count",null==i?void 0:i.rows.toString()))}),[t,i]),{layout:i}}function dR(t,r={}){var n;const o=TI(r.participant),[i,a]=e.useState(!!(null==(n=o.getTrack(t))?void 0:n.isMuted));return e.useEffect((()=>{const e=nI(o,t).subscribe(a);return()=>e.unsubscribe()}),[o,t]),i}function pR(t,r={}){const[n,o]=e.useState(Zz(t)),[i,a]=e.useState(null==n?void 0:n.isMuted),[s,c]=e.useState(null==n?void 0:n.isSubscribed),[l,u]=e.useState(null==n?void 0:n.track),[d,p]=e.useState("landscape"),f=e.useRef(),{className:h,trackObserver:m}=e.useMemo((()=>function(e){const t=Zz(e),r=tI(e.participant).pipe(LA((()=>Zz(e))),dz(t));return{className:Qz(e.source===RP.Source.Camera||e.source===RP.Source.ScreenShare?"participant-media-video":"participant-media-audio"),trackObserver:r}}(t)),[t.participant.identity,t.source,qz(t)&&t.publication.trackSid]);return e.useEffect((()=>{const e=m.subscribe((e=>{cI.debug("update track",e),o(e),a(null==e?void 0:e.isMuted),c(null==e?void 0:e.isSubscribed),u(null==e?void 0:e.track)}));return()=>null==e?void 0:e.unsubscribe()}),[m]),e.useEffect((()=>{var e,n;return l&&(f.current&&l.detach(f.current),!(null==(e=r.element)?void 0:e.current)||t.participant instanceof Kx&&"audio"===(null==l?void 0:l.kind)||l.attach(r.element.current)),f.current=null==(n=r.element)?void 0:n.current,()=>{f.current&&(null==l||l.detach(f.current))}}),[l,r.element]),e.useEffect((()=>{var e,t;if("number"==typeof(null==(e=null==n?void 0:n.dimensions)?void 0:e.width)&&"number"==typeof(null==(t=null==n?void 0:n.dimensions)?void 0:t.height)){const e=n.dimensions.width>n.dimensions.height?"landscape":"portrait";p(e)}}),[n]),{publication:n,isMuted:i,isSubscribed:s,track:l,elementProps:_I(r.props,yI({className:h,"data-lk-local-participant":t.participant.isLocal,"data-lk-source":null==n?void 0:n.source},(null==n?void 0:n.source)===RP.Source.Camera||(null==n?void 0:n.source)===RP.Source.ScreenShare?{"data-lk-orientation":d}:{}))}}function fR(t,r,n={}){const o=e.useRef([]),i=e.useRef(-1),a=r!==i.current,s="function"==typeof n.customSortFunction?n.customSortFunction(t):function(e){const t=[],r=[],n=[],o=[];e.forEach((e=>{e.participant.isLocal&&e.source===RP.Source.Camera?t.push(e):e.source===RP.Source.ScreenShare?r.push(e):e.source===RP.Source.Camera?n.push(e):o.push(e)}));const i=function(e){const t=[],r=[];return e.forEach((e=>{e.participant.isLocal?t.push(e):r.push(e)})),t.sort(((e,t)=>Vz(e.participant,t.participant))),r.sort(((e,t)=>Vz(e.participant,t.participant))),[...r,...t]}(r),a=function(e){const t=[],r=[];return e.forEach((e=>{e.participant.isLocal?t.push(e):r.push(e)})),r.sort(((e,t)=>e.participant.isSpeaking&&t.participant.isSpeaking?function(e,t){return t.audioLevel-e.audioLevel}(e.participant,t.participant):e.participant.isSpeaking!==t.participant.isSpeaking?function(e,t){return e.isSpeaking===t.isSpeaking?0:e.isSpeaking?-1:1}(e.participant,t.participant):e.participant.lastSpokeAt!==t.participant.lastSpokeAt?function(e,t){var r,n,o,i;return void 0!==e.lastSpokeAt||void 0!==t.lastSpokeAt?(null!=(n=null==(r=t.lastSpokeAt)?void 0:r.getTime())?n:0)-(null!=(i=null==(o=e.lastSpokeAt)?void 0:o.getTime())?i:0):0}(e.participant,t.participant):qz(e)!==qz(t)?function(e,t){return qz(e)?qz(t)?0:-1:qz(t)?1:0}(e,t):e.participant.isCameraEnabled!==t.participant.isCameraEnabled?function(e,t){const r=e.participant.isCameraEnabled;return r!==t.participant.isCameraEnabled?r?-1:1:0}(e,t):Vz(e.participant,t.participant))),[...t,...r]}(n);return[...t,...i,...a,...o]}(t);let c=[...s];if(!1===a)try{c=function(e,t,r){let n=[...e];if(e.length<t.length){const r=Gz(t,e,Hz);n=[...n,...r]}if(Jz(Xz(e,r),Xz(t,r)).forEach((([e,t],o)=>{if(e&&t){const s={dropped:Gz(i=Xz(n,r)[o],a=t,Hz),added:Gz(a,i,Hz)};(function(e){return 0!==e.added.length||0!==e.dropped.length})(s)&&(Nz.debug(`Detected visual changes on page: ${o}, current: ${Kz(e)}, next: ${Kz(t)}`,{changes:s}),s.added.length===s.dropped.length&&Jz(s.added,s.dropped).forEach((([e,t])=>{if(!e||!t)throw new Error(`For a swap action we need a addition and a removal one is missing: ${e}, ${t}`);n=function(e,t,r){const n=$z(e,r),o=$z(t,r);return r.splice(n,1,t),r.splice(o,1,e),r}(e,t,n)})),0===s.added.length&&s.dropped.length>0&&s.dropped.forEach((e=>{n=function(e,t){const r=$z(e,t);return t.splice(r,1),t}(e,n)})),s.added.length>0&&0===s.dropped.length&&s.added.forEach((e=>{var t,r;t=e,r=n,n=[...r,t]})))}var i,a})),n.length>t.length){const r=Gz(e,t,Hz);n=n.filter((e=>!r.map(Hz).includes(Hz(e))))}return n}(o.current,s,r)}catch(e){cI.error("Error while running updatePages(): ",e)}return o.current=a?s:c,i.current=r,c}function hR(t=[RP.Source.Camera,RP.Source.Microphone,RP.Source.ScreenShare,RP.Source.ScreenShareAudio,RP.Source.Unknown],r={}){const n=zI(r.room),[o,i]=e.useState([]),[a,s]=e.useState([]),c=e.useMemo((()=>t.map((e=>Bz(e)?e.source:e))),[JSON.stringify(t)]);e.useEffect((()=>{const e=function(e,t,r){var n,o;const i=null!=(n=r.additionalRoomEvents)?n:Mz,a=null==(o=r.onlySubscribed)||o;return Yz(e,...Array.from(new Set([dC.ParticipantConnected,dC.ConnectionStateChanged,dC.LocalTrackPublished,dC.LocalTrackUnpublished,dC.TrackPublished,dC.TrackUnpublished,dC.TrackSubscriptionStatusChanged,...i]).values())).pipe(LA((e=>{const r=aI(e,t,a);return Nz.debug(`TrackReference[] was updated. (length ${r.trackReferences.length})`,r),r})),dz(aI(e,t,a)))}(n,c,{additionalRoomEvents:r.updateOnlyOn,onlySubscribed:r.onlySubscribed}).subscribe((({trackReferences:e,participants:t})=>{cI.debug("setting track bundles",e,t),i(e),s(t)}));return()=>e.unsubscribe()}),[n,JSON.stringify(r.updateOnlyOn),JSON.stringify(t)]);const l=e.useMemo((()=>{if(Fz(t)){const e=function(e,t){const r=new Map;if(Fz(e)){const n=e.filter((e=>e.withPlaceholder)).map((e=>e.source));t.forEach((e=>{const t=e.getTracks().map((e=>{var t;return null==(t=e.track)?void 0:t.source})).filter((e=>void 0!==e)),o=Array.from(function(e,t){const r=new Set(e);for(const e of t)r.delete(e);return r}(new Set(n),new Set(t)));o.length>0&&r.set(e.identity,o)}))}return r}(t,a),r=Array.from(o);return a.forEach((t=>{var n;e.has(t.identity)&&(null!=(n=e.get(t.identity))?n:[]).forEach((e=>{if(o.find((({participant:r,publication:n})=>t.identity===r.identity&&n.source===e)))return;cI.debug(`Add ${e} placeholder for participant ${t.identity}.`);const n={participant:t,source:e};r.push(n)}))})),r}return o}),[o,a,t]);return l}var mR=t=>e.createElement("svg",yI({width:320,height:320,viewBox:"0 0 320 320",preserveAspectRatio:"xMidYMid meet",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e.createElement("path",{d:"M160 180C204.182 180 240 144.183 240 100C240 55.8172 204.182 20 160 20C115.817 20 79.9997 55.8172 79.9997 100C79.9997 144.183 115.817 180 160 180Z",fill:"white",fillOpacity:.25}),e.createElement("path",{d:"M97.6542 194.614C103.267 191.818 109.841 192.481 115.519 195.141C129.025 201.466 144.1 205 159.999 205C175.899 205 190.973 201.466 204.48 195.141C210.158 192.481 216.732 191.818 222.345 194.614C262.703 214.719 291.985 253.736 298.591 300.062C300.15 310.997 291.045 320 280 320H39.9997C28.954 320 19.8495 310.997 21.4087 300.062C28.014 253.736 57.2966 214.72 97.6542 194.614Z",fill:"white",fillOpacity:.25}));function yR(t){var r=t,{onTrackClick:n,onClick:o,onSubscriptionStatusChanged:i,name:a,publication:s,source:c}=r,l=bI(r,["onTrackClick","onClick","onSubscriptionStatusChanged","name","publication","source"]);const u=e.useRef(null),d=TI(l.participant),{elementProps:p,publication:f,isSubscribed:h}=pR({participant:d,name:a,source:c,publication:s},{element:u,props:l});return e.useEffect((()=>{null==i||i(!!h)}),[h,i]),e.createElement("video",gI(yI({ref:u},p),{muted:!0,onClick:e=>{null==o||o(e),null==n||n({participant:d,track:f})}}))}function gR(t){var r=t,{onSubscriptionStatusChanged:n,volume:o}=r,i=bI(r,["onSubscriptionStatusChanged","volume"]);const{source:a,name:s,publication:c}=i,l=e.useRef(null),u=TI(i.participant),{elementProps:d,isSubscribed:p,track:f}=pR({source:a,name:s,participant:u,publication:c},{element:l,props:i});return e.useEffect((()=>{null==n||n(!!p)}),[p,n]),e.useEffect((()=>{o&&f instanceof Ax?f.setVolume(o):cI.warn("volume can only be set on remote audio tracks")}),[o,f]),e.createElement("audio",yI({ref:l},d))}function bR({participant:t,source:r,publication:n,onParticipantClick:o,disableSpeakingIndicator:i,htmlProps:a}){const s=TI(t),c=e.useMemo((()=>{const{className:e}={className:Qz("participant-tile")};return _I(a,{className:e,onClick:e=>{var t;if(null==(t=a.onClick)||t.call(a,e),"function"==typeof o){const e=null!=n?n:s.getTrack(r);o({participant:s,track:e})}}})}),[a,r,o,s,n]),l=dR(RP.Source.Camera,{participant:t}),u=dR(RP.Source.Microphone,{participant:t}),d=function(t){const r=TI(t),n=e.useMemo((()=>function(e){return rI(e,fC.IsSpeakingChanged).pipe(LA((([e])=>e)))}(r)),[r]);return II(n,r.isSpeaking)}(t);return{elementProps:yI({"data-lk-audio-muted":u,"data-lk-video-muted":l,"data-lk-speaking":!0!==i&&d,"data-lk-local-participant":t.isLocal,"data-lk-source":r},c)}}function vR(t){const r=!!PI();return t.participant&&!r?e.createElement(CI.Provider,{value:t.participant},t.children):e.createElement(e.Fragment,null,t.children)}var kR=t=>{var r=t,{participant:n,children:o,source:i=RP.Source.Camera,onParticipantClick:a,publication:s,disableSpeakingIndicator:c}=r,l=bI(r,["participant","children","source","onParticipantClick","publication","disableSpeakingIndicator"]);const u=TI(n),{elementProps:d}=bR({participant:u,htmlProps:l,source:i,publication:s,disableSpeakingIndicator:c,onParticipantClick:a}),p=OI(),f=e.useCallback((e=>{i&&!e&&p&&p.pin.dispatch&&function(e,t,r){return void 0!==r&&r.some((({source:r,participant:n})=>r===t&&n.identity===e.identity))}(u,i,p.pin.state)&&p.pin.dispatch({msg:"clear_pin"})}),[u,p,i]);return e.createElement("div",yI({style:{position:"relative"}},d),e.createElement(vR,{participant:u},null!=o?o:e.createElement(e.Fragment,null,"video"===(null==s?void 0:s.kind)||i===RP.Source.Camera||i===RP.Source.ScreenShare?e.createElement(yR,{participant:u,source:i,publication:s,onSubscriptionStatusChanged:f}):e.createElement(gR,{participant:u,source:i,publication:s,onSubscriptionStatusChanged:f}),e.createElement("div",{className:"lk-participant-placeholder"},e.createElement(mR,null)),e.createElement("div",{className:"lk-participant-metadata"},e.createElement("div",{className:"lk-participant-metadata-item"},i===RP.Source.Camera?e.createElement(e.Fragment,null,e.createElement(cR,{source:RP.Source.Microphone,show:"muted"}),e.createElement(aR,null)):e.createElement(e.Fragment,null,e.createElement(YI,{style:{marginRight:"0.25rem"}}),e.createElement(aR,null,"'s screen"))),e.createElement(iR,{className:"lk-participant-metadata-item"}))),e.createElement(eR,{trackSource:i})))},wR=t=>{var r=t,{tracks:n}=r,o=bI(r,["tracks"]);return e.createElement(e.Fragment,null,n.map((t=>{const r=qz(t)?t.publication.source:t.source;return e.createElement(EI.Provider,{value:t,key:`${t.participant.identity}_${r}`},function(t,r,n){return e.Children.map(t,(o=>e.isValidElement(o)&&e.Children.only(t)?e.cloneElement(o,gI(yI({},r),{key:n})):o))}(o.children))})))};function _R({totalPageCount:t,nextPage:r,prevPage:n,currentPage:o,pagesContainer:i}){const[a,s]=e.useState(!1);return e.useEffect((()=>{let e;return i&&(e=sI(i.current,2e3).subscribe(s)),()=>{e&&e.unsubscribe()}}),[i]),e.createElement("div",{className:"lk-pagination-control","data-lk-user-interaction":a},e.createElement("button",{className:"lk-button",onClick:n},e.createElement(qI,null)),e.createElement("span",{className:"lk-pagination-count"},`${o} of ${t}`),e.createElement("button",{className:"lk-button",onClick:r},e.createElement(qI,null)))}function SR({totalPageCount:t,currentPage:r}){const n=new Array(t).fill("").map(((t,n)=>n+1===r?e.createElement("span",{"data-lk-active":!0,key:n}):e.createElement("span",{key:n})));return e.createElement("div",{className:"lk-pagination-indicator"},n)}function OR(t){var r=t,{tracks:n}=r,o=bI(r,["tracks"]);const i=e.createRef(),a=e.useMemo((()=>_I(o,{className:"lk-grid-layout"})),[o]),{layout:s}=uR(i,n.length),c=function(t,r){const[n,o]=e.useState(1),i=Math.max(Math.ceil(r.length/t),1);n>i&&o(i);const a=n*t,s=a-t,c=e=>{o((t=>"next"===e?t===i?t:t+1:1===t?t:t-1))},l=fR(r,t);return{totalPageCount:i,nextPage:()=>c("next"),prevPage:()=>c("previous"),setPage:e=>{o(e>i?i:e<1?1:e)},firstItemIndex:s,lastItemIndex:a,tracks:l.slice(s,a),currentPage:n}}(s.maxTiles,n);return function(t,r={}){var n;const o=e.useRef(null),i=e.useRef(null),a=null!=(n=r.minSwipeDistance)?n:50,s=e=>{i.current=null,o.current=e.targetTouches[0].clientX},c=e=>{i.current=e.targetTouches[0].clientX},l=e.useCallback((()=>{if(!o.current||!i.current)return;const e=o.current-i.current,t=e<-a;e>a&&r.onLeftSwipe&&r.onLeftSwipe(),t&&r.onRightSwipe&&r.onRightSwipe()}),[a,r]);e.useEffect((()=>{const e=t.current;return e&&(e.addEventListener("touchstart",s),e.addEventListener("touchmove",c),e.addEventListener("touchend",l)),()=>{e&&(e.removeEventListener("touchstart",s),e.removeEventListener("touchmove",c),e.removeEventListener("touchend",l))}}),[t,l])}(i,{onLeftSwipe:c.nextPage,onRightSwipe:c.prevPage}),e.createElement("div",yI({ref:i,"data-lk-pagination":c.totalPageCount>1},a),e.createElement(wR,{tracks:c.tracks},o.children),n.length>s.maxTiles&&e.createElement(e.Fragment,null,e.createElement(SR,{totalPageCount:c.totalPageCount,currentPage:c.currentPage}),e.createElement(_R,yI({pagesContainer:i},c))))}var ER={connect:!0,audio:!1,video:!1};function CR(t){const{room:r,htmlProps:n}=function(t){const r=yI(yI({},ER),t),{token:n,serverUrl:o,options:i,room:a,connectOptions:s,connect:c,audio:l,video:u,screen:d,onConnected:p,onDisconnected:f,onError:h,onMediaDeviceFailure:m,simulateParticipants:y}=r,g=bI(r,["token","serverUrl","options","room","connectOptions","connect","audio","video","screen","onConnected","onDisconnected","onError","onMediaDeviceFailure","simulateParticipants"]);i&&a&&cI.warn("when using a manually created room, the options object will be ignored. set the desired options directly when creating the room instead.");const[b,v]=e.useState();e.useEffect((()=>{v(null!=a?a:new $x(i))}),[i,a]);const k=e.useMemo((()=>_I(g,{className:"lk-room-container"})),[g]);return e.useEffect((()=>{if(!b)return;const e=()=>{const e=b.localParticipant;try{cI.debug("trying to publish local tracks"),e.setMicrophoneEnabled(!!l,"boolean"!=typeof l?l:void 0),e.setCameraEnabled(!!u,"boolean"!=typeof u?u:void 0),e.setScreenShareEnabled(!!d,"boolean"!=typeof d?d:void 0)}catch(e){cI.warn(e),null==h||h(e)}},t=e=>{const t=lC.getFailure(e);null==m||m(t)};return b.on(dC.SignalConnected,e),b.on(dC.MediaDevicesError,t),()=>{b.off(dC.SignalConnected,e),b.off(dC.MediaDevicesError,t)}}),[b,l,u,d,h]),e.useEffect((()=>{if(b)if(y)b.simulateParticipants({participants:{count:y},publish:{audio:!0,useRealTracks:!0}});else{if(n)return o?void(c?(cI.debug("connecting"),b.connect(o,n,s).catch((e=>{cI.warn(e),null==h||h(e)}))):(cI.debug("disconnecting because connect is false"),b.disconnect())):(cI.warn("no livekit url provided"),void(null==h||h(Error("no livekit url provided"))));cI.debug("no token yet")}}),[c,n,s,b,h,o,y]),e.useEffect((()=>{if(!b)return;const e=e=>{switch(e){case Bx.Disconnected:f&&f();break;case Bx.Connected:p&&p()}};return b.on(dC.ConnectionStateChanged,e),()=>{b.off(dC.ConnectionStateChanged,e)}}),[n,p,f,b]),e.useEffect((()=>{if(b)return()=>{cI.info("disconnecting on onmount"),b.disconnect()}}),[b]),{room:b,htmlProps:k}}(t);return e.createElement("div",yI({},n),r&&e.createElement(xI.Provider,{value:r},t.children))}var PR=t=>{var r=t,{childrenPosition:n="before",children:o}=r,i=bI(r,["childrenPosition","children"]);const{name:a}=function(t={}){const r=zI(t.room),n=e.useMemo((()=>function(e){const t=Yz(e,dC.RoomMetadataChanged,dC.ConnectionStateChanged).pipe(LA((e=>({name:e.name,metadata:e.metadata}))));return t}(r)),[r]),{name:o,metadata:i}=II(n,{name:r.name,metadata:r.metadata});return{name:o,metadata:i}}();return e.createElement("span",yI({},i),"before"===n&&o,a,"after"===n&&o)},TR=t=>{var r=t,{kind:n,initialSelection:o,onActiveDeviceChange:i}=r,a=bI(r,["kind","initialSelection","onActiveDeviceChange"]);const[s,c]=e.useState(!1),[l,u]=e.useState([]),[d,p]=e.useState(!0),f=(e,t)=>{cI.debug("handle device change"),c(!1),null==i||i(e,t)},h=e.useRef(null),m=e.useRef(null);e.useLayoutEffect((()=>{h.current&&m.current&&(l||d)&&function(e,t){return Rz(this,null,(function*(){const{x:r,y:n}=yield((e,t,r)=>{const n=new Map,o={platform:Xj,...r},i={...o.platform,_c:n};return(async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:i=[],platform:a}=r,s=i.filter(Boolean),c=await(null==a.isRTL?void 0:a.isRTL(t));let l=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:d}=hj(l,n,c),p=n,f={},h=0;for(let r=0;r<s.length;r++){const{name:i,fn:m}=s[r],{x:y,y:g,data:b,reset:v}=await m({x:u,y:d,initialPlacement:n,placement:p,strategy:o,middlewareData:f,rects:l,platform:a,elements:{reference:e,floating:t}});u=null!=y?y:u,d=null!=g?g:d,f={...f,[i]:{...f[i],...b}},v&&h<=50&&(h++,"object"==typeof v&&(v.placement&&(p=v.placement),v.rects&&(l=!0===v.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):v.rects),({x:u,y:d}=hj(l,p,c))),r=-1)}return{x:u,y:d,placement:p,strategy:o,middlewareData:f}})(e,t,{...o,platform:i})})(e,t,{placement:"top",middleware:[(o=6,void 0===o&&(o=0),{name:"offset",options:o,async fn(e){var t,r;const{x:n,y:i,placement:a,middlewareData:s}=e,c=await async function(e,t){const{placement:r,platform:n,elements:o}=e,i=await(null==n.isRTL?void 0:n.isRTL(o.floating)),a=ij(r),s=aj(r),c="y"===lj(r),l=["left","top"].includes(a)?-1:1,u=i&&c?-1:1,d=oj(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:h}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"==typeof h&&(f="end"===s?-1*h:h),c?{x:f*u,y:p*l}:{x:p*l,y:f*u}}(e,o);return a===(null==(t=s.offset)?void 0:t.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:n+c.x,y:i+c.y,data:{...c,placement:a}}}}),Qj(),Yj({padding:5})]});var o;return{x:r,y:n}}))}(h.current,m.current).then((({x:e,y:t})=>{m.current&&Object.assign(m.current.style,{left:`${e}px`,top:`${t}px`})})),p(!1)}),[h,m,l,d]);const y=e.useCallback((e=>{m.current&&e.target!==h.current&&s&&function(e,t){return!e.contains(t.target)}(m.current,e)&&c(!1)}),[s,m,h]);return e.useEffect((()=>(document.addEventListener("click",y),window.addEventListener("resize",(()=>p(!0))),()=>{document.removeEventListener("click",y),window.removeEventListener("resize",(()=>p(!0)))})),[y,p]),e.createElement(e.Fragment,null,e.createElement("button",gI(yI({className:"lk-button lk-button-menu","aria-pressed":s},a),{onClick:()=>c(!s),ref:h}),a.children),e.createElement("div",{className:"lk-device-menu",ref:m,style:{visibility:s?"visible":"hidden"}},n?e.createElement(tR,{initialSelection:o,onActiveDeviceChange:e=>f(n,e),onDeviceListChange:u,kind:n}):e.createElement(e.Fragment,null,e.createElement("div",{className:"lk-device-menu-heading"},"Audio inputs"),e.createElement(tR,{kind:"audioinput",onActiveDeviceChange:e=>f("audioinput",e),onDeviceListChange:u}),e.createElement("div",{className:"lk-device-menu-heading"},"Video inputs"),e.createElement(tR,{kind:"videoinput",onActiveDeviceChange:e=>f("videoinput",e),onDeviceListChange:u}))))};function xR(t){var r,n=t,{variation:o,controls:i}=n,a=bI(n,["variation","controls"]);const[s,c]=e.useState(!1),l=OI();e.useEffect((()=>{var e,t;void 0!==(null==(e=null==l?void 0:l.widget.state)?void 0:e.showChat)&&c(null==(t=null==l?void 0:l.widget.state)?void 0:t.showChat)}),[null==(r=null==l?void 0:l.widget.state)?void 0:r.showChat]);const u=function(t){const r=e=>"undefined"!=typeof window&&window.matchMedia(e).matches,[n,o]=e.useState(r(t));function i(){o(r(t))}return e.useEffect((()=>{const e=window.matchMedia(t);return i(),e.addListener?e.addListener(i):e.addEventListener("change",i),()=>{e.removeListener?e.removeListener(i):e.removeEventListener("change",i)}}),[t]),n}(`(max-width: ${s?1e3:760}px)`);null!=o||(o=u?"minimal":"verbose");const d=yI({leave:!0},i),p=function(){const t=jI();return II(e.useMemo((()=>{return rI(e=t.localParticipant,fC.ParticipantPermissionsChanged).pipe(LA((()=>e.permissions)),dz(e.permissions));var e}),[t]),t.localParticipant.permissions)}();p?(null!=d.camera||(d.camera=p.canPublish),null!=d.microphone||(d.microphone=p.canPublish),null!=d.screenShare||(d.screenShare=p.canPublish),null!=d.chat||(d.chat=p.canPublishData&&(null==i?void 0:i.chat))):(d.camera=!1,d.chat=!1,d.microphone=!1,d.screenShare=!1);const f=e.useMemo((()=>"minimal"===o||"verbose"===o),[o]),h=e.useMemo((()=>"textOnly"===o||"verbose"===o),[o]),m=e.useMemo((()=>"undefined"!=typeof document&&/Mobi/i.test(window.navigator.userAgent)),[]),[y,g]=e.useState(!1);return e.createElement("div",yI({className:"lk-control-bar"},a),d.microphone&&e.createElement("div",{className:"lk-button-group"},e.createElement(oR,{source:RP.Source.Microphone,showIcon:f},h&&"Microphone"),e.createElement("div",{className:"lk-button-group-menu"},e.createElement(TR,{kind:"audioinput"}))),d.camera&&e.createElement("div",{className:"lk-button-group"},e.createElement(oR,{source:RP.Source.Camera,showIcon:f},h&&"Camera"),e.createElement("div",{className:"lk-button-group-menu"},e.createElement(TR,{kind:"videoinput"}))),d.screenShare&&!m&&e.createElement(oR,{source:RP.Source.ScreenShare,captureOptions:{audio:!0,selfBrowserSurface:"include"},showIcon:f,onChange:e=>{g(e)}},h&&(y?"Stop screen share":"Share screen")),d.chat&&e.createElement(NI,null,f&&e.createElement(FI,null),h&&"Chat"),d.leave&&e.createElement(LI,null,f&&e.createElement(HI,null),h&&"Leave"),e.createElement(rR,{label:"Start Audio"}))}function jR(e){return jR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jR(e)}function AR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AR(Object(r),!0).forEach((function(t){IR(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function IR(e,t,r){return(t=function(e){var t=function(e){if("object"!=jR(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=jR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jR(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return MR(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?MR(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function DR(){var e=hR([RP.Source.Camera]),r=hR([RP.Source.ScreenShare])[0];return t().createElement(t().Fragment,null,r&&t().createElement(kR,r),t().createElement(OR,{tracks:e},t().createElement(EI.Consumer,null,(function(e){return t().createElement(kR,e)}))))}var NR=function(r){var n=r.url,o=r.token,i=(r.onRoomConnected,r.style),a=(r.stageRenderer,RR((0,e.useState)(!0),2)),s=a[0],c=a[1],l=RR((0,e.useState)(!1),2),u=l[0],d=l[1];return t().createElement("div",{className:"roomContainer",style:zR({color:"white"},i)},t().createElement(CR,{serverUrl:n,token:o,connect:s,audio:!0,video:!0,onConnected:function(){return d(!0)},onDisconnected:function(){c(!1),d(!1)}},t().createElement(PR,null),t().createElement(MI,null),u&&t().createElement(DR,null),t().createElement(xR,null)))};function LR(e){return LR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LR(e)}function UR(){return UR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UR.apply(null,arguments)}function BR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FR(n.key),n)}}function FR(e){var t=function(e){if("object"!=LR(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=LR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==LR(t)?t:t+""}function qR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qR=function(){return!!e})()}function WR(e){return WR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},WR(e)}function HR(e,t){return HR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},HR(e,t)}var VR={inline:{backgroundColor:"rgba(0,0,0)"},fullscreen:{position:"absolute",top:0,left:0,bottom:0,right:0,padding:30,zIndex:1e3,backgroundColor:"rgba(0,0,0,0.75)",overflowY:"auto"}},JR=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=function(e,t,r){return t=WR(t),function(e,t){if(t&&("object"==LR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qR()?Reflect.construct(t,r||[],WR(e).constructor):t.apply(e,r))}(this,r,[e])).state={mode:"inline"},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HR(e,t)}(r,e),function(e,t){return t&&BR(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"componentWillUnmount",value:function(){this.videoRoomConnected&&this.videoRoomConnected.disconnect()}},{key:"toggleMode",value:function(){this.videoRoomConnected&&this.videoRoomConnected.disconnect();var e=this.state.mode;this.setState({mode:"inline"===e?"fullscreen":"inline"})}},{key:"render",value:function(){var e=this,r=this.state.mode,o=t().createElement("div",{style:VR[r]},t().createElement("a",{style:{color:"white"},onClick:function(){return e.toggleMode()}},"Toogle"),t().createElement(NR,UR({},this.props,{stageRenderer:void 0,onRoomConnected:function(t){e.videoRoomConnected=t}})));return"inline"===r?o:n().createPortal(o,document.body)}}])}(t().Component);const GR=JR;function KR(){return KR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KR.apply(null,arguments)}const $R=(0,w.DropTarget)(f.NODE_PROVIDER,{hover:function(e,t){},canDrop:function(e,t){return!0},drop:function(e,t){var r=t.getItem().node,n=e.onDropNode;return n&&r&&n(r),{}}},m)((function(e){var r,o=e.canDrop,i=e.isOver,a=e.connectDropTarget;return o&&i&&(r="chat-droppable-active"),t().createElement("div",KR({},e,{className:r,ref:function(e){var t=n().findDOMNode(e);"function"==typeof a&&a(t)}}))}));function XR(e){return XR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XR(e)}function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function QR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YR(Object(r),!0).forEach((function(t){ZR(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ZR(e,t,r){return(t=function(e){var t=function(e){if("object"!=XR(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=XR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==XR(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eM(){return eM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eM.apply(null,arguments)}function tM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||rM(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rM(e,t){if(e){if("string"==typeof e)return nM(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nM(e,t):void 0}}function nM(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var oM=V().requireLib("boot").moment;a(8684);var iM={style:{width:20,height:20,padding:1,marginLeft:4},iconStyle:{fontSize:16,color:"var(--md-sys-color-primary)"},tooltipPosition:"top-left"},aM=function(r){var n=r.roomType,o=r.roomObjectId,i=r.style,a=r.msgContainerStyle,s=r.chatUsersStyle,c=r.fieldContainerStyle,l=r.fieldHint,u=r.textFieldProps,d=r.emptyStateProps,p=r.pydio,f=r.pushMessagesToBottom,h=r.computePresenceFromACLs,m=r.readonly,y=r.muiTheme,g=r.popoverPanel,b=tM((0,e.useState)([]),2),v=b[0],w=b[1],_=tM((0,e.useState)(null),2),S=_[0],O=_[1],E=tM((0,e.useState)(null),2),C=E[0],P=E[1],T=tM((0,e.useState)({}),2),x=T[0],j=T[1],A=tM((0,e.useState)(""),2),z=A[0],I=A[1],R=tM((0,e.useState)(null),2),M=R[0],D=R[1],N=tM((0,e.useState)(!0),2),L=N[0],U=N[1],B=tM((0,e.useState)(null),2),F=B[0],q=B[1],W=tM((0,e.useState)(-1),2),H=W[0],V=W[1],J=(0,e.useRef)(),G=(0,e.useRef)(),K=Uw({pydio:p,roomType:n,roomObjectId:o,loadSize:40,setMessages:w,setVideoData:O,setHasMoreBefore:j}),$=K.room,X=K.postMessage,Y=K.deleteMessage,Q=K.editMessage,Z=K.loadMore,te=function(e){return p.MessageHash["chat."+e]||e},re=v.length?parseFloat(v[v.length-1].Timestamp):0,ne=function(t){var r=(0,e.useRef)();return(0,e.useEffect)((function(){r.current=t})),r.current}(re);(0,e.useEffect)((function(){J.current&&re>=ne&&J.current.scrollIntoView({behavior:"smooth",block:"end",inline:"end"})}),[v]),(0,e.useEffect)((function(){H>-1&&G.current&&(G.current.input.refs.input.setSelectionRange(H,H),V(-1))}),[z]);var oe,ie,ae,se,ce,le=[];v.forEach((function(e,r){var n,o=oM(1e3*parseFloat(e.Timestamp)).fromNow(),i=oe&&oe===o,a=ie&&ie===e.Author&&i;0===r&&x.Timestamp>0&&x.Timestamp<=e.Timestamp&&(n=function(){Z(x.Offset,x.Limit)}),le.push(t().createElement(Yw,{key:e.Uuid,pydio:p,message:e,hideDate:i,sameAuthor:a,onDeleteMessage:function(){Y(e),q(null)},onEditMessage:function(e,t){return e.Message=t,Q(e)},edit:F===e.Uuid,setEdit:function(t){return q(t?e.Uuid:null)},moreLoader:n,muiTheme:y,actionIconProps:iM})),oe=o,ie=e.Author})),f&&(ae={display:"flex",flexDirection:"column"},le&&le.length&&(se=t().createElement("span",{style:{flex:1}}))),!d||le&&le.length||(ce=t().createElement(Po,eM({pydio:p},d)));var ue=!$,de={color:ee()(y.palette.mui3["on-surface-variant"]).fade(.5).toString(),whiteSpace:"nowrap"};u&&u.hintStyle&&(de=QR(QR({},de),u.hintStyle)),ue&&(de=QR(QR({},de),{},{fontStyle:"italic"}));var pe=QR({backgroundColor:y.palette.mui3[g?"surface-variant":"surface"]||"white",position:"relative",paddingLeft:16,paddingRight:16,borderRadius:"0 0 10px 10px"},c),fe=M&&M.isLeaf()&&p.Registry.findEditorsForMime(M.getAjxpMime(),!0).length>0;return t().createElement($R,{onDropNode:function(e){D(e),G.current&&G.current.focus()},style:QR({padding:0},i)},void 0!==h&&t().createElement("div",{className:"chat-handle",style:s},t().createElement(sv,{acls:h,max:12,onlines:$?$.Users:[]})),t().createElement("div",{className:"comments_feed",style:QR(QR({maxHeight:300,overflowY:"auto"},ae),a)},se,le,ce,t().createElement("span",{id:"intoView",ref:J})),t().createElement("div",{style:pe,className:"textfield-container"},M&&t().createElement("div",{className:"dropping-panel"},t().createElement("div",{style:{display:"flex",alignItems:"center"}},t().createElement("span",{className:"mdi mdi-"+(M.isLeaf()?"file":"folder"),style:{marginRight:5}}),t().createElement("span",{style:{flex:1}},M.getLabel()),t().createElement("div",{className:"mdi mdi-close",title:te("dropzone.remove"),onClick:function(){return D(null)}})),t().createElement("div",{style:{display:"flex",alignItems:"center",marginTop:10}},fe&&t().createElement("div",{style:{flex:1},className:"include-action",onClick:function(){return U(!L)}},t().createElement("span",{className:"mdi mdi-checkbox-"+(L?"marked":"blank")+"-outline",style:{marginRight:5}}),te("dropzone.preview")),t().createElement("div",{className:"include-action",onClick:function(){var e=M.getMetadata().get("uuid"),t=M.getLabel();I("".concat(z,"[").concat(t,"](doc://").concat(e,")")),D(null)},style:{cursor:"pointer"}},t().createElement("span",{className:"mdi mdi-arrow-down-left"})," ",te("dropzone.inline")))),t().createElement(k.TextField,eM({ref:G,hintText:ue?p.MessageHash[466]:l,value:z,onChange:function(e,t){return I(t)},multiLine:!0,onKeyDown:function(e){if("ArrowUp"!==e.key||z||F){if("Enter"===e.key)if(e.metaKey||e.ctrlKey){var t=Lw(e,z),r=t.cursor,n=t.newValue;V(r),I(n)}else{e.preventDefault();var o=z;if(M){var i=M.getMetadata().get("uuid"),a=M.getLabel(),s=L?"?preview":"";o="".concat(z,"\n[").concat(a,"](doc://").concat(i).concat(s,")")}X(o)&&(I(""),U(!0),D(null))}}else{var c=function(e){return function(e){if(Array.isArray(e))return nM(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rM(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(v).reverse().filter((function(e){return e.Author===p.user.id}));c.length&&q(c[0].Uuid)}},fullWidth:!0,underlineShow:!1,disabled:m||ue},u,{hintStyle:de})),S&&t().createElement("div",{style:{position:"absolute",top:0,right:0}},t().createElement(k.IconButton,{iconStyle:{color:C?"#F44336":"#4CAF4F"},iconClassName:"mdi mdi-video"+(C?"-off":""),onClick:function(){return P(!C)}}))),S&&C&&t().createElement(GR,{url:S.Url,token:S.Token}))};function sM(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}aM=(0,Q.muiThemeable)()(aM);var cM=a(134),lM=a.n(cM),uM=a(2783),dM=a.n(uM),pM=a(4709),fM=a.n(pM),hM=a(9958),mM=a.n(hM),yM=a(1202),gM=a.n(yM),bM=a(3911),vM=a.n(bM),kM=a(4390),wM={};function _M(e){return _M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_M(e)}function SM(){return SM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SM.apply(null,arguments)}function OM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function EM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OM(Object(r),!0).forEach((function(t){CM(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function CM(e,t,r){return(t=TM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TM(n.key),n)}}function TM(e){var t=function(e){if("object"!=_M(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=_M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_M(t)?t:t+""}function xM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xM=function(){return!!e})()}function jM(e){return jM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jM(e)}function AM(e,t){return AM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},AM(e,t)}wM.styleTagTransform=vM(),wM.setAttributes=mM(),wM.insert=fM().bind(null,"head"),wM.domAPI=dM(),wM.insertStyleElement=gM(),lM()(kM.A,wM),kM.A&&kM.A.locals&&kM.A.locals;var zM=V().requireLib("form").FileDropZone,IM={root:{paddingTop:20},section:{container:{},title:{},description:{},actions:{}},action:{container:{},icon:{},title:{},description:{}},deleteButton:{},deleteIconProps:{style:{position:"absolute",top:0,right:0},iconStyle:{color:"#bdbdbd",hoverColor:"#9e9e9e"}}},RM=function(e){function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),e.model||(e.model={Sections:[]}),function(e,t,r){return t=jM(t),function(e,t){if(t&&("object"==_M(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xM()?Reflect.construct(t,r||[],jM(e).constructor):t.apply(e,r))}(this,r,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AM(e,t)}(r,e),function(e,t){return t&&PM(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"stProps",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{style:IM[e][t],className:"stepper-"+e+"-"+t+(r?" "+r:"")}}},{key:"render",value:function(){var e=this,r=this.props,n=r.model,o=r.style,i=r.onPick;return t().createElement("div",{style:EM(EM({},IM.root),o),className:"bbpanel"},n.Sections.map((function(r){return t().createElement("div",e.stProps("section","container"),t().createElement("div",e.stProps("section","title"),r.title),t().createElement("div",e.stProps("section","description"),r.description),t().createElement("div",e.stProps("section","actions"),r.Actions.map((function(r){var n=t().createElement("div",{style:{fontSize:12,fontWeight:400,padding:10,maxWidth:200,lineHeight:"16px"}},t().createElement("div",{style:{fontWeight:500,paddingBottom:5}},r.title),t().createElement("div",null,r.description)),o=t().createElement(t().Fragment,null,r.tag&&t().createElement("div",{className:"stepper-tag"},r.tag),r.onDelete&&t().createElement("div",e.stProps("action","deleteButton"),t().createElement(k.IconButton,SM({iconClassName:"mdi mdi-close",tooltip:"Remove",onClick:function(e){e.stopPropagation(),r.onDelete()}},IM.deleteIconProps))),t().createElement("div",e.stProps("action","icon"),t().createElement(k.FontIcon,{color:r.tint||"#03A9F4",className:r.icon})),t().createElement("div",SM({},e.stProps("action","title"),{title:r.title}),r.title),t().createElement(Ml,{placement:"bottom",arrow:!0,title:n},t().createElement("div",e.stProps("action","description"),r.description)));return r.dropProps?t().createElement(zM,SM({},e.stProps("action","container","drop-force"),r.dropProps),o):t().createElement(k.Paper,SM({zDepth:0},e.stProps("action","container",r.tag),{onClick:function(){i(r.value)}}),o)}))))})))}}])}(t().Component);const MM=RM;function DM(e){return DM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DM(e)}function NM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function LM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NM(Object(r),!0).forEach((function(t){UM(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NM(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function UM(e,t,r){return(t=FM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FM(n.key),n)}}function FM(e){var t=function(e){if("object"!=DM(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=DM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==DM(t)?t:t+""}function qM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qM=function(){return!!e})()}function WM(e){return WM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},WM(e)}function HM(e,t){return HM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},HM(e,t)}var VM=V().requireLib("hoc").ModernTextField,JM=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,r){return t=WM(t),function(e,t){if(t&&("object"==DM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qM()?Reflect.construct(t,r||[],WM(e).constructor):t.apply(e,r))}(this,r,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HM(e,t)}(r,e),function(e,t){return t&&BM(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"componentDidMount",value:function(){var e=this.props.onDismiss;this._listener=function(t){"Escape"===t.key&&e()},document.addEventListener("keyup",this._listener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this._listener)}},{key:"componentDidUpdate",value:function(e){e.random!==this.props.random&&this.refs.dialog&&setTimeout((function(){window.dispatchEvent(new Event("resize"))}),0)}},{key:"render",value:function(){var e=this.props,r=e.title,n=e.actions,o=e.open,i=e.onDismiss,a=e.onFilter,s=e.filterHint,c=e.customFilter,l=e.children,u=e.dialogProps,d=r;return(i||a||c)&&(d=t().createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},t().createElement("div",{style:{flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},r),a&&t().createElement("div",{style:{flex:1,height:34,marginTop:-10,marginRight:i&&!c?50:10,marginLeft:10}},t().createElement(VM,{variant:"compact",hintText:s||V().getMessages()["ajax_gui.bigppanel.filter.default-hint"],onChange:function(e,t){a(t)},fullWidth:!0,focusOnMount:!0})),c&&t().createElement("div",{style:{marginRight:50}},c),i&&t().createElement("div",{style:{position:"absolute",top:11,right:20}},t().createElement(k.IconButton,{iconClassName:"mdi mdi-close",onClick:i})))),t().createElement(k.Dialog,{ref:"dialog",title:d,actions:n,modal:u.modal,open:o,autoDetectWindowHeight:!0,autoScrollBodyContent:!0,contentClassName:"stepper-dialog",bodyStyle:LM({backgroundColor:"rgb(236, 239, 241)",borderRadius:"0 0 6px 6px"},u.bodyStyle),contentStyle:LM({width:"90%",maxWidth:"none",borderRadius:6},u.contentStyle),titleStyle:LM({borderBottom:"none",backgroundColor:"rgb(246, 247, 248)",borderRadius:"6px 6px 0 0"},u.titleStyle)},l,t().createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:".stepper-dialog > div{border-radius: 6px !important;}"}}))}}])}(t().Component),GM={SortableList:U,SimpleList:Xo,NodeListCustomProvider:oi,ListEntry:he,ListPaginator:xn,MaterialTable:wi,Masonry:Cs,Timeline:Us,useDataModelSelection:ds,useDataModelContextNodeAsItems:ps,sortNodesNatural:Io,nodesSorterByAttribute:Ro,TreeView:cc,DNDTreeView:sc,FoldersTree:lc,ClipboardTextField:Bc,LabelWithTip:vc,EmptyStateView:Po,SimpleFigureBadge:xc,ModalAppBar:function(e){var r=e.style,n=e.titleStyle,o=e.iconStyleRight,i=e.iconStyleLeft,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,du),s={style:hu({flexShrink:0},r),titleStyle:hu({lineHeight:"56px",height:56,marginLeft:-8},n),iconStyleRight:hu({marginTop:4},o),iconStyleLeft:hu({marginTop:4},i)};return t().createElement(k.AppBar,pu({},a,s))},GenericCard:ru,GenericLine:tu,Mui3CardLine:eu,QuotaUsageLine:lu,ReactEditorOpener:Ou,DynamicGrid:ud,DynamicGridItemMixin:md,asGridItem:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{gridWidth:4,gridHeight:12},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=e.displayName||e.name;e=Td()(e);var i=function(t){function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=function(e,t,r){return t=Sd(t),function(e,t){if(t&&("object"==yd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_d()?Reflect.construct(t,r||[],Sd(e).constructor):t.apply(e,r))}(this,r,[e,t])).state={focus:!1,showCloseAction:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Od(e,t)}(r,t),function(e,t){return t&&kd(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(r,[{key:"focusItem",value:function(){this.setState({focus:!0})}},{key:"blurItem",value:function(){this.setState({focus:!1})}},{key:"mergeStyleWithFocus",value:function(){return bd(bd({},this.props.style),{},{zIndex:this.state.focus?1:null})}},{key:"toggleEditMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;void 0===e?this.setState({showCloseAction:!(this.state&&this.state.showCloseAction)}):this.setState({showCloseAction:e})}},{key:"getCloseButton",value:function(){var e=function(){};return this.props.onCloseAction&&(e=this.props.onCloseAction),React.createElement("div",{style:{position:"absolute",backgroundColor:"rgba(0,0,0,0.53)",zIndex:10,top:0,left:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center"}},React.createElement(Pd,{label:this.props.pydio.MessageHash["ajxp_admin.home.48"],className:"card-close-button",onClick:e,style:{color:"white"}}))}},{key:"render",value:function(){var t=bd(bd({},this.props),{},{style:this.mergeStyleWithFocus(),closeButton:this.state.showCloseAction?this.getCloseButton():null,onFocusItem:this.focusItem.bind(this),onBlurItem:this.blurItem.bind(this)});return React.createElement(e,t)}}])}(Cd);return i.propTypes={onCloseAction:Ed.func},i.displayName=o,i.builderDisplayName=t,i.getGridLayout=function(e,t){return{x:e||0,y:t||0,w:r.gridWidth||4,h:r.gridHeight||12,isResizable:!1}},i.hasBuilderFields=function(){return void 0!==n},i.getBuilderFields=function(){return n},i},DynamicGridStore:Mu,DND:{Types:f,collect:h,collectDrop:m,nodeDragSource:b,nodeDropTarget:v,DNDActionParameter:y},DNDActionParameter:y,UserAvatar:qf,SharedAvatar:rv,UsersCompleter:Xb,TeamCreationForm:ry,AddressBook:Db,DirectoryLayout:vb,ListStylesCompact:lp,SharedUsersStack:sv,ContextMenu:Vv,Toolbar:Ek,ButtonMenu:kv,IconButtonMenu:cn,MenuItemsConsumer:Kr,MenuUtils:Dr,Chat:aM,ChatIcon:function(r){var n=r.pydio,o=r.roomType,i=r.objectId,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sM(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sM(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(0),2),s=a[0],c=a[1];if(function(t){var r=t.pydio,n=t.roomType,o=t.roomObjectId,i=t.setNewMessages,a=Nk.getInstance(r),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e["@type"]!==Iw&&e["@type"]!==Rw&&(t?(i((function(e){return Math.max(0,e-1)})),Cw.setState({newMessages:Math.max(0,Cw.state.newMessages-1)})):i((function(e){return e+1})))};(0,e.useEffect)((function(){if(!o)return function(){};a.joinRoom(n,o,s,null);var e=n,t=o;return function(){a.leaveRoom(e,t,s)}}),[n,o])}({pydio:n,roomType:o,roomObjectId:i,setNewMessages:c}),0===s)return null;return t().createElement("span",{onClick:function(){n.Controller.fireAction("toggle_chat_panel"),c(0)},className:"mdi mdi-comment",style:{display:"inline-block",padding:"0 5px",fontSize:15,textAlign:"center",color:"#8BC34A",fontWeight:500,position:"relative"}},t().createElement("span",{style:{fontSize:13,display:"inline-block",position:"absolute",top:-1,marginLeft:2}},s))},ChatClient:Nk,ResourcePoliciesPanel:sh,CellActionsRenderer:cp,Stepper:{PanelBigButtons:MM,Dialog:JM}}})(),window.PydioComponents=s})();