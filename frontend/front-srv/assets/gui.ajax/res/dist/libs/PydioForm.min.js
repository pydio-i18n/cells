(()=>{var t={5554:(t,e,r)=>{"use strict";var n=r(8754),o=r(3700),i=o(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&i(t,".prototype.")>-1?o(r):r}},3700:(t,e,r)=>{"use strict";var n=r(298),o=r(8754),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),u=o("%Reflect.apply%",!0)||n.call(a,i),c=o("%Object.getOwnPropertyDescriptor%",!0),l=o("%Object.defineProperty%",!0),s=o("%Math.max%");if(l)try{l({},"a",{value:1})}catch(t){l=null}t.exports=function(t){var e=u(n,a,arguments);return c&&l&&c(e,"length").configurable&&l(e,"length",{value:1+s(0,t.length-(arguments.length-1))}),e};var p=function(){return u(n,i,arguments)};l?l(t.exports,"apply",{value:p}):t.exports.apply=p},3677:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(6205),i=r(8317),a=r(6232),u=r(5142),c=r(1881),l=r(9318),s=r(9490),p=r(2228),f=r(8754),y=r(5554),b=r(2567),m=r(3634),h=r(9238),d=r(5056),v=r(4545),g=y("Date.prototype.getTime"),S=Object.getPrototypeOf,O=y("Object.prototype.toString"),w=f("%Set%",!0),j=y("Map.prototype.has",!0),P=y("Map.prototype.get",!0),E=y("Map.prototype.size",!0),x=y("Set.prototype.add",!0),_=y("Set.prototype.delete",!0),T=y("Set.prototype.has",!0),k=y("Set.prototype.size",!0);function C(t,e,r,n){for(var o,i=m(t);(o=i.next())&&!o.done;)if(M(e,o.value,r,n))return _(t,o.value),!0;return!1}function R(t){return void 0===t?null:"object"!==n(t)?"symbol"!==n(t)&&("string"!=typeof t&&"number"!=typeof t||+t==+t):void 0}function A(t,e,r,n,o,i){var a=R(r);if(null!=a)return a;var u=P(e,a),c=v({},o,{strict:!1});return!(void 0===u&&!j(e,a)||!M(n,u,c,i))&&!j(t,a)&&M(n,u,c,i)}function I(t,e,r){var n=R(r);return null!=n?n:T(e,n)&&!T(t,n)}function D(t,e,r,n,o,i){for(var a,u,c=m(t);(a=c.next())&&!a.done;)if(M(r,u=a.value,o,i)&&M(n,P(e,u),o,i))return _(t,u),!0;return!1}function M(t,e,r,f){var y=r||{};if(y.strict?a(t,e):t===e)return!0;if(p(t)!==p(e))return!1;if(!t||!e||"object"!==n(t)&&"object"!==n(e))return y.strict?a(t,e):t==e;var h,_=f.has(t),R=f.has(e);if(_&&R){if(f.get(t)===f.get(e))return!0}else h={};return _||f.set(t,h),R||f.set(e,h),function(t,e,r,a){var p,f;if(n(t)!==n(e))return!1;if(null==t||null==e)return!1;if(O(t)!==O(e))return!1;if(i(t)!==i(e))return!1;if(l(t)!==l(e))return!1;var y=t instanceof Error,h=e instanceof Error;if(y!==h)return!1;if((y||h)&&(t.name!==e.name||t.message!==e.message))return!1;var _=u(t),R=u(e);if(_!==R)return!1;if((_||R)&&(t.source!==e.source||c(t)!==c(e)))return!1;var F=s(t),B=s(e);if(F!==B)return!1;if((F||B)&&g(t)!==g(e))return!1;if(r.strict&&S&&S(t)!==S(e))return!1;if(d(t)!==d(e))return!1;var V=N(t),L=N(e);if(V!==L)return!1;if(V||L){if(t.length!==e.length)return!1;for(p=0;p<t.length;p++)if(t[p]!==e[p])return!1;return!0}if(n(t)!==n(e))return!1;var U=o(t),W=o(e);if(U.length!==W.length)return!1;for(U.sort(),W.sort(),p=U.length-1;p>=0;p--)if(U[p]!=W[p])return!1;for(p=U.length-1;p>=0;p--)if(!M(t[f=U[p]],e[f],r,a))return!1;var G=b(t),H=b(e);return G===H&&("Set"===G||"Set"===H?function(t,e,r,o){if(k(t)!==k(e))return!1;for(var i,a,u,c=m(t),l=m(e);(i=c.next())&&!i.done;)if(i.value&&"object"===n(i.value))u||(u=new w),x(u,i.value);else if(!T(e,i.value)){if(r.strict)return!1;if(!I(t,e,i.value))return!1;u||(u=new w),x(u,i.value)}if(u){for(;(a=l.next())&&!a.done;)if(a.value&&"object"===n(a.value)){if(!C(u,a.value,r.strict,o))return!1}else if(!r.strict&&!T(t,a.value)&&!C(u,a.value,r.strict,o))return!1;return 0===k(u)}return!0}(t,e,r,a):"Map"!==G||function(t,e,r,o){if(E(t)!==E(e))return!1;for(var i,a,u,c,l,s,p=m(t),f=m(e);(i=p.next())&&!i.done;)if(c=i.value[0],l=i.value[1],c&&"object"===n(c))u||(u=new w),x(u,c);else if(void 0===(s=P(e,c))&&!j(e,c)||!M(l,s,r,o)){if(r.strict)return!1;if(!A(t,e,c,l,r,o))return!1;u||(u=new w),x(u,c)}if(u){for(;(a=f.next())&&!a.done;)if(c=a.value[0],s=a.value[1],c&&"object"===n(c)){if(!D(u,t,c,s,r,o))return!1}else if(!(r.strict||t.has(c)&&M(P(t,c),s,r,o)||D(u,t,c,s,v({},r,{strict:!1}),o)))return!1;return 0===k(u)}return!0}(t,e,r,a))}(t,e,y,f)}function N(t){return!(!t||"object"!==n(t)||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0]||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))}t.exports=function(t,e,r){return M(t,e,r,h())}},3510:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(6205),i="function"==typeof Symbol&&"symbol"===n(Symbol("foo")),a=Object.prototype.toString,u=Array.prototype.concat,c=Object.defineProperty,l=c&&function(){var t={};try{for(var e in c(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),s=function(t,e,r,n){var o;(!(e in t)||"function"==typeof(o=n)&&"[object Function]"===a.call(o)&&n())&&(l?c(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)},p=function(t,e){var r=arguments.length>2?arguments[2]:{},n=o(e);i&&(n=u.call(n,Object.getOwnPropertySymbols(e)));for(var a=0;a<n.length;a+=1)s(t,n[a],e[n[a]],r[n[a]])};p.supportsDescriptors=!!l,t.exports=p},1203:t=>{var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString;t.exports=function(t,n,o){if("[object Function]"!==r.call(n))throw new TypeError("iterator must be a function");var i=t.length;if(i===+i)for(var a=0;a<i;a++)n.call(o,t[a],a,t);else for(var u in t)e.call(t,u)&&n.call(o,t[u],u,t)}},2859:t=>{"use strict";var e=Array.prototype.slice,r=Object.prototype.toString;t.exports=function(t){var n=this;if("function"!=typeof n||"[object Function]"!==r.call(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var o,i=e.call(arguments,1),a=Math.max(0,n.length-i.length),u=[],c=0;c<a;c++)u.push("$"+c);if(o=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var r=n.apply(this,i.concat(e.call(arguments)));return Object(r)===r?r:this}return n.apply(t,i.concat(e.call(arguments)))})),n.prototype){var l=function(){};l.prototype=n.prototype,o.prototype=new l,l.prototype=null}return o}},298:(t,e,r)=>{"use strict";var n=r(2859);t.exports=Function.prototype.bind||n},9045:t=>{"use strict";var e=function(){return"string"==typeof function(){}.name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(t){r=null}e.functionsHaveConfigurableNames=function(){return e()&&r&&!!r((function(){}),"name").configurable};var n=Function.prototype.bind;e.boundFunctionsHaveNames=function(){return e()&&"function"==typeof n&&""!==function(){}.bind().name},t.exports=e},8754:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o,i=SyntaxError,a=Function,u=TypeError,c=function(t){try{return a('"use strict"; return ('+t+").constructor;")()}catch(t){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(t){l=null}var s=function(){throw new u},p=l?function(){try{return s}catch(t){try{return l(arguments,"callee").get}catch(t){return s}}}():s,f=r(8921)(),y=Object.getPrototypeOf||function(t){return t.__proto__},b={},m="undefined"==typeof Uint8Array?o:y(Uint8Array),h={"%AggregateError%":"undefined"==typeof AggregateError?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?o:ArrayBuffer,"%ArrayIteratorPrototype%":f?y([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":"undefined"==typeof Atomics?o:Atomics,"%BigInt%":"undefined"==typeof BigInt?o:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?o:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?o:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?o:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":b,"%Int8Array%":"undefined"==typeof Int8Array?o:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?o:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?y(y([][Symbol.iterator]())):o,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":n(JSON))?JSON:o,"%Map%":"undefined"==typeof Map?o:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?y((new Map)[Symbol.iterator]()):o,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?o:Promise,"%Proxy%":"undefined"==typeof Proxy?o:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?o:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?o:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?y((new Set)[Symbol.iterator]()):o,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?y(""[Symbol.iterator]()):o,"%Symbol%":f?Symbol:o,"%SyntaxError%":i,"%ThrowTypeError%":p,"%TypedArray%":m,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?o:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?o:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?o:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?o:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?o:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?o:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?o:WeakSet},d=function t(e){var r;if("%AsyncFunction%"===e)r=c("async function () {}");else if("%GeneratorFunction%"===e)r=c("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=c("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&(r=y(o.prototype))}return h[e]=r,r},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=r(298),S=r(6841),O=g.call(Function.call,Array.prototype.concat),w=g.call(Function.apply,Array.prototype.splice),j=g.call(Function.call,String.prototype.replace),P=g.call(Function.call,String.prototype.slice),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g,_=function(t,e){var r,n=t;if(S(v,n)&&(n="%"+(r=v[n])[0]+"%"),S(h,n)){var o=h[n];if(o===b&&(o=d(n)),void 0===o&&!e)throw new u("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new u('"allowMissing" argument must be a boolean');var r=function(t){var e=P(t,0,1),r=P(t,-1);if("%"===e&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return j(t,E,(function(t,e,r,o){n[n.length]=r?j(o,x,"$1"):e||t})),n}(t),n=r.length>0?r[0]:"",o=_("%"+n+"%",e),a=o.name,c=o.value,s=!1,p=o.alias;p&&(n=p[0],w(r,O([0,1],p)));for(var f=1,y=!0;f<r.length;f+=1){var b=r[f],m=P(b,0,1),d=P(b,-1);if(('"'===m||"'"===m||"`"===m||'"'===d||"'"===d||"`"===d)&&m!==d)throw new i("property names with quotes must have matching quotes");if("constructor"!==b&&y||(s=!0),S(h,a="%"+(n+="."+b)+"%"))c=h[a];else if(null!=c){if(!(b in c)){if(!e)throw new u("base intrinsic for "+t+" exists, but the property is not available.");return}if(l&&f+1>=r.length){var v=l(c,b);c=(y=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:c[b]}else y=S(c,b),c=c[b];y&&!s&&(h[a]=c)}}return c}},8921:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o="undefined"!=typeof Symbol&&Symbol,i=r(17);t.exports=function(){return"function"==typeof o&&"function"==typeof Symbol&&"symbol"===n(o("foo"))&&"symbol"===n(Symbol("bar"))&&i()}},17:t=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===e(Symbol.iterator))return!0;var t={},r=Symbol("test"),n=Object(r);if("string"==typeof r)return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(r in t[r]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var o=Object.getOwnPropertySymbols(t);if(1!==o.length||o[0]!==r)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,r);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},6841:(t,e,r)=>{"use strict";var n=r(298);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},8317:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o="function"==typeof Symbol&&"symbol"===n(Symbol.toStringTag),i=r(5554)("Object.prototype.toString"),a=function(t){return!(o&&t&&"object"===n(t)&&Symbol.toStringTag in t)&&"[object Arguments]"===i(t)},u=function(t){return!!a(t)||null!==t&&"object"===n(t)&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==i(t)&&"[object Function]"===i(t.callee)},c=function(){return a(arguments)}();a.isLegacyArguments=u,t.exports=c?a:u},999:t=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}if("function"==typeof BigInt){var r=BigInt.prototype.valueOf;t.exports=function(t){return null!=t&&"boolean"!=typeof t&&"string"!=typeof t&&"number"!=typeof t&&"symbol"!==e(t)&&"function"!=typeof t&&("bigint"==typeof t||function(t){try{return r.call(t),!0}catch(t){}return!1}(t))}}else t.exports=function(t){return!1}},5217:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(5554),i=o("Boolean.prototype.toString"),a=o("Object.prototype.toString"),u="function"==typeof Symbol&&!!Symbol.toStringTag;t.exports=function(t){return"boolean"==typeof t||null!==t&&"object"===n(t)&&(u&&Symbol.toStringTag in t?function(t){try{return i(t),!0}catch(t){return!1}}(t):"[object Boolean]"===a(t))}},9490:t=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var r=Date.prototype.getDay,n=Object.prototype.toString,o="function"==typeof Symbol&&!!Symbol.toStringTag;t.exports=function(t){return"object"===e(t)&&null!==t&&(o?function(t){try{return r.call(t),!0}catch(t){return!1}}(t):"[object Date]"===n.call(t))}},7233:t=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var r,n="function"==typeof Map&&Map.prototype?Map:null,o="function"==typeof Set&&Set.prototype?Set:null;n||(r=function(t){return!1});var i=n?Map.prototype.has:null,a=o?Set.prototype.has:null;r||i||(r=function(t){return!1}),t.exports=r||function(t){if(!t||"object"!==e(t))return!1;try{if(i.call(t),a)try{a.call(t)}catch(t){return!0}return t instanceof n}catch(t){}return!1}},2869:t=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var r=Number.prototype.toString,n=Object.prototype.toString,o="function"==typeof Symbol&&!!Symbol.toStringTag;t.exports=function(t){return"number"==typeof t||"object"===e(t)&&(o?function(t){try{return r.call(t),!0}catch(t){return!1}}(t):"[object Number]"===n.call(t))}},5142:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o,i,a,u,c=r(5554),l=r(17)()&&!!Symbol.toStringTag;if(l){o=c("Object.prototype.hasOwnProperty"),i=c("RegExp.prototype.exec"),a={};var s=function(){throw a};u={toString:s,valueOf:s},"symbol"===n(Symbol.toPrimitive)&&(u[Symbol.toPrimitive]=s)}var p=c("Object.prototype.toString"),f=Object.getOwnPropertyDescriptor;t.exports=l?function(t){if(!t||"object"!==n(t))return!1;var e=f(t,"lastIndex");if(!e||!o(e,"value"))return!1;try{i(t,u)}catch(t){return t===a}}:function(t){return!(!t||"object"!==n(t)&&"function"!=typeof t)&&"[object RegExp]"===p(t)}},1189:t=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var r,n="function"==typeof Map&&Map.prototype?Map:null,o="function"==typeof Set&&Set.prototype?Set:null;o||(r=function(t){return!1});var i=n?Map.prototype.has:null,a=o?Set.prototype.has:null;r||a||(r=function(t){return!1}),t.exports=r||function(t){if(!t||"object"!==e(t))return!1;try{if(a.call(t),i)try{i.call(t)}catch(t){return!0}return t instanceof o}catch(t){}return!1}},373:t=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var r=String.prototype.valueOf,n=Object.prototype.toString,o="function"==typeof Symbol&&!!Symbol.toStringTag;t.exports=function(t){return"string"==typeof t||"object"===e(t)&&(o?function(t){try{return r.call(t),!0}catch(t){return!1}}(t):"[object String]"===n.call(t))}},5490:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=Object.prototype.toString;if(r(8921)()){var i=Symbol.prototype.toString,a=/^Symbol\(.*\)$/;t.exports=function(t){if("symbol"===n(t))return!0;if("[object Symbol]"!==o.call(t))return!1;try{return function(t){return"symbol"===n(t.valueOf())&&a.test(i.call(t))}(t)}catch(t){return!1}}}else t.exports=function(t){return!1}},5924:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(1203),i=r(5696),a=r(5554),u=a("Object.prototype.toString"),c=r(8921)()&&"symbol"===n(Symbol.toStringTag),l=i(),s=a("Array.prototype.indexOf",!0)||function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},p=a("String.prototype.slice"),f={},y=r(8114),b=Object.getPrototypeOf;c&&y&&b&&o(l,(function(t){var e=new r.g[t];if(!(Symbol.toStringTag in e))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var n=b(e),o=y(n,Symbol.toStringTag);if(!o){var i=b(n);o=y(i,Symbol.toStringTag)}f[t]=o.get})),t.exports=function(t){if(!t||"object"!==n(t))return!1;if(!c){var e=p(u(t),8,-1);return s(l,e)>-1}return!!y&&function(t){var e=!1;return o(f,(function(r,n){if(!e)try{e=r.call(t)===n}catch(t){}})),e}(t)}},6494:t=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var r,n="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,o="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;n||(r=function(t){return!1});var i=n?n.prototype.has:null,a=o?o.prototype.has:null;r||i||(r=function(t){return!1}),t.exports=r||function(t){if(!t||"object"!==e(t))return!1;try{if(i.call(t,i),a)try{a.call(t,a)}catch(t){return!0}return t instanceof n}catch(t){}return!1}},5478:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(8754),i=r(5554),a=o("%WeakSet%",!0),u=i("WeakSet.prototype.has",!0);if(u){var c=i("WeakMap.prototype.has",!0);t.exports=function(t){if(!t||"object"!==n(t))return!1;try{if(u(t,u),c)try{c(t,c)}catch(t){return!0}return t instanceof a}catch(t){}return!1}}else t.exports=function(t){return!1}},9318:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},3055:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=o&&i&&"function"==typeof i.get?i.get:null,u=o&&Map.prototype.forEach,c="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&c?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=c&&l&&"function"==typeof l.get?l.get:null,p=c&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,y="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,b="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,h=Object.prototype.toString,d=Function.prototype.toString,v=String.prototype.match,g="function"==typeof BigInt?BigInt.prototype.valueOf:null,S=Object.getOwnPropertySymbols,O="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?Symbol.prototype.toString:null,w="function"==typeof Symbol&&"object"===n(Symbol.iterator),j=Object.prototype.propertyIsEnumerable,P=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),E=r(5863).custom,x=E&&R(E)?E:null,_="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function T(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function k(t){return String(t).replace(/"/g,"&quot;")}function C(t){return!("[object Array]"!==D(t)||_&&"object"===n(t)&&_ in t)}function R(t){if(w)return t&&"object"===n(t)&&t instanceof Symbol;if("symbol"===n(t))return!0;if(!t||"object"!==n(t)||!O)return!1;try{return O.call(t),!0}catch(t){}return!1}t.exports=function t(e,r,o,i){var c=r||{};if(I(c,"quoteStyle")&&"single"!==c.quoteStyle&&"double"!==c.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(I(c,"maxStringLength")&&("number"==typeof c.maxStringLength?c.maxStringLength<0&&c.maxStringLength!==1/0:null!==c.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!I(c,"customInspect")||c.customInspect;if("boolean"!=typeof l&&"symbol"!==l)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(I(c,"indent")&&null!==c.indent&&"\t"!==c.indent&&!(parseInt(c.indent,10)===c.indent&&c.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return N(e,c);if("number"==typeof e)return 0===e?1/0/e>0?"0":"-0":String(e);if("bigint"==typeof e)return String(e)+"n";var h=void 0===c.depth?5:c.depth;if(void 0===o&&(o=0),o>=h&&h>0&&"object"===n(e))return C(e)?"[Array]":"[Object]";var S,j=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=Array(t.indent+1).join(" ")}return{base:r,prev:Array(e+1).join(r)}}(c,o);if(void 0===i)i=[];else if(M(i,e)>=0)return"[Circular]";function E(e,r,n){if(r&&(i=i.slice()).push(r),n){var a={depth:c.depth};return I(c,"quoteStyle")&&(a.quoteStyle=c.quoteStyle),t(e,a,o+1,i)}return t(e,c,o+1,i)}if("function"==typeof e){var A=function(t){if(t.name)return t.name;var e=v.call(d.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}(e),F=W(e,E);return"[Function"+(A?": "+A:" (anonymous)")+"]"+(F.length>0?" { "+F.join(", ")+" }":"")}if(R(e)){var G=w?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):O.call(e);return"object"!==n(e)||w?G:B(G)}if((S=e)&&"object"===n(S)&&("undefined"!=typeof HTMLElement&&S instanceof HTMLElement||"string"==typeof S.nodeName&&"function"==typeof S.getAttribute)){for(var H="<"+String(e.nodeName).toLowerCase(),q=e.attributes||[],z=0;z<q.length;z++)H+=" "+q[z].name+"="+T(k(q[z].value),"double",c);return H+=">",e.childNodes&&e.childNodes.length&&(H+="..."),H+"</"+String(e.nodeName).toLowerCase()+">"}if(C(e)){if(0===e.length)return"[]";var $=W(e,E);return j&&!function(t){for(var e=0;e<t.length;e++)if(M(t[e],"\n")>=0)return!1;return!0}($)?"["+U($,j)+"]":"[ "+$.join(", ")+" ]"}if(function(t){return!("[object Error]"!==D(t)||_&&"object"===n(t)&&_ in t)}(e)){var J=W(e,E);return 0===J.length?"["+String(e)+"]":"{ ["+String(e)+"] "+J.join(", ")+" }"}if("object"===n(e)&&l){if(x&&"function"==typeof e[x])return e[x]();if("symbol"!==l&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!a||!t||"object"!==n(t))return!1;try{a.call(t);try{s.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var K=[];return u.call(e,(function(t,r){K.push(E(r,e,!0)+" => "+E(t,e))})),L("Map",a.call(e),K,j)}if(function(t){if(!s||!t||"object"!==n(t))return!1;try{s.call(t);try{a.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var Y=[];return p.call(e,(function(t){Y.push(E(t,e))})),L("Set",s.call(e),Y,j)}if(function(t){if(!f||!t||"object"!==n(t))return!1;try{f.call(t,f);try{y.call(t,y)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return V("WeakMap");if(function(t){if(!y||!t||"object"!==n(t))return!1;try{y.call(t,y);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return V("WeakSet");if(function(t){if(!b||!t||"object"!==n(t))return!1;try{return b.call(t),!0}catch(t){}return!1}(e))return V("WeakRef");if(function(t){return!("[object Number]"!==D(t)||_&&"object"===n(t)&&_ in t)}(e))return B(E(Number(e)));if(function(t){if(!t||"object"!==n(t)||!g)return!1;try{return g.call(t),!0}catch(t){}return!1}(e))return B(E(g.call(e)));if(function(t){return!("[object Boolean]"!==D(t)||_&&"object"===n(t)&&_ in t)}(e))return B(m.call(e));if(function(t){return!("[object String]"!==D(t)||_&&"object"===n(t)&&_ in t)}(e))return B(E(String(e)));if(!function(t){return!("[object Date]"!==D(t)||_&&"object"===n(t)&&_ in t)}(e)&&!function(t){return!("[object RegExp]"!==D(t)||_&&"object"===n(t)&&_ in t)}(e)){var X=W(e,E),Z=P?P(e)===Object.prototype:e instanceof Object||e.constructor===Object,Q=e instanceof Object?"":"null prototype",tt=!Z&&_&&Object(e)===e&&_ in e?D(e).slice(8,-1):Q?"Object":"",et=(Z||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(tt||Q?"["+[].concat(tt||[],Q||[]).join(": ")+"] ":"");return 0===X.length?et+"{}":j?et+"{"+U(X,j)+"}":et+"{ "+X.join(", ")+" }"}return String(e)};var A=Object.prototype.hasOwnProperty||function(t){return t in this};function I(t,e){return A.call(t,e)}function D(t){return h.call(t)}function M(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function N(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return N(t.slice(0,e.maxStringLength),e)+n}return T(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,F),"single",e)}function F(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function B(t){return"Object("+t+")"}function V(t){return t+" { ? }"}function L(t,e,r,n){return t+" ("+e+") {"+(n?U(r,n):r.join(", "))+"}"}function U(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+t.join(","+r)+"\n"+e.prev}function W(t,e){var r=C(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=I(t,o)?e(t[o],t):""}var i,a="function"==typeof S?S(t):[];if(w){i={};for(var u=0;u<a.length;u++)i["$"+a[u]]=a[u]}for(var c in t)I(t,c)&&(r&&String(Number(c))===c&&c<t.length||w&&i["$"+c]instanceof Symbol||(/[^\w$]/.test(c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if("function"==typeof S)for(var l=0;l<a.length;l++)j.call(t,a[l])&&n.push("["+e(a[l])+"]: "+e(t[a[l]],t));return n}},2679:t=>{"use strict";var e=function(t){return t!=t};t.exports=function(t,r){return 0===t&&0===r?1/t==1/r:t===r||!(!e(t)||!e(r))}},6232:(t,e,r)=>{"use strict";var n=r(3510),o=r(3700),i=r(2679),a=r(79),u=r(3025),c=o(a(),Object);n(c,{getPolyfill:a,implementation:i,shim:u}),t.exports=c},79:(t,e,r)=>{"use strict";var n=r(2679);t.exports=function(){return"function"==typeof Object.is?Object.is:n}},3025:(t,e,r)=>{"use strict";var n=r(79),o=r(3510);t.exports=function(){var t=n();return o(Object,{is:t},{is:function(){return Object.is!==t}}),t}},6016:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o;if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,u=r(2762),c=Object.prototype.propertyIsEnumerable,l=!c.call({toString:null},"toString"),s=c.call((function(){}),"prototype"),p=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(t){var e=t.constructor;return e&&e.prototype===t},y={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},b=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!y["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"===n(window[t]))try{f(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();o=function(t){var e=null!==t&&"object"===n(t),r="[object Function]"===a.call(t),o=u(t),c=e&&"[object String]"===a.call(t),y=[];if(!e&&!r&&!o)throw new TypeError("Object.keys called on a non-object");var m=s&&r;if(c&&t.length>0&&!i.call(t,0))for(var h=0;h<t.length;++h)y.push(String(h));if(o&&t.length>0)for(var d=0;d<t.length;++d)y.push(String(d));else for(var v in t)m&&"prototype"===v||!i.call(t,v)||y.push(String(v));if(l)for(var g=function(t){if("undefined"==typeof window||!b)return f(t);try{return f(t)}catch(t){return!1}}(t),S=0;S<p.length;++S)g&&"constructor"===p[S]||!i.call(t,p[S])||y.push(p[S]);return y}}t.exports=o},6205:(t,e,r)=>{"use strict";var n=Array.prototype.slice,o=r(2762),i=Object.keys,a=i?function(t){return i(t)}:r(6016),u=Object.keys;a.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return o(t)?u(n.call(t)):u(t)})}else Object.keys=a;return Object.keys||a},t.exports=a},2762:t=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var r=Object.prototype.toString;t.exports=function(t){var n=r.call(t),o="[object Arguments]"===n;return o||(o="[object Array]"!==n&&null!==t&&"object"===e(t)&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===r.call(t.callee)),o}},4609:(t,e,r)=>{"use strict";var n=r(6205),o=r(17)(),i=r(5554),a=Object,u=i("Array.prototype.push"),c=i("Object.prototype.propertyIsEnumerable"),l=o?Object.getOwnPropertySymbols:null;t.exports=function(t,e){if(null==t)throw new TypeError("target must be an object");var r,i,s,p,f,y,b,m=a(t);for(r=1;r<arguments.length;++r){i=a(arguments[r]),p=n(i);var h=o&&(Object.getOwnPropertySymbols||l);if(h)for(f=h(i),s=0;s<f.length;++s)b=f[s],c(i,b)&&u(p,b);for(s=0;s<p.length;++s)y=i[b=p[s]],c(i,b)&&(m[b]=y)}return m}},4545:(t,e,r)=>{"use strict";var n=r(3510),o=r(3700),i=r(4609),a=r(1785),u=r(8507),c=o.apply(a()),l=function(t,e){return c(Object,arguments)};n(l,{getPolyfill:a,implementation:i,shim:u}),t.exports=l},1785:(t,e,r)=>{"use strict";var n=r(4609);t.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var o=Object.assign({},r),i="";for(var a in o)i+=a;return t!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}return!1}()?n:Object.assign:n}},8507:(t,e,r)=>{"use strict";var n=r(3510),o=r(1785);t.exports=function(){var t=o();return n(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t}},4363:(t,e,r)=>{"use strict";var n=r(9045).functionsHaveConfigurableNames(),o=Object,i=TypeError;t.exports=function(){if(null!=this&&this!==o(this))throw new i("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t},n&&Object.defineProperty&&Object.defineProperty(t.exports,"name",{value:"get flags"})},1881:(t,e,r)=>{"use strict";var n=r(3510),o=r(3700),i=r(4363),a=r(6598),u=r(3262),c=o(a());n(c,{getPolyfill:a,implementation:i,shim:u}),t.exports=c},6598:(t,e,r)=>{"use strict";var n=r(4363),o=r(3510).supportsDescriptors,i=Object.getOwnPropertyDescriptor;t.exports=function(){if(o&&"gim"===/a/gim.flags){var t=i(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var e="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){e+="d"}}),Object.defineProperty(r,"sticky",{get:function(){e+="y"}}),"dy"===e)return t.get}}return n}},3262:(t,e,r)=>{"use strict";var n=r(3510).supportsDescriptors,o=r(6598),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,u=TypeError,c=Object.getPrototypeOf,l=/a/;t.exports=function(){if(!n||!c)throw new u("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=o(),e=c(l),r=i(e,"flags");return r&&r.get===t||a(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},9238:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(8754),i=r(5554),a=r(3055),u=o("%TypeError%"),c=o("%WeakMap%",!0),l=o("%Map%",!0),s=i("WeakMap.prototype.get",!0),p=i("WeakMap.prototype.set",!0),f=i("WeakMap.prototype.has",!0),y=i("Map.prototype.get",!0),b=i("Map.prototype.set",!0),m=i("Map.prototype.has",!0),h=function(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r};t.exports=function(){var t,e,r,o={assert:function(t){if(!o.has(t))throw new u("Side channel does not contain "+a(t))},get:function(o){if(c&&o&&("object"===n(o)||"function"==typeof o)){if(t)return s(t,o)}else if(l){if(e)return y(e,o)}else if(r)return function(t,e){var r=h(t,e);return r&&r.value}(r,o)},has:function(o){if(c&&o&&("object"===n(o)||"function"==typeof o)){if(t)return f(t,o)}else if(l){if(e)return m(e,o)}else if(r)return function(t,e){return!!h(t,e)}(r,o);return!1},set:function(o,i){c&&o&&("object"===n(o)||"function"==typeof o)?(t||(t=new c),p(t,o,i)):l?(e||(e=new l),b(e,o,i)):(r||(r={key:{},next:null}),function(t,e,r){var n=h(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(r,o,i))}};return o}},2228:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(373),i=r(2869),a=r(5217),u=r(5490),c=r(999);t.exports=function(t){return null==t||"object"!==n(t)&&"function"!=typeof t?null:o(t)?"String":i(t)?"Number":a(t)?"Boolean":u(t)?"Symbol":c(t)?"BigInt":void 0}},5056:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(1203),i=r(5696),a=r(5554),u=a("Object.prototype.toString"),c=r(8921)()&&"symbol"===n(Symbol.toStringTag),l=i(),s=a("String.prototype.slice"),p={},f=r(8114),y=Object.getPrototypeOf;c&&f&&y&&o(l,(function(t){if("function"==typeof r.g[t]){var e=new r.g[t];if(!(Symbol.toStringTag in e))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var n=y(e),o=f(n,Symbol.toStringTag);if(!o){var i=y(n);o=f(i,Symbol.toStringTag)}p[t]=o.get}}));var b=r(5924);t.exports=function(t){return!!b(t)&&(c?function(t){var e=!1;return o(p,(function(r,n){if(!e)try{var o=r.call(t);o===n&&(e=o)}catch(t){}})),e}(t):s(u(t),8,-1))}},4305:t=>{"use strict";t.exports=require("lodash.debounce")},9455:t=>{"use strict";t.exports=require("material-ui")},580:t=>{"use strict";t.exports=require("prop-types")},757:t=>{"use strict";t.exports=require("pydio")},9763:t=>{"use strict";t.exports=require("pydio/util/lang")},6689:t=>{"use strict";t.exports=require("react")},5863:()=>{},5696:(t,e,r)=>{"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"];t.exports=function(){for(var t=[],e=0;e<n.length;e++)"function"==typeof r.g[n[e]]&&(t[t.length]=n[e]);return t}},8114:(t,e,r)=>{"use strict";var n=r(8754)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(t){n=null}t.exports=n},3634:(t,e,r)=>{"use strict";var n=r(8317);if(r(8921)()||r(17)()){var o=Symbol.iterator;t.exports=function(t){return null!=t&&void 0!==t[o]?t[o]():n(t)?Array.prototype[o].call(t):void 0}}else{var i=r(9318),a=r(373),u=r(8754),c=u("%Map%",!0),l=u("%Set%",!0),s=r(5554),p=s("Array.prototype.push"),f=s("String.prototype.charCodeAt"),y=s("String.prototype.slice"),b=function(t){var e=0;return{next:function(){var r,n=e>=t.length;return n||(r=t[e],e+=1),{done:n,value:r}}}},m=function(t,e){if(i(t)||n(t))return b(t);if(a(t)){var r=0;return{next:function(){var e=function(t,e){if(e+1>=t.length)return e+1;var r=f(t,e);if(r<55296||r>56319)return e+1;var n=f(t,e+1);return n<56320||n>57343?e+1:e+2}(t,r),n=y(t,r,e);return r=e,{done:e>t.length,value:n}}}}return e&&void 0!==t["_es6-shim iterator_"]?t["_es6-shim iterator_"]():void 0};if(c||l){var h=r(7233),d=r(1189),v=s("Map.prototype.forEach",!0),g=s("Set.prototype.forEach",!0);if("undefined"==typeof process||!process.versions||!process.versions.node)var S=s("Map.prototype.iterator",!0),O=s("Set.prototype.iterator",!0),w=function(t){var e=!1;return{next:function(){try{return{done:e,value:e?void 0:t.next()}}catch(t){return e=!0,{done:!0,value:void 0}}}}};var j=s("Map.prototype.@@iterator",!0)||s("Map.prototype._es6-shim iterator_",!0),P=s("Set.prototype.@@iterator",!0)||s("Set.prototype._es6-shim iterator_",!0);t.exports=function(t){return function(t){if(h(t)){if(S)return w(S(t));if(j)return j(t);if(v){var e=[];return v(t,(function(t,r){p(e,[r,t])})),b(e)}}if(d(t)){if(O)return w(O(t));if(P)return P(t);if(g){var r=[];return g(t,(function(t){p(r,t)})),b(r)}}}(t)||m(t)}}else t.exports=function(t){if(null!=t)return m(t,!0)}}},2567:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(7233),i=r(1189),a=r(6494),u=r(5478);t.exports=function(t){if(t&&"object"===n(t)){if(o(t))return"Map";if(i(t))return"Set";if(a(t))return"WeakMap";if(u(t))return"WeakSet"}return!1}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{default:()=>fn});var t=r(6689),e=r.n(t);const o=require("pydio/util/xml");var i=r.n(o),a=r(757),u=r.n(a);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(){return l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l.apply(this,arguments)}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t,e,r){return(e=y(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y(n.key),n)}}function y(t){var e=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===c(e)?e:String(e)}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}const h=function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(h,n);var o,i,a,u,y=(a=h,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m(a);if(u){var r=m(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function h(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),t=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({displayContext:"form",disabled:!1},t),(e=y.call(this,t)).state={editMode:!1,dirty:!1,value:e.props.value},e}return o=h,(i=[{key:"isDisplayGrid",value:function(){return"grid"===this.props.displayContext}},{key:"isDisplayForm",value:function(){return"form"===this.props.displayContext}},{key:"toggleEditMode",value:function(){if(!this.isDisplayForm()){var t=!this.state.editMode;this.setState({editMode:t}),this.props.onChangeEditMode&&this.props.onChangeEditMode(t)}}},{key:"enterToToggle",value:function(t){"Enter"===t.key&&this.toggleEditMode()}},{key:"bufferChanges",value:function(t,e){this.triggerPropsOnChange(t,e)}},{key:"onChange",value:function(t,e){void 0===e&&(e=t.currentTarget.getValue?t.currentTarget.getValue():t.currentTarget.value),this.changeTimeout&&clearTimeout(this.changeTimeout);var n=e,o=this.state.value;if(r&&this.triggerPropsOnChange(n,o),this.setState({dirty:!0,value:n}),!r){var i=250;"password"===this.props.attributes.type&&(i=1200),this.changeTimeout=setTimeout(function(){this.bufferChanges(n,o)}.bind(this),i)}}},{key:"triggerPropsOnChange",value:function(t,e){"password"===this.props.attributes.type?(this.toggleEditMode(),this.props.onChange(t,e,{type:this.props.attributes.type})):this.props.onChange(t,e)}},{key:"componentWillReceiveProps",value:function(t){this.setState({value:t.value,dirty:!1})}},{key:"isValid",value:function(){return!this.refs.internal||!this.refs.internal.isValid||this.refs.internal.isValid()}},{key:"render",value:function(){var r=this;return e().createElement(t,l({},this.props,this.state,{ref:"internal",onChange:function(t,e){return r.onChange(t,e)},toggleEditMode:function(){return r.toggleEditMode()},enterToToggle:function(t){return r.enterToToggle(t)},isDisplayGrid:function(){return r.isDisplayGrid()},isDisplayForm:function(){return r.isDisplayForm()}}))}}])&&f(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),h}(e().Component);return n},d=require("pydio/util/pass");var v=r.n(d);function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==g(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===g(o)?o:String(o)),n)}var o}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}var j=u().requireLib("hoc").ModernTextField;const P=h(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(u,t);var r,n,o,i,a=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=w(o);if(i){var r=w(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this,t)).state={},t.value){var r=v().isValidLogin(t.value);e.state={valid:!r,err:r}}return e}return r=u,(n=[{key:"textValueChanged",value:function(t,e){var r=v().isValidLogin(e),n=!r;(this.state&&this.state.valid)!==n&&this.props.onValidStatusChange&&this.props.onValidStatusChange(n),this.setState({valid:n,err:r}),this.props.onChange(t,e)}},{key:"isValid",value:function(){return this.state&&this.state.valid}},{key:"render",value:function(){var t=this,r=this.props,n=r.isDisplayGrid,o=r.isDisplayForm,i=r.editMode,a=r.disabled,u=r.errorText,c=r.enterToToggle,l=r.toggleEditMode,s=r.attributes,p=r.variant,f=this.props.value;if(n()&&!i)return"password"===s.type&&f&&(f="***********"),e().createElement("div",{onClick:a?function(){}:l,className:f?"":"paramValue-empty"},f||"Empty");var y=this.state&&this.state.err,b=e().createElement(j,{floatingLabelText:o()?s.label:null,value:f||"",onChange:function(e,r){return t.textValueChanged(e,r)},onKeyDown:c,type:"password"===s.type?"password":null,multiLine:"textarea"===s.type,disabled:a,errorText:u||y,autoComplete:"off",fullWidth:!0,variant:p});return"password"===s.type?e().createElement("form",{autoComplete:"off",onSubmit:function(t){t.stopPropagation(),t.preventDefault()},style:{display:"inline"}},b):e().createElement("span",null,b)}}])&&S(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),u}(e().Component));var E=r(9455);function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==x(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===x(o)?o:String(o)),n)}var o}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}var C=u().requireLib("hoc").ModernTextField;const R=h(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(u,t);var r,n,o,i,a=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=k(o);if(i){var r=k(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===x(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),a.apply(this,arguments)}return r=u,(n=[{key:"render",value:function(){var t=this.props,r=t.editMode,n=t.value,o=t.variant,i=t.isDisplayGrid,a=t.isDisplayForm,u=t.onChange,c=t.enterToToggle,l=t.attributes,s=t.disabled,p=t.errorText,f=t.toggleEditMode;if(i()&&!r){var y=n;return"password"===l.type&&n&&(y="***********"),e().createElement("div",{onClick:s?function(){}:f,className:y?"":"paramValue-empty"},y||"Empty")}var b=e().createElement(C,{hintText:a()?l.label:null,value:n||"",onChange:u,onKeyDown:c,type:"password"===l.type?"password":null,multiLine:"textarea"===l.type,disabled:s,errorText:p,autoComplete:"off",fullWidth:!0,variant:o});return"password"===this.props.attributes.type?e().createElement("form",{autoComplete:"off",onSubmit:function(t){t.stopPropagation(),t.preventDefault()},style:{display:"inline"}},b):e().createElement("span",null,b)}}])&&_(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),u}(e().Component));function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function I(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==A(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===A(o)?o:String(o)),n)}var o}function D(t,e){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},D(t,e)}function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},M(t)}var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(u,t);var r,n,o,i,a=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=M(o);if(i){var r=M(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),a.apply(this,arguments)}return r=u,(n=[{key:"render",value:function(){var t,r=this.props,n=r.attributes,o=r.altIcon,i=void 0===o?"mdi mdi-toggle-switch":o,a=r.altIconText,u=void 0===a?"mdi mdi-textbox":a,c=r.altTip,l=void 0===c?"Switch to text version":c,s=r.onAltTextSwitch,p=r.variantShowLegend,f=n.alternativeText;return t=f?e().createElement(R,this.props):this.props.children,p?t:e().createElement("div",{style:{display:"flex"}},e().createElement("div",{style:{flex:1}},t),e().createElement("div",null,e().createElement(E.IconButton,{iconClassName:f?i:u,title:l,onClick:function(){return s(n.name,!f)},iconStyle:{opacity:.3,fontSize:20},style:{padding:"14px 8px",width:42,height:42}})))}}])&&I(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),u}(e().Component);function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function B(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==F(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===F(o)?o:String(o)),n)}var o}function V(t,e){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},V(t,e)}function L(t){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},L(t)}var U=u().requireLib("hoc"),W=U.ModernTextField,G=U.ModernSelectField;const H=h(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V(t,e)}(c,t);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=L(o);if(i){var r=L(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===F(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),a.apply(this,arguments)}return r=c,(n=[{key:"divide",value:function(t){for(var e=["k","M","G","T","P"],r={bytesValue:t,unit:""},n=0;n<e.length;n++){var o=this.multiple(1,e[n]);t>=o&&t%o==0&&(r={bytesValue:t/o,unit:e[n]})}return r}},{key:"multiple",value:function(t,e){var r=parseFloat(t);switch(e){case"k":return 1024*r;case"M":return 1024*r*1024;case"G":return 1024*r*1024*1024;case"T":return 1024*r*1024*1024*1024;case"P":return 1024*r*1024*1024*1024*1024;default:return r}}},{key:"render",value:function(){var t=this,r=u().getMessages().byte_unit_symbol||"B",n=this.props,o=n.value,i=n.onChange,a=n.isDisplayGrid,c=n.isDisplayForm,l=n.editMode,s=n.disabled,p=n.toggleEditMode,f=n.attributes,y=n.variant,b=0,m="";if(o){var h=this.divide(parseInt(o)),d=h.bytesValue,v=h.unit;b=d,m=v}return a()&&!l?e().createElement("div",{onClick:s?function(){}:p,className:o?"":"paramValue-empty"},o?b+m+r:"Empty"):e().createElement("div",null,e().createElement("div",{style:{display:"flex",height:"v2"===y?66:null}},e().createElement(W,{value:b,hintText:c()?f.label:null,style:{flex:2},type:"number",variant:y,hasRightBlock:!0,disabled:s,onChange:function(e,r){var n=Math.max(0,r)||0;i(e,t.multiple(n,m))}}),e().createElement(G,{value:m||"b",variant:y,hintText:"Unit",hasLeftBlock:!0,disabled:s,onChange:function(e,r,n){i(e,t.multiple(b,n))},style:{flex:1}},e().createElement(E.MenuItem,{value:"b",primaryText:r}),e().createElement(E.MenuItem,{value:"k",primaryText:"K"+r}),e().createElement(E.MenuItem,{value:"M",primaryText:"M"+r}),e().createElement(E.MenuItem,{value:"G",primaryText:"G"+r}),e().createElement(E.MenuItem,{value:"T",primaryText:"T"+r}),e().createElement(E.MenuItem,{value:"P",primaryText:"P"+r}))))}}])&&B(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(e().Component)),q=require("material-ui/styles");function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function $(){return $=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$.apply(this,arguments)}function J(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function K(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?J(Object(r),!0).forEach((function(e){Y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Y(t,e,r){return(e=Z(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z(n.key),n)}}function Z(t){var e=function(t,e){if("object"!==z(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===z(e)?e:String(e)}function Q(t,e){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Q(t,e)}function tt(t){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tt(t)}var et=u().requireLib("hoc").ThemedModernStyles,rt={position:"absolute",fontSize:16,lineHeight:"22px",top:25,transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",zIndex:1,transform:"scale(0.75) translate(0px, -28px)",transformOrigin:"left top",pointerEvents:"none",userSelect:"none",color:"rgba(0, 0, 0, 0.3)",left:8,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"127%"},nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q(t,e)}(u,t);var r,n,o,i,a=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=tt(o);if(i){var r=tt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),a.apply(this,arguments)}return r=u,(n=[{key:"render",value:function(){var t=this.props.value,r=this.props,n=r.variant,o=r.disabled,i=r.onChange,a=r.attributes,u=r.isDisplayForm,c=r.muiTheme;"string"==typeof t&&(t="true"===t);var l=et(c);if("v2"===n){"mui3"===c.userTheme&&(rt.color=c.palette.mui3["on-surface-variant"]);var s=K({},l.toggleFieldV2);return e().createElement("div",{style:{position:"relative",height:58}},e().createElement("div",{style:K(K({},rt),{},{display:"none"})},a.description),e().createElement(E.Checkbox,$({checked:t,onCheck:function(t,e){return i(t,e)},disabled:o,label:u()?a.label:null,labelPosition:"right"},s)))}return e().createElement(E.Toggle,$({toggled:t,onToggle:function(t,e){return i(t,e)},disabled:o,label:u()?a.label:null,labelPosition:u()?"left":"right"},l.toggleField))}}])&&X(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),u}(e().Component);const ot=h((0,q.muiThemeable)()(nt),!0);function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function at(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ut(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?at(Object(r),!0).forEach((function(e){ct(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ct(t,e,r){return(e=st(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,st(n.key),n)}}function st(t){var e=function(t,e){if("object"!==it(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==it(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===it(e)?e:String(e)}function pt(t,e){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pt(t,e)}function ft(t){return ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ft(t)}var yt=u().requireLib("hoc").ModernTextField;const bt=h(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pt(t,e)}(c,t);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ft(o);if(i){var r=ft(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===it(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=a.call(this,t)).state={},e}return r=c,(n=[{key:"isValid",value:function(){return this.state.valid}},{key:"checkMinLength",value:function(t){var e=parseInt(u().getInstance().getPluginConfigs("core.auth").get("PASSWORD_MINLENGTH"));return!(t&&t.length<e)}},{key:"getMessage",value:function(t){return u().getMessages()[t]||t}},{key:"updatePassState",value:function(){var t=this.state.valid,e=v().getState(this.refs.pass.getValue(),this.refs.confirm?this.refs.confirm.getValue():"");e.value=this.refs.pass.getValue(),this.setState(e),t!==e.valid&&this.props.onValidStatusChange&&this.props.onValidStatusChange(e.valid)}},{key:"onPasswordChange",value:function(t,e){this.updatePassState(),this.props.onChange(t,e)}},{key:"onConfirmChange",value:function(t,e){this.setState({confirmValue:e}),this.updatePassState(),this.props.onChange(t,this.state.value)}},{key:"render",value:function(){var t=this.props,r=t.disabled,n=t.className,o=t.attributes,i=t.dialogField,a=this.props,u=a.isDisplayGrid,c=(a.isDisplayForm,a.editMode),l=a.value,s=a.toggleEditMode,p=a.enterToToggle,f=a.variant;if(u()&&!c)return e().createElement("div",{onClick:r?function(){}:s,className:l?"":"paramValue-empty"},l||"Empty");var y={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",width:"100%"},b=this.state.valid?"":"mui-error-as-hint";n&&(b=n+" "+b);var m,h={display:"flex"},d={flex:1};"v2"===f&&(h.height=66),"column"===o.direction&&(d=void 0,h.display="block",h.height="auto");var v=i?E.TextField:yt;return l&&!r&&(m=[e().createElement("div",{key:"sep",style:{width:8}}),e().createElement(v,{key:"confirm",ref:"confirm",floatingLabelText:this.getMessage(199),floatingLabelShrinkStyle:ut(ut({},y),{},{width:"130%"}),floatingLabelStyle:y,className:b,value:this.state.confirmValue,onChange:this.onConfirmChange.bind(this),type:"password",multiLine:!1,disabled:r,fullWidth:!0,style:d,errorText:this.state.confirmErrorText,errorStyle:i?{bottom:15}:null,variant:f})]),e().createElement("form",{autoComplete:"off",onSubmit:function(t){t.stopPropagation(),t.preventDefault()}},e().createElement("div",{style:h},e().createElement(v,{ref:"pass",floatingLabelText:u()?null:o.label,floatingLabelShrinkStyle:ut(ut({},y),{},{width:"130%"}),floatingLabelStyle:y,className:b,value:this.state.value,onChange:this.onPasswordChange.bind(this),onKeyDown:p,type:"password",multiLine:!1,disabled:r,errorText:this.state.passErrorText,fullWidth:!0,style:d,errorStyle:i?{bottom:15}:null,variant:f}),m))}}])&&lt(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(e().Component));function mt(t){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}function ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==mt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===mt(o)?o:String(o)),n)}var o}function dt(t,e){return dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dt(t,e)}function vt(t){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vt(t)}var gt=u().requireLib("hoc").ModernTextField;const St=h(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dt(t,e)}(u,t);var r,n,o,i,a=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=vt(o);if(i){var r=vt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===mt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),a.apply(this,arguments)}return r=u,(n=[{key:"keyDown",value:function(t){var e=0,r=1;if("Enter"!==t.key){"ArrowUp"===t.key?e=1:"ArrowDown"===t.key&&(e=-1),t.shiftKey&&(r=10);var n=parseInt(this.props.value);isNaN(n)&&(n=0);var o=n+e*r;this.props.onChange(null,o)}else this.props.toggleEditMode()}},{key:"render",value:function(){var t,r=this,n=this.props,o=n.value,i=n.isDisplayGrid,a=n.isDisplayForm,u=n.editMode,c=n.disabled,l=n.toggleEditMode,s=n.attributes,p=n.variant;return i()&&!u?e().createElement("div",{onClick:c?function(){}:l,className:o?"":"paramValue-empty"},o||"Empty"):(o?(t=parseInt(o)+"",isNaN(t)&&(t=o+"")):t="0",e().createElement("span",{className:"integer-input"},e().createElement(gt,{value:t,onChange:function(t,e){return r.props.onChange(t,e)},onKeyDown:function(t){return r.keyDown(t)},disabled:c,fullWidth:!0,variant:p,hintText:a()?s.label:null})))}}])&&ht(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),u}(e().Component)),Ot=require("pydio/http/api");var wt=r.n(Ot);function jt(t){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(t)}function Pt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Et(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(r),!0).forEach((function(e){xt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function xt(t,e,r){return(e=Tt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tt(n.key),n)}}function Tt(t){var e=function(t,e){if("object"!==jt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==jt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===jt(e)?e:String(e)}function kt(t,e){return kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kt(t,e)}function Ct(t){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ct(t)}var Rt=r(6689);const At=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kt(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ct(n);if(o){var r=Ct(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===jt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,Et({onDrop:function(){}},t))).state={isDragActive:!1,supportClick:void 0===t.supportClick||t.supportClick,multiple:void 0===t.multiple||t.multiple},e}return e=a,(r=[{key:"onDragLeave",value:function(t){this.setState({isDragActive:!1})}},{key:"onDragOver",value:function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy",this.setState({isDragActive:!0})}},{key:"onFilePicked",value:function(t){if(t.target&&t.target.files){var e=t.target.files,r=this.state.multiple?e.length:1;e=Array.prototype.slice.call(e,0,r),this.props.onDrop&&this.props.onDrop(e,t,this)}}},{key:"onFolderPicked",value:function(t){this.props.onFolderPicked&&this.props.onFolderPicked(t.target.files)}},{key:"onDrop",value:function(t){if(this.setState({isDragActive:!1}),t.preventDefault(),!this.props.ignoreNativeDrop){var e;t.dataTransfer?e=t.dataTransfer.files:t.target&&(e=t.target.files);for(var r=this.state.multiple?e.length:1,n=0;n<r;n++)e[n].preview=URL.createObjectURL(e[n]);this.props.onDrop&&(e=Array.prototype.slice.call(e,0,r),this.props.onDrop(e,t,this))}}},{key:"onClick",value:function(){!0===this.state.supportClick&&this.open()}},{key:"open",value:function(){this.refs.fileInput.click()}},{key:"openFolderPicker",value:function(){this.refs.folderInput.setAttribute("webkitdirectory","true"),this.refs.folderInput.click()}},{key:"render",value:function(){var t=this,e=this.props.className||"file-dropzone";this.state.isDragActive&&(e+=" active");var r,n={width:this.props.size||100,height:this.props.size||100};return this.props.style&&(n=Et(Et({},n),this.props.style)),this.state.isDragActive&&this.props.dragActiveStyle&&(n=Et(Et({},n),this.props.dragActiveStyle)),this.props.enableFolders&&(r=Rt.createElement("input",{style:{display:"none"},name:"userfolder",type:"file",ref:"folderInput",onChange:function(e){return t.onFolderPicked(e)}})),Rt.createElement("div",{className:e,style:n,onClick:this.onClick.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragOver:this.onDragOver.bind(this),onDrop:this.onDrop.bind(this)},Rt.createElement("input",{style:{display:"none"},name:"userfile",type:"file",multiple:this.state.multiple,ref:"fileInput",value:"",onChange:this.onFilePicked.bind(this),accept:this.props.accept}),r,this.props.children)}}])&&_t(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Rt.Component);var It=r(9763),Dt=r.n(It);function Mt(t){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mt(t)}function Nt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ft(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Nt(Object(r),!0).forEach((function(e){Bt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Bt(t,e,r){return(e=Lt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lt(n.key),n)}}function Lt(t){var e=function(t,e){if("object"!==Mt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Mt(e)?e:String(e)}function Ut(t,e){return Ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ut(t,e)}function Wt(t){return Wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wt(t)}var Gt=(0,u().requireLib("hoc").NativeFileDropProvider)(At,(function(t,e,r){}));const Ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ut(t,e)}(c,t);var r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wt(o);if(i){var r=Wt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Mt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t){var e,r,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=a.call(this,t)).props.value?(r=e.getBinaryUrl(e.props),n=e.props.value):e.props.attributes.defaultImage&&(r=e.props.attributes.defaultImage),e.state={imageSrc:r,originalBinary:n,value:e.props.value},e}return r=c,(n=[{key:"componentWillReceiveProps",value:function(t){var e;(t.value||t.binary_context&&t.binary_context!==this.props.binary_context)&&!this.state.reset?e=this.getBinaryUrl(t,this.state.temporaryBinary&&this.state.temporaryBinary===t.value):t.attributes.defaultImage&&(e=t.attributes.defaultImage),e&&this.setState({imageSrc:e,reset:!1,value:t.value})}},{key:"getBinaryUrl",value:function(t){var e=wt().getClient().getPydioObject().Parameters.get("ENDPOINT_REST_API")+t.attributes.loadAction,r=t.value;return t.binary_context&&0===t.binary_context.indexOf("user_id=")&&(r=t.binary_context.replace("user_id=","")),e.replace("{BINARY}",r)}},{key:"getUploadUrl",value:function(){var t,e=wt().getClient().getPydioObject().Parameters.get("ENDPOINT_REST_API")+this.props.attributes.uploadAction;return t=this.props.binary_context&&0===this.props.binary_context.indexOf("user_id=")?this.props.binary_context.replace("user_id=",""):this.props.value?this.props.value:Dt().computeStringSlug(this.props.attributes.name+".png"),e.replace("{BINARY}",t)}},{key:"uploadComplete",value:function(t){var e=this.state.value;if(this.setState({temporaryBinary:t,value:null}),this.props.onChange){var r={type:"binary"};this.state.originalBinary&&(r.original_binary=this.state.originalBinary),this.props.onChange(t,e,r),this.setState({dirty:!0,value:t})}}},{key:"htmlUpload",value:function(){window.formManagerHiddenIFrameSubmission=function(t){this.uploadComplete(t.trim()),window.formManagerHiddenIFrameSubmission=null}.bind(this),this.refs.uploadForm.submit()}},{key:"onDrop",value:function(t,e,r){var n=this;if(0!==t.length){var o=u().getMessages();"avatar"===this.props.name&&t[0].size>5242880?this.setState({error:o["form.input-image.avatarMax"]}):-1!==["image/jpeg","image/png","image/bmp","image/tiff","image/webp"].indexOf(t[0].type)?(this.setState({error:null}),wt().supportsUpload()?(this.setState({loading:!0}),wt().getRestClient().getOrUpdateJwt().then((function(e){var r={customHeaders:{Authorization:"Bearer "+e}};wt().getClient().uploadFile(t[0],"userfile","",(function(t){var e=JSON.parse(t.responseText);e&&e.binary&&n.uploadComplete(e.binary),n.setState({loading:!1})}),(function(t){n.setState({loading:!1,error:t})}),(function(t){}),n.getUploadUrl(),r)}))):this.htmlUpload()):this.setState({error:o["form.input-image.fileTypes"]})}}},{key:"clearImage",value:function(){if(confirm(u().getMessages()["form.input-image.clearConfirm"])){var t=this.state.value;this.setState({value:null,error:null,reset:!0},function(){this.props.onChange("",t,{type:"binary"})}.bind(this))}}},{key:"render",value:function(){var t=this,r=this.state,n=r.loading,o=r.error,i=this.state.imageSrc,a=this.props.attributes,c=a.defaultImage===i;i.indexOf("[mode]")>-1&&(i=i.replace("[mode]","light"));var l,s={backgroundImage:"url("+i+")",backgroundPosition:"50% 50%",backgroundSize:"cover",position:"relative"},p={};o?(p={backgroundColor:"rgba(255, 255, 255, 0.77)",borderRadius:"50%"},l=e().createElement("div",{style:{color:"#F44336",textAlign:"center",fontSize:11,cursor:"pointer"},onClick:function(){t.setState({error:null})}},e().createElement("span",{className:"mdi mdi-alert",style:{fontSize:40}}),e().createElement("br",null),o)):l=n?e().createElement(E.CircularProgress,{mode:"indeterminate"}):e().createElement("span",{className:"mdi mdi-camera",style:{fontSize:40,opacity:.5,color:c?null:"white"}});var f=this.props.variant;return e().createElement("div",{style:"v2"===f?{backgroundColor:"#f6f6f8"}:null},e().createElement("div",{className:"image-label"},a.label),e().createElement("form",{ref:"uploadForm",encType:"multipart/form-data",target:"uploader_hidden_iframe",method:"post",action:this.getUploadUrl()},e().createElement(Gt,{onDrop:this.onDrop.bind(this),accept:"image/*",style:s},e().createElement("div",{style:Ft({width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},p)},l))),!c&&e().createElement("div",{className:"binary-remove-button",onClick:this.clearImage.bind(this)},e().createElement("span",{key:"remove",className:"mdi mdi-close"})," ",u().getMessages()["form.input-image.clearButton"]),e().createElement("iframe",{style:{display:"none"},id:"uploader_hidden_iframe",name:"uploader_hidden_iframe"}))}}])&&Vt(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(e().Component),qt=require("pydio/model/repository");var zt=r.n(qt);function $t(t){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(t)}function Jt(){return Jt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jt.apply(this,arguments)}function Kt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==$t(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==$t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===$t(o)?o:String(o)),n)}var o}function Yt(t,e){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yt(t,e)}function Xt(t){return Xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xt(t)}var Zt=r(6689).Component,Qt=r(757).requireLib("boot").PydioContextConsumer;function te(t){return Qt(function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yt(t,e)}(u,e);var r,n,o,i,a=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xt(o);if(i){var r=Xt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===$t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),r=a.call(this,t,e);var n=new Map;return n.set("0",r.props.pydio?r.props.pydio.MessageHash["ajxp_admin.home.6"]:" ... "),r.state={choices:n,choicesParsed:!1},r}return r=u,(n=[{key:"loadExternalValues",value:function(t){var e,r=this,n=this.props.pydio,o=!0;if(t instanceof Map)return this.onChoicesLoaded&&this.onChoicesLoaded(t),{choices:t,parsed:o};var i=new Map;if(0===t.indexOf("json_file:"))o=!1,e=t.replace("json_file:",""),i.set("0",n.MessageHash["ajxp_admin.home.6"]),wt().getClient().loadFile(e,(function(e){var n=new Map;if(e.responseJSON)e.responseJSON.forEach((function(t){n.set(t.key,t.label)}));else if(e.responseText)try{JSON.parse(e.responseText).forEach((function(t){n.set(t.key,t.label)}))}catch(e){console.log("Error while parsing list "+t,e)}r.setState({choices:n},(function(){r.onChoicesLoaded&&r.onChoicesLoaded(n)}))}));else if("PYDIO_AVAILABLE_LANGUAGES"===t)n.listLanguagesWithCallback((function(t,e){i.set(t,e)})),this.onChoicesLoaded&&this.onChoicesLoaded(i);else if("PYDIO_AVAILABLE_REPOSITORIES"===t){if(n.user){var a=[],u=[];n.user.repositories.forEach((function(t){zt().isInternal(t.getId())?u.push({id:t.getId(),label:"["+n.MessageHash[331]+"] "+t.getLabel()}):"cell"!==t.getRepositoryType()&&a.push({id:t.getId(),label:t.getLabel()})})),a.sort((function(t,e){return t.label.localeCompare(e.label,void 0,{numeric:!0})})),a.push.apply(a,u),a.forEach((function(t){return i.set(t.id,t.label)}))}this.onChoicesLoaded&&this.onChoicesLoaded(i)}else t.split(",").map((function(t){var e,r,o=t.split("|");o.length>1?(r=o[0],e=o[1]):r=e=t,n.MessageHash[e]&&(e=n.MessageHash[e]),i.set(r,e)}));return{choices:i,parsed:o}}},{key:"componentDidMount",value:function(){if(this.props.attributes.choices){var t=this.loadExternalValues(this.props.attributes.choices),e=t.choices,r=t.parsed;this.setState({choices:e,choicesParsed:r})}}},{key:"componentWillReceiveProps",value:function(t){if(t.attributes.choices&&t.attributes.choices!==this.props.attributes.choices){var e=this.loadExternalValues(t.attributes.choices),r=e.choices,n=e.parsed;this.setState({choices:r,choicesParsed:n})}}},{key:"render",value:function(){return React.createElement(t,Jt({},this.props,this.state))}}])&&Kt(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),u}(Zt))}function ee(t){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(t)}function re(){return re=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},re.apply(this,arguments)}function ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ee(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ee(o)?o:String(o)),n)}var o}function oe(t,e){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oe(t,e)}function ie(t){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ie(t)}var ae=r(9455),ue=ae.MenuItem,ce=ae.Chip,le=r(9763),se=u().requireLib("hoc").ModernSelectField,pe=function(r){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oe(t,e)}(c,r);var n,o,i,a,u=(i=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ie(i);if(a){var r=ie(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ee(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),u.apply(this,arguments)}return n=c,(o=[{key:"onDropDownChange",value:function(t,e,r){this.props.onChange(t,r),this.props.toggleEditMode()}},{key:"onMultipleSelect",value:function(t,e,r){if(-1!==r){var n=this.props.value,o="string"==typeof n?n.split(","):n;-1===o.indexOf(r)&&(o.push(r),this.props.onChange(t,o.join(","))),this.props.toggleEditMode()}}},{key:"onMultipleRemove",value:function(t){var e=this.props.value,r="string"==typeof e?e.split(","):e;-1!==r.indexOf(t)&&(r=le.arrayWithout(r,r.indexOf(t)),this.props.onChange(null,r.join(",")))}},{key:"render",value:function(){var r=this,n=this.props.value,o=[],i=this.props,a=i.attributes,u=i.isDisplayGrid,c=i.toggleEditMode,l=i.editMode,s=i.disabled,p=i.multiple,f=i.className,y=i.variant;a.mandatory&&"true"===a.mandatory||o.push(e().createElement(ue,{value:-1,primaryText:e().createElement(t.Fragment,null,a.label,"...")}));var b=this.props.choices;if(b.forEach((function(t,r){o.push(e().createElement(ue,{value:r,primaryText:t}))})),u()&&!l){var m=this.props.value;return b.get(m)&&(m=b.get(m)),e().createElement("div",{onClick:s?function(){}:c,className:m?"":"paramValue-empty"},m||"Empty","   ",e().createElement("span",{className:"mdi mdi-chevron-down"}))}if(p&&!0===p){var h=n;"string"==typeof n&&(h=n.split(","));var d=e().createElement("div",{style:{display:"flex",flexWrap:"wrap",marginTop:"v2"===y?22:8}},h.map((function(t){return e().createElement(ce,{style:{marginRight:8},onRequestDelete:function(){r.onMultipleRemove(t)}},b.get(t)||t)}))),v={};return"v2"===y&&(o=[e().createElement(ue,{value:-1,primaryText:d})],b.forEach((function(t,r){o.push(e().createElement(ue,{value:r,primaryText:t}))})),v.hintText=a.label,v.style={height:72},v.dropDownMenuProps={iconStyle:{fill:"#9e9e9e",top:22,right:0}}),e().createElement("span",{className:"multiple has-value"},"v2"!==y&&d,e().createElement(se,re({value:-1,onChange:function(t,e,n){return r.onMultipleSelect(t,e,n)},fullWidth:!0,className:f,variant:y,disabled:s},v),o))}return e().createElement("span",null,e().createElement(se,{hintText:a.label,value:n,onChange:function(t,e,n){return r.onDropDownChange(t,e,n)},fullWidth:!0,className:f,variant:y,disabled:s},o))}}])&&ne(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),c}(e().Component);function fe(t){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(t)}function ye(){return ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ye.apply(this,arguments)}function be(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==fe(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===fe(o)?o:String(o)),n)}var o}function me(t,e){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},me(t,e)}function he(t){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},he(t)}pe=te(pe=h(pe,!0));var de=r(6689),ve=r(9455),ge=ve.AutoComplete,Se=ve.MenuItem,Oe=ve.RefreshIndicator,we=u().requireLib("hoc"),je=we.ThemedModernStyles,Pe=we.ModernAutoComplete,Ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&me(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=he(n);if(o){var r=he(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===fe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"handleUpdateInput",value:function(t){}},{key:"handleNewRequest",value:function(t){void 0===t.key?this.props.onChange(null,t):this.props.onChange(null,t.key)}},{key:"render",value:function(){var t=this,e=this.props,r=e.choices,n=e.isDisplayGrid,o=e.editMode,i=e.disabled,a=e.toggleEditMode,u=e.variant,c=e.muiTheme,l=[],s={};r.forEach((function(t,e){l.push({key:e,text:t,value:de.createElement(Se,null,t)}),s[e]=t}));var p=this.props.value;return s&&s[p]&&(p=s[p]),n()&&!o||i?(r.get(p)&&(p=r.get(p)),de.createElement("div",{onClick:i?function(){}:a,className:p?"":"paramValue-empty"},p||"Empty","   ",de.createElement("span",{className:"mdi mdi-chevron-down"}))):de.createElement("div",{className:"pydioform_autocomplete",style:{position:"relative"}},!l.length&&de.createElement(Oe,{size:30,right:10,top:0,status:"loading"}),"v2"!==u&&l.length&&de.createElement(ge,ye({fullWidth:!0,searchText:p,onUpdateInput:function(e){return t.handleUpdateInput(e)},onNewRequest:function(e){return t.handleNewRequest(e)},dataSource:l,hintText:this.props.attributes.label,filter:function(t,e){return!(!e||!t)&&0===e.toLowerCase().indexOf(t.toLowerCase())},openOnFocus:!0,menuProps:{maxHeight:200}},je(c).textField)),"v2"===u&&l.length&&de.createElement(Pe,{fullWidth:!0,searchText:p,onUpdateInput:function(e){return t.handleUpdateInput(e)},onNewRequest:function(e){return t.handleNewRequest(e)},dataSource:l,hintText:this.props.attributes.label,filter:function(t,e){return!(!e||!t)&&0===e.toLowerCase().indexOf(t.toLowerCase())},openOnFocus:!0,menuProps:{maxHeight:200},autoComplete:"no-completion"}))}}])&&be(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(de.Component);function xe(t){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xe(t)}function _e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==xe(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==xe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===xe(o)?o:String(o)),n)}var o}function Te(t,e){return Te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Te(t,e)}function ke(t){return ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ke(t)}Ee=te(Ee=h(Ee=(0,q.muiThemeable)()(Ee)));var Ce=r(6689),Re=r(4305),Ae=r(9455),Ie=Ae.AutoComplete,De=Ae.MenuItem,Me=Ae.RefreshIndicator,Ne=Ae.FontIcon;const Fe=h(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Te(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ke(n);if(o){var r=ke(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===xe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,r=[{key:"handleUpdateInput",value:function(t){this.debounced(),this.setState({searchText:t})}},{key:"handleNewRequest",value:function(t){var e;e=void 0===t.key?t:t.key,this.props.onChange(null,e),this.loadValues(e)}},{key:"componentWillMount",value:function(){this.debounced=Re(this.loadValues.bind(this),300),this.lastSearch=null;var t="";this.props.value&&(t=this.props.value),this.loadValues(t)}},{key:"loadValues",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t;if(!t&&this.state.searchText){var r=this.state.searchText.lastIndexOf("/");e=this.state.searchText.substr(0,r)}null!==this.lastSearch&&this.lastSearch===e||(this.lastSearch=e)}},{key:"render",value:function(){var t=[];this.state&&this.state.nodes&&this.state.nodes.forEach((function(e){var r="mdi mdi-folder";e.uuid.startsWith("DATASOURCE:")&&(r="mdi mdi-database"),t.push({key:e.path,text:e.path,value:Ce.createElement(De,null,Ce.createElement(Ne,{className:r,color:"#616161",style:{float:"left",marginRight:8}})," ",e.path)})}));var e=this.state.value;return Ce.createElement("div",{className:"pydioform_autocomplete",style:{position:"relative"}},!t.length&&Ce.createElement(Me,{size:30,right:10,top:0,status:"loading"}),Ce.createElement(Ie,{fullWidth:!0,searchText:e,onUpdateInput:this.handleUpdateInput.bind(this),onNewRequest:this.handleNewRequest.bind(this),dataSource:t,floatingLabelText:this.props.attributes.label,filter:function(t,e){return 0===e.toLowerCase().indexOf(t.toLowerCase())},openOnFocus:!0,menuProps:{maxHeight:200}}))}}],r&&_e(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Ce.Component));function Be(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ve(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Be(Object(r),!0).forEach((function(e){Le(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Le(t,e,r){return(e=He(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ue(t){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ue(t)}function We(){return We=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},We.apply(this,arguments)}function Ge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,He(n.key),n)}}function He(t){var e=function(t,e){if("object"!==Ue(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ue(e)?e:String(e)}var qe=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,o;return n=t,o=[{key:"hasHelper",value:function(e,r){var n=t.getHelpersCache();return n[e]&&n[e].parameters[r]}},{key:"getHelpersCache",value:function(){if(!t.HELPERS_CACHE){for(var e={},r=i().XPathSelectNodes(window.pydio.Registry.getXML(),'plugins/*/client_settings/resources/js[@type="helper"]'),n=0;n<r.length;n++){var o=r[n],a=o.getAttribute("plugin");e[a]={namespace:o.getAttribute("className"),parameters:{}};for(var u=i().XPathSelectNodes(o,"parameter"),c=0;c<u.length;c++){var l=u[c];e[a].parameters[l.getAttribute("name")]=!0}}t.HELPERS_CACHE=e}return t.HELPERS_CACHE}},{key:"parseParameters",value:function(e,r){return i().XPathSelectNodes(e,r).map(function(e){return t.parameterNodeToHash(e)}.bind(this))}},{key:"parameterNodeToHash",value:function(t){var e=t.attributes,n={};t.parentNode&&t.parentNode.parentNode&&t.parentNode.parentNode.getAttribute&&(n.pluginId=t.parentNode.parentNode.getAttribute("id"));for(var o=!1,i=r.g.pydio.MessageHash,a=0;a<e.length;a++){var u=e.item(a).nodeName,c=e.item(a).value;"label"!==u&&"description"!==u&&"group"!==u&&0!==u.indexOf("group_switch_")||!i[c]||(c=i[c]),"cdatavalue"!==u?n[u]=c:o=!0}return o&&(n.value=t.firstChild.value),"boolean"===n.type?(void 0!==n.value&&(n.value="true"===n.value),void 0!==n.default&&(n.default="true"===n.default)):"integer"!==n.type&&"integer-bytes"!==n.type||(void 0!==n.value&&(n.value=parseInt(n.value)),void 0!==n.default&&(n.default=parseInt(n.default))),n}},{key:"createFormElement",value:function(t){var r,n=t.attributes,o=t.onAltTextSwitch,i=t.altTextSwitchIcon,a={onAltTextSwitch:o,altTip:t.altTextSwitchTip,altIconText:i};switch(n.type){case"boolean":r=e().createElement(ot,t),o&&(r=e().createElement(N,We({},t,a,{altIcon:"mdi mdi-toggle-switch"}),r));break;case"string":case"textarea":case"password":r=e().createElement(R,t);break;case"valid-password":r=e().createElement(bt,t);break;case"valid-login":r=e().createElement(P,t);break;case"integer":case"integer-bytes":r="integer-bytes"===n.type?e().createElement(H,t):e().createElement(St,t),o&&(r=e().createElement(N,We({},t,a,{altIcon:"mdi mdi-number"}),r));break;case"image":r=e().createElement(Ht,t);break;case"select":r=e().createElement(pe,t),o&&(r=e().createElement(N,We({},t,a,{altIcon:"mdi mdi-view-list"}),r));break;case"autocomplete":r=e().createElement(Ee,t);break;case"autocomplete-tree":r=e().createElement(Fe,t);break;case"legend":case"hidden":r=null;break;default:r=t.value?t.value:e().createElement("span",{className:"paramValue-empty"},"Empty")}return r}},{key:"SlashesToJson",value:function(e){if(void 0===e||"object"!==Ue(e))return e;var r={},n={};return Object.keys(e).forEach((function(t){var o=e[t];if(t.indexOf("/")>0){var i=t.split("/"),a=i.shift(),u=i.join("/");r[a]?"string"==typeof r[a]&&(r[a]={"@value":r[a]}):r[a]={},r[a][u]=o,n[a]=a}else r[t]&&"object"===Ue(r[t])?r[t]["@value"]=o:r[t]=o})),Object.keys(n).map((function(e){r[e]=t.SlashesToJson(r[e])})),r}},{key:"JsonToSlashes",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={};return Object.keys(e).forEach((function(o){if("object"===Ue(e[o])){var i=t.JsonToSlashes(e[o],r+o+"/");n=Ve(Ve({},n),i),e[o]["@value"]&&(n[r+o]=e[o]["@value"])}else n[r+o]=e[o]})),n}},{key:"getValuesForPOST",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DRIVER_OPTION_",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o={};for(var i in e)if(e.hasOwnProperty(i)){o[r+i]=e[i];for(var a=null,u=0;u<t.length;u++)if(t[u].name==i){a=t[u].type;break}if(!a){var c,l,s=i.split("/");s.length>1&&(c=s.pop(),l=s.pop());for(var p=0;p<t.length;p++)if(void 0!==c){if(t[p].name==c&&t[p].group_switch_name&&t[p].group_switch_name==l){a=t[p].type;break}}else if(t[p].name==i){a=t[p].type;break}}if(a&&("image"==a&&(a="binary"),o[r+i+"_ajxptype"]=a),n&&n[i])for(var f in n[i])n[i].hasOwnProperty(f)&&(o[r+i+"_"+f]=n[i][f])}var y=Object.keys(o);y.sort(),y.reverse();var b={};for(i in y.map((function(t){if(-1!==t.indexOf("/")&&!t.endsWith("_ajxptype")){for(var e,r=t+"_ajxptype",n=t.split("/"),i=n.shift();n.length>0;)e||(e=b),e[i]||(e[i]={}),e=e[i],i=n.shift();var a=o[r];if(delete o[r],e&&!e[i])if("boolean"===a){var u=o[t];e[i]="true"===u||1===u||!0===u}else"integer"===a||"integer-bytes"===a?e[i]=parseInt(o[t]):a&&a.startsWith("group_switch:")&&"string"==typeof o[t]?e[i]={group_switch_value:o[t]}:e[i]=o[t];else e&&a&&a.startsWith("group_switch:")&&(e[i].group_switch_value=o[t]);delete o[t]}})),b)if(b.hasOwnProperty(i)){var m=b[i];o[i+"_ajxptype"]&&0===o[i+"_ajxptype"].indexOf("group_switch:")&&!m.group_switch_value&&(m.group_switch_value=o[i]),o[i]=JSON.stringify(m),o[i+"_ajxptype"]="text/json"}for(var h in o)o.hasOwnProperty(h)&&(-1==h.indexOf("/")&&o[h]&&o[h+"_ajxptype"]&&o[h+"_ajxptype"].startsWith("group_switch:")&&"string"==typeof o[h]&&(o[h]=JSON.stringify({group_switch_value:o[h]}),o[h+"_ajxptype"]="text/json"),o.hasOwnProperty(h)&&h.endsWith("_group_switch")&&delete o[h]);return o}}],null&&Ge(n.prototype,null),o&&Ge(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}();const ze=require("create-react-class");var $e=r.n(ze);function Je(t){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Je(t)}function Ke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tr(n.key),n)}}function Ye(t,e){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ye(t,e)}function Xe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ze(t){return Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ze(t)}function Qe(t,e,r){return(e=tr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tr(t){var e=function(t,e){if("object"!==Je(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Je(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Je(e)?e:String(e)}var er=r(6689),rr=r(580),nr=r(9763),or=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ye(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ze(n);if(o){var r=Ze(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Je(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Xe(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Qe(Xe(t=i.call.apply(i,[this].concat(r))),"computeSubPanelParameters",(function(){var e=t.props.paramAttributes.type.split(":").pop(),r=t.props.paramAttributes.name,n={},o=[];for(var i in t.props.parameters.map(function(t){if(t.group_switch_name)if(t.group_switch_name===e){var i=t.group_switch_value;n[i]||(n[i]={label:t.group_switch_label,fields:[],values:{},fieldsKeys:{}}),delete(t=nr.deepCopy(t)).group_switch_name,t.name=r+"/"+t.name;var a=t.name,u=a;n[i].fieldsKeys[u]||(n[i].fields.push(t),n[i].fieldsKeys[u]=u,this.props.values&&this.props.values[a]&&(n[i].values[u]=this.props.values[a]))}else o.push(t)}.bind(Xe(t))),n)if(n.hasOwnProperty(i)){var a=n[i];a.fields=a.fields.concat(o)}return n})),Qe(Xe(t),"clearSubParametersValues",(function(e,r,n){var o=nr.deepCopy(t.props.values),i={};for(var a in o)o.hasOwnProperty(a)&&0===a.indexOf(e+"/")&&(i[a]="");o[e]=r,n.map((function(t){"hidden"==t.type&&t.default&&!t.group_switch_name||t.group_switch_name==e?(o[t.name]=t.default,void 0!==i[t.name]&&delete i[t.name]):0===t.name.indexOf(e+"/")&&t.default&&(t.type&&t.type.startsWith("group_switch:"),o[t.name]=t.default)})),t.props.onChange(o,!0,i)})),Qe(Xe(t),"onChange",(function(e,r,n){t.props.onChange(e,!0,n)})),t}return e=a,(r=[{key:"render",value:function(){var t=this.props,e=t.variant,r=t.variantShowLegend,n=t.onValidStatusChange,o=t.onParameterChange,i=t.applyButtonAction,a=t.values,u=t.paramAttributes,c=u.name,l=this.computeSubPanelParameters(u),s=new Map;Object.keys(l).map((function(t){s.set(t,l[t].label)}));var p,f,y=function(t){this.clearSubParametersValues(c,t,l[t]?l[t].fields:[])}.bind(this),b=er.createElement(pe,{key:c,name:c,className:"group-switch-selector",attributes:{name:c,choices:s,label:u.label+(r?" - "+u.description:""),mandatory:u.mandatory},value:a[c],onChange:y,displayContext:"form",disabled:this.props.disabled,ref:"subFormSelector",variant:this.props.variant});if(this.props.setHelperData&&this.props.checkHasHelper&&this.props.checkHasHelper(u.name,this.props.helperTestFor)){var m=function(){this.props.setHelperData({paramAttributes:u,values:a})}.bind(this);f=er.createElement("span",{className:"mdi mdi-comment-question-outline",onClick:m})}if(a[c]&&l[a[c]]){var h=this.props,d=h.onAltTextSwitch,v=h.altTextSwitchIcon,g=h.altTextSwitchTip;p=er.createElement(Qr,{onParameterChange:o,onValidStatusChange:n,applyButtonAction:i,disabled:this.props.disabled,ref:c+"-SUB",key:c+"-SUB",className:"sub-form",groupSwitchName:c,groupSwitchValue:a[c],parameters:l[a[c]].fields,values:a,depth:this.props.depth+1,onChange:this.onChange,checkHasHelper:this.props.checkHasHelper,setHelperData:this.props.setHelperData,helperTestFor:a[c],accordionizeIfGroupsMoreThan:5,onAltTextSwitch:d,altTextSwitchIcon:v,altTextSwitchTip:g,variant:this.props.variant,variantShowLegend:this.props.variantShowLegend})}return er.createElement("div",{className:"sub-form-group"},"v2"!==e&&er.createElement("div",{className:"form-legend"},u.description," ",f),b,p)}}])&&Ke(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(er.Component);function ir(t){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ir(t)}function ar(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ur(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ar(Object(r),!0).forEach((function(e){cr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ar(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function cr(t,e,r){return(e=pr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lr(){return lr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lr.apply(this,arguments)}function sr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pr(n.key),n)}}function pr(t){var e=function(t,e){if("object"!==ir(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ir(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ir(e)?e:String(e)}function fr(t,e){return fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fr(t,e)}function yr(t){return yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yr(t)}Qe(or,"propTypes",{paramAttributes:rr.object.isRequired,parameters:rr.array.isRequired,values:rr.object.isRequired,onChange:rr.func.isRequired});var br="mdi mdi-chevron-up",mr="mdi mdi-chevron-down",hr="mdi mdi-delete-circle",dr="mdi mdi-plus",vr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fr(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yr(n);if(o){var r=yr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ir(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t,e){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),r=i.call(this,t,e);var n=t.subValues[t.parameters[0].name]||"";return r.state={toggled:!n},r}return e=a,(r=[{key:"onValidStatusChange",value:function(t,e){var r=this.props,n=r.replicationGroup,o=r.onValidStatusChange;o&&o(t,e,n)}},{key:"render",value:function(){var t=this,e=this.props,r=e.first,n=e.hideSwaps,o=e.onSwapUp,i=e.onSwapDown,a=e.onRemove,u=e.parameters,c=e.subValues,l=e.disabled,s=e.onAddValue,p=this.state.toggled,f=1===u.length,y=c[u[0].name]||React.createElement("span",{style:{color:"rgba(0,0,0,0.33)"}},"Empty Value"),b={width:36,height:36,padding:6};if(f){var m={opacity:.3},h=!a||l?m:{},d=!o||l?m:{},v=!i||l?m:{};return React.createElement("div",{style:{display:"flex",width:"100%"}},React.createElement("div",{style:{flex:1}},React.createElement(Qr,lr({},this.props,{onValidStatusChange:this.onValidStatusChange.bind(this),tabs:null,values:c,onChange:null,className:"replicable-unique",depth:-1,style:{paddingBottom:0}}))),React.createElement("div",{style:{display:"flex",fontSize:24,paddingLeft:4,paddingTop:2}},s&&React.createElement("div",null,React.createElement("div",{className:dr,style:{padding:"8px 4px",cursor:"pointer"},onClick:s})),React.createElement("div",null,React.createElement("div",{className:hr,style:ur({padding:"8px 4px",cursor:"pointer",color:"#9e9e9e"},h),onClick:a})),!n&&React.createElement("div",{style:{display:"flex",flexDirection:"column",padding:"0 4px"}},React.createElement("div",{className:br,style:ur({height:16,cursor:"pointer"},d),onClick:o}),React.createElement("div",{className:mr,style:ur({height:16,cursor:"pointer"},v),onClick:i}))))}return React.createElement(E.Paper,{zDepth:0,style:{border:"2px solid whitesmoke",marginTop:r?0:-2}},React.createElement("div",{style:{display:"flex",alignItems:"center",paddingRight:2}},React.createElement("div",null,React.createElement(E.IconButton,{iconClassName:"mdi mdi-menu-"+(this.state.toggled?"down":"right"),iconStyle:{color:"rgba(0,0,0,.15)"},onClick:function(){t.setState({toggled:!t.state.toggled})}})),React.createElement("div",{style:{flex:1,fontSize:16,cursor:n?"move":null}},y),React.createElement("div",null,s&&React.createElement(E.IconButton,{style:b,iconClassName:dr,onClick:s}),React.createElement(E.IconButton,{style:b,iconStyle:{color:"#9e9e9e"},iconClassName:hr,onClick:a,disabled:!a||l}),!n&&React.createElement(E.IconButton,{style:b,iconClassName:br,onClick:o,disabled:!o||l}),!n&&React.createElement(E.IconButton,{style:b,iconClassName:mr,onClick:i,disabled:!i||l}))),p&&React.createElement(Qr,lr({},this.props,{onValidStatusChange:this.onValidStatusChange.bind(this),tabs:null,values:c,onChange:null,className:"replicable-group",depth:-1})))}}])&&sr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(t.Component);function gr(t){return gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gr(t)}function Sr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==gr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==gr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===gr(o)?o:String(o)),n)}var o}function Or(t,e){return Or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Or(t,e)}function wr(t){return wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wr(t)}var jr=Pydio.requireLib("boot").M3Tooltip,Pr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Or(t,e)}(u,t);var r,n,o,i,a=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=wr(o);if(i){var r=wr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===gr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),a.apply(this,arguments)}return r=u,(n=[{key:"render",value:function(){var t,r=this.props,n=r.attributes,o=r.onAltTextSwitch,i=r.altTextSwitchTip,a=r.altTextSwitchTipOff,u=r.label,c=r.legendLabel,l=r.children;if(o&&["select","boolean","integer","integer-bytes"].indexOf(n.type)>-1){var s=n.alternativeText,p=n.name;t=e().createElement("div",{style:{marginTop:8,textAlign:"right"}},e().createElement("span",{style:{cursor:"pointer",border:"1px solid white",borderRadius:16,display:"inline-block",padding:"0px 4px"},onClick:function(){return o(p,!s)}},e().createElement("span",{className:"mdi mdi-toggle-switch"+(s?"":"-off")})," ",s?a:i))}var f=e().createElement("div",{style:{padding:12}},e().createElement("div",{style:{fontSize:16,paddingBottom:4}},u),e().createElement("div",{style:{fontSize:13}},c),t);return e().createElement(jr,{title:f,placement:"left"},l)}}])&&Sr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),u}(e().Component);const Er=require("pydio/http/resources-manager");var xr=r.n(Er);function _r(t){return _r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_r(t)}function Tr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function kr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Tr(Object(r),!0).forEach((function(e){Mr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Cr(){return Cr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cr.apply(this,arguments)}function Rr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nr(n.key),n)}}function Ar(t,e){return Ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ar(t,e)}function Ir(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dr(t){return Dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dr(t)}function Mr(t,e,r){return(e=Nr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nr(t){var e=function(t,e){if("object"!==_r(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==_r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===_r(e)?e:String(e)}var Fr=r(6689),Br=r(9455).IconButton,Vr=r(580),Lr=r(9763),Ur=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ar(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Dr(n);if(o){var r=Dr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===_r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ir(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),Mr(Ir(e=i.call(this,t)),"buildSubValue",(function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=0===n?"":"_"+n;return t.map((function(t){var n=t.name;void 0!==e[n+o]&&(r||(r={}),r[n]=e[n+o])})),r||!1})),Mr(Ir(e),"indexedValues",(function(t){var r={},n=e.props.parameters;return t.map((function(t,e){var o=0===e?"":"_"+e;n.forEach((function(e){var n=e.name,i=t[n];if(void 0===i)if(e.default)i=e.default;else switch(e.type){case"string":case"select":i="";break;case"number":i=0;break;case"boolean":i=!1;break;default:i=null}r[n+o]=i}))})),r})),Mr(Ir(e),"indexValues",(function(t,r){var n=e.props,o=n.parameters,i=n.onChange,a=n.onValidStatusChange,u=n.replicationGroup,c=e.indexedValues(t);if(i)if(r){var l={},s=t.length-1;o.map((function(t){l[t.name+(s>0?"_"+s:"")]=""})),i(c,!0,l),a&&a(!0,{},u)}else i(c,!0)})),Mr(Ir(e),"instances",(function(){for(var t,r=e.props,n=r.values,o=r.parameters,i=[],a=0;t=e.buildSubValue(o,n,a);)a++,i.push(t);var u=o[0];if(!i.length&&"true"===u.replicationMandatory){var c={};o.map((function(t){c[t.name]=t.default||""})),i.push(c)}return i})),Mr(Ir(e),"addRow",(function(){var t={},r=e.instances();e.props.parameters.map((function(e){t[e.name]=e.default||""})),r.push(t),e.indexValues(r)})),Mr(Ir(e),"removeRow",(function(t){var r=e.instances(),n=r[t];(r=Lr.arrayWithout(e.instances(),t)).push(n),e.indexValues(r,!0)})),Mr(Ir(e),"swapRows",(function(t,r){var n=e.instances(),o=n[r];n[r]=n[t],n[t]=o,e.indexValues(n)})),Mr(Ir(e),"onChange",(function(t,r,n){var o=e.instances();o[t]=r,e.indexValues(o)})),Mr(Ir(e),"onParameterChange",(function(t,r,n,o){var i=e.instances();i[t][r]=n,e.indexValues(i)})),e.state={},xr().loadClass("PydioComponents").then((function(t){e.setState({SortableList:t.SortableList})})),e}return e=a,(r=[{key:"render",value:function(){var t=this,e=this.props,r=e.parameters,n=e.disabled,o=e.variant,i=e.variantShowLegend,a=e.replicationGroup,u=r[0],c=u.replicationTitle||u.label,l=u.replicationDescription,s="true"===u.replicationMandatory,p=this.state.SortableList,f=this.instances(),y=f.length>1,b=f.map((function(e,r){var n,o,i;y&&r>0&&(n=function(){t.swapRows(r,r-1)}),y&&r<f.length-1&&(o=function(){t.swapRows(r,r+1)}),!y&&s||(i=function(){t.removeRow(r)});var u={onSwapUp:n,onSwapDown:o,onRemove:i,onParameterChange:function(e,n,o){t.onParameterChange(r,e,n,o)}};return Fr.createElement(vr,Cr({replicationGroup:a,hideSwaps:!!p,key:r},t.props,u,{subValues:e,first:0===r,last:r===f.length-1}))})),m=b.length?{}:{backgroundColor:"whitesmoke",borderRadius:4},h={marginBottom:14};"v2"===o&&(m=kr(kr({},m),{},{height:52,backgroundColor:"#f6f6f8",marginTop:8,borderRadius:"4px 4px 0 0"}),b.length||(m=kr(kr({},m),{},{borderBottom:"1px solid rgba(158,158,158,.3)"}),h={height:58}));var d=Fr.createElement("div",{style:kr({display:"flex",alignItems:"center"},m)},Fr.createElement("div",{className:"title",style:{fontSize:16,flex:1,paddingLeft:10}},c),Fr.createElement(Br,{key:"add",iconClassName:"mdi mdi-plus-circle",tooltipPosition:"bottom-left",style:{padding:14},iconStyle:{color:"#05a9f4"},tooltip:"Add value",onClick:function(){return t.addRow()},disabled:n}));return l&&i&&(d=Fr.createElement(Pr,{attributes:{type:"replication"},label:c,legendLabel:l},d)),Fr.createElement("div",{className:"replicable-field",style:h},d,p&&Fr.createElement(p,{values:b.map((function(t,e){return{idx:e,row:t,payload:e,fieldsLength:b.length}})),renderItem:function(t){return t.row},onOrderUpdated:function(e,r,n){t.swapRows(e,r)}}),!p&&b)}}])&&Rr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Fr.Component);Mr(Ur,"propTypes",{parameters:Vr.array.isRequired,values:Vr.object,onChange:Vr.func,disabled:Vr.bool,binary_context:Vr.string,depth:Vr.number});var Wr=r(580),Gr=r.n(Wr),Hr=r(3677),qr=r.n(Hr);function zr(t){return zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zr(t)}function $r(t){return function(t){if(Array.isArray(t))return Jr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Jr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jr(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Kr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Yr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Kr(Object(r),!0).forEach((function(e){Xr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Xr(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==zr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==zr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===zr(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zr(){return Zr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zr.apply(this,arguments)}const Qr=$e()({displayName:"FormPanel",_internalParameters:null,_hiddenValues:{},_internalValid:{},_reducedValid:null,_parametersMetadata:null,propTypes:{parameters:Gr().array.isRequired,values:Gr().object,onParameterChange:Gr().func,onChange:Gr().func,onValidStatusChange:Gr().func,disabled:Gr().bool,binary_context:Gr().string,depth:Gr().number,header:Gr().object,footer:Gr().object,additionalPanes:Gr().shape({top:Gr().array,bottom:Gr().array}),tabs:Gr().array,onTabChange:Gr().func,accordionizeIfGroupsMoreThan:Gr().number,onScrollCallback:Gr().func,limitToGroups:Gr().array,skipFieldsTypes:Gr().array,setHelperData:Gr().func,checkHasHelper:Gr().func,helperTestFor:Gr().string},externallySelectTab:function(t){this.setState({tabSelectedIndex:t})},getInitialState:function(){return this.props.onTabChange?{tabSelectedIndex:0}:{}},getDefaultProps:function(){return{depth:0,values:{}}},componentWillReceiveProps:function(t){this._internalParameters&&JSON.stringify(t.parameters)===this._internalParameters||(this._internalValid={},this._reducedValid=null,this._hiddenValues={},this._parametersMetadata={},this._internalParameters=JSON.stringify(t.parameters)),t.values&&!qr()(t.values,this.props.values)&&this.checkValidStatus(t.values)},getValues:function(){return this.props.values},onParameterChange:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=Dt().deepCopy(this.getValues());this.props.onParameterChange&&this.props.onParameterChange(t,e,r,n),n&&(this._parametersMetadata||(this._parametersMetadata={}),this._parametersMetadata[t]=n),o[t]=e,this.onChange(o,!0)},onChange:function(t,e,r){if(this.props.onChange){for(var n in this._hiddenValues)!this._hiddenValues.hasOwnProperty(n)||void 0!==t[n]||r&&void 0!==r[n]||(t[n]=this._hiddenValues[n]);this.props.onChange(t,e,r)}this.checkValidStatus(t)},reduceValid:function(){var t=this;return Object.keys(this._internalValid).reduce((function(e,r){return e&&t._internalValid[r]}),!0)},validStatusChange:function(t){var e=this.props,r=e.onValidStatusChange,n=e.forceValidStatusCheck,o=this.reduceValid();(o!==this._reducedValid||n)&&r&&r(o,t),this._reducedValid=o},onSubformChange:function(t,e,r){var n=Dt().mergeObjectsRecursive(this.getValues(),t);if(r)for(var o in r)r.hasOwnProperty(o)&&void 0!==n[o]&&(delete n[o],void 0!==this._hiddenValues[o]&&delete this._hiddenValues[o]);this.onChange(n,e,r)},onSubformValidStatusChange:function(t,e,r){this._internalValid[r]=t,this.validStatusChange(e)},applyButtonAction:function(t,e){this.props.applyButtonAction&&this.props.applyButtonAction(t,e)},getValuesForPOST:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DRIVER_OPTION_";return qe.getValuesForPOST(this.props.parameters,t,e,this._parametersMetadata)},checkValidStatus:function(t){var e=this,r=[],n=this.props,o=n.parameters,i=n.replicationGroup;n.groupSwitchName||(o.filter((function(e){if(e.group_switch_value){var r=e.group_switch_name;return 1===o.filter((function(n){return n.type==="group_switch:"+r&&t[n.name]===e.group_switch_value})).length}return!0})).map((function(n){if(!n.replicationGroup||n.replicationGroup===i){var o=n.group_switch_name?n.group_switch_name+"/"+n.name:n.name;["string","textarea","password","integer","integer-bytes"].indexOf(n.type)>-1&&("true"===n.mandatory||!0===n.mandatory)&&(t&&t.hasOwnProperty(o)&&void 0!==t[o]&&""!==t[o]||r.push(n)),"valid-password"!==n.type&&"valid-login"!==n.type||!e.refs["form-element-"+n.name]||e.refs["form-element-"+n.name].isValid()||r.push(n)}})),this._internalValid.root=!r.length,this.validStatusChange(r))},componentDidMount:function(){this.checkValidStatus(this.props.values)},renderGroupHeader:function(t,r,n,o){var i={key:"group-"+t};if(r){var a=this.state&&this.state.currentActiveGroup?this.state.currentActiveGroup:null;i.className="group-label-"+(o?"active":"inactive"),i.onClick=function(){this.setState({currentActiveGroup:a!==n?n:null})}.bind(this),t=[e().createElement("span",{key:"toggler",className:"group-active-toggler mdi-mdi-chevron-"+(a===n?"down":"right")}),t]}return e().createElement("h"+(3+this.props.depth),i,t)},render:function(){var t=this,r=[],n=["__DEFAULT__"];r.__DEFAULT__={FIELDS:[]};var o={},i=this.props,a=i.parameters,c=i.values,l=i.skipFieldsTypes,s=i.disabled,p=i.binary_context,f=i.variant,y=i.variantShowLegend,b=i.panelStyle,m=this.props,h=m.altTextSwitchIcon,d=m.altTextSwitchTip,v=m.onAltTextSwitch,g=m.altTextSwitchTipOff,S=void 0===g?"Disable Mode Template":g;a.map(function(t){var i,b=this,m=t.type,g=t.name,O=t.replicationGroup;if(!(l&&l.indexOf(m)>-1||t.group_switch_name)){var w=t.group||"__DEFAULT__";if(r[w]||(n.push(w),r[w]={FIELDS:[],LABEL:w}),O){o[O]||(o[O]={PARAMS:[],GROUP:w,POSITION:r[w].FIELDS.length},r[w].FIELDS.push("REPLICATION:"+O));var j=Dt().deepCopy(t);delete j.replicationGroup,delete j.group,o[O].PARAMS.push(j)}else{if(0===m.indexOf("group_switch:"))i=e().createElement(or,Zr({},this.props,{onChange:this.onSubformChange.bind(this),paramAttributes:t,parameters:a,values:c,key:g,onScrollCallback:null,limitToGroups:null}));else if("hidden"!==m){var P,E=this.props,x=E.setHelperData,_=E.checkHasHelper,T=E.helperTestFor;if(x&&_&&_(t.name,T)){var k=function(){x({paramAttributes:t,values:c,postValues:this.getValuesForPOST(c),applyButtonAction:this.applyButtonAction},T)}.bind(this);P=e().createElement("span",{className:"mdi mdi-comment-question-outline",onClick:k})}var C=!1,R="form-legend",A=t.errorText,I=t.warningText,D=t.mandatory;A?R="form-legend mandatory-missing":I?R="form-legend warning-message":!D||"true"!==D&&!0!==D||-1===["string","textarea","image","integer","integer-bytes"].indexOf(m)||c[g]||(C=!0,R="form-legend mandatory-missing");var M=t.description,N=t.readonly,F=t.multiple,B=I||M,V=t.label,L={ref:"form-element-"+g,attributes:Yr(Yr({},t),{},{label:V}),name:g,value:c[g],onChange:function(t,e,r){b.onParameterChange(g,t,e,r)},disabled:s||N,multiple:F,binary_context:p,displayContext:"form",applyButtonAction:this.applyButtonAction,variant:f,variantShowLegend:y,errorText:C?u().getInstance().MessageHash[621]:A||null,onAltTextSwitch:v,altTextSwitchIcon:h,altTextSwitchTip:d};i=e().createElement("div",{key:g,className:"form-entry-"+m},"v2"!==f&&e().createElement("div",{className:R},B," ",P),"v2"===f&&"legend"===t.type&&e().createElement("div",{style:{padding:"6px 3px",color:"#616161",fontSize:14}},B," ",P),qe.createFormElement(L)),y&&B&&"legend"!==t.type&&(i=e().createElement(Pr,Zr({attributes:t,label:V,legendLabel:B,onAltTextSwitch:v,altTextSwitchTip:d,altTextSwitchTipOff:S},this.props),i))}else this._hiddenValues[g]=void 0===c[g]?t.default:c[g];i&&r[w].FIELDS.push(i)}}}.bind(this)),Object.keys(o).forEach((function(n){var i=o[n];r[i.GROUP].FIELDS[i.POSITION]=e().createElement(Ur,Zr({},t.props,{key:"replication-group-"+i.PARAMS[0].name,replicationGroup:n,onChange:t.onSubformChange,onParameterChange:null,values:t.getValues(),depth:t.props.depth+1,parameters:i.PARAMS,applyButtonAction:t.applyButtonAction,onScrollCallback:null,onValidStatusChange:t.onSubformValidStatusChange.bind(t)}))}));var O=[],w=this.props.accordionizeIfGroupsMoreThan&&n.length>this.props.accordionizeIfGroupsMoreThan,j=this.state&&this.state.currentActiveGroup?this.state.currentActiveGroup:0;if(n.map(function(t,o){if(!this.props.limitToGroups||-1!==this.props.limitToGroups.indexOf(t)){var i,a=r[t],u="pydio-form-group",c=!1;w&&(c=j===o,u+=o===j?" form-group-active":" form-group-inactive"),a.FIELDS.length&&(!a.LABEL||this.props.skipFieldsTypes&&this.props.skipFieldsTypes.indexOf("GroupHeader")>-1||(i=this.renderGroupHeader(a.LABEL,w,o,c)),0===this.props.depth?(u+=" z-depth-1",O.push(e().createElement(E.Paper,{className:u,key:"pane-"+t},0===o&&this.props.header?this.props.header:null,i,e().createElement("div",null,a.FIELDS),o===n.length-1&&this.props.footer?this.props.footer:null))):O.push(e().createElement("div",{className:u,key:"pane-"+t},0===o&&this.props.header?this.props.header:null,i,e().createElement("div",null,a.FIELDS),o===n.length-1&&this.props.footer?this.props.footer:null)))}}.bind(this)),this.props.additionalPanes){var P={top:[],bottom:[]},x=this.props.depth,_=0;["top","bottom"].forEach((function(r){(t.props.additionalPanes[r]||[]).map((function(t){0===x?P[r].push(e().createElement(E.Paper,{className:"pydio-form-group additional",key:"other-pane-"+_},t)):P[r].push(e().createElement("div",{className:"pydio-form-group additional",key:"other-pane-"+_},t)),_++}))})),O=[].concat($r(P.top),$r(O),$r(P.bottom))}if(this.props.tabs){var T=this.props.className,k=0,C=0,R=this.props.tabs.map(function(t){var r=t.label,n=t.groups;t.selected&&(k=C);var o=n.map((function(t){return O[t]?O[t]:null}));return C++,e().createElement(E.Tab,{label:r,key:r,value:this.props.onTabChange?C-1:void 0},e().createElement("div",{className:(T?T+" ":" ")+"pydio-form-panel"+(o.length%2?" form-panel-odd":"")},o))}.bind(this));return void 0!==this.state.tabSelectedIndex&&(k=this.state.tabSelectedIndex),e().createElement("div",{className:"layout-fill vertical-layout tab-vertical-layout"},e().createElement(E.Tabs,{ref:"tabs",initialSelectedIndex:k,value:this.props.onTabChange?k:void 0,onChange:this.props.onTabChange?function(e){t.setState({tabSelectedIndex:e}),t.props.onTabChange(e)}:void 0,style:{flex:1,display:"flex",flexDirection:"column"},contentContainerStyle:{flex:1,overflowY:"auto"}},R))}return e().createElement("div",{className:(this.props.className?this.props.className+" ":" ")+"pydio-form-panel"+(O.length%2?" form-panel-odd":""),onScroll:this.props.onScrollCallback,style:Yr({},b)},O)}});function tn(t){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(t)}function en(){return en=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},en.apply(this,arguments)}function rn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cn(n.key),n)}}function nn(t,e){return nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nn(t,e)}function on(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function an(t){return an=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},an(t)}function un(t,e,r){return(e=cn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cn(t){var e=function(t,e){if("object"!==tn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==tn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===tn(e)?e:String(e)}var ln=r(6689),sn=r(757).requireLib("boot").AsyncComponent,pn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nn(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=an(n);if(o){var r=an(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===tn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return on(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return un(on(t=i.call.apply(i,[this].concat(r))),"closeHelper",(function(){t.props.close()})),t}return e=a,(r=[{key:"render",value:function(){var t;if(this.props.helperData){var e=qe.getHelpersCache()[this.props.helperData.pluginId].namespace;t=ln.createElement("div",null,ln.createElement("div",{className:"helper-title"},ln.createElement("span",{className:"helper-close mdi mdi-close",onClick:this.closeHelper}),"Pydio Companion"),ln.createElement("div",{className:"helper-content"},ln.createElement(sn,en({},this.props.helperData,{namespace:e,componentName:"Helper",paramName:this.props.helperData.paramAttributes.name}))))}return ln.createElement("div",{className:"pydio-form-helper"+(t?" helper-visible":" helper-empty"),style:{zIndex:1}},t)}}])&&rn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(ln.Component);un(pn,"propTypes",{helperData:Gr().object,close:Gr().func.isRequired});var fn={Manager:qe,InputText:R,ValidPassword:bt,InputBoolean:ot,InputInteger:St,InputIntegerBytes:H,InputSelectBox:pe,AutocompleteBox:Ee,AutocompleteTree:Fe,InputImage:Ht,FormPanel:Qr,PydioHelper:pn,FileDropZone:At,createFormElement:qe.createFormElement}})(),window.PydioForm=n})();